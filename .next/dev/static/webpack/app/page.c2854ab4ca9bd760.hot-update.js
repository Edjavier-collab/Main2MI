"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AppPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_patientService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/patientService */ \"(app-pages-browser)/./services/patientService.ts\");\n/* harmony import */ var _services_subscriptionService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/subscriptionService */ \"(app-pages-browser)/./services/subscriptionService.ts\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/* harmony import */ var _components_ui_LoadingSpinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/LoadingSpinner */ \"(app-pages-browser)/./components/ui/LoadingSpinner.tsx\");\n/* harmony import */ var _components_ui_BottomNavBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/BottomNavBar */ \"(app-pages-browser)/./components/ui/BottomNavBar.tsx\");\n/* harmony import */ var _components_ui_ReviewPrompt__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/ReviewPrompt */ \"(app-pages-browser)/./components/ui/ReviewPrompt.tsx\");\n/* harmony import */ var _components_views_ViewRenderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/views/ViewRenderer */ \"(app-pages-browser)/./components/views/ViewRenderer.tsx\");\n/* harmony import */ var _components_gamification_BadgeUnlockToast__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/gamification/BadgeUnlockToast */ \"(app-pages-browser)/./components/gamification/BadgeUnlockToast.tsx\");\n/* harmony import */ var _hooks_useAppState__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/hooks/useAppState */ \"(app-pages-browser)/./hooks/useAppState.ts\");\n/* harmony import */ var _hooks_useTierManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/hooks/useTierManager */ \"(app-pages-browser)/./hooks/useTierManager.ts\");\n/* harmony import */ var _hooks_useSessionManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/hooks/useSessionManager */ \"(app-pages-browser)/./hooks/useSessionManager.ts\");\n/* harmony import */ var _hooks_useStreak__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/hooks/useStreak */ \"(app-pages-browser)/./hooks/useStreak.ts\");\n/* harmony import */ var _hooks_useXP__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/hooks/useXP */ \"(app-pages-browser)/./hooks/useXP.ts\");\n/* harmony import */ var _hooks_useBadges__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/hooks/useBadges */ \"(app-pages-browser)/./hooks/useBadges.ts\");\n/* harmony import */ var _hooks_useAuthCallback__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/hooks/useAuthCallback */ \"(app-pages-browser)/./hooks/useAuthCallback.ts\");\n/* harmony import */ var _hooks_useStripeCallback__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/hooks/useStripeCallback */ \"(app-pages-browser)/./hooks/useStripeCallback.ts\");\n/* harmony import */ var _hooks_useAppRouter__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/hooks/useAppRouter */ \"(app-pages-browser)/./hooks/useAppRouter.ts\");\n/* harmony import */ var _hooks_useOnlineSync__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @/hooks/useOnlineSync */ \"(app-pages-browser)/./hooks/useOnlineSync.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Core components (always loaded)\n\n\n\n\n// Lazy-loaded components\nconst Onboarding = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_components_views_Onboarding_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! @/components/views/Onboarding */ \"(app-pages-browser)/./components/views/Onboarding.tsx\")));\n_c = Onboarding;\n// Gamification components\n\n// Custom hooks\n\n\n\n\n\n\n\n\n\n\nfunction AppPage() {\n    _s();\n    const { user, loading: authLoading, signOut } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    // Use consolidated app state hook\n    const appState = (0,_hooks_useAppState__WEBPACK_IMPORTED_MODULE_12__.useAppState)();\n    const { view, setView, sessions, setSessions, sessionsLoading, setSessionsLoading, remainingFreeSessions, setRemainingFreeSessions, currentPatient, setCurrentPatient, currentSession, setCurrentSession, showOnboarding, setShowOnboarding, coachingSummary, setCoachingSummary, coachingSummaryError, setCoachingSummaryError, isGeneratingSummary, setIsGeneratingSummary, showReviewPrompt, setShowReviewPrompt, confirmationEmail, setConfirmationEmail, loggingOut, setLoggingOut } = appState;\n    // Use tier manager hook with server-side premium verification\n    const { userTier, setUserTier, refreshTier, isPremiumVerified, isVerifying: isTierVerifying } = (0,_hooks_useTierManager__WEBPACK_IMPORTED_MODULE_13__.useTierManager)();\n    // Use streak hook for gamification\n    const { currentStreak, updateStreak, processQueue: processStreakQueue } = (0,_hooks_useStreak__WEBPACK_IMPORTED_MODULE_15__.useStreak)();\n    // Use XP hook for gamification\n    const { addXP, processQueue: processXPQueue } = (0,_hooks_useXP__WEBPACK_IMPORTED_MODULE_16__.useXP)();\n    // Use badges hook for gamification\n    const { checkAndUnlockBadges, newlyUnlockedBadges, markBadgeAsSeen } = (0,_hooks_useBadges__WEBPACK_IMPORTED_MODULE_17__.useBadges)();\n    // Use online sync hook to process queued operations when connectivity is restored\n    (0,_hooks_useOnlineSync__WEBPACK_IMPORTED_MODULE_21__.useOnlineSync)({\n        processStreakQueue,\n        processXPQueue,\n        isAuthenticated: !!user\n    });\n    // Track which badge to show in toast (one at a time)\n    const [badgeToastQueue, setBadgeToastQueue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // When new badges are unlocked, add them to the toast queue\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AppPage.useEffect\": ()=>{\n            if (newlyUnlockedBadges.length > 0) {\n                const newBadgeIds = newlyUnlockedBadges.map({\n                    \"AppPage.useEffect.newBadgeIds\": (b)=>b.id\n                }[\"AppPage.useEffect.newBadgeIds\"]);\n                setBadgeToastQueue({\n                    \"AppPage.useEffect\": (prev)=>{\n                        // Add only badges not already in queue\n                        const existingIds = new Set(prev);\n                        const toAdd = newBadgeIds.filter({\n                            \"AppPage.useEffect.toAdd\": (id)=>!existingIds.has(id)\n                        }[\"AppPage.useEffect.toAdd\"]);\n                        return [\n                            ...prev,\n                            ...toAdd\n                        ];\n                    }\n                }[\"AppPage.useEffect\"]);\n            }\n        }\n    }[\"AppPage.useEffect\"], [\n        newlyUnlockedBadges\n    ]);\n    // Handle dismissing a badge toast\n    const handleBadgeToastClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleBadgeToastClose]\": async ()=>{\n            if (badgeToastQueue.length > 0) {\n                const dismissedBadgeId = badgeToastQueue[0];\n                await markBadgeAsSeen(dismissedBadgeId);\n                setBadgeToastQueue({\n                    \"AppPage.useCallback[handleBadgeToastClose]\": (prev)=>prev.slice(1)\n                }[\"AppPage.useCallback[handleBadgeToastClose]\"]);\n            }\n        }\n    }[\"AppPage.useCallback[handleBadgeToastClose]\"], [\n        badgeToastQueue,\n        markBadgeAsSeen\n    ]);\n    // Get the current badge to show\n    const currentBadgeToShow = newlyUnlockedBadges.find((b)=>b.id === badgeToastQueue[0]);\n    // Use session manager hook\n    const { saveNewSession } = (0,_hooks_useSessionManager__WEBPACK_IMPORTED_MODULE_14__.useSessionManager)({\n        user,\n        authLoading,\n        userTier,\n        setSessions,\n        setSessionsLoading,\n        setRemainingFreeSessions,\n        updateStreak,\n        addXP,\n        checkAndUnlockBadges,\n        currentStreak\n    });\n    // Use auth callback hook\n    (0,_hooks_useAuthCallback__WEBPACK_IMPORTED_MODULE_18__.useAuthCallback)({\n        setView\n    });\n    // Use Stripe callback hook\n    (0,_hooks_useStripeCallback__WEBPACK_IMPORTED_MODULE_19__.useStripeCallback)({\n        user,\n        authLoading,\n        setUserTier,\n        setRemainingFreeSessions,\n        setView\n    });\n    // Use app router hook\n    (0,_hooks_useAppRouter__WEBPACK_IMPORTED_MODULE_20__.useAppRouter)({\n        user,\n        authLoading,\n        view,\n        setView\n    });\n    // Load onboarding state - FIXED: Only run once on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AppPage.useEffect\": ()=>{\n            const onboardingComplete = localStorage.getItem('mi-coach-onboarding-complete');\n            setShowOnboarding(onboardingComplete !== 'true');\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"AppPage.useEffect\"], []); // Empty deps - only run once on mount\n    const handleOnboardingFinish = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleOnboardingFinish]\": ()=>{\n            localStorage.setItem('mi-coach-onboarding-complete', 'true');\n            setShowOnboarding(false);\n            // After onboarding, go to Dashboard (anonymous users can access it)\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard);\n        }\n    }[\"AppPage.useCallback[handleOnboardingFinish]\"], [\n        setShowOnboarding,\n        setView\n    ]);\n    const handleStartPractice = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleStartPractice]\": async ()=>{\n            // Require authentication to start practice\n            if (!user) {\n                console.log('[App] User not authenticated, redirecting to login');\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n                return;\n            }\n            // Guard: wait until userTier is loaded and verification is complete\n            if (!userTier || userTier === '' || isTierVerifying) {\n                console.warn('[App] User tier not yet loaded or still verifying, waiting...');\n                return;\n            }\n            // Check if user can start a new session\n            const canStart = await (0,_services_subscriptionService__WEBPACK_IMPORTED_MODULE_4__.canStartSession)(user.id, userTier);\n            if (!canStart) {\n                console.log('[App] User cannot start session (limit reached), showing paywall');\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall);\n                return;\n            }\n            if (userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium) {\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.ScenarioSelection);\n            } else {\n                const patient = (0,_services_patientService__WEBPACK_IMPORTED_MODULE_3__.generatePatientProfile)();\n                setCurrentPatient(patient);\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Practice);\n            }\n        }\n    }[\"AppPage.useCallback[handleStartPractice]\"], [\n        user,\n        userTier,\n        isTierVerifying,\n        setView,\n        setCurrentPatient\n    ]);\n    const handleStartFilteredPractice = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleStartFilteredPractice]\": (filters)=>{\n            // Require authentication to start practice\n            if (!user) {\n                console.log('[App] User not authenticated, redirecting to login');\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n                return;\n            }\n            const patient = (0,_services_patientService__WEBPACK_IMPORTED_MODULE_3__.generatePatientProfile)(filters);\n            setCurrentPatient(patient);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Practice);\n        }\n    }[\"AppPage.useCallback[handleStartFilteredPractice]\"], [\n        user,\n        setCurrentPatient,\n        setView\n    ]);\n    // Save the new session when practice is finished\n    const handleFinishPractice = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleFinishPractice]\": async (transcript, feedback)=>{\n            if (!currentPatient) {\n                console.error(\"[App] Cannot save session: missing patient\");\n                return;\n            }\n            const newSession = await saveNewSession(transcript, feedback, currentPatient, sessions, userTier);\n            setCurrentSession(newSession);\n            setCoachingSummary(null); // Invalidate old summary\n            setCoachingSummaryError(null);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Feedback);\n        }\n    }[\"AppPage.useCallback[handleFinishPractice]\"], [\n        currentPatient,\n        sessions,\n        userTier,\n        saveNewSession,\n        setCurrentSession,\n        setCoachingSummary,\n        setCoachingSummaryError,\n        setView\n    ]);\n    const handleDoneFromFeedback = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleDoneFromFeedback]\": ()=>{\n            const sessionCount = parseInt(localStorage.getItem('mi-coach-session-count') || '0', 10);\n            const reviewDismissed = localStorage.getItem('mi-coach-review-dismissed') === 'true';\n            const remindAfterCount = parseInt(localStorage.getItem('mi-coach-review-remind-after') || '0', 10);\n            if (!reviewDismissed && sessionCount >= 3 && sessionCount >= remindAfterCount) {\n                setShowReviewPrompt(true);\n            } else {\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard);\n            }\n        }\n    }[\"AppPage.useCallback[handleDoneFromFeedback]\"], [\n        setShowReviewPrompt,\n        setView\n    ]);\n    const handleReviewPromptClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleReviewPromptClose]\": (choice)=>{\n            setShowReviewPrompt(false);\n            if (choice === 'rate' || choice === 'no') {\n                localStorage.setItem('mi-coach-review-dismissed', 'true');\n                if (choice === 'rate') {\n                    // In a real app, you'd link to the store.\n                    alert(\"Thank you for your feedback! You will now be redirected to the app store.\");\n                }\n            } else if (choice === 'later') {\n                const sessionCount = parseInt(localStorage.getItem('mi-coach-session-count') || '0', 10);\n                // Remind again after 3 more sessions\n                localStorage.setItem('mi-coach-review-remind-after', (sessionCount + 3).toString());\n            }\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard);\n        }\n    }[\"AppPage.useCallback[handleReviewPromptClose]\"], [\n        setShowReviewPrompt,\n        setView\n    ]);\n    const generateCoachingSummaryFromEdgeFunction = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[generateCoachingSummaryFromEdgeFunction]\": async (sessions)=>{\n            // Get Supabase URL and construct Edge Function URL\n            const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n            if (!supabaseUrl) {\n                throw new Error('Supabase URL not configured');\n            }\n            // Use dual-run wrapper for Strangler Fig migration tracking\n            // Calls both legacy and v2 functions, compares outputs, tracks matches\n            const functionsUrl = `${supabaseUrl}/functions/v1/dual-run-coaching-summary`;\n            // Require authentication - get JWT token from session\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_6__.getSupabaseClient)();\n            let authToken;\n            try {\n                const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n                if (sessionError || !session || !session.access_token) {\n                    throw new Error('Your session has expired. Please refresh the page and log in again.');\n                }\n                authToken = session.access_token;\n            } catch (error) {\n                console.error('[App] Failed to get auth token:', error);\n                throw new Error('Failed to authenticate. Please refresh the page and try again.');\n            }\n            // Prepare request with required Authorization header\n            const headers = {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${authToken}`\n            };\n            // Make request to Edge Function\n            const response = await fetch(functionsUrl, {\n                method: 'POST',\n                headers,\n                body: JSON.stringify({\n                    sessions\n                })\n            });\n            // Handle errors\n            if (!response.ok) {\n                const errorData = await response.json().catch({\n                    \"AppPage.useCallback[generateCoachingSummaryFromEdgeFunction]\": ()=>({\n                            error: 'Unknown error'\n                        })\n                }[\"AppPage.useCallback[generateCoachingSummaryFromEdgeFunction]\"]);\n                const errorMessage = errorData.error || `Failed to generate coaching summary (${response.status})`;\n                // Map HTTP status codes to user-friendly messages\n                if (response.status === 401) {\n                    throw new Error('Your session has expired. Please refresh the page and log in again.');\n                } else if (response.status === 429) {\n                    throw new Error('AI service is busy. Please try again in a moment.');\n                } else if (response.status === 504) {\n                    throw new Error('Coaching summary generation timed out. Please try again.');\n                } else if (response.status === 500) {\n                    throw new Error('AI service error. Please try again later.');\n                } else {\n                    throw new Error(errorMessage);\n                }\n            }\n            // Parse and return response\n            const data = await response.json();\n            return data;\n        }\n    }[\"AppPage.useCallback[generateCoachingSummaryFromEdgeFunction]\"], []);\n    const handleGenerateCoachingSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleGenerateCoachingSummary]\": async ()=>{\n            if (coachingSummary && !isGeneratingSummary) {\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.CoachingSummary);\n                return;\n            }\n            if (userTier !== _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium) {\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall);\n                return;\n            }\n            setCoachingSummaryError(null);\n            setIsGeneratingSummary(true);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.CoachingSummary);\n            try {\n                const premiumSessions = sessions.filter({\n                    \"AppPage.useCallback[handleGenerateCoachingSummary].premiumSessions\": (s)=>s.tier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium\n                }[\"AppPage.useCallback[handleGenerateCoachingSummary].premiumSessions\"]);\n                if (premiumSessions.length === 0) {\n                    setCoachingSummaryError(\"You need to complete at least one Premium session to generate a summary.\");\n                    setIsGeneratingSummary(false);\n                    return;\n                }\n                const reportObject = await generateCoachingSummaryFromEdgeFunction(premiumSessions);\n                setCoachingSummary(reportObject);\n            } catch (error) {\n                console.error(\"Failed to generate coaching summary:\", error);\n                const errorMessage = error instanceof Error ? error.message : \"Sorry, we couldn't generate your summary at this time. Please try again later.\";\n                setCoachingSummaryError(errorMessage);\n            } finally{\n                setIsGeneratingSummary(false);\n            }\n        }\n    }[\"AppPage.useCallback[handleGenerateCoachingSummary]\"], [\n        coachingSummary,\n        isGeneratingSummary,\n        userTier,\n        sessions,\n        setView,\n        setCoachingSummaryError,\n        setIsGeneratingSummary,\n        setCoachingSummary,\n        generateCoachingSummaryFromEdgeFunction\n    ]);\n    const handleNavigate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleNavigate]\": (targetView)=>setView(targetView)\n    }[\"AppPage.useCallback[handleNavigate]\"], [\n        setView\n    ]);\n    const handleEmailConfirmation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleEmailConfirmation]\": (email)=>{\n            setConfirmationEmail(email);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.EmailConfirmation);\n        }\n    }[\"AppPage.useCallback[handleEmailConfirmation]\"], [\n        setConfirmationEmail,\n        setView\n    ]);\n    const handleLogout = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleLogout]\": async ()=>{\n            if (loggingOut) {\n                return;\n            }\n            setLoggingOut(true);\n            // Reset app state\n            setUserTier(_types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Free);\n            localStorage.removeItem('mi-coach-tier');\n            setSessions([]);\n            setRemainingFreeSessions(null);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n            let logoutError = null;\n            try {\n                await signOut();\n            } catch (error) {\n                const err = error instanceof Error ? error : new Error('Logout failed');\n                console.error('[App] Logout failed:', err);\n                logoutError = err;\n            } finally{\n                setLoggingOut(false);\n            }\n            if (logoutError) {\n                throw logoutError;\n            }\n        }\n    }[\"AppPage.useCallback[handleLogout]\"], [\n        loggingOut,\n        setLoggingOut,\n        setUserTier,\n        setSessions,\n        setRemainingFreeSessions,\n        setView,\n        signOut\n    ]);\n    // Save the new user tier to localStorage and Supabase upon upgrade.\n    const handleUpgrade = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleUpgrade]\": async ()=>{\n            if (!user) {\n                console.error('[App] Cannot upgrade: user not authenticated');\n                return;\n            }\n            try {\n                const newTier = _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium;\n                // Update in Supabase\n                console.log('[App] Upgrading user tier to Premium');\n                // Note: updateUserTier is called internally by the payment processor\n                // For now, just update locally and in localStorage\n                setUserTier(newTier);\n                // Reload tier from Supabase to confirm\n                const updatedTier = await refreshTier();\n                if (updatedTier) {\n                    setUserTier(updatedTier);\n                }\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard); // Go back to dashboard after upgrading\n            } catch (error) {\n                console.error('[App] Failed to upgrade tier:', error);\n                // Still navigate to dashboard even if refresh fails\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard);\n            }\n        }\n    }[\"AppPage.useCallback[handleUpgrade]\"], [\n        user,\n        setUserTier,\n        refreshTier,\n        setView\n    ]);\n    const handleTierUpdated = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleTierUpdated]\": async ()=>{\n            // Reload tier from Supabase after subscription change\n            if (user) {\n                const updatedTier = await refreshTier();\n                if (updatedTier) {\n                    setUserTier(updatedTier);\n                }\n            }\n        }\n    }[\"AppPage.useCallback[handleTierUpdated]\"], [\n        user,\n        refreshTier,\n        setUserTier\n    ]);\n    // Show loading state while auth is initializing\n    if (authLoading || showOnboarding === null) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_LoadingSpinner__WEBPACK_IMPORTED_MODULE_7__.PageLoader, {\n            message: \"Initializing...\"\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n            lineNumber: 424,\n            columnNumber: 12\n        }, this);\n    }\n    // Show onboarding if not completed\n    if (showOnboarding) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n            fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_LoadingSpinner__WEBPACK_IMPORTED_MODULE_7__.PageLoader, {\n                message: \"Loading onboarding...\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 430,\n                columnNumber: 27\n            }, void 0),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Onboarding, {\n                onFinish: handleOnboardingFinish\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 431,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n            lineNumber: 430,\n            columnNumber: 7\n        }, this);\n    }\n    // Show login/auth screens when on those views (allow anonymous access to other views)\n    const isAuthView = view === _types__WEBPACK_IMPORTED_MODULE_2__.View.Login || view === _types__WEBPACK_IMPORTED_MODULE_2__.View.ForgotPassword || view === _types__WEBPACK_IMPORTED_MODULE_2__.View.EmailConfirmation || view === _types__WEBPACK_IMPORTED_MODULE_2__.View.ResetPassword;\n    const shouldRenderAuthViews = !user && !authLoading && isAuthView;\n    const viewsWithNavBar = [\n        _types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard,\n        _types__WEBPACK_IMPORTED_MODULE_2__.View.ResourceLibrary,\n        _types__WEBPACK_IMPORTED_MODULE_2__.View.Settings,\n        _types__WEBPACK_IMPORTED_MODULE_2__.View.Calendar\n    ];\n    const isPremiumFeedback = view === _types__WEBPACK_IMPORTED_MODULE_2__.View.Feedback && userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium;\n    const shouldShowNavBar = viewsWithNavBar.includes(view) || isPremiumFeedback;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-transparent text-[var(--color-text-primary)]\",\n        id: \"main-content\",\n        children: [\n            shouldShowNavBar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col\",\n                style: {\n                    height: '100vh'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"flex-1 overflow-y-auto pb-20\",\n                        role: \"main\",\n                        \"aria-label\": \"Main content\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_views_ViewRenderer__WEBPACK_IMPORTED_MODULE_10__.ViewRenderer, {\n                            view: view,\n                            userTier: userTier,\n                            user: user,\n                            sessions: sessions,\n                            remainingFreeSessions: remainingFreeSessions,\n                            currentPatient: currentPatient,\n                            currentSession: currentSession,\n                            coachingSummary: coachingSummary,\n                            coachingSummaryError: coachingSummaryError,\n                            isGeneratingSummary: isGeneratingSummary,\n                            confirmationEmail: confirmationEmail,\n                            isPremiumVerified: isPremiumVerified,\n                            isTierVerifying: isTierVerifying,\n                            onNavigate: handleNavigate,\n                            onStartPractice: handleStartPractice,\n                            onStartFilteredPractice: handleStartFilteredPractice,\n                            onFinishPractice: handleFinishPractice,\n                            onDoneFromFeedback: handleDoneFromFeedback,\n                            onUpgrade: handleUpgrade,\n                            onLogout: handleLogout,\n                            onGenerateCoachingSummary: handleGenerateCoachingSummary,\n                            onEmailConfirmation: handleEmailConfirmation,\n                            onTierUpdated: handleTierUpdated\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                            lineNumber: 449,\n                            columnNumber: 19\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                        lineNumber: 448,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_BottomNavBar__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        currentView: view,\n                        onNavigate: handleNavigate,\n                        userTier: userTier\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                        lineNumber: 475,\n                        columnNumber: 15\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 447,\n                columnNumber: 11\n            }, this) : // Views without the main nav bar (e.g., practice, feedback, paywall)\n            // These components manage their own full-screen layout.\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_views_ViewRenderer__WEBPACK_IMPORTED_MODULE_10__.ViewRenderer, {\n                view: view,\n                userTier: userTier,\n                user: user,\n                sessions: sessions,\n                remainingFreeSessions: remainingFreeSessions,\n                currentPatient: currentPatient,\n                currentSession: currentSession,\n                coachingSummary: coachingSummary,\n                coachingSummaryError: coachingSummaryError,\n                isGeneratingSummary: isGeneratingSummary,\n                confirmationEmail: confirmationEmail,\n                isPremiumVerified: isPremiumVerified,\n                isTierVerifying: isTierVerifying,\n                onNavigate: handleNavigate,\n                onStartPractice: handleStartPractice,\n                onStartFilteredPractice: handleStartFilteredPractice,\n                onFinishPractice: handleFinishPractice,\n                onDoneFromFeedback: handleDoneFromFeedback,\n                onUpgrade: handleUpgrade,\n                onLogout: handleLogout,\n                onGenerateCoachingSummary: handleGenerateCoachingSummary,\n                onEmailConfirmation: handleEmailConfirmation,\n                onTierUpdated: handleTierUpdated\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 480,\n                columnNumber: 11\n            }, this),\n            showReviewPrompt && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_ReviewPrompt__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                onClose: handleReviewPromptClose\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 507,\n                columnNumber: 11\n            }, this),\n            currentBadgeToShow && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gamification_BadgeUnlockToast__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                badge: currentBadgeToShow,\n                onClose: handleBadgeToastClose\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 511,\n                columnNumber: 11\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"aria-live-region\",\n                \"aria-live\": \"polite\",\n                \"aria-atomic\": \"true\",\n                className: \"sr-only\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 517,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n        lineNumber: 445,\n        columnNumber: 5\n    }, this);\n}\n_s(AppPage, \"YXYN+A/X6Kiat7a/T2aLXY5HabQ=\", false, function() {\n    return [\n        _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth,\n        _hooks_useAppState__WEBPACK_IMPORTED_MODULE_12__.useAppState,\n        _hooks_useTierManager__WEBPACK_IMPORTED_MODULE_13__.useTierManager,\n        _hooks_useStreak__WEBPACK_IMPORTED_MODULE_15__.useStreak,\n        _hooks_useXP__WEBPACK_IMPORTED_MODULE_16__.useXP,\n        _hooks_useBadges__WEBPACK_IMPORTED_MODULE_17__.useBadges,\n        _hooks_useOnlineSync__WEBPACK_IMPORTED_MODULE_21__.useOnlineSync,\n        _hooks_useSessionManager__WEBPACK_IMPORTED_MODULE_14__.useSessionManager,\n        _hooks_useAuthCallback__WEBPACK_IMPORTED_MODULE_18__.useAuthCallback,\n        _hooks_useStripeCallback__WEBPACK_IMPORTED_MODULE_19__.useStripeCallback,\n        _hooks_useAppRouter__WEBPACK_IMPORTED_MODULE_20__.useAppRouter\n    ];\n});\n_c1 = AppPage;\nvar _c, _c1;\n$RefreshReg$(_c, \"Onboarding\");\n$RefreshReg$(_c1, \"AppPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T3BCLFdBQVU7Ozs7Ozs7Ozs7OztBQUdqRjtHQXRld0JwSzs7UUFDMEJsQiwwREFBT0E7UUFHdENRLDREQUFXQTtRQStCb0VDLGtFQUFjQTtRQUdwQ0Usd0RBQVNBO1FBR25DQyxnREFBS0E7UUFHa0JDLHdEQUFTQTtRQUdoRkksZ0VBQWFBO1FBbUNjUCx3RUFBaUJBO1FBYzVDSSxvRUFBZUE7UUFHZkMsd0VBQWlCQTtRQVNqQkMsOERBQVlBOzs7TUE1R1VFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9hcHAvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXNlclRpZXIsIFZpZXcsIFBhdGllbnRQcm9maWxlLCBTZXNzaW9uLCBGZWVkYmFjaywgQ2hhdE1lc3NhZ2UsIFBhdGllbnRQcm9maWxlRmlsdGVycywgQ29hY2hpbmdTdW1tYXJ5IH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVBhdGllbnRQcm9maWxlIH0gZnJvbSAnQC9zZXJ2aWNlcy9wYXRpZW50U2VydmljZSc7XG5pbXBvcnQgeyBjYW5TdGFydFNlc3Npb24gfSBmcm9tICdAL3NlcnZpY2VzL3N1YnNjcmlwdGlvblNlcnZpY2UnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0U3VwYWJhc2VDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5cbi8vIENvcmUgY29tcG9uZW50cyAoYWx3YXlzIGxvYWRlZClcbmltcG9ydCB7IFBhZ2VMb2FkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvTG9hZGluZ1NwaW5uZXInO1xuaW1wb3J0IEJvdHRvbU5hdkJhciBmcm9tICdAL2NvbXBvbmVudHMvdWkvQm90dG9tTmF2QmFyJztcbmltcG9ydCBSZXZpZXdQcm9tcHQgZnJvbSAnQC9jb21wb25lbnRzL3VpL1Jldmlld1Byb21wdCc7XG5pbXBvcnQgeyBWaWV3UmVuZGVyZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdmlld3MvVmlld1JlbmRlcmVyJztcblxuLy8gTGF6eS1sb2FkZWQgY29tcG9uZW50c1xuY29uc3QgT25ib2FyZGluZyA9IGxhenkoKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvdmlld3MvT25ib2FyZGluZycpKTtcblxuLy8gR2FtaWZpY2F0aW9uIGNvbXBvbmVudHNcbmltcG9ydCBCYWRnZVVubG9ja1RvYXN0IGZyb20gJ0AvY29tcG9uZW50cy9nYW1pZmljYXRpb24vQmFkZ2VVbmxvY2tUb2FzdCc7XG5cbi8vIEN1c3RvbSBob29rc1xuaW1wb3J0IHsgdXNlQXBwU3RhdGUgfSBmcm9tICdAL2hvb2tzL3VzZUFwcFN0YXRlJztcbmltcG9ydCB7IHVzZVRpZXJNYW5hZ2VyIH0gZnJvbSAnQC9ob29rcy91c2VUaWVyTWFuYWdlcic7XG5pbXBvcnQgeyB1c2VTZXNzaW9uTWFuYWdlciB9IGZyb20gJ0AvaG9va3MvdXNlU2Vzc2lvbk1hbmFnZXInO1xuaW1wb3J0IHsgdXNlU3RyZWFrIH0gZnJvbSAnQC9ob29rcy91c2VTdHJlYWsnO1xuaW1wb3J0IHsgdXNlWFAgfSBmcm9tICdAL2hvb2tzL3VzZVhQJztcbmltcG9ydCB7IHVzZUJhZGdlcyB9IGZyb20gJ0AvaG9va3MvdXNlQmFkZ2VzJztcbmltcG9ydCB7IHVzZUF1dGhDYWxsYmFjayB9IGZyb20gJ0AvaG9va3MvdXNlQXV0aENhbGxiYWNrJztcbmltcG9ydCB7IHVzZVN0cmlwZUNhbGxiYWNrIH0gZnJvbSAnQC9ob29rcy91c2VTdHJpcGVDYWxsYmFjayc7XG5pbXBvcnQgeyB1c2VBcHBSb3V0ZXIgfSBmcm9tICdAL2hvb2tzL3VzZUFwcFJvdXRlcic7XG5pbXBvcnQgeyB1c2VPbmxpbmVTeW5jIH0gZnJvbSAnQC9ob29rcy91c2VPbmxpbmVTeW5jJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwUGFnZSgpIHtcbiAgY29uc3QgeyB1c2VyLCBsb2FkaW5nOiBhdXRoTG9hZGluZywgc2lnbk91dCB9ID0gdXNlQXV0aCgpO1xuICBcbiAgLy8gVXNlIGNvbnNvbGlkYXRlZCBhcHAgc3RhdGUgaG9va1xuICBjb25zdCBhcHBTdGF0ZSA9IHVzZUFwcFN0YXRlKCk7XG4gIGNvbnN0IHtcbiAgICB2aWV3LFxuICAgIHNldFZpZXcsXG4gICAgc2Vzc2lvbnMsXG4gICAgc2V0U2Vzc2lvbnMsXG4gICAgc2Vzc2lvbnNMb2FkaW5nLFxuICAgIHNldFNlc3Npb25zTG9hZGluZyxcbiAgICByZW1haW5pbmdGcmVlU2Vzc2lvbnMsXG4gICAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zLFxuICAgIGN1cnJlbnRQYXRpZW50LFxuICAgIHNldEN1cnJlbnRQYXRpZW50LFxuICAgIGN1cnJlbnRTZXNzaW9uLFxuICAgIHNldEN1cnJlbnRTZXNzaW9uLFxuICAgIHNob3dPbmJvYXJkaW5nLFxuICAgIHNldFNob3dPbmJvYXJkaW5nLFxuICAgIGNvYWNoaW5nU3VtbWFyeSxcbiAgICBzZXRDb2FjaGluZ1N1bW1hcnksXG4gICAgY29hY2hpbmdTdW1tYXJ5RXJyb3IsXG4gICAgc2V0Q29hY2hpbmdTdW1tYXJ5RXJyb3IsXG4gICAgaXNHZW5lcmF0aW5nU3VtbWFyeSxcbiAgICBzZXRJc0dlbmVyYXRpbmdTdW1tYXJ5LFxuICAgIHNob3dSZXZpZXdQcm9tcHQsXG4gICAgc2V0U2hvd1Jldmlld1Byb21wdCxcbiAgICBjb25maXJtYXRpb25FbWFpbCxcbiAgICBzZXRDb25maXJtYXRpb25FbWFpbCxcbiAgICBsb2dnaW5nT3V0LFxuICAgIHNldExvZ2dpbmdPdXQsXG4gIH0gPSBhcHBTdGF0ZTtcblxuICAvLyBVc2UgdGllciBtYW5hZ2VyIGhvb2sgd2l0aCBzZXJ2ZXItc2lkZSBwcmVtaXVtIHZlcmlmaWNhdGlvblxuICBjb25zdCB7IHVzZXJUaWVyLCBzZXRVc2VyVGllciwgcmVmcmVzaFRpZXIsIGlzUHJlbWl1bVZlcmlmaWVkLCBpc1ZlcmlmeWluZzogaXNUaWVyVmVyaWZ5aW5nIH0gPSB1c2VUaWVyTWFuYWdlcigpO1xuXG4gIC8vIFVzZSBzdHJlYWsgaG9vayBmb3IgZ2FtaWZpY2F0aW9uXG4gIGNvbnN0IHsgY3VycmVudFN0cmVhaywgdXBkYXRlU3RyZWFrLCBwcm9jZXNzUXVldWU6IHByb2Nlc3NTdHJlYWtRdWV1ZSB9ID0gdXNlU3RyZWFrKCk7XG5cbiAgLy8gVXNlIFhQIGhvb2sgZm9yIGdhbWlmaWNhdGlvblxuICBjb25zdCB7IGFkZFhQLCBwcm9jZXNzUXVldWU6IHByb2Nlc3NYUFF1ZXVlIH0gPSB1c2VYUCgpO1xuXG4gIC8vIFVzZSBiYWRnZXMgaG9vayBmb3IgZ2FtaWZpY2F0aW9uXG4gIGNvbnN0IHsgY2hlY2tBbmRVbmxvY2tCYWRnZXMsIG5ld2x5VW5sb2NrZWRCYWRnZXMsIG1hcmtCYWRnZUFzU2VlbiB9ID0gdXNlQmFkZ2VzKCk7XG5cbiAgLy8gVXNlIG9ubGluZSBzeW5jIGhvb2sgdG8gcHJvY2VzcyBxdWV1ZWQgb3BlcmF0aW9ucyB3aGVuIGNvbm5lY3Rpdml0eSBpcyByZXN0b3JlZFxuICB1c2VPbmxpbmVTeW5jKHtcbiAgICBwcm9jZXNzU3RyZWFrUXVldWUsXG4gICAgcHJvY2Vzc1hQUXVldWUsXG4gICAgaXNBdXRoZW50aWNhdGVkOiAhIXVzZXIsXG4gIH0pO1xuXG4gIC8vIFRyYWNrIHdoaWNoIGJhZGdlIHRvIHNob3cgaW4gdG9hc3QgKG9uZSBhdCBhIHRpbWUpXG4gIGNvbnN0IFtiYWRnZVRvYXN0UXVldWUsIHNldEJhZGdlVG9hc3RRdWV1ZV0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuXG4gIC8vIFdoZW4gbmV3IGJhZGdlcyBhcmUgdW5sb2NrZWQsIGFkZCB0aGVtIHRvIHRoZSB0b2FzdCBxdWV1ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChuZXdseVVubG9ja2VkQmFkZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5ld0JhZGdlSWRzID0gbmV3bHlVbmxvY2tlZEJhZGdlcy5tYXAoYiA9PiBiLmlkKTtcbiAgICAgIHNldEJhZGdlVG9hc3RRdWV1ZShwcmV2ID0+IHtcbiAgICAgICAgLy8gQWRkIG9ubHkgYmFkZ2VzIG5vdCBhbHJlYWR5IGluIHF1ZXVlXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSWRzID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgY29uc3QgdG9BZGQgPSBuZXdCYWRnZUlkcy5maWx0ZXIoaWQgPT4gIWV4aXN0aW5nSWRzLmhhcyhpZCkpO1xuICAgICAgICByZXR1cm4gWy4uLnByZXYsIC4uLnRvQWRkXTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW25ld2x5VW5sb2NrZWRCYWRnZXNdKTtcblxuICAvLyBIYW5kbGUgZGlzbWlzc2luZyBhIGJhZGdlIHRvYXN0XG4gIGNvbnN0IGhhbmRsZUJhZGdlVG9hc3RDbG9zZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoYmFkZ2VUb2FzdFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRpc21pc3NlZEJhZGdlSWQgPSBiYWRnZVRvYXN0UXVldWVbMF07XG4gICAgICBhd2FpdCBtYXJrQmFkZ2VBc1NlZW4oZGlzbWlzc2VkQmFkZ2VJZCk7XG4gICAgICBzZXRCYWRnZVRvYXN0UXVldWUocHJldiA9PiBwcmV2LnNsaWNlKDEpKTtcbiAgICB9XG4gIH0sIFtiYWRnZVRvYXN0UXVldWUsIG1hcmtCYWRnZUFzU2Vlbl0pO1xuXG4gIC8vIEdldCB0aGUgY3VycmVudCBiYWRnZSB0byBzaG93XG4gIGNvbnN0IGN1cnJlbnRCYWRnZVRvU2hvdyA9IG5ld2x5VW5sb2NrZWRCYWRnZXMuZmluZChiID0+IGIuaWQgPT09IGJhZGdlVG9hc3RRdWV1ZVswXSk7XG5cbiAgLy8gVXNlIHNlc3Npb24gbWFuYWdlciBob29rXG4gIGNvbnN0IHsgc2F2ZU5ld1Nlc3Npb24gfSA9IHVzZVNlc3Npb25NYW5hZ2VyKHtcbiAgICB1c2VyLFxuICAgIGF1dGhMb2FkaW5nLFxuICAgIHVzZXJUaWVyLFxuICAgIHNldFNlc3Npb25zLFxuICAgIHNldFNlc3Npb25zTG9hZGluZyxcbiAgICBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMsXG4gICAgdXBkYXRlU3RyZWFrLFxuICAgIGFkZFhQLFxuICAgIGNoZWNrQW5kVW5sb2NrQmFkZ2VzLFxuICAgIGN1cnJlbnRTdHJlYWssXG4gIH0pO1xuXG4gIC8vIFVzZSBhdXRoIGNhbGxiYWNrIGhvb2tcbiAgdXNlQXV0aENhbGxiYWNrKHsgc2V0VmlldyB9KTtcblxuICAvLyBVc2UgU3RyaXBlIGNhbGxiYWNrIGhvb2tcbiAgdXNlU3RyaXBlQ2FsbGJhY2soe1xuICAgIHVzZXIsXG4gICAgYXV0aExvYWRpbmcsXG4gICAgc2V0VXNlclRpZXIsXG4gICAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zLFxuICAgIHNldFZpZXcsXG4gIH0pO1xuXG4gIC8vIFVzZSBhcHAgcm91dGVyIGhvb2tcbiAgdXNlQXBwUm91dGVyKHsgdXNlciwgYXV0aExvYWRpbmcsIHZpZXcsIHNldFZpZXcgfSk7XG5cbiAgLy8gTG9hZCBvbmJvYXJkaW5nIHN0YXRlIC0gRklYRUQ6IE9ubHkgcnVuIG9uY2Ugb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBvbmJvYXJkaW5nQ29tcGxldGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWktY29hY2gtb25ib2FyZGluZy1jb21wbGV0ZScpO1xuICAgIHNldFNob3dPbmJvYXJkaW5nKG9uYm9hcmRpbmdDb21wbGV0ZSAhPT0gJ3RydWUnKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTsgLy8gRW1wdHkgZGVwcyAtIG9ubHkgcnVuIG9uY2Ugb24gbW91bnRcblxuICBjb25zdCBoYW5kbGVPbmJvYXJkaW5nRmluaXNoID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaS1jb2FjaC1vbmJvYXJkaW5nLWNvbXBsZXRlJywgJ3RydWUnKTtcbiAgICBzZXRTaG93T25ib2FyZGluZyhmYWxzZSk7XG4gICAgLy8gQWZ0ZXIgb25ib2FyZGluZywgZ28gdG8gRGFzaGJvYXJkIChhbm9ueW1vdXMgdXNlcnMgY2FuIGFjY2VzcyBpdClcbiAgICBzZXRWaWV3KFZpZXcuRGFzaGJvYXJkKTtcbiAgfSwgW3NldFNob3dPbmJvYXJkaW5nLCBzZXRWaWV3XSk7XG5cbiAgY29uc3QgaGFuZGxlU3RhcnRQcmFjdGljZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAvLyBSZXF1aXJlIGF1dGhlbnRpY2F0aW9uIHRvIHN0YXJ0IHByYWN0aWNlXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0FwcF0gVXNlciBub3QgYXV0aGVudGljYXRlZCwgcmVkaXJlY3RpbmcgdG8gbG9naW4nKTtcbiAgICAgIHNldFZpZXcoVmlldy5Mb2dpbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR3VhcmQ6IHdhaXQgdW50aWwgdXNlclRpZXIgaXMgbG9hZGVkIGFuZCB2ZXJpZmljYXRpb24gaXMgY29tcGxldGVcbiAgICBpZiAoIXVzZXJUaWVyIHx8IHVzZXJUaWVyID09PSAnJyB8fCBpc1RpZXJWZXJpZnlpbmcpIHtcbiAgICAgIGNvbnNvbGUud2FybignW0FwcF0gVXNlciB0aWVyIG5vdCB5ZXQgbG9hZGVkIG9yIHN0aWxsIHZlcmlmeWluZywgd2FpdGluZy4uLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHVzZXIgY2FuIHN0YXJ0IGEgbmV3IHNlc3Npb25cbiAgICBjb25zdCBjYW5TdGFydCA9IGF3YWl0IGNhblN0YXJ0U2Vzc2lvbih1c2VyLmlkLCB1c2VyVGllcik7XG4gICAgaWYgKCFjYW5TdGFydCkge1xuICAgICAgY29uc29sZS5sb2coJ1tBcHBdIFVzZXIgY2Fubm90IHN0YXJ0IHNlc3Npb24gKGxpbWl0IHJlYWNoZWQpLCBzaG93aW5nIHBheXdhbGwnKTtcbiAgICAgIHNldFZpZXcoVmlldy5QYXl3YWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodXNlclRpZXIgPT09IFVzZXJUaWVyLlByZW1pdW0pIHtcbiAgICAgIHNldFZpZXcoVmlldy5TY2VuYXJpb1NlbGVjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhdGllbnQgPSBnZW5lcmF0ZVBhdGllbnRQcm9maWxlKCk7XG4gICAgICBzZXRDdXJyZW50UGF0aWVudChwYXRpZW50KTtcbiAgICAgIHNldFZpZXcoVmlldy5QcmFjdGljZSk7XG4gICAgfVxuICB9LCBbdXNlciwgdXNlclRpZXIsIGlzVGllclZlcmlmeWluZywgc2V0Vmlldywgc2V0Q3VycmVudFBhdGllbnRdKTtcbiAgXG4gIGNvbnN0IGhhbmRsZVN0YXJ0RmlsdGVyZWRQcmFjdGljZSA9IHVzZUNhbGxiYWNrKChmaWx0ZXJzOiBQYXRpZW50UHJvZmlsZUZpbHRlcnMpID0+IHtcbiAgICAvLyBSZXF1aXJlIGF1dGhlbnRpY2F0aW9uIHRvIHN0YXJ0IHByYWN0aWNlXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0FwcF0gVXNlciBub3QgYXV0aGVudGljYXRlZCwgcmVkaXJlY3RpbmcgdG8gbG9naW4nKTtcbiAgICAgIHNldFZpZXcoVmlldy5Mb2dpbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGF0aWVudCA9IGdlbmVyYXRlUGF0aWVudFByb2ZpbGUoZmlsdGVycyk7XG4gICAgc2V0Q3VycmVudFBhdGllbnQocGF0aWVudCk7XG4gICAgc2V0VmlldyhWaWV3LlByYWN0aWNlKTtcbiAgfSwgW3VzZXIsIHNldEN1cnJlbnRQYXRpZW50LCBzZXRWaWV3XSk7XG5cbiAgLy8gU2F2ZSB0aGUgbmV3IHNlc3Npb24gd2hlbiBwcmFjdGljZSBpcyBmaW5pc2hlZFxuICBjb25zdCBoYW5kbGVGaW5pc2hQcmFjdGljZSA9IHVzZUNhbGxiYWNrKGFzeW5jICh0cmFuc2NyaXB0OiBDaGF0TWVzc2FnZVtdLCBmZWVkYmFjazogRmVlZGJhY2spID0+IHtcbiAgICBpZiAoIWN1cnJlbnRQYXRpZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW0FwcF0gQ2Fubm90IHNhdmUgc2Vzc2lvbjogbWlzc2luZyBwYXRpZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld1Nlc3Npb24gPSBhd2FpdCBzYXZlTmV3U2Vzc2lvbih0cmFuc2NyaXB0LCBmZWVkYmFjaywgY3VycmVudFBhdGllbnQsIHNlc3Npb25zLCB1c2VyVGllcik7XG4gICAgXG4gICAgc2V0Q3VycmVudFNlc3Npb24obmV3U2Vzc2lvbik7XG4gICAgc2V0Q29hY2hpbmdTdW1tYXJ5KG51bGwpOyAvLyBJbnZhbGlkYXRlIG9sZCBzdW1tYXJ5XG4gICAgc2V0Q29hY2hpbmdTdW1tYXJ5RXJyb3IobnVsbCk7XG4gICAgc2V0VmlldyhWaWV3LkZlZWRiYWNrKTtcbiAgfSwgW2N1cnJlbnRQYXRpZW50LCBzZXNzaW9ucywgdXNlclRpZXIsIHNhdmVOZXdTZXNzaW9uLCBzZXRDdXJyZW50U2Vzc2lvbiwgc2V0Q29hY2hpbmdTdW1tYXJ5LCBzZXRDb2FjaGluZ1N1bW1hcnlFcnJvciwgc2V0Vmlld10pO1xuICBcbiAgY29uc3QgaGFuZGxlRG9uZUZyb21GZWVkYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBzZXNzaW9uQ291bnQgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWktY29hY2gtc2Vzc2lvbi1jb3VudCcpIHx8ICcwJywgMTApO1xuICAgIGNvbnN0IHJldmlld0Rpc21pc3NlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaS1jb2FjaC1yZXZpZXctZGlzbWlzc2VkJykgPT09ICd0cnVlJztcbiAgICBjb25zdCByZW1pbmRBZnRlckNvdW50ID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21pLWNvYWNoLXJldmlldy1yZW1pbmQtYWZ0ZXInKSB8fCAnMCcsIDEwKTtcblxuICAgIGlmICghcmV2aWV3RGlzbWlzc2VkICYmIHNlc3Npb25Db3VudCA+PSAzICYmIHNlc3Npb25Db3VudCA+PSByZW1pbmRBZnRlckNvdW50KSB7XG4gICAgICAgIHNldFNob3dSZXZpZXdQcm9tcHQodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VmlldyhWaWV3LkRhc2hib2FyZCk7XG4gICAgfVxuICB9LCBbc2V0U2hvd1Jldmlld1Byb21wdCwgc2V0Vmlld10pO1xuICBcbiAgY29uc3QgaGFuZGxlUmV2aWV3UHJvbXB0Q2xvc2UgPSB1c2VDYWxsYmFjaygoY2hvaWNlOiAncmF0ZScgfCAnbGF0ZXInIHwgJ25vJykgPT4ge1xuICAgIHNldFNob3dSZXZpZXdQcm9tcHQoZmFsc2UpO1xuICAgIFxuICAgIGlmIChjaG9pY2UgPT09ICdyYXRlJyB8fCBjaG9pY2UgPT09ICdubycpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pLWNvYWNoLXJldmlldy1kaXNtaXNzZWQnLCAndHJ1ZScpO1xuICAgICAgICBpZiAoY2hvaWNlID09PSAncmF0ZScpIHtcbiAgICAgICAgICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3UnZCBsaW5rIHRvIHRoZSBzdG9yZS5cbiAgICAgICAgICAgICBhbGVydChcIlRoYW5rIHlvdSBmb3IgeW91ciBmZWVkYmFjayEgWW91IHdpbGwgbm93IGJlIHJlZGlyZWN0ZWQgdG8gdGhlIGFwcCBzdG9yZS5cIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNob2ljZSA9PT0gJ2xhdGVyJykge1xuICAgICAgICBjb25zdCBzZXNzaW9uQ291bnQgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWktY29hY2gtc2Vzc2lvbi1jb3VudCcpIHx8ICcwJywgMTApO1xuICAgICAgICAvLyBSZW1pbmQgYWdhaW4gYWZ0ZXIgMyBtb3JlIHNlc3Npb25zXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaS1jb2FjaC1yZXZpZXctcmVtaW5kLWFmdGVyJywgKHNlc3Npb25Db3VudCArIDMpLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBcbiAgICBzZXRWaWV3KFZpZXcuRGFzaGJvYXJkKTtcbiAgfSwgW3NldFNob3dSZXZpZXdQcm9tcHQsIHNldFZpZXddKTtcblxuICBjb25zdCBnZW5lcmF0ZUNvYWNoaW5nU3VtbWFyeUZyb21FZGdlRnVuY3Rpb24gPSB1c2VDYWxsYmFjayhhc3luYyAoc2Vzc2lvbnM6IFNlc3Npb25bXSk6IFByb21pc2U8Q29hY2hpbmdTdW1tYXJ5PiA9PiB7XG4gICAgLy8gR2V0IFN1cGFiYXNlIFVSTCBhbmQgY29uc3RydWN0IEVkZ2UgRnVuY3Rpb24gVVJMXG4gICAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG4gICAgaWYgKCFzdXBhYmFzZVVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBVUkwgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICB9XG5cbiAgICAvLyBVc2UgZHVhbC1ydW4gd3JhcHBlciBmb3IgU3RyYW5nbGVyIEZpZyBtaWdyYXRpb24gdHJhY2tpbmdcbiAgICAvLyBDYWxscyBib3RoIGxlZ2FjeSBhbmQgdjIgZnVuY3Rpb25zLCBjb21wYXJlcyBvdXRwdXRzLCB0cmFja3MgbWF0Y2hlc1xuICAgIGNvbnN0IGZ1bmN0aW9uc1VybCA9IGAke3N1cGFiYXNlVXJsfS9mdW5jdGlvbnMvdjEvZHVhbC1ydW4tY29hY2hpbmctc3VtbWFyeWA7XG5cbiAgICAvLyBSZXF1aXJlIGF1dGhlbnRpY2F0aW9uIC0gZ2V0IEpXVCB0b2tlbiBmcm9tIHNlc3Npb25cbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgbGV0IGF1dGhUb2tlbjogc3RyaW5nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9LCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHNlc3Npb25FcnJvciB8fCAhc2Vzc2lvbiB8fCAhc2Vzc2lvbi5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIHNlc3Npb24gaGFzIGV4cGlyZWQuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGFuZCBsb2cgaW4gYWdhaW4uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGF1dGhUb2tlbiA9IHNlc3Npb24uYWNjZXNzX3Rva2VuO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQXBwXSBGYWlsZWQgdG8gZ2V0IGF1dGggdG9rZW46JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYXV0aGVudGljYXRlLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBhbmQgdHJ5IGFnYWluLicpO1xuICAgIH1cblxuICAgIC8vIFByZXBhcmUgcmVxdWVzdCB3aXRoIHJlcXVpcmVkIEF1dGhvcml6YXRpb24gaGVhZGVyXG4gICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthdXRoVG9rZW59YCxcbiAgICB9O1xuXG4gICAgLy8gTWFrZSByZXF1ZXN0IHRvIEVkZ2UgRnVuY3Rpb25cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGZ1bmN0aW9uc1VybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzZXNzaW9ucyB9KSxcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBlcnJvcnNcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZXJyb3I6ICdVbmtub3duIGVycm9yJyB9KSk7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgYEZhaWxlZCB0byBnZW5lcmF0ZSBjb2FjaGluZyBzdW1tYXJ5ICgke3Jlc3BvbnNlLnN0YXR1c30pYDtcblxuICAgICAgLy8gTWFwIEhUVFAgc3RhdHVzIGNvZGVzIHRvIHVzZXItZnJpZW5kbHkgbWVzc2FnZXNcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgc2Vzc2lvbiBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYW5kIGxvZyBpbiBhZ2Fpbi4nKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBSSBzZXJ2aWNlIGlzIGJ1c3kuIFBsZWFzZSB0cnkgYWdhaW4gaW4gYSBtb21lbnQuJyk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTA0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29hY2hpbmcgc3VtbWFyeSBnZW5lcmF0aW9uIHRpbWVkIG91dC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA1MDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBSSBzZXJ2aWNlIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgYW5kIHJldHVybiByZXNwb25zZVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGRhdGEgYXMgQ29hY2hpbmdTdW1tYXJ5O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVDb2FjaGluZ1N1bW1hcnkgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChjb2FjaGluZ1N1bW1hcnkgJiYgIWlzR2VuZXJhdGluZ1N1bW1hcnkpIHtcbiAgICAgICAgICAgIHNldFZpZXcoVmlldy5Db2FjaGluZ1N1bW1hcnkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZXJUaWVyICE9PSBVc2VyVGllci5QcmVtaXVtKSB7XG4gICAgICAgICAgICBzZXRWaWV3KFZpZXcuUGF5d2FsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldENvYWNoaW5nU3VtbWFyeUVycm9yKG51bGwpO1xuICAgICAgICBzZXRJc0dlbmVyYXRpbmdTdW1tYXJ5KHRydWUpO1xuICAgICAgICBzZXRWaWV3KFZpZXcuQ29hY2hpbmdTdW1tYXJ5KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcHJlbWl1bVNlc3Npb25zID0gc2Vzc2lvbnMuZmlsdGVyKHMgPT4gcy50aWVyID09PSBVc2VyVGllci5QcmVtaXVtKTtcbiAgICAgICAgICAgIGlmIChwcmVtaXVtU2Vzc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgIHNldENvYWNoaW5nU3VtbWFyeUVycm9yKFwiWW91IG5lZWQgdG8gY29tcGxldGUgYXQgbGVhc3Qgb25lIFByZW1pdW0gc2Vzc2lvbiB0byBnZW5lcmF0ZSBhIHN1bW1hcnkuXCIpO1xuICAgICAgICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmdTdW1tYXJ5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVwb3J0T2JqZWN0ID0gYXdhaXQgZ2VuZXJhdGVDb2FjaGluZ1N1bW1hcnlGcm9tRWRnZUZ1bmN0aW9uKHByZW1pdW1TZXNzaW9ucyk7XG4gICAgICAgICAgICBzZXRDb2FjaGluZ1N1bW1hcnkocmVwb3J0T2JqZWN0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY29hY2hpbmcgc3VtbWFyeTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlNvcnJ5LCB3ZSBjb3VsZG4ndCBnZW5lcmF0ZSB5b3VyIHN1bW1hcnkgYXQgdGhpcyB0aW1lLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiO1xuICAgICAgICAgICAgc2V0Q29hY2hpbmdTdW1tYXJ5RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzR2VuZXJhdGluZ1N1bW1hcnkoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgW2NvYWNoaW5nU3VtbWFyeSwgaXNHZW5lcmF0aW5nU3VtbWFyeSwgdXNlclRpZXIsIHNlc3Npb25zLCBzZXRWaWV3LCBzZXRDb2FjaGluZ1N1bW1hcnlFcnJvciwgc2V0SXNHZW5lcmF0aW5nU3VtbWFyeSwgc2V0Q29hY2hpbmdTdW1tYXJ5LCBnZW5lcmF0ZUNvYWNoaW5nU3VtbWFyeUZyb21FZGdlRnVuY3Rpb25dKTtcblxuICBjb25zdCBoYW5kbGVOYXZpZ2F0ZSA9IHVzZUNhbGxiYWNrKCh0YXJnZXRWaWV3OiBWaWV3KSA9PiBzZXRWaWV3KHRhcmdldFZpZXcpLCBbc2V0Vmlld10pO1xuICBcbiAgY29uc3QgaGFuZGxlRW1haWxDb25maXJtYXRpb24gPSB1c2VDYWxsYmFjaygoZW1haWw6IHN0cmluZykgPT4ge1xuICAgIHNldENvbmZpcm1hdGlvbkVtYWlsKGVtYWlsKTtcbiAgICBzZXRWaWV3KFZpZXcuRW1haWxDb25maXJtYXRpb24pO1xuICB9LCBbc2V0Q29uZmlybWF0aW9uRW1haWwsIHNldFZpZXddKTtcblxuICBjb25zdCBoYW5kbGVMb2dvdXQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKGxvZ2dpbmdPdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRMb2dnaW5nT3V0KHRydWUpO1xuICAgIFxuICAgIC8vIFJlc2V0IGFwcCBzdGF0ZVxuICAgIHNldFVzZXJUaWVyKFVzZXJUaWVyLkZyZWUpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdtaS1jb2FjaC10aWVyJyk7XG4gICAgc2V0U2Vzc2lvbnMoW10pO1xuICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyhudWxsKTtcbiAgICBzZXRWaWV3KFZpZXcuTG9naW4pO1xuXG4gICAgbGV0IGxvZ291dEVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzaWduT3V0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVyciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcignTG9nb3V0IGZhaWxlZCcpO1xuICAgICAgY29uc29sZS5lcnJvcignW0FwcF0gTG9nb3V0IGZhaWxlZDonLCBlcnIpO1xuICAgICAgbG9nb3V0RXJyb3IgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvZ2dpbmdPdXQoZmFsc2UpO1xuICAgIH1cblxuICAgIGlmIChsb2dvdXRFcnJvcikge1xuICAgICAgdGhyb3cgbG9nb3V0RXJyb3I7XG4gICAgfVxuICB9LCBbbG9nZ2luZ091dCwgc2V0TG9nZ2luZ091dCwgc2V0VXNlclRpZXIsIHNldFNlc3Npb25zLCBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMsIHNldFZpZXcsIHNpZ25PdXRdKTtcblxuICAvLyBTYXZlIHRoZSBuZXcgdXNlciB0aWVyIHRvIGxvY2FsU3RvcmFnZSBhbmQgU3VwYWJhc2UgdXBvbiB1cGdyYWRlLlxuICBjb25zdCBoYW5kbGVVcGdyYWRlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FwcF0gQ2Fubm90IHVwZ3JhZGU6IHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3VGllciA9IFVzZXJUaWVyLlByZW1pdW07XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBpbiBTdXBhYmFzZVxuICAgICAgY29uc29sZS5sb2coJ1tBcHBdIFVwZ3JhZGluZyB1c2VyIHRpZXIgdG8gUHJlbWl1bScpO1xuICAgICAgLy8gTm90ZTogdXBkYXRlVXNlclRpZXIgaXMgY2FsbGVkIGludGVybmFsbHkgYnkgdGhlIHBheW1lbnQgcHJvY2Vzc29yXG4gICAgICAvLyBGb3Igbm93LCBqdXN0IHVwZGF0ZSBsb2NhbGx5IGFuZCBpbiBsb2NhbFN0b3JhZ2VcbiAgICAgIHNldFVzZXJUaWVyKG5ld1RpZXIpO1xuICAgICAgXG4gICAgICAvLyBSZWxvYWQgdGllciBmcm9tIFN1cGFiYXNlIHRvIGNvbmZpcm1cbiAgICAgIGNvbnN0IHVwZGF0ZWRUaWVyID0gYXdhaXQgcmVmcmVzaFRpZXIoKTtcbiAgICAgIGlmICh1cGRhdGVkVGllcikge1xuICAgICAgICBzZXRVc2VyVGllcih1cGRhdGVkVGllcik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldFZpZXcoVmlldy5EYXNoYm9hcmQpOyAvLyBHbyBiYWNrIHRvIGRhc2hib2FyZCBhZnRlciB1cGdyYWRpbmdcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FwcF0gRmFpbGVkIHRvIHVwZ3JhZGUgdGllcjonLCBlcnJvcik7XG4gICAgICAvLyBTdGlsbCBuYXZpZ2F0ZSB0byBkYXNoYm9hcmQgZXZlbiBpZiByZWZyZXNoIGZhaWxzXG4gICAgICBzZXRWaWV3KFZpZXcuRGFzaGJvYXJkKTtcbiAgICB9XG4gIH0sIFt1c2VyLCBzZXRVc2VyVGllciwgcmVmcmVzaFRpZXIsIHNldFZpZXddKTtcblxuICBjb25zdCBoYW5kbGVUaWVyVXBkYXRlZCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAvLyBSZWxvYWQgdGllciBmcm9tIFN1cGFiYXNlIGFmdGVyIHN1YnNjcmlwdGlvbiBjaGFuZ2VcbiAgICBpZiAodXNlcikge1xuICAgICAgY29uc3QgdXBkYXRlZFRpZXIgPSBhd2FpdCByZWZyZXNoVGllcigpO1xuICAgICAgaWYgKHVwZGF0ZWRUaWVyKSB7XG4gICAgICAgIHNldFVzZXJUaWVyKHVwZGF0ZWRUaWVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt1c2VyLCByZWZyZXNoVGllciwgc2V0VXNlclRpZXJdKTtcbiAgXG4gIC8vIFNob3cgbG9hZGluZyBzdGF0ZSB3aGlsZSBhdXRoIGlzIGluaXRpYWxpemluZ1xuICBpZiAoYXV0aExvYWRpbmcgfHwgc2hvd09uYm9hcmRpbmcgPT09IG51bGwpIHtcbiAgICByZXR1cm4gPFBhZ2VMb2FkZXIgbWVzc2FnZT1cIkluaXRpYWxpemluZy4uLlwiIC8+O1xuICB9XG5cbiAgLy8gU2hvdyBvbmJvYXJkaW5nIGlmIG5vdCBjb21wbGV0ZWRcbiAgaWYgKHNob3dPbmJvYXJkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PFBhZ2VMb2FkZXIgbWVzc2FnZT1cIkxvYWRpbmcgb25ib2FyZGluZy4uLlwiIC8+fT5cbiAgICAgICAgPE9uYm9hcmRpbmcgb25GaW5pc2g9e2hhbmRsZU9uYm9hcmRpbmdGaW5pc2h9IC8+XG4gICAgICA8L1N1c3BlbnNlPlxuICAgICk7XG4gIH1cblxuICAvLyBTaG93IGxvZ2luL2F1dGggc2NyZWVucyB3aGVuIG9uIHRob3NlIHZpZXdzIChhbGxvdyBhbm9ueW1vdXMgYWNjZXNzIHRvIG90aGVyIHZpZXdzKVxuICBjb25zdCBpc0F1dGhWaWV3ID0gdmlldyA9PT0gVmlldy5Mb2dpbiB8fCB2aWV3ID09PSBWaWV3LkZvcmdvdFBhc3N3b3JkIHx8IHZpZXcgPT09IFZpZXcuRW1haWxDb25maXJtYXRpb24gfHwgdmlldyA9PT0gVmlldy5SZXNldFBhc3N3b3JkO1xuICBjb25zdCBzaG91bGRSZW5kZXJBdXRoVmlld3MgPSAhdXNlciAmJiAhYXV0aExvYWRpbmcgJiYgaXNBdXRoVmlldztcblxuICBjb25zdCB2aWV3c1dpdGhOYXZCYXIgPSBbVmlldy5EYXNoYm9hcmQsIFZpZXcuUmVzb3VyY2VMaWJyYXJ5LCBWaWV3LlNldHRpbmdzLCBWaWV3LkNhbGVuZGFyXTtcbiAgY29uc3QgaXNQcmVtaXVtRmVlZGJhY2sgPSB2aWV3ID09PSBWaWV3LkZlZWRiYWNrICYmIHVzZXJUaWVyID09PSBVc2VyVGllci5QcmVtaXVtO1xuICBjb25zdCBzaG91bGRTaG93TmF2QmFyID0gdmlld3NXaXRoTmF2QmFyLmluY2x1ZGVzKHZpZXcpIHx8IGlzUHJlbWl1bUZlZWRiYWNrO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctdHJhbnNwYXJlbnQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIiBpZD1cIm1haW4tY29udGVudFwiPlxuICAgICAge3Nob3VsZFNob3dOYXZCYXIgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCIgc3R5bGU9e3sgaGVpZ2h0OiAnMTAwdmgnIH19PlxuICAgICAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHBiLTIwXCIgcm9sZT1cIm1haW5cIiBhcmlhLWxhYmVsPVwiTWFpbiBjb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICA8Vmlld1JlbmRlcmVyXG4gICAgICAgICAgICAgICAgICAgIHZpZXc9e3ZpZXd9XG4gICAgICAgICAgICAgICAgICAgIHVzZXJUaWVyPXt1c2VyVGllcn1cbiAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbnM9e3Nlc3Npb25zfVxuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdGcmVlU2Vzc2lvbnM9e3JlbWFpbmluZ0ZyZWVTZXNzaW9uc31cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGllbnQ9e2N1cnJlbnRQYXRpZW50fVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2Vzc2lvbj17Y3VycmVudFNlc3Npb259XG4gICAgICAgICAgICAgICAgICAgIGNvYWNoaW5nU3VtbWFyeT17Y29hY2hpbmdTdW1tYXJ5fVxuICAgICAgICAgICAgICAgICAgICBjb2FjaGluZ1N1bW1hcnlFcnJvcj17Y29hY2hpbmdTdW1tYXJ5RXJyb3J9XG4gICAgICAgICAgICAgICAgICAgIGlzR2VuZXJhdGluZ1N1bW1hcnk9e2lzR2VuZXJhdGluZ1N1bW1hcnl9XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkVtYWlsPXtjb25maXJtYXRpb25FbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgaXNQcmVtaXVtVmVyaWZpZWQ9e2lzUHJlbWl1bVZlcmlmaWVkfVxuICAgICAgICAgICAgICAgICAgICBpc1RpZXJWZXJpZnlpbmc9e2lzVGllclZlcmlmeWluZ31cbiAgICAgICAgICAgICAgICAgICAgb25OYXZpZ2F0ZT17aGFuZGxlTmF2aWdhdGV9XG4gICAgICAgICAgICAgICAgICAgIG9uU3RhcnRQcmFjdGljZT17aGFuZGxlU3RhcnRQcmFjdGljZX1cbiAgICAgICAgICAgICAgICAgICAgb25TdGFydEZpbHRlcmVkUHJhY3RpY2U9e2hhbmRsZVN0YXJ0RmlsdGVyZWRQcmFjdGljZX1cbiAgICAgICAgICAgICAgICAgICAgb25GaW5pc2hQcmFjdGljZT17aGFuZGxlRmluaXNoUHJhY3RpY2V9XG4gICAgICAgICAgICAgICAgICAgIG9uRG9uZUZyb21GZWVkYmFjaz17aGFuZGxlRG9uZUZyb21GZWVkYmFja31cbiAgICAgICAgICAgICAgICAgICAgb25VcGdyYWRlPXtoYW5kbGVVcGdyYWRlfVxuICAgICAgICAgICAgICAgICAgICBvbkxvZ291dD17aGFuZGxlTG9nb3V0fVxuICAgICAgICAgICAgICAgICAgICBvbkdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5PXtoYW5kbGVHZW5lcmF0ZUNvYWNoaW5nU3VtbWFyeX1cbiAgICAgICAgICAgICAgICAgICAgb25FbWFpbENvbmZpcm1hdGlvbj17aGFuZGxlRW1haWxDb25maXJtYXRpb259XG4gICAgICAgICAgICAgICAgICAgIG9uVGllclVwZGF0ZWQ9e2hhbmRsZVRpZXJVcGRhdGVkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9tYWluPlxuICAgICAgICAgICAgICA8Qm90dG9tTmF2QmFyIGN1cnJlbnRWaWV3PXt2aWV3fSBvbk5hdmlnYXRlPXtoYW5kbGVOYXZpZ2F0ZX0gdXNlclRpZXI9e3VzZXJUaWVyfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgICAvLyBWaWV3cyB3aXRob3V0IHRoZSBtYWluIG5hdiBiYXIgKGUuZy4sIHByYWN0aWNlLCBmZWVkYmFjaywgcGF5d2FsbClcbiAgICAgICAgICAvLyBUaGVzZSBjb21wb25lbnRzIG1hbmFnZSB0aGVpciBvd24gZnVsbC1zY3JlZW4gbGF5b3V0LlxuICAgICAgICAgIDxWaWV3UmVuZGVyZXJcbiAgICAgICAgICAgIHZpZXc9e3ZpZXd9XG4gICAgICAgICAgICB1c2VyVGllcj17dXNlclRpZXJ9XG4gICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgc2Vzc2lvbnM9e3Nlc3Npb25zfVxuICAgICAgICAgICAgcmVtYWluaW5nRnJlZVNlc3Npb25zPXtyZW1haW5pbmdGcmVlU2Vzc2lvbnN9XG4gICAgICAgICAgICBjdXJyZW50UGF0aWVudD17Y3VycmVudFBhdGllbnR9XG4gICAgICAgICAgICBjdXJyZW50U2Vzc2lvbj17Y3VycmVudFNlc3Npb259XG4gICAgICAgICAgICBjb2FjaGluZ1N1bW1hcnk9e2NvYWNoaW5nU3VtbWFyeX1cbiAgICAgICAgICAgIGNvYWNoaW5nU3VtbWFyeUVycm9yPXtjb2FjaGluZ1N1bW1hcnlFcnJvcn1cbiAgICAgICAgICAgIGlzR2VuZXJhdGluZ1N1bW1hcnk9e2lzR2VuZXJhdGluZ1N1bW1hcnl9XG4gICAgICAgICAgICBjb25maXJtYXRpb25FbWFpbD17Y29uZmlybWF0aW9uRW1haWx9XG4gICAgICAgICAgICBpc1ByZW1pdW1WZXJpZmllZD17aXNQcmVtaXVtVmVyaWZpZWR9XG4gICAgICAgICAgICBpc1RpZXJWZXJpZnlpbmc9e2lzVGllclZlcmlmeWluZ31cbiAgICAgICAgICAgIG9uTmF2aWdhdGU9e2hhbmRsZU5hdmlnYXRlfVxuICAgICAgICAgICAgb25TdGFydFByYWN0aWNlPXtoYW5kbGVTdGFydFByYWN0aWNlfVxuICAgICAgICAgICAgb25TdGFydEZpbHRlcmVkUHJhY3RpY2U9e2hhbmRsZVN0YXJ0RmlsdGVyZWRQcmFjdGljZX1cbiAgICAgICAgICAgIG9uRmluaXNoUHJhY3RpY2U9e2hhbmRsZUZpbmlzaFByYWN0aWNlfVxuICAgICAgICAgICAgb25Eb25lRnJvbUZlZWRiYWNrPXtoYW5kbGVEb25lRnJvbUZlZWRiYWNrfVxuICAgICAgICAgICAgb25VcGdyYWRlPXtoYW5kbGVVcGdyYWRlfVxuICAgICAgICAgICAgb25Mb2dvdXQ9e2hhbmRsZUxvZ291dH1cbiAgICAgICAgICAgIG9uR2VuZXJhdGVDb2FjaGluZ1N1bW1hcnk9e2hhbmRsZUdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5fVxuICAgICAgICAgICAgb25FbWFpbENvbmZpcm1hdGlvbj17aGFuZGxlRW1haWxDb25maXJtYXRpb259XG4gICAgICAgICAgICBvblRpZXJVcGRhdGVkPXtoYW5kbGVUaWVyVXBkYXRlZH1cbiAgICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHtzaG93UmV2aWV3UHJvbXB0ICYmIChcbiAgICAgICAgICA8UmV2aWV3UHJvbXB0IG9uQ2xvc2U9e2hhbmRsZVJldmlld1Byb21wdENsb3NlfSAvPlxuICAgICAgKX1cbiAgICAgIHsvKiBCYWRnZSB1bmxvY2sgY2VsZWJyYXRpb24gdG9hc3QgKi99XG4gICAgICB7Y3VycmVudEJhZGdlVG9TaG93ICYmIChcbiAgICAgICAgICA8QmFkZ2VVbmxvY2tUb2FzdFxuICAgICAgICAgICAgYmFkZ2U9e2N1cnJlbnRCYWRnZVRvU2hvd31cbiAgICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUJhZGdlVG9hc3RDbG9zZX1cbiAgICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHsvKiBBcmlhIGxpdmUgcmVnaW9uIGZvciBhc3luYyBmZWVkYmFjayAqL31cbiAgICAgIDxkaXYgaWQ9XCJhcmlhLWxpdmUtcmVnaW9uXCIgYXJpYS1saXZlPVwicG9saXRlXCIgYXJpYS1hdG9taWM9XCJ0cnVlXCIgY2xhc3NOYW1lPVwic3Itb25seVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsIlN1c3BlbnNlIiwibGF6eSIsIlVzZXJUaWVyIiwiVmlldyIsImdlbmVyYXRlUGF0aWVudFByb2ZpbGUiLCJjYW5TdGFydFNlc3Npb24iLCJ1c2VBdXRoIiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJQYWdlTG9hZGVyIiwiQm90dG9tTmF2QmFyIiwiUmV2aWV3UHJvbXB0IiwiVmlld1JlbmRlcmVyIiwiT25ib2FyZGluZyIsIkJhZGdlVW5sb2NrVG9hc3QiLCJ1c2VBcHBTdGF0ZSIsInVzZVRpZXJNYW5hZ2VyIiwidXNlU2Vzc2lvbk1hbmFnZXIiLCJ1c2VTdHJlYWsiLCJ1c2VYUCIsInVzZUJhZGdlcyIsInVzZUF1dGhDYWxsYmFjayIsInVzZVN0cmlwZUNhbGxiYWNrIiwidXNlQXBwUm91dGVyIiwidXNlT25saW5lU3luYyIsIkFwcFBhZ2UiLCJ1c2VyIiwibG9hZGluZyIsImF1dGhMb2FkaW5nIiwic2lnbk91dCIsImFwcFN0YXRlIiwidmlldyIsInNldFZpZXciLCJzZXNzaW9ucyIsInNldFNlc3Npb25zIiwic2Vzc2lvbnNMb2FkaW5nIiwic2V0U2Vzc2lvbnNMb2FkaW5nIiwicmVtYWluaW5nRnJlZVNlc3Npb25zIiwic2V0UmVtYWluaW5nRnJlZVNlc3Npb25zIiwiY3VycmVudFBhdGllbnQiLCJzZXRDdXJyZW50UGF0aWVudCIsImN1cnJlbnRTZXNzaW9uIiwic2V0Q3VycmVudFNlc3Npb24iLCJzaG93T25ib2FyZGluZyIsInNldFNob3dPbmJvYXJkaW5nIiwiY29hY2hpbmdTdW1tYXJ5Iiwic2V0Q29hY2hpbmdTdW1tYXJ5IiwiY29hY2hpbmdTdW1tYXJ5RXJyb3IiLCJzZXRDb2FjaGluZ1N1bW1hcnlFcnJvciIsImlzR2VuZXJhdGluZ1N1bW1hcnkiLCJzZXRJc0dlbmVyYXRpbmdTdW1tYXJ5Iiwic2hvd1Jldmlld1Byb21wdCIsInNldFNob3dSZXZpZXdQcm9tcHQiLCJjb25maXJtYXRpb25FbWFpbCIsInNldENvbmZpcm1hdGlvbkVtYWlsIiwibG9nZ2luZ091dCIsInNldExvZ2dpbmdPdXQiLCJ1c2VyVGllciIsInNldFVzZXJUaWVyIiwicmVmcmVzaFRpZXIiLCJpc1ByZW1pdW1WZXJpZmllZCIsImlzVmVyaWZ5aW5nIiwiaXNUaWVyVmVyaWZ5aW5nIiwiY3VycmVudFN0cmVhayIsInVwZGF0ZVN0cmVhayIsInByb2Nlc3NRdWV1ZSIsInByb2Nlc3NTdHJlYWtRdWV1ZSIsImFkZFhQIiwicHJvY2Vzc1hQUXVldWUiLCJjaGVja0FuZFVubG9ja0JhZGdlcyIsIm5ld2x5VW5sb2NrZWRCYWRnZXMiLCJtYXJrQmFkZ2VBc1NlZW4iLCJpc0F1dGhlbnRpY2F0ZWQiLCJiYWRnZVRvYXN0UXVldWUiLCJzZXRCYWRnZVRvYXN0UXVldWUiLCJsZW5ndGgiLCJuZXdCYWRnZUlkcyIsIm1hcCIsImIiLCJpZCIsInByZXYiLCJleGlzdGluZ0lkcyIsIlNldCIsInRvQWRkIiwiZmlsdGVyIiwiaGFzIiwiaGFuZGxlQmFkZ2VUb2FzdENsb3NlIiwiZGlzbWlzc2VkQmFkZ2VJZCIsInNsaWNlIiwiY3VycmVudEJhZGdlVG9TaG93IiwiZmluZCIsInNhdmVOZXdTZXNzaW9uIiwib25ib2FyZGluZ0NvbXBsZXRlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImhhbmRsZU9uYm9hcmRpbmdGaW5pc2giLCJzZXRJdGVtIiwiRGFzaGJvYXJkIiwiaGFuZGxlU3RhcnRQcmFjdGljZSIsImNvbnNvbGUiLCJsb2ciLCJMb2dpbiIsIndhcm4iLCJjYW5TdGFydCIsIlBheXdhbGwiLCJQcmVtaXVtIiwiU2NlbmFyaW9TZWxlY3Rpb24iLCJwYXRpZW50IiwiUHJhY3RpY2UiLCJoYW5kbGVTdGFydEZpbHRlcmVkUHJhY3RpY2UiLCJmaWx0ZXJzIiwiaGFuZGxlRmluaXNoUHJhY3RpY2UiLCJ0cmFuc2NyaXB0IiwiZmVlZGJhY2siLCJlcnJvciIsIm5ld1Nlc3Npb24iLCJGZWVkYmFjayIsImhhbmRsZURvbmVGcm9tRmVlZGJhY2siLCJzZXNzaW9uQ291bnQiLCJwYXJzZUludCIsInJldmlld0Rpc21pc3NlZCIsInJlbWluZEFmdGVyQ291bnQiLCJoYW5kbGVSZXZpZXdQcm9tcHRDbG9zZSIsImNob2ljZSIsImFsZXJ0IiwidG9TdHJpbmciLCJnZW5lcmF0ZUNvYWNoaW5nU3VtbWFyeUZyb21FZGdlRnVuY3Rpb24iLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJFcnJvciIsImZ1bmN0aW9uc1VybCIsInN1cGFiYXNlIiwiYXV0aFRva2VuIiwiZGF0YSIsInNlc3Npb24iLCJzZXNzaW9uRXJyb3IiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImFjY2Vzc190b2tlbiIsImhlYWRlcnMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJjYXRjaCIsImVycm9yTWVzc2FnZSIsInN0YXR1cyIsImhhbmRsZUdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5IiwiQ29hY2hpbmdTdW1tYXJ5IiwicHJlbWl1bVNlc3Npb25zIiwicyIsInRpZXIiLCJyZXBvcnRPYmplY3QiLCJtZXNzYWdlIiwiaGFuZGxlTmF2aWdhdGUiLCJ0YXJnZXRWaWV3IiwiaGFuZGxlRW1haWxDb25maXJtYXRpb24iLCJlbWFpbCIsIkVtYWlsQ29uZmlybWF0aW9uIiwiaGFuZGxlTG9nb3V0IiwiRnJlZSIsInJlbW92ZUl0ZW0iLCJsb2dvdXRFcnJvciIsImVyciIsImhhbmRsZVVwZ3JhZGUiLCJuZXdUaWVyIiwidXBkYXRlZFRpZXIiLCJoYW5kbGVUaWVyVXBkYXRlZCIsImZhbGxiYWNrIiwib25GaW5pc2giLCJpc0F1dGhWaWV3IiwiRm9yZ290UGFzc3dvcmQiLCJSZXNldFBhc3N3b3JkIiwic2hvdWxkUmVuZGVyQXV0aFZpZXdzIiwidmlld3NXaXRoTmF2QmFyIiwiUmVzb3VyY2VMaWJyYXJ5IiwiU2V0dGluZ3MiLCJDYWxlbmRhciIsImlzUHJlbWl1bUZlZWRiYWNrIiwic2hvdWxkU2hvd05hdkJhciIsImluY2x1ZGVzIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJoZWlnaHQiLCJtYWluIiwicm9sZSIsImFyaWEtbGFiZWwiLCJvbk5hdmlnYXRlIiwib25TdGFydFByYWN0aWNlIiwib25TdGFydEZpbHRlcmVkUHJhY3RpY2UiLCJvbkZpbmlzaFByYWN0aWNlIiwib25Eb25lRnJvbUZlZWRiYWNrIiwib25VcGdyYWRlIiwib25Mb2dvdXQiLCJvbkdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5Iiwib25FbWFpbENvbmZpcm1hdGlvbiIsIm9uVGllclVwZGF0ZWQiLCJjdXJyZW50VmlldyIsIm9uQ2xvc2UiLCJiYWRnZSIsImFyaWEtbGl2ZSIsImFyaWEtYXRvbWljIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ })

});