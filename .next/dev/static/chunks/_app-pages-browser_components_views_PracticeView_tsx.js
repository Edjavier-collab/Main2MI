"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_components_views_PracticeView_tsx"],{

/***/ "(app-pages-browser)/./components/ui/Button.tsx":
/*!**********************************!*\
  !*** ./components/ui/Button.tsx ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Button = ({ children, onClick, variant = 'primary', size = 'md', fullWidth = false, disabled = false, loading = false, icon, iconPosition = 'left', className = '', type = 'button', 'aria-label': ariaLabel })=>{\n    const baseClasses = 'inline-flex items-center justify-center font-semibold rounded-none transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]';\n    const variantClasses = {\n        primary: 'bg-[var(--color-primary)] text-[var(--color-text-primary)] border-2 border-black hover:bg-[var(--color-primary-dark)] hover:border-black focus:ring-[var(--color-primary)] shadow-sm hover:shadow-md',\n        secondary: 'bg-[var(--color-bg-accent)] text-[var(--color-text-primary)] border-2 border-black hover:bg-[var(--color-primary-lighter)] focus:ring-[var(--color-primary)]',\n        ghost: 'bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-bg-accent)] border border-transparent hover:border-[var(--color-primary-light)] focus:ring-[var(--color-primary)]',\n        danger: 'bg-[var(--color-error)] text-white border-2 border-black hover:bg-[var(--color-error-dark)] focus:ring-[var(--color-error)] shadow-sm hover:shadow-md',\n        success: 'bg-[var(--color-success)] text-white border-2 border-black hover:bg-[var(--color-success-dark)] focus:ring-[var(--color-success)] shadow-sm hover:shadow-md'\n    };\n    const sizeClasses = {\n        sm: 'h-[var(--button-height-sm)] px-4 text-sm gap-2',\n        md: 'h-[var(--button-height-md)] px-6 text-base gap-2',\n        lg: 'h-[var(--button-height-lg)] px-8 text-xl gap-3'\n    };\n    const widthClass = fullWidth ? 'w-full' : '';\n    const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${widthClass} ${className}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: type,\n        onClick: onClick,\n        disabled: disabled || loading,\n        className: classes,\n        \"aria-label\": ariaLabel,\n        \"aria-busy\": loading,\n        children: [\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin\",\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 62,\n                columnNumber: 9\n            }, undefined),\n            !loading && icon && iconPosition === 'left' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-shrink-0\",\n                \"aria-hidden\": \"true\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 65,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, undefined),\n            !loading && icon && iconPosition === 'right' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-shrink-0\",\n                \"aria-hidden\": \"true\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 69,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n        lineNumber: 53,\n        columnNumber: 5\n    }, undefined);\n};\n_c = Button;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Button);\nvar _c;\n$RefreshReg$(_c, \"Button\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvQnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFpQm5CLE1BQU1DLFNBQWdDLENBQUMsRUFDNUNDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxVQUFVLFNBQVMsRUFDbkJDLE9BQU8sSUFBSSxFQUNYQyxZQUFZLEtBQUssRUFDakJDLFdBQVcsS0FBSyxFQUNoQkMsVUFBVSxLQUFLLEVBQ2ZDLElBQUksRUFDSkMsZUFBZSxNQUFNLEVBQ3JCQyxZQUFZLEVBQUUsRUFDZEMsT0FBTyxRQUFRLEVBQ2YsY0FBY0MsU0FBUyxFQUN4QjtJQUNDLE1BQU1DLGNBQWM7SUFFcEIsTUFBTUMsaUJBQWlCO1FBQ3JCQyxTQUFTO1FBQ1RDLFdBQVc7UUFDWEMsT0FBTztRQUNQQyxRQUFRO1FBQ1JDLFNBQVM7SUFDWDtJQUVBLE1BQU1DLGNBQWM7UUFDbEJDLElBQUk7UUFDSkMsSUFBSTtRQUNKQyxJQUFJO0lBQ047SUFFQSxNQUFNQyxhQUFhbkIsWUFBWSxXQUFXO0lBRTFDLE1BQU1vQixVQUFVLEdBQUdaLFlBQVksQ0FBQyxFQUFFQyxjQUFjLENBQUNYLFFBQVEsQ0FBQyxDQUFDLEVBQUVpQixXQUFXLENBQUNoQixLQUFLLENBQUMsQ0FBQyxFQUFFb0IsV0FBVyxDQUFDLEVBQUVkLFdBQVc7SUFFM0cscUJBQ0UsOERBQUNnQjtRQUNDZixNQUFNQTtRQUNOVCxTQUFTQTtRQUNUSSxVQUFVQSxZQUFZQztRQUN0QkcsV0FBV2U7UUFDWEUsY0FBWWY7UUFDWmdCLGFBQVdyQjs7WUFFVkEseUJBQ0MsOERBQUNzQjtnQkFBSW5CLFdBQVU7Z0JBQWlGb0IsZUFBWTs7Ozs7O1lBRTdHLENBQUN2QixXQUFXQyxRQUFRQyxpQkFBaUIsd0JBQ3BDLDhEQUFDc0I7Z0JBQUtyQixXQUFVO2dCQUFnQm9CLGVBQVk7MEJBQVF0Qjs7Ozs7OzBCQUV0RCw4REFBQ3VCOzBCQUFNOUI7Ozs7OztZQUNOLENBQUNNLFdBQVdDLFFBQVFDLGlCQUFpQix5QkFDcEMsOERBQUNzQjtnQkFBS3JCLFdBQVU7Z0JBQWdCb0IsZUFBWTswQkFBUXRCOzs7Ozs7Ozs7Ozs7QUFJNUQsRUFBRTtLQXZEV1I7QUF5RGIsaUVBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvQnV0dG9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgQnV0dG9uUHJvcHMge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICBvbkNsaWNrPzogKCkgPT4gdm9pZDtcbiAgdmFyaWFudD86ICdwcmltYXJ5JyB8ICdzZWNvbmRhcnknIHwgJ2dob3N0JyB8ICdkYW5nZXInIHwgJ3N1Y2Nlc3MnO1xuICBzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnO1xuICBmdWxsV2lkdGg/OiBib29sZWFuO1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIGxvYWRpbmc/OiBib29sZWFuO1xuICBpY29uPzogUmVhY3QuUmVhY3ROb2RlO1xuICBpY29uUG9zaXRpb24/OiAnbGVmdCcgfCAncmlnaHQnO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIHR5cGU/OiAnYnV0dG9uJyB8ICdzdWJtaXQnIHwgJ3Jlc2V0JztcbiAgJ2FyaWEtbGFiZWwnPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgQnV0dG9uOiBSZWFjdC5GQzxCdXR0b25Qcm9wcz4gPSAoe1xuICBjaGlsZHJlbixcbiAgb25DbGljayxcbiAgdmFyaWFudCA9ICdwcmltYXJ5JyxcbiAgc2l6ZSA9ICdtZCcsXG4gIGZ1bGxXaWR0aCA9IGZhbHNlLFxuICBkaXNhYmxlZCA9IGZhbHNlLFxuICBsb2FkaW5nID0gZmFsc2UsXG4gIGljb24sXG4gIGljb25Qb3NpdGlvbiA9ICdsZWZ0JyxcbiAgY2xhc3NOYW1lID0gJycsXG4gIHR5cGUgPSAnYnV0dG9uJyxcbiAgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsXG59KSA9PiB7XG4gIGNvbnN0IGJhc2VDbGFzc2VzID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmb250LXNlbWlib2xkIHJvdW5kZWQtbm9uZSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGFjdGl2ZTpzY2FsZS1bMC45OF0nO1xuICBcbiAgY29uc3QgdmFyaWFudENsYXNzZXMgPSB7XG4gICAgcHJpbWFyeTogJ2JnLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gYm9yZGVyLTIgYm9yZGVyLWJsYWNrIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspXSBob3Zlcjpib3JkZXItYmxhY2sgZm9jdXM6cmluZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldIHNoYWRvdy1zbSBob3ZlcjpzaGFkb3ctbWQnLFxuICAgIHNlY29uZGFyeTogJ2JnLVt2YXIoLS1jb2xvci1iZy1hY2NlbnQpXSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBib3JkZXItMiBib3JkZXItYmxhY2sgaG92ZXI6YmctW3ZhcigtLWNvbG9yLXByaW1hcnktbGlnaHRlcildIGZvY3VzOnJpbmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXScsXG4gICAgZ2hvc3Q6ICdiZy10cmFuc3BhcmVudCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBob3ZlcjpiZy1bdmFyKC0tY29sb3ItYmctYWNjZW50KV0gYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBob3Zlcjpib3JkZXItW3ZhcigtLWNvbG9yLXByaW1hcnktbGlnaHQpXSBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0nLFxuICAgIGRhbmdlcjogJ2JnLVt2YXIoLS1jb2xvci1lcnJvcildIHRleHQtd2hpdGUgYm9yZGVyLTIgYm9yZGVyLWJsYWNrIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1lcnJvci1kYXJrKV0gZm9jdXM6cmluZy1bdmFyKC0tY29sb3ItZXJyb3IpXSBzaGFkb3ctc20gaG92ZXI6c2hhZG93LW1kJyxcbiAgICBzdWNjZXNzOiAnYmctW3ZhcigtLWNvbG9yLXN1Y2Nlc3MpXSB0ZXh0LXdoaXRlIGJvcmRlci0yIGJvcmRlci1ibGFjayBob3ZlcjpiZy1bdmFyKC0tY29sb3Itc3VjY2Vzcy1kYXJrKV0gZm9jdXM6cmluZy1bdmFyKC0tY29sb3Itc3VjY2VzcyldIHNoYWRvdy1zbSBob3ZlcjpzaGFkb3ctbWQnLFxuICB9O1xuICBcbiAgY29uc3Qgc2l6ZUNsYXNzZXMgPSB7XG4gICAgc206ICdoLVt2YXIoLS1idXR0b24taGVpZ2h0LXNtKV0gcHgtNCB0ZXh0LXNtIGdhcC0yJyxcbiAgICBtZDogJ2gtW3ZhcigtLWJ1dHRvbi1oZWlnaHQtbWQpXSBweC02IHRleHQtYmFzZSBnYXAtMicsXG4gICAgbGc6ICdoLVt2YXIoLS1idXR0b24taGVpZ2h0LWxnKV0gcHgtOCB0ZXh0LXhsIGdhcC0zJyxcbiAgfTtcbiAgXG4gIGNvbnN0IHdpZHRoQ2xhc3MgPSBmdWxsV2lkdGggPyAndy1mdWxsJyA6ICcnO1xuICBcbiAgY29uc3QgY2xhc3NlcyA9IGAke2Jhc2VDbGFzc2VzfSAke3ZhcmlhbnRDbGFzc2VzW3ZhcmlhbnRdfSAke3NpemVDbGFzc2VzW3NpemVdfSAke3dpZHRoQ2xhc3N9ICR7Y2xhc3NOYW1lfWA7XG4gIFxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIHR5cGU9e3R5cGV9XG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkIHx8IGxvYWRpbmd9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzZXN9XG4gICAgICBhcmlhLWxhYmVsPXthcmlhTGFiZWx9XG4gICAgICBhcmlhLWJ1c3k9e2xvYWRpbmd9XG4gICAgPlxuICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgYm9yZGVyLTIgYm9yZGVyLWN1cnJlbnQgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICApfVxuICAgICAgeyFsb2FkaW5nICYmIGljb24gJiYgaWNvblBvc2l0aW9uID09PSAnbGVmdCcgJiYgKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+e2ljb259PC9zcGFuPlxuICAgICAgKX1cbiAgICAgIDxzcGFuPntjaGlsZHJlbn08L3NwYW4+XG4gICAgICB7IWxvYWRpbmcgJiYgaWNvbiAmJiBpY29uUG9zaXRpb24gPT09ICdyaWdodCcgJiYgKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+e2ljb259PC9zcGFuPlxuICAgICAgKX1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbjtcblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiQnV0dG9uIiwiY2hpbGRyZW4iLCJvbkNsaWNrIiwidmFyaWFudCIsInNpemUiLCJmdWxsV2lkdGgiLCJkaXNhYmxlZCIsImxvYWRpbmciLCJpY29uIiwiaWNvblBvc2l0aW9uIiwiY2xhc3NOYW1lIiwidHlwZSIsImFyaWFMYWJlbCIsImJhc2VDbGFzc2VzIiwidmFyaWFudENsYXNzZXMiLCJwcmltYXJ5Iiwic2Vjb25kYXJ5IiwiZ2hvc3QiLCJkYW5nZXIiLCJzdWNjZXNzIiwic2l6ZUNsYXNzZXMiLCJzbSIsIm1kIiwibGciLCJ3aWR0aENsYXNzIiwiY2xhc3NlcyIsImJ1dHRvbiIsImFyaWEtbGFiZWwiLCJhcmlhLWJ1c3kiLCJkaXYiLCJhcmlhLWhpZGRlbiIsInNwYW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/Button.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/ChatBubble.tsx":
/*!**************************************!*\
  !*** ./components/ui/ChatBubble.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst ChatBubble = ({ message, isTyping = false })=>{\n    const isUser = message.author === 'user';\n    const bubbleClasses = isUser ? 'text-white self-end rounded-l-xl rounded-t-xl' : 'bg-neutral-200 text-neutral-800 self-start rounded-r-xl rounded-t-xl';\n    const typingIndicator = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center space-x-1\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-2 h-2 bg-neutral-400 rounded-full animate-bounce [animation-delay:-0.3s]\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/ChatBubble.tsx\",\n                lineNumber: 19,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-2 h-2 bg-neutral-400 rounded-full animate-bounce [animation-delay:-0.15s]\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/ChatBubble.tsx\",\n                lineNumber: 20,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-2 h-2 bg-neutral-400 rounded-full animate-bounce\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/ChatBubble.tsx\",\n                lineNumber: 21,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/ChatBubble.tsx\",\n        lineNumber: 18,\n        columnNumber: 9\n    }, undefined);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `flex ${isUser ? 'justify-end' : 'justify-start'} animate-slide-fade-in`,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `max-w-xs md:max-w-md lg:max-w-lg px-4 py-3 shadow-sm ${bubbleClasses}`,\n            style: isUser ? {\n                backgroundColor: '#7FD4C1'\n            } : undefined,\n            children: isTyping ? typingIndicator : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"whitespace-pre-wrap\",\n                children: message.text\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/ChatBubble.tsx\",\n                lineNumber: 31,\n                columnNumber: 47\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/ChatBubble.tsx\",\n            lineNumber: 27,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/ChatBubble.tsx\",\n        lineNumber: 26,\n        columnNumber: 9\n    }, undefined);\n};\n_c = ChatBubble;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatBubble);\nvar _c;\n$RefreshReg$(_c, \"ChatBubble\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvQ2hhdEJ1YmJsZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDMEI7QUFRMUIsTUFBTUMsYUFBd0MsQ0FBQyxFQUFFQyxPQUFPLEVBQUVDLFdBQVcsS0FBSyxFQUFFO0lBQ3hFLE1BQU1DLFNBQVNGLFFBQVFHLE1BQU0sS0FBSztJQUVsQyxNQUFNQyxnQkFBZ0JGLFNBQ2hCLGtEQUNBO0lBRU4sTUFBTUcsZ0NBQ0YsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDRDtnQkFBSUMsV0FBVTs7Ozs7OzBCQUNmLDhEQUFDRDtnQkFBSUMsV0FBVTs7Ozs7OzBCQUNmLDhEQUFDRDtnQkFBSUMsV0FBVTs7Ozs7Ozs7Ozs7O0lBSXZCLHFCQUNJLDhEQUFDRDtRQUFJQyxXQUFXLENBQUMsS0FBSyxFQUFFTCxTQUFTLGdCQUFnQixnQkFBZ0Isc0JBQXNCLENBQUM7a0JBQ3BGLDRFQUFDSTtZQUNHQyxXQUFXLENBQUMscURBQXFELEVBQUVILGVBQWU7WUFDbEZJLE9BQU9OLFNBQVM7Z0JBQUVPLGlCQUFpQjtZQUFVLElBQUlDO3NCQUVoRFQsV0FBV0ksZ0NBQWtCLDhEQUFDTTtnQkFBRUosV0FBVTswQkFBdUJQLFFBQVFZLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJOUY7S0F6Qk1iO0FBMkJOLGlFQUFlQSxVQUFVQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0NoYXRCdWJibGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENoYXRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgQ2hhdEJ1YmJsZVByb3BzIHtcbiAgICBtZXNzYWdlOiBDaGF0TWVzc2FnZTtcbiAgICBpc1R5cGluZz86IGJvb2xlYW47XG59XG5cbmNvbnN0IENoYXRCdWJibGU6IFJlYWN0LkZDPENoYXRCdWJibGVQcm9wcz4gPSAoeyBtZXNzYWdlLCBpc1R5cGluZyA9IGZhbHNlIH0pID0+IHtcbiAgICBjb25zdCBpc1VzZXIgPSBtZXNzYWdlLmF1dGhvciA9PT0gJ3VzZXInO1xuXG4gICAgY29uc3QgYnViYmxlQ2xhc3NlcyA9IGlzVXNlclxuICAgICAgICA/ICd0ZXh0LXdoaXRlIHNlbGYtZW5kIHJvdW5kZWQtbC14bCByb3VuZGVkLXQteGwnXG4gICAgICAgIDogJ2JnLW5ldXRyYWwtMjAwIHRleHQtbmV1dHJhbC04MDAgc2VsZi1zdGFydCByb3VuZGVkLXIteGwgcm91bmRlZC10LXhsJztcblxuICAgIGNvbnN0IHR5cGluZ0luZGljYXRvciA9IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1uZXV0cmFsLTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2UgW2FuaW1hdGlvbi1kZWxheTotMC4zc11cIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1uZXV0cmFsLTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2UgW2FuaW1hdGlvbi1kZWxheTotMC4xNXNdXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctbmV1dHJhbC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXggJHtpc1VzZXIgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfSBhbmltYXRlLXNsaWRlLWZhZGUtaW5gfT5cbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWF4LXcteHMgbWQ6bWF4LXctbWQgbGc6bWF4LXctbGcgcHgtNCBweS0zIHNoYWRvdy1zbSAke2J1YmJsZUNsYXNzZXN9YH1cbiAgICAgICAgICAgICAgICBzdHlsZT17aXNVc2VyID8geyBiYWNrZ3JvdW5kQ29sb3I6ICcjN0ZENEMxJyB9IDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtpc1R5cGluZyA/IHR5cGluZ0luZGljYXRvciA6IDxwIGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXBcIj57bWVzc2FnZS50ZXh0fTwvcD59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENoYXRCdWJibGU7Il0sIm5hbWVzIjpbIlJlYWN0IiwiQ2hhdEJ1YmJsZSIsIm1lc3NhZ2UiLCJpc1R5cGluZyIsImlzVXNlciIsImF1dGhvciIsImJ1YmJsZUNsYXNzZXMiLCJ0eXBpbmdJbmRpY2F0b3IiLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInVuZGVmaW5lZCIsInAiLCJ0ZXh0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/ChatBubble.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/PatientProfileCard.tsx":
/*!**********************************************!*\
  !*** ./components/ui/PatientProfileCard.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ \"(app-pages-browser)/./types.ts\");\n\n\n\n// Personality trait display configuration\nconst PERSONALITY_TRAIT_LABELS = {\n    defensive: {\n        label: 'Defensive',\n        icon: 'fa-shield',\n        colorClass: 'bg-red-100 text-red-700'\n    },\n    emotional: {\n        label: 'Emotional',\n        icon: 'fa-heart',\n        colorClass: 'bg-pink-100 text-pink-700'\n    },\n    reserved: {\n        label: 'Reserved',\n        icon: 'fa-lock',\n        colorClass: 'bg-slate-100 text-slate-700'\n    },\n    talkative: {\n        label: 'Talkative',\n        icon: 'fa-comments',\n        colorClass: 'bg-blue-100 text-blue-700'\n    },\n    intellectualizer: {\n        label: 'Intellectualizer',\n        icon: 'fa-brain',\n        colorClass: 'bg-purple-100 text-purple-700'\n    },\n    pleaser: {\n        label: 'People Pleaser',\n        icon: 'fa-handshake',\n        colorClass: 'bg-green-100 text-green-700'\n    }\n};\nconst InfoSection = ({ icon, title, children, colorClassName })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: `text-sm font-semibold ${colorClassName} uppercase flex items-center mb-2`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: `fa-solid ${icon} w-6 text-center mr-2`\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 13\n                    }, undefined),\n                    title\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                lineNumber: 30,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-neutral-700 space-y-2 pl-8\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                lineNumber: 34,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n        lineNumber: 29,\n        columnNumber: 5\n    }, undefined);\n_c = InfoSection;\nconst stageColors = {\n    [_types__WEBPACK_IMPORTED_MODULE_2__.StageOfChange.Precontemplation]: 'bg-error-light text-error-dark',\n    [_types__WEBPACK_IMPORTED_MODULE_2__.StageOfChange.Contemplation]: 'bg-warning-light text-warning-dark',\n    [_types__WEBPACK_IMPORTED_MODULE_2__.StageOfChange.Preparation]: 'bg-info-light text-info-dark',\n    [_types__WEBPACK_IMPORTED_MODULE_2__.StageOfChange.Action]: 'bg-success-light text-success-dark',\n    [_types__WEBPACK_IMPORTED_MODULE_2__.StageOfChange.Maintenance]: 'bg-primary-lighter text-primary-darker'\n};\nconst PatientProfileCard = ({ patient, userTier, onUpgrade })=>{\n    const isFreeTier = userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Free;\n    const abbreviate = (text)=>{\n        const sentences = text.split('.');\n        if (sentences.length > 1 && sentences[0]) {\n            return sentences[0] + '.';\n        }\n        return text;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white border border-neutral-200 rounded-2xl w-full max-w-2xl mx-auto shadow-sm overflow-hidden tile-hover\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex items-center justify-between p-6 border-b border-neutral-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-2xl font-bold text-neutral-900\",\n                                children: patient.name\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                lineNumber: 65,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-neutral-500\",\n                                children: [\n                                    patient.age,\n                                    \", \",\n                                    patient.sex\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                lineNumber: 66,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                        lineNumber: 64,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col items-end gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `px-3 py-1 text-sm font-bold rounded-full ${stageColors[patient.stageOfChange]}`,\n                                children: patient.stageOfChange\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                lineNumber: 69,\n                                columnNumber: 21\n                            }, undefined),\n                            patient.personalityTrait && PERSONALITY_TRAIT_LABELS[patient.personalityTrait] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `px-2 py-0.5 text-xs font-medium rounded-full flex items-center gap-1 ${PERSONALITY_TRAIT_LABELS[patient.personalityTrait].colorClass}`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: `fa-solid ${PERSONALITY_TRAIT_LABELS[patient.personalityTrait].icon} text-[10px]`,\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                        lineNumber: 74,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    PERSONALITY_TRAIT_LABELS[patient.personalityTrait].label\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                lineNumber: 73,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                        lineNumber: 68,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                lineNumber: 63,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"py-6 px-6 space-y-6\",\n                children: [\n                    !isFreeTier && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoSection, {\n                        icon: \"fa-user\",\n                        title: \"Background\",\n                        colorClassName: \"text-teal-600\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: patient.background\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                            lineNumber: 84,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                        lineNumber: 83,\n                        columnNumber: 21\n                    }, undefined),\n                    !isFreeTier && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoSection, {\n                        icon: \"fa-clipboard-question\",\n                        title: \"Presenting Problem\",\n                        colorClassName: \"text-amber-600\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: patient.presentingProblem\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 26\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                        lineNumber: 89,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InfoSection, {\n                        icon: \"fa-file-waveform\",\n                        title: \"Relevant History\",\n                        colorClassName: \"text-sky-600\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: isFreeTier ? abbreviate(patient.history) : patient.history\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                            lineNumber: 95,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                        lineNumber: 94,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-sm font-semibold text-indigo-600 uppercase flex items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-quote-left w-6 text-center mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                        lineNumber: 100,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    \"Chief Complaint\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                lineNumber: 99,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"blockquote\", {\n                                className: \"border-l-4 border-indigo-500 bg-indigo-50 p-4 rounded-r-lg ml-8\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-neutral-800 italic leading-relaxed\",\n                                    children: [\n                                        '\"',\n                                        patient.chiefComplaint,\n                                        '\"'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                    lineNumber: 104,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                                lineNumber: 103,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                        lineNumber: 98,\n                        columnNumber: 18\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                lineNumber: 81,\n                columnNumber: 13\n            }, undefined),\n            isFreeTier && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                className: `bg-neutral-50 border-t border-neutral-200 px-6 py-4 text-center ${onUpgrade ? 'cursor-pointer hover:bg-neutral-100 transition-colors' : ''}`,\n                onClick: onUpgrade,\n                role: onUpgrade ? 'button' : undefined,\n                tabIndex: onUpgrade ? 0 : undefined,\n                onKeyDown: onUpgrade ? (e)=>{\n                    if (e.key === 'Enter' || e.key === ' ') {\n                        e.preventDefault();\n                        onUpgrade();\n                    }\n                } : undefined,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fa-solid fa-lock text-neutral-400 mr-3\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                            lineNumber: 123,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm font-medium text-neutral-600\",\n                            children: \"Upgrade to Premium to view the patient's complete profile.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                            lineNumber: 124,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                    lineNumber: 122,\n                    columnNumber: 21\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n                lineNumber: 110,\n                columnNumber: 17\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/PatientProfileCard.tsx\",\n        lineNumber: 61,\n        columnNumber: 9\n    }, undefined);\n};\n_c1 = PatientProfileCard;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PatientProfileCard);\nvar _c, _c1;\n$RefreshReg$(_c, \"InfoSection\");\n$RefreshReg$(_c1, \"PatientProfileCard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvUGF0aWVudFByb2ZpbGVDYXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDMEI7QUFDOEQ7QUFReEYsMENBQTBDO0FBQzFDLE1BQU1HLDJCQUEwRztJQUM1R0MsV0FBVztRQUFFQyxPQUFPO1FBQWFDLE1BQU07UUFBYUMsWUFBWTtJQUEwQjtJQUMxRkMsV0FBVztRQUFFSCxPQUFPO1FBQWFDLE1BQU07UUFBWUMsWUFBWTtJQUE0QjtJQUMzRkUsVUFBVTtRQUFFSixPQUFPO1FBQVlDLE1BQU07UUFBV0MsWUFBWTtJQUE4QjtJQUMxRkcsV0FBVztRQUFFTCxPQUFPO1FBQWFDLE1BQU07UUFBZUMsWUFBWTtJQUE0QjtJQUM5Rkksa0JBQWtCO1FBQUVOLE9BQU87UUFBb0JDLE1BQU07UUFBWUMsWUFBWTtJQUFnQztJQUM3R0ssU0FBUztRQUFFUCxPQUFPO1FBQWtCQyxNQUFNO1FBQWdCQyxZQUFZO0lBQThCO0FBQ3hHO0FBU0EsTUFBTU0sY0FBMEMsQ0FBQyxFQUFFUCxJQUFJLEVBQUVRLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxjQUFjLEVBQUUsaUJBQ3RGLDhEQUFDQzs7MEJBQ0csOERBQUNDO2dCQUFHQyxXQUFXLENBQUMsc0JBQXNCLEVBQUVILGVBQWUsaUNBQWlDLENBQUM7O2tDQUNyRiw4REFBQ0k7d0JBQUVELFdBQVcsQ0FBQyxTQUFTLEVBQUViLEtBQUsscUJBQXFCLENBQUM7Ozs7OztvQkFDcERROzs7Ozs7OzBCQUVMLDhEQUFDRztnQkFBSUUsV0FBVTswQkFDVko7Ozs7Ozs7Ozs7OztLQVBQRjtBQVlOLE1BQU1RLGNBQTZDO0lBQy9DLENBQUNwQixpREFBYUEsQ0FBQ3FCLGdCQUFnQixDQUFDLEVBQUU7SUFDbEMsQ0FBQ3JCLGlEQUFhQSxDQUFDc0IsYUFBYSxDQUFDLEVBQUU7SUFDL0IsQ0FBQ3RCLGlEQUFhQSxDQUFDdUIsV0FBVyxDQUFDLEVBQUU7SUFDN0IsQ0FBQ3ZCLGlEQUFh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QUssV0FBV0QsRUFBRUMsR0FBRyxLQUFLLEtBQUs7d0JBQ3BDRCxFQUFFRSxjQUFjO3dCQUNoQi9CO29CQUNKO2dCQUNKLElBQUkwQjswQkFFSiw0RUFBQ3ZDO29CQUFJRSxXQUFVOztzQ0FDWCw4REFBQ0M7NEJBQUVELFdBQVU7Ozs7OztzQ0FDYiw4REFBQ3NCOzRCQUFFdEIsV0FBVTtzQ0FBdUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUTVFO01BbkZNUTtBQXFGTixpRUFBZUEsa0JBQWtCQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL1BhdGllbnRQcm9maWxlQ2FyZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUGF0aWVudFByb2ZpbGUsIFN0YWdlT2ZDaGFuZ2UsIFVzZXJUaWVyLCBQZXJzb25hbGl0eVRyYWl0IH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgUGF0aWVudFByb2ZpbGVDYXJkUHJvcHMge1xuICAgIHBhdGllbnQ6IFBhdGllbnRQcm9maWxlO1xuICAgIHVzZXJUaWVyPzogVXNlclRpZXI7XG4gICAgb25VcGdyYWRlPzogKCkgPT4gdm9pZDtcbn1cblxuLy8gUGVyc29uYWxpdHkgdHJhaXQgZGlzcGxheSBjb25maWd1cmF0aW9uXG5jb25zdCBQRVJTT05BTElUWV9UUkFJVF9MQUJFTFM6IFJlY29yZDxQZXJzb25hbGl0eVRyYWl0LCB7IGxhYmVsOiBzdHJpbmc7IGljb246IHN0cmluZzsgY29sb3JDbGFzczogc3RyaW5nIH0+ID0ge1xuICAgIGRlZmVuc2l2ZTogeyBsYWJlbDogJ0RlZmVuc2l2ZScsIGljb246ICdmYS1zaGllbGQnLCBjb2xvckNsYXNzOiAnYmctcmVkLTEwMCB0ZXh0LXJlZC03MDAnIH0sXG4gICAgZW1vdGlvbmFsOiB7IGxhYmVsOiAnRW1vdGlvbmFsJywgaWNvbjogJ2ZhLWhlYXJ0JywgY29sb3JDbGFzczogJ2JnLXBpbmstMTAwIHRleHQtcGluay03MDAnIH0sXG4gICAgcmVzZXJ2ZWQ6IHsgbGFiZWw6ICdSZXNlcnZlZCcsIGljb246ICdmYS1sb2NrJywgY29sb3JDbGFzczogJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTcwMCcgfSxcbiAgICB0YWxrYXRpdmU6IHsgbGFiZWw6ICdUYWxrYXRpdmUnLCBpY29uOiAnZmEtY29tbWVudHMnLCBjb2xvckNsYXNzOiAnYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTcwMCcgfSxcbiAgICBpbnRlbGxlY3R1YWxpemVyOiB7IGxhYmVsOiAnSW50ZWxsZWN0dWFsaXplcicsIGljb246ICdmYS1icmFpbicsIGNvbG9yQ2xhc3M6ICdiZy1wdXJwbGUtMTAwIHRleHQtcHVycGxlLTcwMCcgfSxcbiAgICBwbGVhc2VyOiB7IGxhYmVsOiAnUGVvcGxlIFBsZWFzZXInLCBpY29uOiAnZmEtaGFuZHNoYWtlJywgY29sb3JDbGFzczogJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTcwMCcgfSxcbn07XG5cbmludGVyZmFjZSBJbmZvU2VjdGlvblByb3BzIHtcbiAgICBpY29uOiBzdHJpbmc7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICAgIGNvbG9yQ2xhc3NOYW1lOiBzdHJpbmc7XG59XG5cbmNvbnN0IEluZm9TZWN0aW9uOiBSZWFjdC5GQzxJbmZvU2VjdGlvblByb3BzPiA9ICh7IGljb24sIHRpdGxlLCBjaGlsZHJlbiwgY29sb3JDbGFzc05hbWUgfSkgPT4gKFxuICAgIDxkaXY+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9e2B0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgJHtjb2xvckNsYXNzTmFtZX0gdXBwZXJjYXNlIGZsZXggaXRlbXMtY2VudGVyIG1iLTJgfT5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17YGZhLXNvbGlkICR7aWNvbn0gdy02IHRleHQtY2VudGVyIG1yLTJgfT48L2k+XG4gICAgICAgICAgICB7dGl0bGV9XG4gICAgICAgIDwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1uZXV0cmFsLTcwMCBzcGFjZS15LTIgcGwtOFwiPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbik7XG5cbmNvbnN0IHN0YWdlQ29sb3JzOiBSZWNvcmQ8U3RhZ2VPZkNoYW5nZSwgc3RyaW5nPiA9IHtcbiAgICBbU3RhZ2VPZkNoYW5nZS5QcmVjb250ZW1wbGF0aW9uXTogJ2JnLWVycm9yLWxpZ2h0IHRleHQtZXJyb3ItZGFyaycsXG4gICAgW1N0YWdlT2ZDaGFuZ2UuQ29udGVtcGxhdGlvbl06ICdiZy13YXJuaW5nLWxpZ2h0IHRleHQtd2FybmluZy1kYXJrJyxcbiAgICBbU3RhZ2VPZkNoYW5nZS5QcmVwYXJhdGlvbl06ICdiZy1pbmZvLWxpZ2h0IHRleHQtaW5mby1kYXJrJyxcbiAgICBbU3RhZ2VPZkNoYW5nZS5BY3Rpb25dOiAnYmctc3VjY2Vzcy1saWdodCB0ZXh0LXN1Y2Nlc3MtZGFyaycsXG4gICAgW1N0YWdlT2ZDaGFuZ2UuTWFpbnRlbmFuY2VdOiAnYmctcHJpbWFyeS1saWdodGVyIHRleHQtcHJpbWFyeS1kYXJrZXInLFxufTtcblxuXG5jb25zdCBQYXRpZW50UHJvZmlsZUNhcmQ6IFJlYWN0LkZDPFBhdGllbnRQcm9maWxlQ2FyZFByb3BzPiA9ICh7IHBhdGllbnQsIHVzZXJUaWVyLCBvblVwZ3JhZGUgfSkgPT4ge1xuICAgIGNvbnN0IGlzRnJlZVRpZXIgPSB1c2VyVGllciA9PT0gVXNlclRpZXIuRnJlZTtcblxuICAgIGNvbnN0IGFiYnJldmlhdGUgPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgY29uc3Qgc2VudGVuY2VzID0gdGV4dC5zcGxpdCgnLicpO1xuICAgICAgICBpZiAoc2VudGVuY2VzLmxlbmd0aCA+IDEgJiYgc2VudGVuY2VzWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VudGVuY2VzWzBdICsgJy4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGJvcmRlciBib3JkZXItbmV1dHJhbC0yMDAgcm91bmRlZC0yeGwgdy1mdWxsIG1heC13LTJ4bCBteC1hdXRvIHNoYWRvdy1zbSBvdmVyZmxvdy1oaWRkZW4gdGlsZS1ob3ZlclwiPlxuICAgICAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNiBib3JkZXItYiBib3JkZXItbmV1dHJhbC0yMDBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtbmV1dHJhbC05MDBcIj57cGF0aWVudC5uYW1lfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbmV1dHJhbC01MDBcIj57cGF0aWVudC5hZ2V9LCB7cGF0aWVudC5zZXh9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1lbmQgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BweC0zIHB5LTEgdGV4dC1zbSBmb250LWJvbGQgcm91bmRlZC1mdWxsICR7c3RhZ2VDb2xvcnNbcGF0aWVudC5zdGFnZU9mQ2hhbmdlXX1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwYXRpZW50LnN0YWdlT2ZDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7cGF0aWVudC5wZXJzb25hbGl0eVRyYWl0ICYmIFBFUlNPTkFMSVRZX1RSQUlUX0xBQkVMU1twYXRpZW50LnBlcnNvbmFsaXR5VHJhaXRdICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcHgtMiBweS0wLjUgdGV4dC14cyBmb250LW1lZGl1bSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgJHtQRVJTT05BTElUWV9UUkFJVF9MQUJFTFNbcGF0aWVudC5wZXJzb25hbGl0eVRyYWl0XS5jb2xvckNsYXNzfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17YGZhLXNvbGlkICR7UEVSU09OQUxJVFlfVFJBSVRfTEFCRUxTW3BhdGllbnQucGVyc29uYWxpdHlUcmFpdF0uaWNvbn0gdGV4dC1bMTBweF1gfSBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1BFUlNPTkFMSVRZX1RSQUlUX0xBQkVMU1twYXRpZW50LnBlcnNvbmFsaXR5VHJhaXRdLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwicHktNiBweC02IHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgIHshaXNGcmVlVGllciAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxJbmZvU2VjdGlvbiBpY29uPVwiZmEtdXNlclwiIHRpdGxlPVwiQmFja2dyb3VuZFwiIGNvbG9yQ2xhc3NOYW1lPVwidGV4dC10ZWFsLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3BhdGllbnQuYmFja2dyb3VuZH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvSW5mb1NlY3Rpb24+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHshaXNGcmVlVGllciAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxJbmZvU2VjdGlvbiBpY29uPVwiZmEtY2xpcGJvYXJkLXF1ZXN0aW9uXCIgdGl0bGU9XCJQcmVzZW50aW5nIFByb2JsZW1cIiBjb2xvckNsYXNzTmFtZT1cInRleHQtYW1iZXItNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3BhdGllbnQucHJlc2VudGluZ1Byb2JsZW19PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L0luZm9TZWN0aW9uPlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICA8SW5mb1NlY3Rpb24gaWNvbj1cImZhLWZpbGUtd2F2ZWZvcm1cIiB0aXRsZT1cIlJlbGV2YW50IEhpc3RvcnlcIiBjb2xvckNsYXNzTmFtZT1cInRleHQtc2t5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8cD57aXNGcmVlVGllciA/IGFiYnJldmlhdGUocGF0aWVudC5oaXN0b3J5KSA6IHBhdGllbnQuaGlzdG9yeX08L3A+XG4gICAgICAgICAgICAgICAgPC9JbmZvU2VjdGlvbj5cblxuICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtaW5kaWdvLTYwMCB1cHBlcmNhc2UgZmxleCBpdGVtcy1jZW50ZXIgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtcXVvdGUtbGVmdCB3LTYgdGV4dC1jZW50ZXIgbXItMlwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIENoaWVmIENvbXBsYWludFxuICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8YmxvY2txdW90ZSBjbGFzc05hbWU9XCJib3JkZXItbC00IGJvcmRlci1pbmRpZ28tNTAwIGJnLWluZGlnby01MCBwLTQgcm91bmRlZC1yLWxnIG1sLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbmV1dHJhbC04MDAgaXRhbGljIGxlYWRpbmctcmVsYXhlZFwiPlwie3BhdGllbnQuY2hpZWZDb21wbGFpbnR9XCI8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvYmxvY2txdW90ZT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbWFpbj5cblxuICAgICAgICAgICAge2lzRnJlZVRpZXIgJiYgKFxuICAgICAgICAgICAgICAgIDxmb290ZXIgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGJnLW5ldXRyYWwtNTAgYm9yZGVyLXQgYm9yZGVyLW5ldXRyYWwtMjAwIHB4LTYgcHktNCB0ZXh0LWNlbnRlciAke29uVXBncmFkZSA/ICdjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1uZXV0cmFsLTEwMCB0cmFuc2l0aW9uLWNvbG9ycycgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblVwZ3JhZGV9XG4gICAgICAgICAgICAgICAgICAgIHJvbGU9e29uVXBncmFkZSA/ICdidXR0b24nIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD17b25VcGdyYWRlID8gMCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXtvblVwZ3JhZGUgPyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGdyYWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1sb2NrIHRleHQtbmV1dHJhbC00MDAgbXItM1wiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1uZXV0cmFsLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZ3JhZGUgdG8gUHJlbWl1bSB0byB2aWV3IHRoZSBwYXRpZW50J3MgY29tcGxldGUgcHJvZmlsZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGF0aWVudFByb2ZpbGVDYXJkO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU3RhZ2VPZkNoYW5nZSIsIlVzZXJUaWVyIiwiUEVSU09OQUxJVFlfVFJBSVRfTEFCRUxTIiwiZGVmZW5zaXZlIiwibGFiZWwiLCJpY29uIiwiY29sb3JDbGFzcyIsImVtb3Rpb25hbCIsInJlc2VydmVkIiwidGFsa2F0aXZlIiwiaW50ZWxsZWN0dWFsaXplciIsInBsZWFzZXIiLCJJbmZvU2VjdGlvbiIsInRpdGxlIiwiY2hpbGRyZW4iLCJjb2xvckNsYXNzTmFtZSIsImRpdiIsImgzIiwiY2xhc3NOYW1lIiwiaSIsInN0YWdlQ29sb3JzIiwiUHJlY29udGVtcGxhdGlvbiIsIkNvbnRlbXBsYXRpb24iLCJQcmVwYXJhdGlvbiIsIkFjdGlvbiIsIk1haW50ZW5hbmNlIiwiUGF0aWVudFByb2ZpbGVDYXJkIiwicGF0aWVudCIsInVzZXJUaWVyIiwib25VcGdyYWRlIiwiaXNGcmVlVGllciIsIkZyZWUiLCJhYmJyZXZpYXRlIiwidGV4dCIsInNlbnRlbmNlcyIsInNwbGl0IiwibGVuZ3RoIiwiaGVhZGVyIiwiaDIiLCJuYW1lIiwicCIsImFnZSIsInNleCIsInN0YWdlT2ZDaGFuZ2UiLCJwZXJzb25hbGl0eVRyYWl0IiwiYXJpYS1oaWRkZW4iLCJtYWluIiwiYmFja2dyb3VuZCIsInByZXNlbnRpbmdQcm9ibGVtIiwiaGlzdG9yeSIsImJsb2NrcXVvdGUiLCJjaGllZkNvbXBsYWludCIsImZvb3RlciIsIm9uQ2xpY2siLCJyb2xlIiwidW5kZWZpbmVkIiwidGFiSW5kZXgiLCJvbktleURvd24iLCJlIiwia2V5IiwicHJldmVudERlZmF1bHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/PatientProfileCard.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/Timer.tsx":
/*!*********************************!*\
  !*** ./components/ui/Timer.tsx ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$();\n\nconst Timer = ({ initialSeconds, onTimeUp })=>{\n    _s();\n    const [seconds, setSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialSeconds);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Timer.useEffect\": ()=>{\n            if (seconds <= 0) {\n                onTimeUp();\n                return;\n            }\n            const timerId = setInterval({\n                \"Timer.useEffect.timerId\": ()=>{\n                    setSeconds({\n                        \"Timer.useEffect.timerId\": (prevSeconds)=>prevSeconds - 1\n                    }[\"Timer.useEffect.timerId\"]);\n                }\n            }[\"Timer.useEffect.timerId\"], 1000);\n            return ({\n                \"Timer.useEffect\": ()=>clearInterval(timerId)\n            })[\"Timer.useEffect\"];\n        }\n    }[\"Timer.useEffect\"], [\n        seconds,\n        onTimeUp\n    ]);\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    const isUrgent = seconds <= 30;\n    const timeColor = isUrgent ? 'text-[var(--color-error)]' : 'text-[var(--color-text-primary)]';\n    const urgentAnimation = isUrgent ? 'animate-pulse' : '';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `font-mono text-lg font-bold transition-colors duration-300 ${timeColor} ${urgentAnimation}`,\n        role: \"timer\",\n        \"aria-live\": isUrgent ? 'polite' : 'off',\n        \"aria-label\": `${minutes} minutes and ${remainingSeconds} seconds remaining${isUrgent ? '. Time is running low!' : ''}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                className: `far fa-clock mr-2 ${isUrgent ? 'text-[var(--color-error)]' : ''}`,\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Timer.tsx\",\n                lineNumber: 39,\n                columnNumber: 13\n            }, undefined),\n            String(minutes).padStart(2, '0'),\n            \":\",\n            String(remainingSeconds).padStart(2, '0')\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Timer.tsx\",\n        lineNumber: 33,\n        columnNumber: 9\n    }, undefined);\n};\n_s(Timer, \"JuHr0lsvC5Z8R0UztEpC8vyLrfA=\");\n_c = Timer;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Timer);\nvar _c;\n$RefreshReg$(_c, \"Timer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvVGltZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNtRDtBQU9uRCxNQUFNRyxRQUE4QixDQUFDLEVBQUVDLGNBQWMsRUFBRUMsUUFBUSxFQUFFOztJQUM3RCxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR04sK0NBQVFBLENBQUNHO0lBRXZDRixnREFBU0E7MkJBQUM7WUFDTixJQUFJSSxXQUFXLEdBQUc7Z0JBQ2REO2dCQUNBO1lBQ0o7WUFFQSxNQUFNRyxVQUFVQzsyQ0FBWTtvQkFDeEJGO21EQUFXRyxDQUFBQSxjQUFlQSxjQUFjOztnQkFDNUM7MENBQUc7WUFFSDttQ0FBTyxJQUFNQyxjQUFjSDs7UUFDL0I7MEJBQUc7UUFBQ0Y7UUFBU0Q7S0FBUztJQUV0QixNQUFNTyxVQUFVQyxLQUFLQyxLQUFLLENBQUNSLFVBQVU7SUFDckMsTUFBTVMsbUJBQW1CVCxVQUFVO0lBRW5DLE1BQU1VLFdBQVdWLFdBQVc7SUFDNUIsTUFBTVcsWUFBWUQsV0FBVyw4QkFBOEI7SUFDM0QsTUFBTUUsa0JBQWtCRixXQUFXLGtCQUFrQjtJQUVyRCxxQkFDSSw4REFBQ0c7UUFDR0MsV0FBVyxDQUFDLDJEQUEyRCxFQUFFSCxVQUFVLENBQUMsRUFBRUMsaUJBQWlCO1FBQ3ZHRyxNQUFLO1FBQ0xDLGFBQVdOLFdBQVcsV0FBVztRQUNqQ08sY0FBWSxHQUFHWCxRQUFRLGFBQWEsRUFBRUcsaUJBQWlCLGtCQUFrQixFQUFFQyxXQUFXLDJCQUEyQixJQUFJOzswQkFFckgsOERBQUNRO2dCQUFFSixXQUFXLENBQUMsa0JBQWtCLEVBQUVKLFdBQVcsOEJBQThCLElBQUk7Z0JBQUVTLGVBQVk7Ozs7OztZQUM3RkMsT0FBT2QsU0FBU2UsUUFBUSxDQUFDLEdBQUc7WUFBSztZQUFFRCxPQUFPWCxrQkFBa0JZLFFBQVEsQ0FBQyxHQUFHOzs7Ozs7O0FBR3JGO0dBbENNeEI7S0FBQUE7QUFvQ04saUVBQWVBLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvVGltZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBUaW1lclByb3BzIHtcbiAgICBpbml0aWFsU2Vjb25kczogbnVtYmVyO1xuICAgIG9uVGltZVVwOiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBUaW1lcjogUmVhY3QuRkM8VGltZXJQcm9wcz4gPSAoeyBpbml0aWFsU2Vjb25kcywgb25UaW1lVXAgfSkgPT4ge1xuICAgIGNvbnN0IFtzZWNvbmRzLCBzZXRTZWNvbmRzXSA9IHVzZVN0YXRlKGluaXRpYWxTZWNvbmRzKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzZWNvbmRzIDw9IDApIHtcbiAgICAgICAgICAgIG9uVGltZVVwKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aW1lcklkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgc2V0U2Vjb25kcyhwcmV2U2Vjb25kcyA9PiBwcmV2U2Vjb25kcyAtIDEpO1xuICAgICAgICB9LCAxMDAwKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICB9LCBbc2Vjb25kcywgb25UaW1lVXBdKTtcblxuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IHNlY29uZHMgJSA2MDtcblxuICAgIGNvbnN0IGlzVXJnZW50ID0gc2Vjb25kcyA8PSAzMDtcbiAgICBjb25zdCB0aW1lQ29sb3IgPSBpc1VyZ2VudCA/ICd0ZXh0LVt2YXIoLS1jb2xvci1lcnJvcildJyA6ICd0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSc7XG4gICAgY29uc3QgdXJnZW50QW5pbWF0aW9uID0gaXNVcmdlbnQgPyAnYW5pbWF0ZS1wdWxzZScgOiAnJztcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Bmb250LW1vbm8gdGV4dC1sZyBmb250LWJvbGQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMzAwICR7dGltZUNvbG9yfSAke3VyZ2VudEFuaW1hdGlvbn1gfVxuICAgICAgICAgICAgcm9sZT1cInRpbWVyXCJcbiAgICAgICAgICAgIGFyaWEtbGl2ZT17aXNVcmdlbnQgPyAncG9saXRlJyA6ICdvZmYnfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD17YCR7bWludXRlc30gbWludXRlcyBhbmQgJHtyZW1haW5pbmdTZWNvbmRzfSBzZWNvbmRzIHJlbWFpbmluZyR7aXNVcmdlbnQgPyAnLiBUaW1lIGlzIHJ1bm5pbmcgbG93IScgOiAnJ31gfVxuICAgICAgICA+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BmYXIgZmEtY2xvY2sgbXItMiAke2lzVXJnZW50ID8gJ3RleHQtW3ZhcigtLWNvbG9yLWVycm9yKV0nIDogJyd9YH0gYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAge1N0cmluZyhtaW51dGVzKS5wYWRTdGFydCgyLCAnMCcpfTp7U3RyaW5nKHJlbWFpbmluZ1NlY29uZHMpLnBhZFN0YXJ0KDIsICcwJyl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUaW1lcjtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiVGltZXIiLCJpbml0aWFsU2Vjb25kcyIsIm9uVGltZVVwIiwic2Vjb25kcyIsInNldFNlY29uZHMiLCJ0aW1lcklkIiwic2V0SW50ZXJ2YWwiLCJwcmV2U2Vjb25kcyIsImNsZWFySW50ZXJ2YWwiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwicmVtYWluaW5nU2Vjb25kcyIsImlzVXJnZW50IiwidGltZUNvbG9yIiwidXJnZW50QW5pbWF0aW9uIiwiZGl2IiwiY2xhc3NOYW1lIiwicm9sZSIsImFyaWEtbGl2ZSIsImFyaWEtbGFiZWwiLCJpIiwiYXJpYS1oaWRkZW4iLCJTdHJpbmciLCJwYWRTdGFydCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/Timer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/Toast.tsx":
/*!*********************************!*\
  !*** ./components/ui/Toast.tsx ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   ToastContainer: () => (/* binding */ ToastContainer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n// Default durations by type (errors stay longer so users can read them)\nconst DEFAULT_DURATIONS = {\n    success: 3000,\n    info: 4000,\n    warning: 5000,\n    error: 6000\n};\nconst Toast = ({ message, type = 'info', duration, onClose })=>{\n    _s();\n    // Use provided duration or fall back to type-based default\n    const effectiveDuration = duration ?? DEFAULT_DURATIONS[type];\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Toast.useEffect\": ()=>{\n            if (effectiveDuration > 0) {\n                const timer = setTimeout({\n                    \"Toast.useEffect.timer\": ()=>{\n                        setIsVisible(false);\n                        setTimeout({\n                            \"Toast.useEffect.timer\": ()=>onClose?.()\n                        }[\"Toast.useEffect.timer\"], 300); // Wait for fade out\n                    }\n                }[\"Toast.useEffect.timer\"], effectiveDuration);\n                return ({\n                    \"Toast.useEffect\": ()=>clearTimeout(timer)\n                })[\"Toast.useEffect\"];\n            }\n        }\n    }[\"Toast.useEffect\"], [\n        effectiveDuration,\n        onClose\n    ]);\n    const typeClasses = {\n        success: 'bg-[var(--color-success)] text-white',\n        error: 'bg-[var(--color-error)] text-white',\n        warning: 'bg-[var(--color-warning)] text-white',\n        info: 'bg-[var(--color-info)] text-white'\n    };\n    const icons = {\n        success: 'fa-check-circle',\n        error: 'fa-exclamation-circle',\n        warning: 'fa-exclamation-triangle',\n        info: 'fa-info-circle'\n    };\n    if (!isVisible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg ${typeClasses[type]} animate-slide-in-right max-w-sm`,\n        role: \"alert\",\n        \"aria-live\": \"assertive\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                className: `fa-solid ${icons[type]} flex-shrink-0`,\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 63,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-1 text-sm font-medium\",\n                children: message\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 64,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>{\n                    setIsVisible(false);\n                    setTimeout(()=>onClose?.(), 300);\n                },\n                className: \"flex-shrink-0 ml-2 hover:opacity-80 transition-opacity\",\n                \"aria-label\": \"Close notification\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fa-solid fa-times\",\n                    \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 65,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n        lineNumber: 58,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Toast, \"m22S9IQwDfEe/fCJY7LYj8YPDMo=\");\n_c = Toast;\nconst ToastContainer = ({ toasts, onRemove })=>{\n    if (toasts.length === 0) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed top-4 right-4 z-50 space-y-2\",\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\",\n        children: toasts.map((toast)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Toast, {\n                message: toast.message,\n                type: toast.type,\n                onClose: ()=>onRemove(toast.id)\n            }, toast.id, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 90,\n                columnNumber: 9\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = ToastContainer;\n// Hook for managing toasts\nconst useToast = ()=>{\n    _s1();\n    const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const showToast = (message, type = 'info')=>{\n        const id = Math.random().toString(36).substring(7);\n        setToasts((prev)=>[\n                ...prev,\n                {\n                    id,\n                    message,\n                    type\n                }\n            ]);\n        return id;\n    };\n    const removeToast = (id)=>{\n        setToasts((prev)=>prev.filter((toast)=>toast.id !== id));\n    };\n    return {\n        toasts,\n        showToast,\n        removeToast,\n        ToastContainer\n    };\n};\n_s1(useToast, \"nD8TBOiFYf9ajstmZpZK2DP4rNo=\");\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Toast);\nvar _c, _c1;\n$RefreshReg$(_c, \"Toast\");\n$RefreshReg$(_c1, \"ToastContainer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvVG9hc3QudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFtRDtBQUluRCx3RUFBd0U7QUFDeEUsTUFBTUcsb0JBQStDO0lBQ25EQyxTQUFTO0lBQ1RDLE1BQU07SUFDTkMsU0FBUztJQUNUQyxPQUFPO0FBQ1Q7QUFTTyxNQUFNQyxRQUE4QixDQUFDLEVBQzFDQyxPQUFPLEVBQ1BDLE9BQU8sTUFBTSxFQUNiQyxRQUFRLEVBQ1JDLE9BQU8sRUFDUjs7SUFDQywyREFBMkQ7SUFDM0QsTUFBTUMsb0JBQW9CRixZQUFZUixpQkFBaUIsQ0FBQ08sS0FBSztJQUM3RCxNQUFNLENBQUNJLFdBQVdDLGFBQWEsR0FBR2IsK0NBQVFBLENBQUM7SUFFM0NELGdEQUFTQTsyQkFBQztZQUNSLElBQUlZLG9CQUFvQixHQUFHO2dCQUN6QixNQUFNRyxRQUFRQzs2Q0FBVzt3QkFDdkJGLGFBQWE7d0JBQ2JFO3FEQUFXLElBQU1MO29EQUFhLE1BQU0sb0JBQW9CO29CQUMxRDs0Q0FBR0M7Z0JBRUg7dUNBQU8sSUFBTUssYUFBYUY7O1lBQzVCO1FBQ0Y7MEJBQUc7UUFBQ0g7UUFBbUJEO0tBQVE7SUFFL0IsTUFBTU8sY0FBYztRQUNsQmYsU0FBUztRQUNURyxPQUFPO1FBQ1BELFNBQVM7UUFDVEQsTUFBTTtJQUNSO0lBRUEsTUFBTWUsUUFBUTtRQUNaaEIsU0FBUztRQUNURyxPQUFPO1FBQ1BELFNBQVM7UUFDVEQsTUFBTTtJQUNSO0lBRUEsSUFBSSxDQUFDUyxXQUFXLE9BQU87SUFFdkIscUJBQ0UsOERBQUNPO1FBQ0NDLFdBQVcsQ0FBQyxnRkFBZ0YsRUFBRUgsV0FBVyxDQUFDVCxLQUFLLENBQUMsZ0NBQWdDLENBQUM7UUFDakphLE1BQUs7UUFDTEMsYUFBVTs7MEJBRVYsOERBQUNDO2dCQUFFSCxXQUFXLENBQUMsU0FBUyxFQUFFRixLQUFLLENBQUNWLEtBQUssQ0FBQyxjQUFjLENBQUM7Z0JBQUVnQixlQUFZOzs7Ozs7MEJBQ25FLDhEQUFDQztnQkFBS0wsV0FBVTswQkFBOEJiOzs7Ozs7MEJBQzlDLDhEQUFDbUI7Z0JBQ0NDLFNBQVM7b0JBQ1BkLGFBQWE7b0JBQ2JFLFdBQVcsSUFBTUwsYUFBYTtnQkFDaEM7Z0JBQ0FVLFdBQVU7Z0JBQ1ZRLGNBQVc7MEJBRVgsNEVBQUNMO29CQUFFSCxXQUFVO29CQUFvQkksZUFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJckQsRUFBRTtHQXpEV2xCO0tBQUFBO0FBZ0VOLE1BQU11QixpQkFBZ0QsQ0FBQyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRTtJQUNoRixJQUFJRCxPQUFPRSxNQUFNLEtBQUssR0FBRyxPQUFPO0lBRWhDLHFCQUNFLDhEQUFDYjtRQUFJQyxXQUFVO1FBQXFDRSxhQUFVO1FBQVNXLGVBQVk7a0JBQ2hGSCxPQUFPSSxHQUFHLENBQUMsQ0FBQ0Msc0JBQ1gsOERBQUM3QjtnQkFFQ0MsU0FBUzRCLE1BQU01QixPQUFPO2dCQUN0QkMsTUFBTTJCLE1BQU0zQixJQUFJO2dCQUNoQkUsU0FBUyxJQUFNcUIsU0FBU0ksTUFBTUMsRUFBRTtlQUgzQkQsTUFBTUMsRUFBRTs7Ozs7Ozs7OztBQVF2QixFQUFFO01BZldQO0FBaUJiLDJCQUEyQjtBQUNwQixNQUFNUSxXQUFXOztJQUN0QixNQUFNLENBQUNQLFFBQVFRLFVBQVUsR0FBR3RDLCtDQUFRQSxDQUEyRCxFQUFFO0lBRWpHLE1BQU11QyxZQUFZLENBQUNoQyxTQUFpQkMsT0FBa0IsTUFBTTtRQUMxRCxNQUFNNEIsS0FBS0ksS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsU0FBUyxDQUFDO1FBQ2hETCxVQUFVLENBQUNNLE9BQVM7bUJBQUlBO2dCQUFNO29CQUFFUjtvQkFBSTdCO29CQUFTQztnQkFBSzthQUFFO1FBQ3BELE9BQU80QjtJQUNUO0lBRUEsTUFBTVMsY0FBYyxDQUFDVDtRQUNuQkUsVUFBVSxDQUFDTSxPQUFTQSxLQUFLRSxNQUFNLENBQUMsQ0FBQ1gsUUFBVUEsTUFBTUMsRUFBRSxLQUFLQTtJQUMxRDtJQUVBLE9BQU87UUFBRU47UUFBUVM7UUFBV007UUFBYWhCO0lBQWU7QUFDMUQsRUFBRTtJQWRXUTtBQWdCYixpRUFBZS9CLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvVG9hc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgdHlwZSBUb2FzdFR5cGUgPSAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ2luZm8nO1xuXG4vLyBEZWZhdWx0IGR1cmF0aW9ucyBieSB0eXBlIChlcnJvcnMgc3RheSBsb25nZXIgc28gdXNlcnMgY2FuIHJlYWQgdGhlbSlcbmNvbnN0IERFRkFVTFRfRFVSQVRJT05TOiBSZWNvcmQ8VG9hc3RUeXBlLCBudW1iZXI+ID0ge1xuICBzdWNjZXNzOiAzMDAwLCAgLy8gUXVpY2sgY29uZmlybWF0aW9uXG4gIGluZm86IDQwMDAsICAgICAvLyBTdGFuZGFyZCBpbmZvXG4gIHdhcm5pbmc6IDUwMDAsICAvLyBHaXZlIHRpbWUgdG8gcmVhZFxuICBlcnJvcjogNjAwMCwgICAgLy8gRXJyb3JzIG5lZWQgbW9yZSB0aW1lIHRvIHJlYWQvYWN0XG59O1xuXG5pbnRlcmZhY2UgVG9hc3RQcm9wcyB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgdHlwZT86IFRvYXN0VHlwZTtcbiAgZHVyYXRpb24/OiBudW1iZXI7XG4gIG9uQ2xvc2U/OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgVG9hc3Q6IFJlYWN0LkZDPFRvYXN0UHJvcHM+ID0gKHtcbiAgbWVzc2FnZSxcbiAgdHlwZSA9ICdpbmZvJyxcbiAgZHVyYXRpb24sXG4gIG9uQ2xvc2UsXG59KSA9PiB7XG4gIC8vIFVzZSBwcm92aWRlZCBkdXJhdGlvbiBvciBmYWxsIGJhY2sgdG8gdHlwZS1iYXNlZCBkZWZhdWx0XG4gIGNvbnN0IGVmZmVjdGl2ZUR1cmF0aW9uID0gZHVyYXRpb24gPz8gREVGQVVMVF9EVVJBVElPTlNbdHlwZV07XG4gIGNvbnN0IFtpc1Zpc2libGUsIHNldElzVmlzaWJsZV0gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChlZmZlY3RpdmVEdXJhdGlvbiA+IDApIHtcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldElzVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gb25DbG9zZT8uKCksIDMwMCk7IC8vIFdhaXQgZm9yIGZhZGUgb3V0XG4gICAgICB9LCBlZmZlY3RpdmVEdXJhdGlvbik7XG5cbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cbiAgfSwgW2VmZmVjdGl2ZUR1cmF0aW9uLCBvbkNsb3NlXSk7XG4gIFxuICBjb25zdCB0eXBlQ2xhc3NlcyA9IHtcbiAgICBzdWNjZXNzOiAnYmctW3ZhcigtLWNvbG9yLXN1Y2Nlc3MpXSB0ZXh0LXdoaXRlJyxcbiAgICBlcnJvcjogJ2JnLVt2YXIoLS1jb2xvci1lcnJvcildIHRleHQtd2hpdGUnLFxuICAgIHdhcm5pbmc6ICdiZy1bdmFyKC0tY29sb3Itd2FybmluZyldIHRleHQtd2hpdGUnLFxuICAgIGluZm86ICdiZy1bdmFyKC0tY29sb3ItaW5mbyldIHRleHQtd2hpdGUnLFxuICB9O1xuICBcbiAgY29uc3QgaWNvbnMgPSB7XG4gICAgc3VjY2VzczogJ2ZhLWNoZWNrLWNpcmNsZScsXG4gICAgZXJyb3I6ICdmYS1leGNsYW1hdGlvbi1jaXJjbGUnLFxuICAgIHdhcm5pbmc6ICdmYS1leGNsYW1hdGlvbi10cmlhbmdsZScsXG4gICAgaW5mbzogJ2ZhLWluZm8tY2lyY2xlJyxcbiAgfTtcbiAgXG4gIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbDtcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgdG9wLTQgcmlnaHQtNCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcHktMyByb3VuZGVkLWxnIHNoYWRvdy1sZyAke3R5cGVDbGFzc2VzW3R5cGVdfSBhbmltYXRlLXNsaWRlLWluLXJpZ2h0IG1heC13LXNtYH1cbiAgICAgIHJvbGU9XCJhbGVydFwiXG4gICAgICBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIlxuICAgID5cbiAgICAgIDxpIGNsYXNzTmFtZT17YGZhLXNvbGlkICR7aWNvbnNbdHlwZV19IGZsZXgtc2hyaW5rLTBgfSBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleC0xIHRleHQtc20gZm9udC1tZWRpdW1cIj57bWVzc2FnZX08L3NwYW4+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBzZXRJc1Zpc2libGUoZmFsc2UpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gb25DbG9zZT8uKCksIDMwMCk7XG4gICAgICAgIH19XG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgbWwtMiBob3ZlcjpvcGFjaXR5LTgwIHRyYW5zaXRpb24tb3BhY2l0eVwiXG4gICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZSBub3RpZmljYXRpb25cIlxuICAgICAgPlxuICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS10aW1lc1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmludGVyZmFjZSBUb2FzdENvbnRhaW5lclByb3BzIHtcbiAgdG9hc3RzOiBBcnJheTx7IGlkOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZzsgdHlwZT86IFRvYXN0VHlwZSB9PjtcbiAgb25SZW1vdmU6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgVG9hc3RDb250YWluZXI6IFJlYWN0LkZDPFRvYXN0Q29udGFpbmVyUHJvcHM+ID0gKHsgdG9hc3RzLCBvblJlbW92ZSB9KSA9PiB7XG4gIGlmICh0b2FzdHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtNCByaWdodC00IHotNTAgc3BhY2UteS0yXCIgYXJpYS1saXZlPVwicG9saXRlXCIgYXJpYS1hdG9taWM9XCJ0cnVlXCI+XG4gICAgICB7dG9hc3RzLm1hcCgodG9hc3QpID0+IChcbiAgICAgICAgPFRvYXN0XG4gICAgICAgICAga2V5PXt0b2FzdC5pZH1cbiAgICAgICAgICBtZXNzYWdlPXt0b2FzdC5tZXNzYWdlfVxuICAgICAgICAgIHR5cGU9e3RvYXN0LnR5cGV9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gb25SZW1vdmUodG9hc3QuaWQpfVxuICAgICAgICAvPlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBIb29rIGZvciBtYW5hZ2luZyB0b2FzdHNcbmV4cG9ydCBjb25zdCB1c2VUb2FzdCA9ICgpID0+IHtcbiAgY29uc3QgW3RvYXN0cywgc2V0VG9hc3RzXSA9IHVzZVN0YXRlPEFycmF5PHsgaWQ6IHN0cmluZzsgbWVzc2FnZTogc3RyaW5nOyB0eXBlPzogVG9hc3RUeXBlIH0+PihbXSk7XG4gIFxuICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZTogc3RyaW5nLCB0eXBlOiBUb2FzdFR5cGUgPSAnaW5mbycpID0+IHtcbiAgICBjb25zdCBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KTtcbiAgICBzZXRUb2FzdHMoKHByZXYpID0+IFsuLi5wcmV2LCB7IGlkLCBtZXNzYWdlLCB0eXBlIH1dKTtcbiAgICByZXR1cm4gaWQ7XG4gIH07XG4gIFxuICBjb25zdCByZW1vdmVUb2FzdCA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0VG9hc3RzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigodG9hc3QpID0+IHRvYXN0LmlkICE9PSBpZCkpO1xuICB9O1xuICBcbiAgcmV0dXJuIHsgdG9hc3RzLCBzaG93VG9hc3QsIHJlbW92ZVRvYXN0LCBUb2FzdENvbnRhaW5lciB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVG9hc3Q7XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiREVGQVVMVF9EVVJBVElPTlMiLCJzdWNjZXNzIiwiaW5mbyIsIndhcm5pbmciLCJlcnJvciIsIlRvYXN0IiwibWVzc2FnZSIsInR5cGUiLCJkdXJhdGlvbiIsIm9uQ2xvc2UiLCJlZmZlY3RpdmVEdXJhdGlvbiIsImlzVmlzaWJsZSIsInNldElzVmlzaWJsZSIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInR5cGVDbGFzc2VzIiwiaWNvbnMiLCJkaXYiLCJjbGFzc05hbWUiLCJyb2xlIiwiYXJpYS1saXZlIiwiaSIsImFyaWEtaGlkZGVuIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwiVG9hc3RDb250YWluZXIiLCJ0b2FzdHMiLCJvblJlbW92ZSIsImxlbmd0aCIsImFyaWEtYXRvbWljIiwibWFwIiwidG9hc3QiLCJpZCIsInVzZVRvYXN0Iiwic2V0VG9hc3RzIiwic2hvd1RvYXN0IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwicHJldiIsInJlbW92ZVRvYXN0IiwiZmlsdGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/Toast.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/views/PracticeView.tsx":
/*!*******************************************!*\
  !*** ./components/views/PracticeView.tsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../constants */ \"(app-pages-browser)/./constants.ts\");\n/* harmony import */ var _hooks_useSpeechRecognition__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useSpeechRecognition */ \"(app-pages-browser)/./hooks/useSpeechRecognition.ts\");\n/* harmony import */ var _ui_PatientProfileCard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/PatientProfileCard */ \"(app-pages-browser)/./components/ui/PatientProfileCard.tsx\");\n/* harmony import */ var _ui_ChatBubble__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/ChatBubble */ \"(app-pages-browser)/./components/ui/ChatBubble.tsx\");\n/* harmony import */ var _ui_Timer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Timer */ \"(app-pages-browser)/./components/ui/Timer.tsx\");\n/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/Button */ \"(app-pages-browser)/./components/ui/Button.tsx\");\n/* harmony import */ var _ui_Card__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Card */ \"(app-pages-browser)/./components/ui/Card.tsx\");\n/* harmony import */ var _ui_Toast__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/Toast */ \"(app-pages-browser)/./components/ui/Toast.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../contexts/AuthContext */ \"(app-pages-browser)/./contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/* harmony import */ var _utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/sessionManager */ \"(app-pages-browser)/./utils/sessionManager.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst SpeechVisualizer = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-end justify-center space-x-1 pl-3 pr-2 h-6\",\n        \"aria-hidden\": \"true\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"w-1 h-2 bg-[var(--color-primary)] rounded-full animate-wavey\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 24,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"w-1 h-4 bg-[var(--color-primary)] rounded-full animate-wavey\",\n                style: {\n                    animationDelay: '0.2s'\n                }\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 25,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"w-1 h-5 bg-[var(--color-primary)] rounded-full animate-wavey\",\n                style: {\n                    animationDelay: '0.4s'\n                }\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 26,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"w-1 h-3 bg-[var(--color-primary)] rounded-full animate-wavey\",\n                style: {\n                    animationDelay: '0.1s'\n                }\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 27,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n        lineNumber: 23,\n        columnNumber: 5\n    }, undefined);\n_c = SpeechVisualizer;\nconst PracticeView = ({ patient, userTier, onFinish, onUpgrade })=>{\n    _s();\n    const [isSessionStarted, setIsSessionStarted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [transcript, setTranscript] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isPatientTyping, setIsPatientTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isEndingSession, setIsEndingSession] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [feedbackError, setFeedbackError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isRetryingFeedback, setIsRetryingFeedback] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sendError, setSendError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [lastFailedMessage, setLastFailedMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [sessionExpired, setSessionExpired] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_11__.useAuth)();\n    const { showToast, ToastContainer, toasts, removeToast } = (0,_ui_Toast__WEBPACK_IMPORTED_MODULE_10__.useToast)();\n    const { isListening, finalTranscript, interimTranscript, startListening, stopListening, hasSupport, error: micError, setTranscript: setSpeechTranscript } = (0,_hooks_useSpeechRecognition__WEBPACK_IMPORTED_MODULE_4__.useSpeechRecognition)();\n    // Combine final and interim for display (interim shows as live preview)\n    const speechTranscript = finalTranscript + (interimTranscript ? (finalTranscript ? ' ' : '') + interimTranscript : '');\n    const chatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const autoSaveIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sessionCheckIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sessionDuration = userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium ? _constants__WEBPACK_IMPORTED_MODULE_3__.PREMIUM_SESSION_DURATION : _constants__WEBPACK_IMPORTED_MODULE_3__.FREE_SESSION_DURATION;\n    // Restore auto-saved session on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PracticeView.useEffect\": ()=>{\n            const savedSession = (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.getAutoSavedSession)();\n            if (savedSession && savedSession.transcript.length > 0) {\n                const shouldRestore = window.confirm('We found a saved practice session. Would you like to restore it?');\n                if (shouldRestore) {\n                    setTranscript(savedSession.transcript);\n                    setIsSessionStarted(true);\n                } else {\n                    (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.clearAutoSavedSessions)();\n                }\n            }\n            // Cleanup on unmount\n            return ({\n                \"PracticeView.useEffect\": ()=>{\n                    if (autoSaveIntervalRef.current) {\n                        clearInterval(autoSaveIntervalRef.current);\n                    }\n                    if (sessionCheckIntervalRef.current) {\n                        clearInterval(sessionCheckIntervalRef.current);\n                    }\n                }\n            })[\"PracticeView.useEffect\"];\n        }\n    }[\"PracticeView.useEffect\"], []);\n    // Warn user before leaving the page if session is in progress\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PracticeView.useEffect\": ()=>{\n            const hasUnsavedSession = isSessionStarted && transcript.length > 0 && !isEndingSession;\n            const handleBeforeUnload = {\n                \"PracticeView.useEffect.handleBeforeUnload\": (e)=>{\n                    if (hasUnsavedSession) {\n                        // Auto-save before leaving\n                        (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.autoSaveSession)({\n                            transcript,\n                            patient,\n                            timestamp: Date.now()\n                        });\n                        e.preventDefault();\n                        e.returnValue = 'You have an active practice session. Are you sure you want to leave?';\n                        return e.returnValue;\n                    }\n                }\n            }[\"PracticeView.useEffect.handleBeforeUnload\"];\n            const handlePopState = {\n                \"PracticeView.useEffect.handlePopState\": (e)=>{\n                    if (hasUnsavedSession) {\n                        const shouldLeave = window.confirm('You have an active practice session. Your progress will be saved. Are you sure you want to leave?');\n                        if (!shouldLeave) {\n                            // Prevent navigation by pushing the current state back\n                            window.history.pushState({\n                                view: 'Practice'\n                            }, '', '/practice');\n                        } else {\n                            // Save before leaving\n                            (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.autoSaveSession)({\n                                transcript,\n                                patient,\n                                timestamp: Date.now()\n                            });\n                        }\n                    }\n                }\n            }[\"PracticeView.useEffect.handlePopState\"];\n            window.addEventListener('beforeunload', handleBeforeUnload);\n            window.addEventListener('popstate', handlePopState);\n            return ({\n                \"PracticeView.useEffect\": ()=>{\n                    window.removeEventListener('beforeunload', handleBeforeUnload);\n                    window.removeEventListener('popstate', handlePopState);\n                }\n            })[\"PracticeView.useEffect\"];\n        }\n    }[\"PracticeView.useEffect\"], [\n        isSessionStarted,\n        transcript,\n        patient,\n        isEndingSession\n    ]);\n    // Auto-save session data every 30 seconds\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PracticeView.useEffect\": ()=>{\n            if (isSessionStarted && transcript.length > 0) {\n                autoSaveIntervalRef.current = setInterval({\n                    \"PracticeView.useEffect\": ()=>{\n                        (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.autoSaveSession)({\n                            transcript,\n                            patient,\n                            timestamp: Date.now()\n                        });\n                    }\n                }[\"PracticeView.useEffect\"], 30000); // Auto-save every 30 seconds\n                return ({\n                    \"PracticeView.useEffect\": ()=>{\n                        if (autoSaveIntervalRef.current) {\n                            clearInterval(autoSaveIntervalRef.current);\n                        }\n                    }\n                })[\"PracticeView.useEffect\"];\n            }\n        }\n    }[\"PracticeView.useEffect\"], [\n        isSessionStarted,\n        transcript,\n        patient\n    ]);\n    // Check session validity every 2 minutes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PracticeView.useEffect\": ()=>{\n            if (isSessionStarted && user) {\n                sessionCheckIntervalRef.current = setInterval({\n                    \"PracticeView.useEffect\": async ()=>{\n                        const isValid = await (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.isSessionValid)();\n                        if (!isValid) {\n                            setSessionExpired(true);\n                            if (sessionCheckIntervalRef.current) {\n                                clearInterval(sessionCheckIntervalRef.current);\n                            }\n                        }\n                    }\n                }[\"PracticeView.useEffect\"], 120000); // Check every 2 minutes\n                return ({\n                    \"PracticeView.useEffect\": ()=>{\n                        if (sessionCheckIntervalRef.current) {\n                            clearInterval(sessionCheckIntervalRef.current);\n                        }\n                    }\n                })[\"PracticeView.useEffect\"];\n            }\n        }\n    }[\"PracticeView.useEffect\"], [\n        isSessionStarted,\n        user\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PracticeView.useEffect\": ()=>{\n            if (chatContainerRef.current) {\n                chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n            }\n        }\n    }[\"PracticeView.useEffect\"], [\n        transcript,\n        isPatientTyping\n    ]);\n    // Auto-resize textarea\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PracticeView.useEffect\": ()=>{\n            const textarea = textareaRef.current;\n            if (textarea) {\n                textarea.style.height = 'auto'; // Reset height to shrink if text is deleted\n                const scrollHeight = textarea.scrollHeight;\n                textarea.style.height = `${scrollHeight}px`; // Set height to content height\n            }\n        }\n    }[\"PracticeView.useEffect\"], [\n        speechTranscript\n    ]);\n    /**\n     * Get patient response from Edge Function\n     */ const getPatientResponseFromEdgeFunction = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PracticeView.useCallback[getPatientResponseFromEdgeFunction]\": async (message)=>{\n            // Check session validity before making request\n            const authToken = await (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.getValidAuthToken)();\n            if (!authToken) {\n                setSessionExpired(true);\n                throw new Error('Your session has expired. Please refresh the page and log in again.');\n            }\n            // Get Supabase URL and construct Edge Function URL\n            const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n            if (!supabaseUrl) {\n                throw new Error('Supabase URL not configured');\n            }\n            const functionsUrl = `${supabaseUrl}/functions/v1/patient-response`;\n            // Require authentication\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_12__.isSupabaseConfigured)()) {\n                throw new Error('Supabase is not configured. Please check your environment variables.');\n            }\n            if (!user) {\n                throw new Error('You must be logged in to chat with the patient. Please log in and try again.');\n            }\n            // Prepare request with required Authorization header\n            const headers = {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${authToken}`\n            };\n            // Make request to Edge Function\n            const response = await fetch(functionsUrl, {\n                method: 'POST',\n                headers,\n                body: JSON.stringify({\n                    transcript,\n                    patient,\n                    message\n                })\n            });\n            // Handle errors\n            if (!response.ok) {\n                const errorData = await response.json().catch({\n                    \"PracticeView.useCallback[getPatientResponseFromEdgeFunction]\": ()=>({\n                            error: 'Unknown error'\n                        })\n                }[\"PracticeView.useCallback[getPatientResponseFromEdgeFunction]\"]);\n                const errorMessage = errorData.error || `Failed to get patient response (${response.status})`;\n                // Map HTTP status codes to user-friendly messages\n                if (response.status === 401) {\n                    throw new Error('Your session has expired. Please refresh the page and try again.');\n                } else if (response.status === 429) {\n                    throw new Error('AI service is busy. Please try again in a moment.');\n                } else if (response.status === 504) {\n                    throw new Error('Patient response timed out. Please try again.');\n                } else if (response.status === 500) {\n                    throw new Error('AI service error. Please try again later.');\n                } else {\n                    throw new Error(errorMessage);\n                }\n            }\n            // Parse and return response\n            const data = await response.json();\n            return data.response;\n        }\n    }[\"PracticeView.useCallback[getPatientResponseFromEdgeFunction]\"], [\n        transcript,\n        patient,\n        user\n    ]);\n    const handleSendMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PracticeView.useCallback[handleSendMessage]\": async (text, isRetry = false)=>{\n            // Clear any previous send error\n            setSendError(null);\n            setLastFailedMessage(null);\n            if (!text.trim()) return;\n            if (isPatientTyping) {\n                setSendError('Please wait for the patient to respond.');\n                return;\n            }\n            // Only add user message if not a retry (retry means we already have the message)\n            if (!isRetry) {\n                const newUserMessage = {\n                    author: 'user',\n                    text\n                };\n                setTranscript({\n                    \"PracticeView.useCallback[handleSendMessage]\": (prev)=>[\n                            ...prev,\n                            newUserMessage\n                        ]\n                }[\"PracticeView.useCallback[handleSendMessage]\"]);\n            }\n            setIsPatientTyping(true);\n            try {\n                // Get patient response from Edge Function\n                const patientResponse = await getPatientResponseFromEdgeFunction(text);\n                const newPatientMessage = {\n                    author: 'patient',\n                    text: patientResponse\n                };\n                setTranscript({\n                    \"PracticeView.useCallback[handleSendMessage]\": (prev)=>[\n                            ...prev,\n                            newPatientMessage\n                        ]\n                }[\"PracticeView.useCallback[handleSendMessage]\"]);\n                // Auto-save after successful response\n                (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.autoSaveSession)({\n                    transcript: [\n                        ...transcript,\n                        {\n                            author: 'user',\n                            text\n                        },\n                        {\n                            author: 'patient',\n                            text: patientResponse\n                        }\n                    ],\n                    patient,\n                    timestamp: Date.now()\n                });\n            } catch (error) {\n                console.error('[PracticeView] Failed to get patient response:', error);\n                const errorMessage = error instanceof Error ? error.message : 'Failed to get patient response.';\n                // Check if it's a network error\n                const isNetworkError = errorMessage.includes('Failed to fetch') || errorMessage.includes('NetworkError') || errorMessage.includes('network');\n                if (isNetworkError) {\n                    setSendError('Network connection lost. Check your connection and tap Retry.');\n                } else {\n                    setSendError(errorMessage);\n                }\n                // Store the failed message for retry\n                setLastFailedMessage(text);\n                // Auto-save transcript on error (don't add fallback message, let user retry)\n                (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.autoSaveSession)({\n                    transcript: [\n                        ...transcript,\n                        {\n                            author: 'user',\n                            text\n                        }\n                    ],\n                    patient,\n                    timestamp: Date.now()\n                });\n            } finally{\n                setIsPatientTyping(false);\n            }\n        }\n    }[\"PracticeView.useCallback[handleSendMessage]\"], [\n        getPatientResponseFromEdgeFunction,\n        isPatientTyping,\n        transcript,\n        patient\n    ]);\n    const handleRetryLastMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PracticeView.useCallback[handleRetryLastMessage]\": ()=>{\n            if (lastFailedMessage) {\n                handleSendMessage(lastFailedMessage, true);\n            }\n        }\n    }[\"PracticeView.useCallback[handleRetryLastMessage]\"], [\n        lastFailedMessage,\n        handleSendMessage\n    ]);\n    const handleVoiceSend = ()=>{\n        // Clear any previous send error when user interacts with mic\n        setSendError(null);\n        if (isListening) {\n            stopListening();\n        } else {\n            startListening();\n        }\n    };\n    const handleTextSend = ()=>{\n        if (!speechTranscript.trim()) return;\n        if (isListening) {\n            stopListening();\n        }\n        const transcriptToSend = speechTranscript;\n        handleSendMessage(transcriptToSend);\n        setSpeechTranscript('');\n    };\n    /**\n     * Call the analyze-session Edge Function to get feedback\n     * \n     * Uses dual-run wrapper for Strangler Fig migration:\n     * - Calls both legacy and v2 functions in parallel\n     * - Compares outputs and tracks semantic-equal matches\n     * - Returns legacy output (for now) while monitoring drift\n     */ const getFeedbackFromEdgeFunction = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PracticeView.useCallback[getFeedbackFromEdgeFunction]\": async ()=>{\n            // Check session validity before making request\n            const authToken = await (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.getValidAuthToken)();\n            if (!authToken) {\n                setSessionExpired(true);\n                throw new Error('Your session has expired. Please refresh the page and log in again.');\n            }\n            // Get Supabase URL and construct Edge Function URL\n            const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n            if (!supabaseUrl) {\n                throw new Error('Supabase URL not configured');\n            }\n            // Use dual-run wrapper for Strangler Fig migration tracking\n            const functionsUrl = `${supabaseUrl}/functions/v1/dual-run-analyze-session`;\n            // Require authentication\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_12__.isSupabaseConfigured)()) {\n                throw new Error('Supabase is not configured. Please check your environment variables.');\n            }\n            if (!user) {\n                throw new Error('You must be logged in to generate feedback. Please log in and try again.');\n            }\n            // Prepare request with required Authorization header\n            const headers = {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${authToken}`\n            };\n            // Make request to Edge Function\n            const response = await fetch(functionsUrl, {\n                method: 'POST',\n                headers,\n                body: JSON.stringify({\n                    transcript,\n                    patient\n                })\n            });\n            // Handle errors\n            if (!response.ok) {\n                const errorData = await response.json().catch({\n                    \"PracticeView.useCallback[getFeedbackFromEdgeFunction]\": ()=>({\n                            error: 'Unknown error'\n                        })\n                }[\"PracticeView.useCallback[getFeedbackFromEdgeFunction]\"]);\n                const errorMessage = errorData.error || `Failed to analyze session (${response.status})`;\n                // Map HTTP status codes to user-friendly messages\n                if (response.status === 401) {\n                    throw new Error('Your session has expired. Please refresh the page and try again.');\n                } else if (response.status === 429) {\n                    throw new Error('AI service is busy. Please try again in a moment.');\n                } else if (response.status === 504) {\n                    throw new Error('Analysis timed out. Please try again.');\n                } else if (response.status === 500) {\n                    throw new Error('AI service error. Please try again later.');\n                } else {\n                    throw new Error(errorMessage);\n                }\n            }\n            // Parse and return feedback\n            const feedback = await response.json();\n            return feedback;\n        }\n    }[\"PracticeView.useCallback[getFeedbackFromEdgeFunction]\"], [\n        transcript,\n        patient,\n        user\n    ]);\n    const handleEndSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PracticeView.useCallback[handleEndSession]\": async ()=>{\n            setIsEndingSession(true);\n            setFeedbackError(null);\n            // Show success toast immediately\n            showToast('Session complete! Generating your feedback...', 'success');\n            // Clear auto-save on successful completion\n            (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.clearAutoSavedSessions)();\n            try {\n                const feedback = await getFeedbackFromEdgeFunction();\n                setIsEndingSession(false);\n                onFinish(transcript, feedback);\n            } catch (error) {\n                console.error('[PracticeView] Failed to get feedback:', error);\n                setIsEndingSession(false);\n                const errorMessage = error instanceof Error ? error.message : 'Failed to generate feedback. Please try again.';\n                setFeedbackError(errorMessage);\n                // If session expired, auto-save before showing error\n                if (errorMessage.includes('session has expired')) {\n                    (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_13__.autoSaveSession)({\n                        transcript,\n                        patient,\n                        timestamp: Date.now()\n                    });\n                }\n            }\n        }\n    }[\"PracticeView.useCallback[handleEndSession]\"], [\n        transcript,\n        getFeedbackFromEdgeFunction,\n        onFinish,\n        patient,\n        showToast\n    ]);\n    const handleRetryFeedback = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PracticeView.useCallback[handleRetryFeedback]\": async ()=>{\n            setIsRetryingFeedback(true);\n            setFeedbackError(null);\n            try {\n                const feedback = await getFeedbackFromEdgeFunction();\n                setIsRetryingFeedback(false);\n                onFinish(transcript, feedback);\n            } catch (error) {\n                console.error('[PracticeView] Retry failed:', error);\n                setIsRetryingFeedback(false);\n                const errorMessage = error instanceof Error ? error.message : 'Failed to generate feedback. Please try again.';\n                setFeedbackError(errorMessage);\n            }\n        }\n    }[\"PracticeView.useCallback[handleRetryFeedback]\"], [\n        transcript,\n        getFeedbackFromEdgeFunction,\n        onFinish\n    ]);\n    if (!isSessionStarted) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-transparent flex flex-col items-center justify-center p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_PatientProfileCard__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    patient: patient,\n                    userTier: userTier,\n                    onUpgrade: onUpgrade\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                    lineNumber: 461,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n                    onClick: ()=>setIsSessionStarted(true),\n                    variant: \"primary\",\n                    size: \"lg\",\n                    className: \"mt-8 px-12 py-4 text-2xl shadow-[4px_4px_0px_0px_rgba(0,0,0,0.8)] border-2 border-black\",\n                    children: \"Begin Session\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                    lineNumber: 462,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n            lineNumber: 460,\n            columnNumber: 13\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-screen bg-transparent\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToastContainer, {\n                toasts: toasts,\n                onRemove: removeToast\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 476,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center p-4 border-b-2 border-black bg-white\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 min-w-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-bold text-lg text-[var(--color-text-primary)] truncate\",\n                                children: [\n                                    \"with \",\n                                    patient.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 479,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-[var(--color-text-muted)]\",\n                                children: transcript.length === 0 ? 'Start the conversation...' : `${transcript.length} message${transcript.length !== 1 ? 's' : ''} exchanged`\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 481,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 478,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-3 flex-shrink-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Timer__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                initialSeconds: sessionDuration,\n                                onTimeUp: handleEndSession\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 486,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleEndSession,\n                                disabled: isEndingSession,\n                                className: `px-4 min-h-[var(--touch-target-min)] text-white font-semibold border-2 border-black disabled:opacity-50 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 ${isEndingSession ? 'bg-red-600' : 'bg-red-500 hover:bg-red-600'}`,\n                                children: isEndingSession ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                            lineNumber: 498,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        \"Ending...\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 497,\n                                    columnNumber: 29\n                                }, undefined) : 'End Session'\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 487,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 485,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 477,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: chatContainerRef,\n                className: \"flex-1 overflow-y-auto p-4 bg-white relative\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4\",\n                    children: [\n                        transcript.length === 0 && !isPatientTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center justify-center h-full min-h-[200px] text-center text-[var(--color-text-muted)]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"fa-solid fa-comments text-4xl mb-3 opacity-40\",\n                                    \"aria-hidden\": \"true\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 512,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm\",\n                                    children: \"Say something to start the conversation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 513,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                            lineNumber: 511,\n                            columnNumber: 25\n                        }, undefined),\n                        transcript.map((msg, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_ChatBubble__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                message: msg\n                            }, index, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 517,\n                                columnNumber: 25\n                            }, undefined)),\n                        isPatientTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-slide-fade-in pt-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_ChatBubble__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                message: {\n                                    author: 'patient',\n                                    text: '...'\n                                },\n                                isTyping: true\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 521,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                            lineNumber: 520,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                    lineNumber: 509,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 508,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t-2 border-black bg-[var(--color-bg-accent)]\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"sr-only\",\n                        role: \"status\",\n                        \"aria-live\": \"polite\",\n                        \"aria-atomic\": \"true\",\n                        children: isListening ? 'Recording started. Speak now.' : ''\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 529,\n                        columnNumber: 17\n                    }, undefined),\n                    sessionExpired && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Card__WEBPACK_IMPORTED_MODULE_9__.Card, {\n                        variant: \"accent\",\n                        padding: \"sm\",\n                        className: \"mb-3 border-l-4 border-[var(--color-error)]\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col gap-2\",\n                            role: \"alert\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2 text-[var(--color-error)] text-sm font-semibold\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-exclamation-circle\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                            lineNumber: 536,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Your session has expired\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                            lineNumber: 537,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 535,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-[var(--color-text-secondary)]\",\n                                    children: \"Your practice session has been saved. Please refresh the page and log in again to continue.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 539,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n                                    variant: \"primary\",\n                                    size: \"sm\",\n                                    onClick: ()=>window.location.reload(),\n                                    className: \"mt-2\",\n                                    children: \"Refresh & Log In\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 542,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                            lineNumber: 534,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 533,\n                        columnNumber: 21\n                    }, undefined),\n                    (micError || sendError) && !sessionExpired && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Card__WEBPACK_IMPORTED_MODULE_9__.Card, {\n                        variant: \"accent\",\n                        padding: \"sm\",\n                        className: \"mb-3 border-l-4 border-[var(--color-error)]\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-start justify-between gap-2\",\n                            role: \"alert\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-start gap-2 text-[var(--color-error)] text-sm flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-exclamation-circle mt-0.5\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                            lineNumber: 557,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: micError || sendError\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                            lineNumber: 558,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 556,\n                                    columnNumber: 29\n                                }, undefined),\n                                sendError && lastFailedMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n                                    variant: \"secondary\",\n                                    size: \"sm\",\n                                    onClick: handleRetryLastMessage,\n                                    disabled: isPatientTyping,\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-redo\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                        lineNumber: 566,\n                                        columnNumber: 43\n                                    }, void 0),\n                                    children: \"Retry\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 561,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                            lineNumber: 555,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 554,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-end space-x-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 flex items-end bg-white border-2 border-black focus-within:ring-2 focus-within:ring-[var(--color-primary)] transition-shadow duration-200\",\n                                children: [\n                                    isListening && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SpeechVisualizer, {}, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                        lineNumber: 576,\n                                        columnNumber: 41\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        ref: textareaRef,\n                                        value: speechTranscript,\n                                        onChange: (e)=>setSpeechTranscript(e.target.value),\n                                        placeholder: isListening ? \"Listening...\" : \"Type your response or use the microphone...\",\n                                        className: \"flex-1 p-3 bg-transparent focus:outline-none resize-none w-full max-h-56 overflow-y-auto text-[var(--color-text-primary)]\",\n                                        rows: 2,\n                                        onKeyDown: (e)=>{\n                                            if (e.key === 'Enter' && !e.shiftKey) {\n                                                e.preventDefault();\n                                                handleTextSend();\n                                            }\n                                        },\n                                        onFocus: ()=>{\n                                            // Scroll textarea into view when mobile keyboard opens\n                                            setTimeout(()=>{\n                                                textareaRef.current?.scrollIntoView({\n                                                    behavior: 'smooth',\n                                                    block: 'center'\n                                                });\n                                            }, 300);\n                                        },\n                                        disabled: isPatientTyping,\n                                        readOnly: isListening,\n                                        style: {\n                                            caretColor: isListening ? 'transparent' : 'auto'\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                        lineNumber: 577,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 575,\n                                columnNumber: 21\n                            }, undefined),\n                            hasSupport && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative group flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleVoiceSend,\n                                        disabled: isPatientTyping,\n                                        className: `w-[var(--touch-target-min)]...`,\n                                        \"aria-label\": isListening ? 'Stop recording' : 'Start recording',\n                                        \"aria-pressed\": isListening,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa-solid fa-microphone text-xl\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                            lineNumber: 610,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                        lineNumber: 603,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-[var(--color-neutral-800)] text-white text-xs font-semibold shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-10 whitespace-nowrap rounded\",\n                                        children: [\n                                            isListening ? 'Stop Recording' : 'Start Recording',\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"absolute text-[var(--color-neutral-800)] h-2 w-full left-0 top-full\",\n                                                x: \"0px\",\n                                                y: \"0px\",\n                                                viewBox: \"0 0 255 255\",\n                                                xmlSpace: \"preserve\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polygon\", {\n                                                    className: \"fill-current\",\n                                                    points: \"0,0 127.5,127.5 255,0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                                    lineNumber: 614,\n                                                    columnNumber: 176\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                                lineNumber: 614,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                        lineNumber: 612,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 602,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleTextSend,\n                                disabled: isPatientTyping || !speechTranscript.trim(),\n                                className: \"w-[var(--touch-target-min)] h-[var(--touch-target-min)] flex items-center justify-center bg-[var(--color-primary)] text-[var(--color-text-primary)] border-2 border-black hover:bg-[var(--color-primary-dark)] disabled:bg-[var(--color-neutral-300)] disabled:text-[var(--color-neutral-500)] disabled:border-[var(--color-neutral-400)] transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2\",\n                                \"aria-label\": \"Send message\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"fa-solid fa-paper-plane text-xl\",\n                                    \"aria-hidden\": \"true\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 624,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 618,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 574,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 527,\n                columnNumber: 13\n            }, undefined),\n            (isEndingSession || isRetryingFeedback) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-white bg-opacity-80 flex flex-col items-center justify-center rounded-2xl z-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-16 h-16 border-4 border-[var(--color-primary)] border-t-transparent rounded-full animate-spin\"\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 630,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-lg font-semibold text-[var(--color-text-primary)]\",\n                        children: isRetryingFeedback ? 'Retrying feedback generation...' : 'Generating your feedback...'\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 631,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 629,\n                columnNumber: 18\n            }, undefined),\n            feedbackError && !isEndingSession && !isRetryingFeedback && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-white bg-opacity-95 flex flex-col items-center justify-center rounded-2xl z-10 p-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Card__WEBPACK_IMPORTED_MODULE_9__.Card, {\n                    variant: \"elevated\",\n                    padding: \"lg\",\n                    className: \"max-w-md w-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 flex justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 rounded-full bg-[var(--color-error-light)] flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-exclamation-triangle text-2xl text-[var(--color-error)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                        lineNumber: 643,\n                                        columnNumber: 37\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                    lineNumber: 642,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 641,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-xl font-bold text-[var(--color-text-primary)] mb-2\",\n                                children: \"Feedback Generation Failed\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 646,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-[var(--color-text-secondary)] mb-6\",\n                                children: feedbackError\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 649,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n                                        onClick: handleRetryFeedback,\n                                        variant: \"primary\",\n                                        size: \"lg\",\n                                        fullWidth: true,\n                                        disabled: isRetryingFeedback,\n                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa-solid fa-redo\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                            lineNumber: 659,\n                                            columnNumber: 43\n                                        }, void 0),\n                                        children: isRetryingFeedback ? 'Retrying...' : 'Retry Feedback Generation'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                        lineNumber: 653,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_8__.Button, {\n                                        onClick: ()=>{\n                                            // Create a fallback feedback object\n                                            const fallbackFeedback = {\n                                                empathyScore: 0,\n                                                empathyBreakdown: 'Feedback generation failed. Your practice session was still valuable!',\n                                                whatWentRight: 'We encountered an issue generating detailed feedback, but every practice session helps you improve your MI skills.',\n                                                areasForGrowth: 'Please try another session to receive detailed feedback.',\n                                                skillsDetected: [],\n                                                skillCounts: {},\n                                                nextFocus: 'Try another practice session to receive detailed feedback.',\n                                                analysisStatus: 'error',\n                                                analysisMessage: feedbackError\n                                            };\n                                            setFeedbackError(null);\n                                            onFinish(transcript, fallbackFeedback);\n                                        },\n                                        variant: \"secondary\",\n                                        size: \"lg\",\n                                        fullWidth: true,\n                                        children: \"Continue Without Feedback\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                        lineNumber: 663,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                                lineNumber: 652,\n                                columnNumber: 29\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                        lineNumber: 640,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                    lineNumber: 639,\n                    columnNumber: 21\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n                lineNumber: 638,\n                columnNumber: 17\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/PracticeView.tsx\",\n        lineNumber: 475,\n        columnNumber: 9\n    }, undefined);\n};\n_s(PracticeView, \"Glv6fLQMykZn8qV7CJCN1KgtWFw=\", false, function() {\n    return [\n        _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_11__.useAuth,\n        _ui_Toast__WEBPACK_IMPORTED_MODULE_10__.useToast,\n        _hooks_useSpeechRecognition__WEBPACK_IMPORTED_MODULE_4__.useSpeechRecognition\n    ];\n});\n_c1 = PracticeView;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PracticeView);\nvar _c, _c1;\n$RefreshReg$(_c, \"SpeechVisualizer\");\n$RefreshReg$(_c1, \"PracticeView\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdmlld3MvUHJhY3RpY2VWaWV3LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDTTtBQUNJO0FBQ1Y7QUFDZDtBQUNoQjtBQUNWO0FBQ007QUFDSjtBQUNLO0FBQ2M7QUFDd0I7QUFDZ0U7QUFTN0ksTUFBTXNCLG1CQUE2QixrQkFDL0IsOERBQUNDO1FBQUlDLFdBQVU7UUFBd0RDLGVBQVk7OzBCQUMvRSw4REFBQ0M7Z0JBQUtGLFdBQVU7Ozs7OzswQkFDaEIsOERBQUNFO2dCQUFLRixXQUFVO2dCQUErREcsT0FBTztvQkFBRUMsZ0JBQWdCO2dCQUFPOzs7Ozs7MEJBQy9HLDhEQUFDRjtnQkFBS0YsV0FBVTtnQkFBK0RHLE9BQU87b0JBQUVDLGdCQUFnQjtnQkFBTzs7Ozs7OzBCQUMvRyw4REFBQ0Y7Z0JBQUtGLFdBQVU7Z0JBQStERyxPQUFPO29CQUFFQyxnQkFBZ0I7Z0JBQU87Ozs7Ozs7Ozs7OztLQUxqSE47QUFTTixNQUFNTyxlQUE0QyxDQUFDLEVBQUVDLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRTs7SUFDekYsTUFBTSxDQUFDQyxrQkFBa0JDLG9CQUFvQixHQUFHbEMsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDbUMsWUFBWUMsY0FBYyxHQUFHcEMsK0NBQVFBLENBQWdCLEVBQUU7SUFDOUQsTUFBTSxDQUFDcUMsaUJBQWlCQyxtQkFBbUIsR0FBR3RDLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ3VDLGlCQUFpQkMsbUJBQW1CLEdBQUd4QywrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUN5QyxlQUFlQyxpQkFBaUIsR0FBRzFDLCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNLENBQUMyQyxvQkFBb0JDLHNCQUFzQixHQUFHNUMsK0NBQVFBLENBQUM7SUFDN0QsTUFBTSxDQUFDNkMsV0FBV0MsYUFBYSxHQUFHOUMsK0NBQVFB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LDhDQUFNQTt3Q0FDSG9JLFNBQVNEO3dDQUNURSxTQUFRO3dDQUNSQyxNQUFLO3dDQUNMOEMsU0FBUzt3Q0FDVHRDLFVBQVU5Rzt3Q0FDVjJILG9CQUFNLDhEQUFDWDs0Q0FBRXBJLFdBQVU7NENBQW1CQyxlQUFZOzs7Ozs7a0RBRWpEbUIscUJBQXFCLGdCQUFnQjs7Ozs7O2tEQUUxQyw4REFBQ2hDLDhDQUFNQTt3Q0FDSG9JLFNBQVM7NENBQ0wsb0NBQW9DOzRDQUNwQyxNQUFNaUQsbUJBQTZCO2dEQUMvQkMsY0FBYztnREFDZEMsa0JBQWtCO2dEQUNsQkMsZUFBZTtnREFDZkMsZ0JBQWdCO2dEQUNoQkMsZ0JBQWdCLEVBQUU7Z0RBQ2xCQyxhQUFhLENBQUM7Z0RBQ2RDLFdBQVc7Z0RBQ1hDLGdCQUFnQjtnREFDaEJDLGlCQUFpQmhLOzRDQUNyQjs0Q0FDQUMsaUJBQWlCOzRDQUNqQlgsU0FBU0ksWUFBWTZKO3dDQUN6Qjt3Q0FDQWhELFNBQVE7d0NBQ1JDLE1BQUs7d0NBQ0w4QyxTQUFTO2tEQUNaOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVWpDO0dBdHBCTW5LOztRQVdlZCwyREFBT0E7UUFDbUNELGdEQUFRQTtRQUN5Rk4sNkVBQW9CQTs7O01BYjlLcUI7QUF3cEJOLGlFQUFlQSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3ZpZXdzL1ByYWN0aWNlVmlldy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQYXRpZW50UHJvZmlsZSwgVXNlclRpZXIsIENoYXRNZXNzYWdlLCBGZWVkYmFjayB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IEZSRUVfU0VTU0lPTl9EVVJBVElPTiwgUFJFTUlVTV9TRVNTSU9OX0RVUkFUSU9OIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IHVzZVNwZWVjaFJlY29nbml0aW9uIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlU3BlZWNoUmVjb2duaXRpb24nO1xuaW1wb3J0IFBhdGllbnRQcm9maWxlQ2FyZCBmcm9tICcuLi91aS9QYXRpZW50UHJvZmlsZUNhcmQnO1xuaW1wb3J0IENoYXRCdWJibGUgZnJvbSAnLi4vdWkvQ2hhdEJ1YmJsZSc7XG5pbXBvcnQgVGltZXIgZnJvbSAnLi4vdWkvVGltZXInO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi91aS9DYXJkJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnLi4vdWkvVG9hc3QnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4uLy4uL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IGdldFN1cGFiYXNlQ2xpZW50LCBpc1N1cGFiYXNlQ29uZmlndXJlZCB9IGZyb20gJy4uLy4uL2xpYi9zdXBhYmFzZSc7XG5pbXBvcnQgeyBnZXRWYWxpZEF1dGhUb2tlbiwgYXV0b1NhdmVTZXNzaW9uLCBnZXRBdXRvU2F2ZWRTZXNzaW9uLCBjbGVhckF1dG9TYXZlZFNlc3Npb25zLCBpc1Nlc3Npb25WYWxpZCB9IGZyb20gJy4uLy4uL3V0aWxzL3Nlc3Npb25NYW5hZ2VyJztcblxuaW50ZXJmYWNlIFByYWN0aWNlVmlld1Byb3BzIHtcbiAgICBwYXRpZW50OiBQYXRpZW50UHJvZmlsZTtcbiAgICB1c2VyVGllcjogVXNlclRpZXI7XG4gICAgb25GaW5pc2g6ICh0cmFuc2NyaXB0OiBDaGF0TWVzc2FnZVtdLCBmZWVkYmFjazogRmVlZGJhY2spID0+IHZvaWQ7XG4gICAgb25VcGdyYWRlPzogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgU3BlZWNoVmlzdWFsaXplcjogUmVhY3QuRkMgPSAoKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWVuZCBqdXN0aWZ5LWNlbnRlciBzcGFjZS14LTEgcGwtMyBwci0yIGgtNlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTEgaC0yIGJnLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gcm91bmRlZC1mdWxsIGFuaW1hdGUtd2F2ZXlcIj48L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMSBoLTQgYmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXSByb3VuZGVkLWZ1bGwgYW5pbWF0ZS13YXZleVwiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiAnMC4ycycgfX0+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTEgaC01IGJnLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gcm91bmRlZC1mdWxsIGFuaW1hdGUtd2F2ZXlcIiBzdHlsZT17eyBhbmltYXRpb25EZWxheTogJzAuNHMnIH19Pjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy0xIGgtMyBiZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldIHJvdW5kZWQtZnVsbCBhbmltYXRlLXdhdmV5XCIgc3R5bGU9e3sgYW5pbWF0aW9uRGVsYXk6ICcwLjFzJyB9fT48L3NwYW4+XG4gICAgPC9kaXY+XG4pO1xuXG5jb25zdCBQcmFjdGljZVZpZXc6IFJlYWN0LkZDPFByYWN0aWNlVmlld1Byb3BzPiA9ICh7IHBhdGllbnQsIHVzZXJUaWVyLCBvbkZpbmlzaCwgb25VcGdyYWRlIH0pID0+IHtcbiAgICBjb25zdCBbaXNTZXNzaW9uU3RhcnRlZCwgc2V0SXNTZXNzaW9uU3RhcnRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3RyYW5zY3JpcHQsIHNldFRyYW5zY3JpcHRdID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2VbXT4oW10pO1xuICAgIGNvbnN0IFtpc1BhdGllbnRUeXBpbmcsIHNldElzUGF0aWVudFR5cGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2lzRW5kaW5nU2Vzc2lvbiwgc2V0SXNFbmRpbmdTZXNzaW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbZmVlZGJhY2tFcnJvciwgc2V0RmVlZGJhY2tFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbaXNSZXRyeWluZ0ZlZWRiYWNrLCBzZXRJc1JldHJ5aW5nRmVlZGJhY2tdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzZW5kRXJyb3IsIHNldFNlbmRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbbGFzdEZhaWxlZE1lc3NhZ2UsIHNldExhc3RGYWlsZWRNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtzZXNzaW9uRXhwaXJlZCwgc2V0U2Vzc2lvbkV4cGlyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIFxuICAgIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuICAgIGNvbnN0IHsgc2hvd1RvYXN0LCBUb2FzdENvbnRhaW5lciwgdG9hc3RzLCByZW1vdmVUb2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgICBjb25zdCB7IGlzTGlzdGVuaW5nLCBmaW5hbFRyYW5zY3JpcHQsIGludGVyaW1UcmFuc2NyaXB0LCBzdGFydExpc3RlbmluZywgc3RvcExpc3RlbmluZywgaGFzU3VwcG9ydCwgZXJyb3I6IG1pY0Vycm9yLCBzZXRUcmFuc2NyaXB0OiBzZXRTcGVlY2hUcmFuc2NyaXB0IH0gPSB1c2VTcGVlY2hSZWNvZ25pdGlvbigpO1xuICAgIC8vIENvbWJpbmUgZmluYWwgYW5kIGludGVyaW0gZm9yIGRpc3BsYXkgKGludGVyaW0gc2hvd3MgYXMgbGl2ZSBwcmV2aWV3KVxuICAgIGNvbnN0IHNwZWVjaFRyYW5zY3JpcHQgPSBmaW5hbFRyYW5zY3JpcHQgKyAoaW50ZXJpbVRyYW5zY3JpcHQgPyAoZmluYWxUcmFuc2NyaXB0ID8gJyAnIDogJycpICsgaW50ZXJpbVRyYW5zY3JpcHQgOiAnJyk7XG4gICAgY29uc3QgY2hhdENvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gICAgY29uc3QgdGV4dGFyZWFSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbCk7XG4gICAgY29uc3QgYXV0b1NhdmVJbnRlcnZhbFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IHNlc3Npb25DaGVja0ludGVydmFsUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgICBjb25zdCBzZXNzaW9uRHVyYXRpb24gPSB1c2VyVGllciA9PT0gVXNlclRpZXIuUHJlbWl1bSA/IFBSRU1JVU1fU0VTU0lPTl9EVVJBVElPTiA6IEZSRUVfU0VTU0lPTl9EVVJBVElPTjtcblxuICAgIC8vIFJlc3RvcmUgYXV0by1zYXZlZCBzZXNzaW9uIG9uIG1vdW50XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2F2ZWRTZXNzaW9uID0gZ2V0QXV0b1NhdmVkU2Vzc2lvbigpO1xuICAgICAgICBpZiAoc2F2ZWRTZXNzaW9uICYmIHNhdmVkU2Vzc2lvbi50cmFuc2NyaXB0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlc3RvcmUgPSB3aW5kb3cuY29uZmlybShcbiAgICAgICAgICAgICAgICAnV2UgZm91bmQgYSBzYXZlZCBwcmFjdGljZSBzZXNzaW9uLiBXb3VsZCB5b3UgbGlrZSB0byByZXN0b3JlIGl0PydcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVzdG9yZSkge1xuICAgICAgICAgICAgICAgIHNldFRyYW5zY3JpcHQoc2F2ZWRTZXNzaW9uLnRyYW5zY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNldElzU2Vzc2lvblN0YXJ0ZWQodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFyQXV0b1NhdmVkU2Vzc2lvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsZWFudXAgb24gdW5tb3VudFxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGF1dG9TYXZlSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYXV0b1NhdmVJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXNzaW9uQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChzZXNzaW9uQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG5cbiAgICAvLyBXYXJuIHVzZXIgYmVmb3JlIGxlYXZpbmcgdGhlIHBhZ2UgaWYgc2Vzc2lvbiBpcyBpbiBwcm9ncmVzc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc1Vuc2F2ZWRTZXNzaW9uID0gaXNTZXNzaW9uU3RhcnRlZCAmJiB0cmFuc2NyaXB0Lmxlbmd0aCA+IDAgJiYgIWlzRW5kaW5nU2Vzc2lvbjtcblxuICAgICAgICBjb25zdCBoYW5kbGVCZWZvcmVVbmxvYWQgPSAoZTogQmVmb3JlVW5sb2FkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChoYXNVbnNhdmVkU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIC8vIEF1dG8tc2F2ZSBiZWZvcmUgbGVhdmluZ1xuICAgICAgICAgICAgICAgIGF1dG9TYXZlU2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGllbnQsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9ICdZb3UgaGF2ZSBhbiBhY3RpdmUgcHJhY3RpY2Ugc2Vzc2lvbi4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlPyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUucmV0dXJuVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlUG9wU3RhdGUgPSAoZTogUG9wU3RhdGVFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhhc1Vuc2F2ZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkTGVhdmUgPSB3aW5kb3cuY29uZmlybShcbiAgICAgICAgICAgICAgICAgICAgJ1lvdSBoYXZlIGFuIGFjdGl2ZSBwcmFjdGljZSBzZXNzaW9uLiBZb3VyIHByb2dyZXNzIHdpbGwgYmUgc2F2ZWQuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZT8nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZExlYXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgbmF2aWdhdGlvbiBieSBwdXNoaW5nIHRoZSBjdXJyZW50IHN0YXRlIGJhY2tcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHsgdmlldzogJ1ByYWN0aWNlJyB9LCAnJywgJy9wcmFjdGljZScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgYmVmb3JlIGxlYXZpbmdcbiAgICAgICAgICAgICAgICAgICAgYXV0b1NhdmVTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRpZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGhhbmRsZUJlZm9yZVVubG9hZCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGhhbmRsZUJlZm9yZVVubG9hZCk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBoYW5kbGVQb3BTdGF0ZSk7XG4gICAgICAgIH07XG4gICAgfSwgW2lzU2Vzc2lvblN0YXJ0ZWQsIHRyYW5zY3JpcHQsIHBhdGllbnQsIGlzRW5kaW5nU2Vzc2lvbl0pO1xuXG4gICAgLy8gQXV0by1zYXZlIHNlc3Npb24gZGF0YSBldmVyeSAzMCBzZWNvbmRzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzU2Vzc2lvblN0YXJ0ZWQgJiYgdHJhbnNjcmlwdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhdXRvU2F2ZUludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXV0b1NhdmVTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMzAwMDApOyAvLyBBdXRvLXNhdmUgZXZlcnkgMzAgc2Vjb25kc1xuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhdXRvU2F2ZUludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvU2F2ZUludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCBbaXNTZXNzaW9uU3RhcnRlZCwgdHJhbnNjcmlwdCwgcGF0aWVudF0pO1xuXG4gICAgLy8gQ2hlY2sgc2Vzc2lvbiB2YWxpZGl0eSBldmVyeSAyIG1pbnV0ZXNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNTZXNzaW9uU3RhcnRlZCAmJiB1c2VyKSB7XG4gICAgICAgICAgICBzZXNzaW9uQ2hlY2tJbnRlcnZhbFJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBpc1Nlc3Npb25WYWxpZCgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTZXNzaW9uRXhwaXJlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25DaGVja0ludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc2Vzc2lvbkNoZWNrSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMjAwMDApOyAvLyBDaGVjayBldmVyeSAyIG1pbnV0ZXNcblxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkNoZWNrSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHNlc3Npb25DaGVja0ludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCBbaXNTZXNzaW9uU3RhcnRlZCwgdXNlcl0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGNoYXRDb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY2hhdENvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IGNoYXRDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9LCBbdHJhbnNjcmlwdCwgaXNQYXRpZW50VHlwaW5nXSk7XG5cbiAgICAvLyBBdXRvLXJlc2l6ZSB0ZXh0YXJlYVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRleHRhcmVhID0gdGV4dGFyZWFSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKHRleHRhcmVhKSB7XG4gICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7IC8vIFJlc2V0IGhlaWdodCB0byBzaHJpbmsgaWYgdGV4dCBpcyBkZWxldGVkXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSB0ZXh0YXJlYS5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBgJHtzY3JvbGxIZWlnaHR9cHhgOyAvLyBTZXQgaGVpZ2h0IHRvIGNvbnRlbnQgaGVpZ2h0XG4gICAgICAgIH1cbiAgICB9LCBbc3BlZWNoVHJhbnNjcmlwdF0pO1xuXG4gICAgLyoqXG4gICAgICogR2V0IHBhdGllbnQgcmVzcG9uc2UgZnJvbSBFZGdlIEZ1bmN0aW9uXG4gICAgICovXG4gICAgY29uc3QgZ2V0UGF0aWVudFJlc3BvbnNlRnJvbUVkZ2VGdW5jdGlvbiA9IHVzZUNhbGxiYWNrKGFzeW5jIChtZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgICAgICAvLyBDaGVjayBzZXNzaW9uIHZhbGlkaXR5IGJlZm9yZSBtYWtpbmcgcmVxdWVzdFxuICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCBnZXRWYWxpZEF1dGhUb2tlbigpO1xuICAgICAgICBpZiAoIWF1dGhUb2tlbikge1xuICAgICAgICAgICAgc2V0U2Vzc2lvbkV4cGlyZWQodHJ1ZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgc2Vzc2lvbiBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYW5kIGxvZyBpbiBhZ2Fpbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBTdXBhYmFzZSBVUkwgYW5kIGNvbnN0cnVjdCBFZGdlIEZ1bmN0aW9uIFVSTFxuICAgICAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbiAgICAgICAgaWYgKCFzdXBhYmFzZVVybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBVUkwgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uc1VybCA9IGAke3N1cGFiYXNlVXJsfS9mdW5jdGlvbnMvdjEvcGF0aWVudC1yZXNwb25zZWA7XG5cbiAgICAgICAgLy8gUmVxdWlyZSBhdXRoZW50aWNhdGlvblxuICAgICAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBiZSBsb2dnZWQgaW4gdG8gY2hhdCB3aXRoIHRoZSBwYXRpZW50LiBQbGVhc2UgbG9nIGluIGFuZCB0cnkgYWdhaW4uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcmVwYXJlIHJlcXVlc3Qgd2l0aCByZXF1aXJlZCBBdXRob3JpemF0aW9uIGhlYWRlclxuICAgICAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2F1dGhUb2tlbn1gLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE1ha2UgcmVxdWVzdCB0byBFZGdlIEZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZnVuY3Rpb25zVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdCxcbiAgICAgICAgICAgICAgICBwYXRpZW50LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSGFuZGxlIGVycm9yc1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgZXJyb3I6ICdVbmtub3duIGVycm9yJyB9KSk7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgYEZhaWxlZCB0byBnZXQgcGF0aWVudCByZXNwb25zZSAoJHtyZXNwb25zZS5zdGF0dXN9KWA7XG5cbiAgICAgICAgICAgIC8vIE1hcCBIVFRQIHN0YXR1cyBjb2RlcyB0byB1c2VyLWZyaWVuZGx5IG1lc3NhZ2VzXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgc2Vzc2lvbiBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FJIHNlcnZpY2UgaXMgYnVzeS4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1vbWVudC4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA1MDQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGllbnQgcmVzcG9uc2UgdGltZWQgb3V0LiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDUwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQUkgc2VydmljZSBlcnJvci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXJzZSBhbmQgcmV0dXJuIHJlc3BvbnNlXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiBkYXRhLnJlc3BvbnNlIGFzIHN0cmluZztcbiAgICB9LCBbdHJhbnNjcmlwdCwgcGF0aWVudCwgdXNlcl0pO1xuXG4gICAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAodGV4dDogc3RyaW5nLCBpc1JldHJ5ID0gZmFsc2UpID0+IHtcbiAgICAgICAgLy8gQ2xlYXIgYW55IHByZXZpb3VzIHNlbmQgZXJyb3JcbiAgICAgICAgc2V0U2VuZEVycm9yKG51bGwpO1xuICAgICAgICBzZXRMYXN0RmFpbGVkTWVzc2FnZShudWxsKTtcblxuICAgICAgICBpZiAoIXRleHQudHJpbSgpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGlzUGF0aWVudFR5cGluZykge1xuICAgICAgICAgICAgc2V0U2VuZEVycm9yKCdQbGVhc2Ugd2FpdCBmb3IgdGhlIHBhdGllbnQgdG8gcmVzcG9uZC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgYWRkIHVzZXIgbWVzc2FnZSBpZiBub3QgYSByZXRyeSAocmV0cnkgbWVhbnMgd2UgYWxyZWFkeSBoYXZlIHRoZSBtZXNzYWdlKVxuICAgICAgICBpZiAoIWlzUmV0cnkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHsgYXV0aG9yOiAndXNlcicsIHRleHQgfTtcbiAgICAgICAgICAgIHNldFRyYW5zY3JpcHQocHJldiA9PiBbLi4ucHJldiwgbmV3VXNlck1lc3NhZ2VdKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJc1BhdGllbnRUeXBpbmcodHJ1ZSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEdldCBwYXRpZW50IHJlc3BvbnNlIGZyb20gRWRnZSBGdW5jdGlvblxuICAgICAgICAgICAgY29uc3QgcGF0aWVudFJlc3BvbnNlID0gYXdhaXQgZ2V0UGF0aWVudFJlc3BvbnNlRnJvbUVkZ2VGdW5jdGlvbih0ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGllbnRNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHsgYXV0aG9yOiAncGF0aWVudCcsIHRleHQ6IHBhdGllbnRSZXNwb25zZSB9O1xuICAgICAgICAgICAgc2V0VHJhbnNjcmlwdChwcmV2ID0+IFsuLi5wcmV2LCBuZXdQYXRpZW50TWVzc2FnZV0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBdXRvLXNhdmUgYWZ0ZXIgc3VjY2Vzc2Z1bCByZXNwb25zZVxuICAgICAgICAgICAgYXV0b1NhdmVTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0OiBbLi4udHJhbnNjcmlwdCwgeyBhdXRob3I6ICd1c2VyJywgdGV4dCB9LCB7IGF1dGhvcjogJ3BhdGllbnQnLCB0ZXh0OiBwYXRpZW50UmVzcG9uc2UgfV0sXG4gICAgICAgICAgICAgICAgcGF0aWVudCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQcmFjdGljZVZpZXddIEZhaWxlZCB0byBnZXQgcGF0aWVudCByZXNwb25zZTonLCBlcnJvcik7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gZ2V0IHBhdGllbnQgcmVzcG9uc2UuJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgICAgICAgIGNvbnN0IGlzTmV0d29ya0Vycm9yID0gZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdGYWlsZWQgdG8gZmV0Y2gnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrRXJyb3InKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCduZXR3b3JrJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpc05ldHdvcmtFcnJvcikge1xuICAgICAgICAgICAgICAgIHNldFNlbmRFcnJvcignTmV0d29yayBjb25uZWN0aW9uIGxvc3QuIENoZWNrIHlvdXIgY29ubmVjdGlvbiBhbmQgdGFwIFJldHJ5LicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRTZW5kRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGZhaWxlZCBtZXNzYWdlIGZvciByZXRyeVxuICAgICAgICAgICAgc2V0TGFzdEZhaWxlZE1lc3NhZ2UodGV4dCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEF1dG8tc2F2ZSB0cmFuc2NyaXB0IG9uIGVycm9yIChkb24ndCBhZGQgZmFsbGJhY2sgbWVzc2FnZSwgbGV0IHVzZXIgcmV0cnkpXG4gICAgICAgICAgICBhdXRvU2F2ZVNlc3Npb24oe1xuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHQ6IFsuLi50cmFuc2NyaXB0LCB7IGF1dGhvcjogJ3VzZXInLCB0ZXh0IH1dLFxuICAgICAgICAgICAgICAgIHBhdGllbnQsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1BhdGllbnRUeXBpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgW2dldFBhdGllbnRSZXNwb25zZUZyb21FZGdlRnVuY3Rpb24sIGlzUGF0aWVudFR5cGluZywgdHJhbnNjcmlwdCwgcGF0aWVudF0pO1xuXG4gICAgY29uc3QgaGFuZGxlUmV0cnlMYXN0TWVzc2FnZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGxhc3RGYWlsZWRNZXNzYWdlKSB7XG4gICAgICAgICAgICBoYW5kbGVTZW5kTWVzc2FnZShsYXN0RmFpbGVkTWVzc2FnZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbbGFzdEZhaWxlZE1lc3NhZ2UsIGhhbmRsZVNlbmRNZXNzYWdlXSk7XG4gICAgXG4gICAgY29uc3QgaGFuZGxlVm9pY2VTZW5kID0gKCkgPT4ge1xuICAgICAgICAvLyBDbGVhciBhbnkgcHJldmlvdXMgc2VuZCBlcnJvciB3aGVuIHVzZXIgaW50ZXJhY3RzIHdpdGggbWljXG4gICAgICAgIHNldFNlbmRFcnJvcihudWxsKTtcbiAgICAgICAgaWYgKGlzTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICBzdG9wTGlzdGVuaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFydExpc3RlbmluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVUZXh0U2VuZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzcGVlY2hUcmFuc2NyaXB0LnRyaW0oKSkgcmV0dXJuO1xuICAgICAgICBpZiAoaXNMaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgIHN0b3BMaXN0ZW5pbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFuc2NyaXB0VG9TZW5kID0gc3BlZWNoVHJhbnNjcmlwdDtcbiAgICAgICAgaGFuZGxlU2VuZE1lc3NhZ2UodHJhbnNjcmlwdFRvU2VuZCk7XG4gICAgICAgIHNldFNwZWVjaFRyYW5zY3JpcHQoJycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIHRoZSBhbmFseXplLXNlc3Npb24gRWRnZSBGdW5jdGlvbiB0byBnZXQgZmVlZGJhY2tcbiAgICAgKiBcbiAgICAgKiBVc2VzIGR1YWwtcnVuIHdyYXBwZXIgZm9yIFN0cmFuZ2xlciBGaWcgbWlncmF0aW9uOlxuICAgICAqIC0gQ2FsbHMgYm90aCBsZWdhY3kgYW5kIHYyIGZ1bmN0aW9ucyBpbiBwYXJhbGxlbFxuICAgICAqIC0gQ29tcGFyZXMgb3V0cHV0cyBhbmQgdHJhY2tzIHNlbWFudGljLWVxdWFsIG1hdGNoZXNcbiAgICAgKiAtIFJldHVybnMgbGVnYWN5IG91dHB1dCAoZm9yIG5vdykgd2hpbGUgbW9uaXRvcmluZyBkcmlmdFxuICAgICAqL1xuICAgIGNvbnN0IGdldEZlZWRiYWNrRnJvbUVkZ2VGdW5jdGlvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPEZlZWRiYWNrPiA9PiB7XG4gICAgICAgIC8vIENoZWNrIHNlc3Npb24gdmFsaWRpdHkgYmVmb3JlIG1ha2luZyByZXF1ZXN0XG4gICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IGdldFZhbGlkQXV0aFRva2VuKCk7XG4gICAgICAgIGlmICghYXV0aFRva2VuKSB7XG4gICAgICAgICAgICBzZXRTZXNzaW9uRXhwaXJlZCh0cnVlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBzZXNzaW9uIGhhcyBleHBpcmVkLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBhbmQgbG9nIGluIGFnYWluLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IFN1cGFiYXNlIFVSTCBhbmQgY29uc3RydWN0IEVkZ2UgRnVuY3Rpb24gVVJMXG4gICAgICAgIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuICAgICAgICBpZiAoIXN1cGFiYXNlVXJsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIFVSTCBub3QgY29uZmlndXJlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlIGR1YWwtcnVuIHdyYXBwZXIgZm9yIFN0cmFuZ2xlciBGaWcgbWlncmF0aW9uIHRyYWNraW5nXG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uc1VybCA9IGAke3N1cGFiYXNlVXJsfS9mdW5jdGlvbnMvdjEvZHVhbC1ydW4tYW5hbHl6ZS1zZXNzaW9uYDtcblxuICAgICAgICAvLyBSZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIGNoZWNrIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBnZW5lcmF0ZSBmZWVkYmFjay4gUGxlYXNlIGxvZyBpbiBhbmQgdHJ5IGFnYWluLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJlcGFyZSByZXF1ZXN0IHdpdGggcmVxdWlyZWQgQXV0aG9yaXphdGlvbiBoZWFkZXJcbiAgICAgICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthdXRoVG9rZW59YCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNYWtlIHJlcXVlc3QgdG8gRWRnZSBGdW5jdGlvblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGZ1bmN0aW9uc1VybCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHQsXG4gICAgICAgICAgICAgICAgcGF0aWVudCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIYW5kbGUgZXJyb3JzXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ1Vua25vd24gZXJyb3InIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5lcnJvciB8fCBgRmFpbGVkIHRvIGFuYWx5emUgc2Vzc2lvbiAoJHtyZXNwb25zZS5zdGF0dXN9KWA7XG5cbiAgICAgICAgICAgIC8vIE1hcCBIVFRQIHN0YXR1cyBjb2RlcyB0byB1c2VyLWZyaWVuZGx5IG1lc3NhZ2VzXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgc2Vzc2lvbiBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FJIHNlcnZpY2UgaXMgYnVzeS4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1vbWVudC4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA1MDQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuYWx5c2lzIHRpbWVkIG91dC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA1MDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FJIHNlcnZpY2UgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFyc2UgYW5kIHJldHVybiBmZWVkYmFja1xuICAgICAgICBjb25zdCBmZWVkYmFjayA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIGZlZWRiYWNrIGFzIEZlZWRiYWNrO1xuICAgIH0sIFt0cmFuc2NyaXB0LCBwYXRpZW50LCB1c2VyXSk7XG5cbiAgICBjb25zdCBoYW5kbGVFbmRTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBzZXRJc0VuZGluZ1Nlc3Npb24odHJ1ZSk7XG4gICAgICAgIHNldEZlZWRiYWNrRXJyb3IobnVsbCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgdG9hc3QgaW1tZWRpYXRlbHlcbiAgICAgICAgc2hvd1RvYXN0KCdTZXNzaW9uIGNvbXBsZXRlISBHZW5lcmF0aW5nIHlvdXIgZmVlZGJhY2suLi4nLCAnc3VjY2VzcycpO1xuXG4gICAgICAgIC8vIENsZWFyIGF1dG8tc2F2ZSBvbiBzdWNjZXNzZnVsIGNvbXBsZXRpb25cbiAgICAgICAgY2xlYXJBdXRvU2F2ZWRTZXNzaW9ucygpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmZWVkYmFjayA9IGF3YWl0IGdldEZlZWRiYWNrRnJvbUVkZ2VGdW5jdGlvbigpO1xuICAgICAgICAgICAgc2V0SXNFbmRpbmdTZXNzaW9uKGZhbHNlKTtcbiAgICAgICAgICAgIG9uRmluaXNoKHRyYW5zY3JpcHQsIGZlZWRiYWNrKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQcmFjdGljZVZpZXddIEZhaWxlZCB0byBnZXQgZmVlZGJhY2s6JywgZXJyb3IpO1xuICAgICAgICAgICAgc2V0SXNFbmRpbmdTZXNzaW9uKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBnZW5lcmF0ZSBmZWVkYmFjay4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xuICAgICAgICAgICAgc2V0RmVlZGJhY2tFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJZiBzZXNzaW9uIGV4cGlyZWQsIGF1dG8tc2F2ZSBiZWZvcmUgc2hvd2luZyBlcnJvclxuICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnc2Vzc2lvbiBoYXMgZXhwaXJlZCcpKSB7XG4gICAgICAgICAgICAgICAgYXV0b1NhdmVTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW3RyYW5zY3JpcHQsIGdldEZlZWRiYWNrRnJvbUVkZ2VGdW5jdGlvbiwgb25GaW5pc2gsIHBhdGllbnQsIHNob3dUb2FzdF0pO1xuXG4gICAgY29uc3QgaGFuZGxlUmV0cnlGZWVkYmFjayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgc2V0SXNSZXRyeWluZ0ZlZWRiYWNrKHRydWUpO1xuICAgICAgICBzZXRGZWVkYmFja0Vycm9yKG51bGwpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmZWVkYmFjayA9IGF3YWl0IGdldEZlZWRiYWNrRnJvbUVkZ2VGdW5jdGlvbigpO1xuICAgICAgICAgICAgc2V0SXNSZXRyeWluZ0ZlZWRiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIG9uRmluaXNoKHRyYW5zY3JpcHQsIGZlZWRiYWNrKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQcmFjdGljZVZpZXddIFJldHJ5IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRJc1JldHJ5aW5nRmVlZGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGdlbmVyYXRlIGZlZWRiYWNrLiBQbGVhc2UgdHJ5IGFnYWluLic7XG4gICAgICAgICAgICBzZXRGZWVkYmFja0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9LCBbdHJhbnNjcmlwdCwgZ2V0RmVlZGJhY2tGcm9tRWRnZUZ1bmN0aW9uLCBvbkZpbmlzaF0pO1xuXG4gICAgaWYgKCFpc1Nlc3Npb25TdGFydGVkKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy10cmFuc3BhcmVudCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgICAgICAgICA8UGF0aWVudFByb2ZpbGVDYXJkIHBhdGllbnQ9e3BhdGllbnR9IHVzZXJUaWVyPXt1c2VyVGllcn0gb25VcGdyYWRlPXtvblVwZ3JhZGV9IC8+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc1Nlc3Npb25TdGFydGVkKHRydWUpfVxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTggcHgtMTIgcHktNCB0ZXh0LTJ4bCBzaGFkb3ctWzRweF80cHhfMHB4XzBweF9yZ2JhKDAsMCwwLDAuOCldIGJvcmRlci0yIGJvcmRlci1ibGFja1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBCZWdpbiBTZXNzaW9uXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1zY3JlZW4gYmctdHJhbnNwYXJlbnRcIj5cbiAgICAgICAgICAgIDxUb2FzdENvbnRhaW5lciB0b2FzdHM9e3RvYXN0c30gb25SZW1vdmU9e3JlbW92ZVRvYXN0fSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC00IGJvcmRlci1iLTIgYm9yZGVyLWJsYWNrIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gdHJ1bmNhdGVcIj53aXRoIHtwYXRpZW50Lm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgey8qIFByb2dyZXNzIGluZGljYXRvciBzaG93aW5nIG1lc3NhZ2UgY291bnQgKi99XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNjcmlwdC5sZW5ndGggPT09IDAgPyAnU3RhcnQgdGhlIGNvbnZlcnNhdGlvbi4uLicgOiBgJHt0cmFuc2NyaXB0Lmxlbmd0aH0gbWVzc2FnZSR7dHJhbnNjcmlwdC5sZW5ndGggIT09IDEgPyAncycgOiAnJ30gZXhjaGFuZ2VkYH1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPFRpbWVyIGluaXRpYWxTZWNvbmRzPXtzZXNzaW9uRHVyYXRpb259IG9uVGltZVVwPXtoYW5kbGVFbmRTZXNzaW9ufSAvPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVFbmRTZXNzaW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRW5kaW5nU2Vzc2lvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgbWluLWgtW3ZhcigtLXRvdWNoLXRhcmdldC1taW4pXSB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgYm9yZGVyLTIgYm9yZGVyLWJsYWNrIGRpc2FibGVkOm9wYWNpdHktNTAgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yZWQtNTAwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRW5kaW5nU2Vzc2lvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcmVkLTYwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXJlZC01MDAgaG92ZXI6YmctcmVkLTYwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNFbmRpbmdTZXNzaW9uID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGluZy4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0VuZCBTZXNzaW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiByZWY9e2NoYXRDb250YWluZXJSZWZ9IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC00IGJnLXdoaXRlIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAge3RyYW5zY3JpcHQubGVuZ3RoID09PSAwICYmICFpc1BhdGllbnRUeXBpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGwgbWluLWgtWzIwMHB4XSB0ZXh0LWNlbnRlciB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1jb21tZW50cyB0ZXh0LTR4bCBtYi0zIG9wYWNpdHktNDBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlNheSBzb21ldGhpbmcgdG8gc3RhcnQgdGhlIGNvbnZlcnNhdGlvbjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7dHJhbnNjcmlwdC5tYXAoKG1zZywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QnViYmxlIGtleT17aW5kZXh9IG1lc3NhZ2U9e21zZ30gLz5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIHtpc1BhdGllbnRUeXBpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNsaWRlLWZhZGUtaW4gcHQtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGF0QnViYmxlIG1lc3NhZ2U9e3sgYXV0aG9yOiAncGF0aWVudCcsIHRleHQ6ICcuLi4nIH19IGlzVHlwaW5nPXt0cnVlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQtMiBib3JkZXItYmxhY2sgYmctW3ZhcigtLWNvbG9yLWJnLWFjY2VudCldXCI+XG4gICAgICAgICAgICAgICAgey8qIFNjcmVlbiByZWFkZXIgYW5ub3VuY2VtZW50IGZvciB2b2ljZSByZWNvcmRpbmcgc3RhdHVzICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3Itb25seVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIiBhcmlhLWF0b21pYz1cInRydWVcIj5cbiAgICAgICAgICAgICAgICAgICAge2lzTGlzdGVuaW5nID8gJ1JlY29yZGluZyBzdGFydGVkLiBTcGVhayBub3cuJyA6ICcnfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtzZXNzaW9uRXhwaXJlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkIHZhcmlhbnQ9XCJhY2NlbnRcIiBwYWRkaW5nPVwic21cIiBjbGFzc05hbWU9XCJtYi0zIGJvcmRlci1sLTQgYm9yZGVyLVt2YXIoLS1jb2xvci1lcnJvcildXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTJcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtW3ZhcigtLWNvbG9yLWVycm9yKV0gdGV4dC1zbSBmb250LXNlbWlib2xkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+WW91ciBzZXNzaW9uIGhhcyBleHBpcmVkPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBZb3VyIHByYWN0aWNlIHNlc3Npb24gaGFzIGJlZW4gc2F2ZWQuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGFuZCBsb2cgaW4gYWdhaW4gdG8gY29udGludWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVmcmVzaCAmIExvZyBJblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHsobWljRXJyb3IgfHwgc2VuZEVycm9yKSAmJiAhc2Vzc2lvbkV4cGlyZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8Q2FyZCB2YXJpYW50PVwiYWNjZW50XCIgcGFkZGluZz1cInNtXCIgY2xhc3NOYW1lPVwibWItMyBib3JkZXItbC00IGJvcmRlci1bdmFyKC0tY29sb3ItZXJyb3IpXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMiB0ZXh0LVt2YXIoLS1jb2xvci1lcnJvcildIHRleHQtc20gZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZSBtdC0wLjVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnttaWNFcnJvciB8fCBzZW5kRXJyb3J9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZW5kRXJyb3IgJiYgbGFzdEZhaWxlZE1lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXRyeUxhc3RNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUGF0aWVudFR5cGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLXJlZG9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1lbmQgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtZW5kIGJnLXdoaXRlIGJvcmRlci0yIGJvcmRlci1ibGFjayBmb2N1cy13aXRoaW46cmluZy0yIGZvY3VzLXdpdGhpbjpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gdHJhbnNpdGlvbi1zaGFkb3cgZHVyYXRpb24tMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNMaXN0ZW5pbmcgJiYgPFNwZWVjaFZpc3VhbGl6ZXIgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e3RleHRhcmVhUmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzcGVlY2hUcmFuc2NyaXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U3BlZWNoVHJhbnNjcmlwdChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2lzTGlzdGVuaW5nID8gXCJMaXN0ZW5pbmcuLi5cIiA6IFwiVHlwZSB5b3VyIHJlc3BvbnNlIG9yIHVzZSB0aGUgbWljcm9waG9uZS4uLlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBwLTMgYmctdHJhbnNwYXJlbnQgZm9jdXM6b3V0bGluZS1ub25lIHJlc2l6ZS1ub25lIHctZnVsbCBtYXgtaC01NiBvdmVyZmxvdy15LWF1dG8gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRleHRTZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2Nyb2xsIHRleHRhcmVhIGludG8gdmlldyB3aGVuIG1vYmlsZSBrZXlib2FyZCBvcGVuc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRhcmVhUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNQYXRpZW50VHlwaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXtpc0xpc3RlbmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjYXJldENvbG9yOiBpc0xpc3RlbmluZyA/ICd0cmFuc3BhcmVudCcgOiAnYXV0bycgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7aGFzU3VwcG9ydCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVWb2ljZVNlbmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1BhdGllbnRUeXBpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctW3ZhcigtLXRvdWNoLXRhcmdldC1taW4pXS4uLmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2lzTGlzdGVuaW5nID8gJ1N0b3AgcmVjb3JkaW5nJyA6ICdTdGFydCByZWNvcmRpbmcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLXByZXNzZWQ9e2lzTGlzdGVuaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtbWljcm9waG9uZSB0ZXh0LXhsXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbWItMiBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIHB4LTMgcHktMS41IGJnLVt2YXIoLS1jb2xvci1uZXV0cmFsLTgwMCldIHRleHQtd2hpdGUgdGV4dC14cyBmb250LXNlbWlib2xkIHNoYWRvdy1sZyBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTMwMCBwb2ludGVyLWV2ZW50cy1ub25lIHotMTAgd2hpdGVzcGFjZS1ub3dyYXAgcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNMaXN0ZW5pbmcgPyAnU3RvcCBSZWNvcmRpbmcnIDogJ1N0YXJ0IFJlY29yZGluZyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdGV4dC1bdmFyKC0tY29sb3ItbmV1dHJhbC04MDApXSBoLTIgdy1mdWxsIGxlZnQtMCB0b3AtZnVsbFwiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAyNTUgMjU1XCIgeG1sU3BhY2U9XCJwcmVzZXJ2ZVwiPjxwb2x5Z29uIGNsYXNzTmFtZT1cImZpbGwtY3VycmVudFwiIHBvaW50cz1cIjAsMCAxMjcuNSwxMjcuNSAyNTUsMFwiLz48L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUZXh0U2VuZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1BhdGllbnRUeXBpbmcgfHwgIXNwZWVjaFRyYW5zY3JpcHQudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1bdmFyKC0tdG91Y2gtdGFyZ2V0LW1pbildIGgtW3ZhcigtLXRvdWNoLXRhcmdldC1taW4pXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGJvcmRlci0yIGJvcmRlci1ibGFjayBob3ZlcjpiZy1bdmFyKC0tY29sb3ItcHJpbWFyeS1kYXJrKV0gZGlzYWJsZWQ6YmctW3ZhcigtLWNvbG9yLW5ldXRyYWwtMzAwKV0gZGlzYWJsZWQ6dGV4dC1bdmFyKC0tY29sb3ItbmV1dHJhbC01MDApXSBkaXNhYmxlZDpib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtNDAwKV0gdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU2VuZCBtZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtcGFwZXItcGxhbmUgdGV4dC14bFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsoaXNFbmRpbmdTZXNzaW9uIHx8IGlzUmV0cnlpbmdGZWVkYmFjaykgJiYgKFxuICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctd2hpdGUgYmctb3BhY2l0eS04MCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLTJ4bCB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJvcmRlci00IGJvcmRlci1bdmFyKC0tY29sb3ItcHJpbWFyeSldIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc1JldHJ5aW5nRmVlZGJhY2sgPyAnUmV0cnlpbmcgZmVlZGJhY2sgZ2VuZXJhdGlvbi4uLicgOiAnR2VuZXJhdGluZyB5b3VyIGZlZWRiYWNrLi4uJ31cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge2ZlZWRiYWNrRXJyb3IgJiYgIWlzRW5kaW5nU2Vzc2lvbiAmJiAhaXNSZXRyeWluZ0ZlZWRiYWNrICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctd2hpdGUgYmctb3BhY2l0eS05NSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLTJ4bCB6LTEwIHAtNlwiPlxuICAgICAgICAgICAgICAgICAgICA8Q2FyZCB2YXJpYW50PVwiZWxldmF0ZWRcIiBwYWRkaW5nPVwibGdcIiBjbGFzc05hbWU9XCJtYXgtdy1tZCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLWZ1bGwgYmctW3ZhcigtLWNvbG9yLWVycm9yLWxpZ2h0KV0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIHRleHQtMnhsIHRleHQtW3ZhcigtLWNvbG9yLWVycm9yKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZlZWRiYWNrIEdlbmVyYXRpb24gRmFpbGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSldIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZlZWRiYWNrRXJyb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXRyeUZlZWRiYWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUmV0cnlpbmdGZWVkYmFja31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLXJlZG9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNSZXRyeWluZ0ZlZWRiYWNrID8gJ1JldHJ5aW5nLi4uJyA6ICdSZXRyeSBGZWVkYmFjayBHZW5lcmF0aW9uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBmYWxsYmFjayBmZWVkYmFjayBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja0ZlZWRiYWNrOiBGZWVkYmFjayA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wYXRoeVNjb3JlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBhdGh5QnJlYWtkb3duOiAnRmVlZGJhY2sgZ2VuZXJhdGlvbiBmYWlsZWQuIFlvdXIgcHJhY3RpY2Ugc2Vzc2lvbiB3YXMgc3RpbGwgdmFsdWFibGUhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdFdlbnRSaWdodDogJ1dlIGVuY291bnRlcmVkIGFuIGlzc3VlIGdlbmVyYXRpbmcgZGV0YWlsZWQgZmVlZGJhY2ssIGJ1dCBldmVyeSBwcmFjdGljZSBzZXNzaW9uIGhlbHBzIHlvdSBpbXByb3ZlIHlvdXIgTUkgc2tpbGxzLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFzRm9yR3Jvd3RoOiAnUGxlYXNlIHRyeSBhbm90aGVyIHNlc3Npb24gdG8gcmVjZWl2ZSBkZXRhaWxlZCBmZWVkYmFjay4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lsbHNEZXRlY3RlZDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsQ291bnRzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZvY3VzOiAnVHJ5IGFub3RoZXIgcHJhY3RpY2Ugc2Vzc2lvbiB0byByZWNlaXZlIGRldGFpbGVkIGZlZWRiYWNrLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuYWx5c2lzU3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmFseXNpc01lc3NhZ2U6IGZlZWRiYWNrRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGZWVkYmFja0Vycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRmluaXNoKHRyYW5zY3JpcHQsIGZhbGxiYWNrRmVlZGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb250aW51ZSBXaXRob3V0IEZlZWRiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcmFjdGljZVZpZXc7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIlVzZXJUaWVyIiwiRlJFRV9TRVNTSU9OX0RVUkFUSU9OIiwiUFJFTUlVTV9TRVNTSU9OX0RVUkFUSU9OIiwidXNlU3BlZWNoUmVjb2duaXRpb24iLCJQYXRpZW50UHJvZmlsZUNhcmQiLCJDaGF0QnViYmxlIiwiVGltZXIiLCJCdXR0b24iLCJDYXJkIiwidXNlVG9hc3QiLCJ1c2VBdXRoIiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJnZXRWYWxpZEF1dGhUb2tlbiIsImF1dG9TYXZlU2Vzc2lvbiIsImdldEF1dG9TYXZlZFNlc3Npb24iLCJjbGVhckF1dG9TYXZlZFNlc3Npb25zIiwiaXNTZXNzaW9uVmFsaWQiLCJTcGVlY2hWaXN1YWxpemVyIiwiZGl2IiwiY2xhc3NOYW1lIiwiYXJpYS1oaWRkZW4iLCJzcGFuIiwic3R5bGUiLCJhbmltYXRpb25EZWxheSIsIlByYWN0aWNlVmlldyIsInBhdGllbnQiLCJ1c2VyVGllciIsIm9uRmluaXNoIiwib25VcGdyYWRlIiwiaXNTZXNzaW9uU3RhcnRlZCIsInNldElzU2Vzc2lvblN0YXJ0ZWQiLCJ0cmFuc2NyaXB0Iiwic2V0VHJhbnNjcmlwdCIsImlzUGF0aWVudFR5cGluZyIsInNldElzUGF0aWVudFR5cGluZyIsImlzRW5kaW5nU2Vzc2lvbiIsInNldElzRW5kaW5nU2Vzc2lvbiIsImZlZWRiYWNrRXJyb3IiLCJzZXRGZWVkYmFja0Vycm9yIiwiaXNSZXRyeWluZ0ZlZWRiYWNrIiwic2V0SXNSZXRyeWluZ0ZlZWRiYWNrIiwic2VuZEVycm9yIiwic2V0U2VuZEVycm9yIiwibGFzdEZhaWxlZE1lc3NhZ2UiLCJzZXRMYXN0RmFpbGVkTWVzc2FnZSIsInNlc3Npb25FeHBpcmVkIiwic2V0U2Vzc2lvbkV4cGlyZWQiLCJ1c2VyIiwic2hvd1RvYXN0IiwiVG9hc3RDb250YWluZXIiLCJ0b2FzdHMiLCJyZW1vdmVUb2FzdCIsImlzTGlzdGVuaW5nIiwiZmluYWxUcmFuc2NyaXB0IiwiaW50ZXJpbVRyYW5zY3JpcHQiLCJzdGFydExpc3RlbmluZyIsInN0b3BMaXN0ZW5pbmciLCJoYXNTdXBwb3J0IiwiZXJyb3IiLCJtaWNFcnJvciIsInNldFNwZWVjaFRyYW5zY3JpcHQiLCJzcGVlY2hUcmFuc2NyaXB0IiwiY2hhdENvbnRhaW5lclJlZiIsInRleHRhcmVhUmVmIiwiYXV0b1NhdmVJbnRlcnZhbFJlZiIsInNlc3Npb25DaGVja0ludGVydmFsUmVmIiwic2Vzc2lvbkR1cmF0aW9uIiwiUHJlbWl1bSIsInNhdmVkU2Vzc2lvbiIsImxlbmd0aCIsInNob3VsZFJlc3RvcmUiLCJ3aW5kb3ciLCJjb25maXJtIiwiY3VycmVudCIsImNsZWFySW50ZXJ2YWwiLCJoYXNVbnNhdmVkU2Vzc2lvbiIsImhhbmRsZUJlZm9yZVVubG9hZCIsImUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImhhbmRsZVBvcFN0YXRlIiwic2hvdWxkTGVhdmUiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwidmlldyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0SW50ZXJ2YWwiLCJpc1ZhbGlkIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwidGV4dGFyZWEiLCJoZWlnaHQiLCJnZXRQYXRpZW50UmVzcG9uc2VGcm9tRWRnZUZ1bmN0aW9uIiwibWVzc2FnZSIsImF1dGhUb2tlbiIsIkVycm9yIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiZnVuY3Rpb25zVXJsIiwiaGVhZGVycyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImNhdGNoIiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzIiwiZGF0YSIsImhhbmRsZVNlbmRNZXNzYWdlIiwidGV4dCIsImlzUmV0cnkiLCJ0cmltIiwibmV3VXNlck1lc3NhZ2UiLCJhdXRob3IiLCJwcmV2IiwicGF0aWVudFJlc3BvbnNlIiwibmV3UGF0aWVudE1lc3NhZ2UiLCJjb25zb2xlIiwiaXNOZXR3b3JrRXJyb3IiLCJpbmNsdWRlcyIsImhhbmRsZVJldHJ5TGFzdE1lc3NhZ2UiLCJoYW5kbGVWb2ljZVNlbmQiLCJoYW5kbGVUZXh0U2VuZCIsInRyYW5zY3JpcHRUb1NlbmQiLCJnZXRGZWVkYmFja0Zyb21FZGdlRnVuY3Rpb24iLCJmZWVkYmFjayIsImhhbmRsZUVuZFNlc3Npb24iLCJoYW5kbGVSZXRyeUZlZWRiYWNrIiwib25DbGljayIsInZhcmlhbnQiLCJzaXplIiwib25SZW1vdmUiLCJoMyIsIm5hbWUiLCJwIiwiaW5pdGlhbFNlY29uZHMiLCJvblRpbWVVcCIsImJ1dHRvbiIsImRpc2FibGVkIiwicmVmIiwiaSIsIm1hcCIsIm1zZyIsImluZGV4IiwiaXNUeXBpbmciLCJyb2xlIiwiYXJpYS1saXZlIiwiYXJpYS1hdG9taWMiLCJwYWRkaW5nIiwibG9jYXRpb24iLCJyZWxvYWQiLCJpY29uIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwicm93cyIsIm9uS2V5RG93biIsImtleSIsInNoaWZ0S2V5Iiwib25Gb2N1cyIsInNldFRpbWVvdXQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJyZWFkT25seSIsImNhcmV0Q29sb3IiLCJhcmlhLWxhYmVsIiwiYXJpYS1wcmVzc2VkIiwic3ZnIiwieCIsInkiLCJ2aWV3Qm94IiwieG1sU3BhY2UiLCJwb2x5Z29uIiwicG9pbnRzIiwiZnVsbFdpZHRoIiwiZmFsbGJhY2tGZWVkYmFjayIsImVtcGF0aHlTY29yZSIsImVtcGF0aHlCcmVha2Rvd24iLCJ3aGF0V2VudFJpZ2h0IiwiYXJlYXNGb3JHcm93dGgiLCJza2lsbHNEZXRlY3RlZCIsInNraWxsQ291bnRzIiwibmV4dEZvY3VzIiwiYW5hbHlzaXNTdGF0dXMiLCJhbmFseXNpc01lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/views/PracticeView.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./hooks/useSpeechRecognition.ts":
/*!***************************************!*\
  !*** ./hooks/useSpeechRecognition.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSpeechRecognition: () => (/* binding */ useSpeechRecognition)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// Fix: Cast window to any to access non-standard SpeechRecognition APIs and rename the variable to avoid type name collision.\nconst SpeechRecognitionAPI = window.SpeechRecognition || window.webkitSpeechRecognition;\n// Module-level variable to persist transcript across React Strict Mode remounts\nlet persistedTranscript = '';\n// Mobile detection function\nconst isMobileDevice = ()=>{\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n};\nconst useSpeechRecognition = ()=>{\n    const [isListening, setIsListening] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [finalTranscript, setFinalTranscript] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(''); // Only FINAL confirmed text\n    const [interimTranscript, setInterimTranscript] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(''); // Live preview of interim results\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const isMountedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true); // Track if component is mounted\n    // Fix: The type SpeechRecognition is now correctly resolved via the interface definition above.\n    const recognitionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const finalTranscriptRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(persistedTranscript); // Ref to hold only the FINAL transcript text, initialized from persisted value\n    const stopTriggeredRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false); // Flag to ignore late-coming results after stop is called\n    const userExplicitlyStoppedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false); // Track if user explicitly stopped\n    const stateSyncedInStopRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false); // Track if state was synced in stopListening() to prevent onend from overwriting\n    const interimTranscriptRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(''); // Mirror interim transcript in a ref (avoids stale state in stop/onend)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useSpeechRecognition.useEffect\": ()=>{\n            // Reset mounted state on mount\n            isMountedRef.current = true;\n            // Restore transcript from persisted value (survives React Strict Mode remounts)\n            finalTranscriptRef.current = persistedTranscript;\n            setFinalTranscript(persistedTranscript);\n            if (!SpeechRecognitionAPI) {\n                const errorMsg = \"Speech Recognition API is not supported in this browser. Please use Chrome, Edge, or another Chromium-based browser.\";\n                console.error(errorMsg);\n                setError(errorMsg);\n                return;\n            }\n            // Check if we're in a secure context (required for Speech Recognition API)\n            // Secure context is required by the Speech Recognition API - this includes:\n            // 1. HTTPS connections\n            // 2. localhost or 127.0.0.1 (development)\n            // 3. Explicitly secure contexts as defined by window.isSecureContext\n            const isSecureContext = window.isSecureContext || window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\n            if (!isSecureContext) {\n                const errorMsg = \"Speech Recognition requires a secure context (HTTPS or localhost). Please access this app via HTTPS or localhost.\";\n                console.error(errorMsg);\n                setError(errorMsg);\n                return;\n            }\n            const recognition = new SpeechRecognitionAPI();\n            const isMobile = isMobileDevice();\n            recognition.continuous = !isMobile; // continuous on desktop, single-utterance on mobile\n            recognition.interimResults = true;\n            recognition.lang = 'en-US';\n            recognition.onresult = ({\n                \"useSpeechRecognition.useEffect\": (event)=>{\n                    // Build interim transcript from ONLY the latest interim results in this event\n                    // Don't accumulate - rebuild from scratch each time\n                    let newInterimTranscript = '';\n                    let hasNewFinal = false;\n                    // Process results from resultIndex to end of results array\n                    const startIndex = event.resultIndex;\n                    for(let i = startIndex; i < event.results.length; ++i){\n                        const result = event.results[i];\n                        if (result.isFinal) {\n                            const final_text = result[0].transcript.trim();\n                            if (final_text) {\n                                // Simply append final results to the transcript\n                                const textToAdd = finalTranscriptRef.current ? ' ' + final_text : final_text;\n                                finalTranscriptRef.current += textToAdd;\n                                persistedTranscript = finalTranscriptRef.current;\n                                hasNewFinal = true;\n                                newInterimTranscript = '';\n                                interimTranscriptRef.current = '';\n                            }\n                        } else {\n                            // After stop is pressed, ignore late interim updates\n                            if (stopTriggeredRef.current) {\n                                continue;\n                            }\n                            // Build interim transcript from ONLY interim results in current event\n                            if (i >= startIndex) {\n                                newInterimTranscript += result[0].transcript;\n                            }\n                        }\n                    }\n                    // Update final transcript state only if we got new final results\n                    // Check if component is still mounted before updating state\n                    if (isMountedRef.current) {\n                        if (hasNewFinal) {\n                            setFinalTranscript(finalTranscriptRef.current);\n                            // Always clear interim when we get final results\n                            setInterimTranscript('');\n                            interimTranscriptRef.current = '';\n                        } else {\n                            // Update interim transcript (this replaces previous interim, doesn't append)\n                            const nextInterim = newInterimTranscript.trim();\n                            setInterimTranscript(nextInterim);\n                            interimTranscriptRef.current = nextInterim;\n                        }\n                    }\n                }\n            })[\"useSpeechRecognition.useEffect\"];\n            recognition.onend = ({\n                \"useSpeechRecognition.useEffect\": ()=>{\n                    // Check if component is still mounted before updating state\n                    if (!isMountedRef.current) {\n                        return;\n                    }\n                    setIsListening(false);\n                    stopTriggeredRef.current = false;\n                    // If we never received a final result, preserve whatever interim we had at stop time\n                    if (!finalTranscriptRef.current && interimTranscriptRef.current.trim()) {\n                        finalTranscriptRef.current = interimTranscriptRef.current.trim();\n                        persistedTranscript = finalTranscriptRef.current;\n                        setFinalTranscript({\n                            \"useSpeechRecognition.useEffect\": ()=>finalTranscriptRef.current\n                        }[\"useSpeechRecognition.useEffect\"]);\n                    }\n                    // Clear interim at end\n                    setInterimTranscript('');\n                    interimTranscriptRef.current = '';\n                    // Always preserve the transcript in onend\n                    persistedTranscript = finalTranscriptRef.current;\n                    setFinalTranscript({\n                        \"useSpeechRecognition.useEffect\": ()=>finalTranscriptRef.current\n                    }[\"useSpeechRecognition.useEffect\"]);\n                    stateSyncedInStopRef.current = false;\n                    userExplicitlyStoppedRef.current = false;\n                }\n            })[\"useSpeechRecognition.useEffect\"];\n            recognition.onerror = ({\n                \"useSpeechRecognition.useEffect\": (event)=>{\n                    // Check if component is still mounted\n                    if (!isMountedRef.current) {\n                        return;\n                    }\n                    console.error('Speech recognition error', event.error);\n                    setIsListening(false);\n                    stopTriggeredRef.current = false;\n                    userExplicitlyStoppedRef.current = false;\n                    setInterimTranscript('');\n                    // Provide user-friendly error messages\n                    let errorMessage = 'Microphone error occurred.';\n                    switch(event.error){\n                        case 'no-speech':\n                            errorMessage = 'No speech detected. Please try again.';\n                            break;\n                        case 'audio-capture':\n                            errorMessage = 'Microphone not found or access denied. Please check your microphone permissions.';\n                            break;\n                        case 'not-allowed':\n                            errorMessage = 'Microphone access denied. Please allow microphone access in your browser settings.';\n                            break;\n                        case 'network':\n                            errorMessage = 'Network error. Please check your internet connection.';\n                            break;\n                        case 'aborted':\n                            // User stopped, not really an error\n                            return;\n                        default:\n                            errorMessage = `Speech recognition error: ${event.error}`;\n                    }\n                    setError(errorMessage);\n                    // Clear error after 5 seconds (only if still mounted)\n                    setTimeout({\n                        \"useSpeechRecognition.useEffect\": ()=>{\n                            if (isMountedRef.current) {\n                                setError(null);\n                            }\n                        }\n                    }[\"useSpeechRecognition.useEffect\"], 5000);\n                }\n            })[\"useSpeechRecognition.useEffect\"];\n            recognitionRef.current = recognition;\n            return ({\n                \"useSpeechRecognition.useEffect\": ()=>{\n                    // Mark component as unmounted\n                    isMountedRef.current = false;\n                    // Remove all event listeners by stopping recognition\n                    if (recognitionRef.current) {\n                        try {\n                            recognitionRef.current.stop();\n                        } catch (err) {\n                        // Ignore errors when stopping (may already be stopped)\n                        }\n                        // Clear the ref\n                        recognitionRef.current = null;\n                    }\n                    // Reset refs (but preserve transcript refs to survive React Strict Mode remounts)\n                    stopTriggeredRef.current = false;\n                    userExplicitlyStoppedRef.current = false;\n                }\n            })[\"useSpeechRecognition.useEffect\"];\n        }\n    }[\"useSpeechRecognition.useEffect\"], []);\n    const startListening = ()=>{\n        if (!isMountedRef.current) {\n            return;\n        }\n        if (!recognitionRef.current) {\n            setError('Speech recognition not initialized. Please refresh the page.');\n            return;\n        }\n        if (isListening) {\n            return; // Already listening\n        }\n        try {\n            stopTriggeredRef.current = false;\n            userExplicitlyStoppedRef.current = false;\n            stateSyncedInStopRef.current = false;\n            setError(null);\n            // Clear interim when starting new session\n            setInterimTranscript('');\n            interimTranscriptRef.current = '';\n            recognitionRef.current.start();\n            setIsListening(true);\n        } catch (err) {\n            console.error('Failed to start speech recognition:', err);\n            if (isMountedRef.current) {\n                setError('Failed to start microphone. Please check your browser permissions.');\n                setIsListening(false);\n            }\n        }\n    };\n    const stopListening = ()=>{\n        if (recognitionRef.current && isListening) {\n            stopTriggeredRef.current = true;\n            recognitionRef.current.stop();\n            setIsListening(false);\n            // Preserve whatever interim we have by promoting it to final if we don't have a final yet\n            const interimAtStop = interimTranscriptRef.current.trim();\n            if (!finalTranscriptRef.current && interimAtStop) {\n                finalTranscriptRef.current = interimAtStop;\n                persistedTranscript = finalTranscriptRef.current;\n                setFinalTranscript(()=>finalTranscriptRef.current);\n            }\n            // Clear interim when stopping\n            setInterimTranscript('');\n            interimTranscriptRef.current = '';\n            // Sync React state with ref immediately\n            setFinalTranscript(()=>finalTranscriptRef.current);\n            stateSyncedInStopRef.current = true;\n        }\n    };\n    // This function allows components to reset the transcript and ensures the ref is also cleared.\n    const customSetTranscript = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSpeechRecognition.useCallback[customSetTranscript]\": (text)=>{\n            if (!isMountedRef.current) {\n                return;\n            }\n            // If text is empty, this means user sent the message - clear everything for fresh start\n            if (text === '') {\n                userExplicitlyStoppedRef.current = true;\n                finalTranscriptRef.current = '';\n                persistedTranscript = '';\n                setFinalTranscript('');\n                setInterimTranscript('');\n                interimTranscriptRef.current = '';\n                return;\n            }\n            // Non-empty text: full reset (for explicit transcript setting)\n            userExplicitlyStoppedRef.current = true;\n            finalTranscriptRef.current = text;\n            persistedTranscript = text;\n            setFinalTranscript(text);\n            setInterimTranscript('');\n            interimTranscriptRef.current = '';\n        }\n    }[\"useSpeechRecognition.useCallback[customSetTranscript]\"], []);\n    // Combined transcript for backward compatibility (final + interim)\n    const transcript = finalTranscript + (interimTranscript ? (finalTranscript ? ' ' : '') + interimTranscript : '');\n    // Check if Speech Recognition API is supported and we're in a secure context\n    const isSecureContext = window.isSecureContext || window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\n    const hasSupport = !!SpeechRecognitionAPI && isSecureContext;\n    return {\n        isListening,\n        transcript,\n        finalTranscript,\n        interimTranscript,\n        startListening,\n        stopListening,\n        hasSupport,\n        error,\n        setTranscript: customSetTranscript\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZVNwZWVjaFJlY29nbml0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRTtBQUVqRSw4SEFBOEg7QUFDOUgsTUFBTUksdUJBQXVCLE9BQWdCRSxpQkFBaUIsSUFBSSxPQUFnQkMsdUJBQXVCO0FBd0J6RyxnRkFBZ0Y7QUFDaEYsSUFBSUMsc0JBQXNCO0FBRTFCLDRCQUE0QjtBQUM1QixNQUFNQyxpQkFBaUI7SUFDbkIsT0FBTyxpRUFBaUVDLElBQUksQ0FBQ0MsVUFBVUMsU0FBUztBQUNwRztBQUVPLE1BQU1DLHVCQUF1QjtJQUNoQyxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR2YsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDZ0IsaUJBQWlCQyxtQkFBbUIsR0FBR2pCLCtDQUFRQSxDQUFDLEtBQUssNEJBQTRCO0lBQ3hGLE1BQU0sQ0FBQ2tCLG1CQUFtQkMscUJBQXFCLEdBQUduQiwrQ0FBUUEsQ0FBQyxLQUFLLGtDQUFrQztJQUNsRyxNQUFNLENBQUNvQixPQUFPQyxTQUFTLEdBQUdyQiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTXNCLGVBQWVwQiw2Q0FBTUEsQ0FBQyxPQUFPLGdDQUFnQztJQUNuRSxnR0FBZ0c7SUFDaEcsTUFBTXFCLGlCQUFpQnJCLDZDQUFNQSxDQUEyQjtJQUN4RCxNQUFNc0IscUJBQXFCdEIsNkNBQU1BLENBQUNNLHNCQUFzQiwrRUFBK0U7SUFDdkksTUFBTWlCLG1CQUFtQnZCLDZDQUFNQSxDQUFDLFFBQVEsMERBQTBEO0lBQ2xHLE1BQU13QiwyQkFBMkJ4Qiw2Q0FBTUEsQ0FBQyxRQUFRLG1DQUFtQztJQUNuRixNQUFNeUIsdUJBQXVCekIsNkNBQU1BLENBQUMsUUFBUSxpRkFBaUY7SUFDN0gsTUFBTTBCLHVCQUF1QjFCLDZDQUFNQSxDQUFDLEtBQUssd0VBQXdFO0lBR2pIRCxnREFBU0E7MENBQUM7WUFDTiwrQkFBK0I7WUFDL0JxQixhQUFhTyxPQUFPLEdBQUc7WUFF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QU8yQixlQUFlLElBQ3RCM0IsT0FBTzRCLFFBQVEsQ0FBQ0MsUUFBUSxLQUFLLFlBQzdCN0IsT0FBTzRCLFFBQVEsQ0FBQ0UsUUFBUSxLQUFLLGVBQzdCOUIsT0FBTzRCLFFBQVEsQ0FBQ0UsUUFBUSxLQUFLO0lBQ3JELE1BQU1rQyxhQUFhLENBQUMsQ0FBQ2pFLHdCQUF3QjRCO0lBRTdDLE9BQU87UUFDSGxCO1FBQ0F1QztRQUNBckM7UUFDQUU7UUFDQTZDO1FBQ0FFO1FBQ0FJO1FBQ0FqRDtRQUNBa0QsZUFBZUg7SUFDbkI7QUFDSixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ob29rcy91c2VTcGVlY2hSZWNvZ25pdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuXG4vLyBGaXg6IENhc3Qgd2luZG93IHRvIGFueSB0byBhY2Nlc3Mgbm9uLXN0YW5kYXJkIFNwZWVjaFJlY29nbml0aW9uIEFQSXMgYW5kIHJlbmFtZSB0aGUgdmFyaWFibGUgdG8gYXZvaWQgdHlwZSBuYW1lIGNvbGxpc2lvbi5cbmNvbnN0IFNwZWVjaFJlY29nbml0aW9uQVBJID0gKHdpbmRvdyBhcyBhbnkpLlNwZWVjaFJlY29nbml0aW9uIHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRTcGVlY2hSZWNvZ25pdGlvbjtcblxuLy8gRGVmaW5lIGV2ZW50IHR5cGVzIGZvciBiZXR0ZXIgdHlwZSBzYWZldHksIGFzIHRoZXkgYXJlIG5vdCBzdGFuZGFyZCBvbiB0aGUgU3BlZWNoUmVjb2duaXRpb24gb2JqZWN0IHR5cGUuXG5pbnRlcmZhY2UgU3BlZWNoUmVjb2duaXRpb25FdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICByZXN1bHRzOiBTcGVlY2hSZWNvZ25pdGlvblJlc3VsdExpc3Q7XG4gICAgcmVzdWx0SW5kZXg6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFNwZWVjaFJlY29nbml0aW9uRXJyb3JFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICBlcnJvcjogc3RyaW5nO1xufVxuXG4vLyBGaXg6IEFkZCBhbiBpbnRlcmZhY2UgZm9yIHRoZSBub24tc3RhbmRhcmQgU3BlZWNoUmVjb2duaXRpb24gb2JqZWN0IHRvIHJlc29sdmUgdGhlIHR5cGUgZXJyb3IuXG5pbnRlcmZhY2UgU3BlZWNoUmVjb2duaXRpb24ge1xuICAgIGNvbnRpbnVvdXM6IGJvb2xlYW47XG4gICAgaW50ZXJpbVJlc3VsdHM6IGJvb2xlYW47XG4gICAgbGFuZzogc3RyaW5nO1xuICAgIG9ucmVzdWx0OiAoZXZlbnQ6IFNwZWVjaFJlY29nbml0aW9uRXZlbnQpID0+IHZvaWQ7XG4gICAgb25lbmQ6ICgpID0+IHZvaWQ7XG4gICAgb25lcnJvcjogKGV2ZW50OiBTcGVlY2hSZWNvZ25pdGlvbkVycm9yRXZlbnQpID0+IHZvaWQ7XG4gICAgc3RhcnQ6ICgpID0+IHZvaWQ7XG4gICAgc3RvcDogKCkgPT4gdm9pZDtcbn1cblxuLy8gTW9kdWxlLWxldmVsIHZhcmlhYmxlIHRvIHBlcnNpc3QgdHJhbnNjcmlwdCBhY3Jvc3MgUmVhY3QgU3RyaWN0IE1vZGUgcmVtb3VudHNcbmxldCBwZXJzaXN0ZWRUcmFuc2NyaXB0ID0gJyc7XG5cbi8vIE1vYmlsZSBkZXRlY3Rpb24gZnVuY3Rpb25cbmNvbnN0IGlzTW9iaWxlRGV2aWNlID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlU3BlZWNoUmVjb2duaXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgW2lzTGlzdGVuaW5nLCBzZXRJc0xpc3RlbmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2ZpbmFsVHJhbnNjcmlwdCwgc2V0RmluYWxUcmFuc2NyaXB0XSA9IHVzZVN0YXRlKCcnKTsgLy8gT25seSBGSU5BTCBjb25maXJtZWQgdGV4dFxuICAgIGNvbnN0IFtpbnRlcmltVHJhbnNjcmlwdCwgc2V0SW50ZXJpbVRyYW5zY3JpcHRdID0gdXNlU3RhdGUoJycpOyAvLyBMaXZlIHByZXZpZXcgb2YgaW50ZXJpbSByZXN1bHRzXG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSk7IC8vIFRyYWNrIGlmIGNvbXBvbmVudCBpcyBtb3VudGVkXG4gICAgLy8gRml4OiBUaGUgdHlwZSBTcGVlY2hSZWNvZ25pdGlvbiBpcyBub3cgY29ycmVjdGx5IHJlc29sdmVkIHZpYSB0aGUgaW50ZXJmYWNlIGRlZmluaXRpb24gYWJvdmUuXG4gICAgY29uc3QgcmVjb2duaXRpb25SZWYgPSB1c2VSZWY8U3BlZWNoUmVjb2duaXRpb24gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBmaW5hbFRyYW5zY3JpcHRSZWYgPSB1c2VSZWYocGVyc2lzdGVkVHJhbnNjcmlwdCk7IC8vIFJlZiB0byBob2xkIG9ubHkgdGhlIEZJTkFMIHRyYW5zY3JpcHQgdGV4dCwgaW5pdGlhbGl6ZWQgZnJvbSBwZXJzaXN0ZWQgdmFsdWVcbiAgICBjb25zdCBzdG9wVHJpZ2dlcmVkUmVmID0gdXNlUmVmKGZhbHNlKTsgLy8gRmxhZyB0byBpZ25vcmUgbGF0ZS1jb21pbmcgcmVzdWx0cyBhZnRlciBzdG9wIGlzIGNhbGxlZFxuICAgIGNvbnN0IHVzZXJFeHBsaWNpdGx5U3RvcHBlZFJlZiA9IHVzZVJlZihmYWxzZSk7IC8vIFRyYWNrIGlmIHVzZXIgZXhwbGljaXRseSBzdG9wcGVkXG4gICAgY29uc3Qgc3RhdGVTeW5jZWRJblN0b3BSZWYgPSB1c2VSZWYoZmFsc2UpOyAvLyBUcmFjayBpZiBzdGF0ZSB3YXMgc3luY2VkIGluIHN0b3BMaXN0ZW5pbmcoKSB0byBwcmV2ZW50IG9uZW5kIGZyb20gb3ZlcndyaXRpbmdcbiAgICBjb25zdCBpbnRlcmltVHJhbnNjcmlwdFJlZiA9IHVzZVJlZignJyk7IC8vIE1pcnJvciBpbnRlcmltIHRyYW5zY3JpcHQgaW4gYSByZWYgKGF2b2lkcyBzdGFsZSBzdGF0ZSBpbiBzdG9wL29uZW5kKVxuXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBSZXNldCBtb3VudGVkIHN0YXRlIG9uIG1vdW50XG4gICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlc3RvcmUgdHJhbnNjcmlwdCBmcm9tIHBlcnNpc3RlZCB2YWx1ZSAoc3Vydml2ZXMgUmVhY3QgU3RyaWN0IE1vZGUgcmVtb3VudHMpXG4gICAgICAgIGZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50ID0gcGVyc2lzdGVkVHJhbnNjcmlwdDtcbiAgICAgICAgc2V0RmluYWxUcmFuc2NyaXB0KHBlcnNpc3RlZFRyYW5zY3JpcHQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFTcGVlY2hSZWNvZ25pdGlvbkFQSSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBcIlNwZWVjaCBSZWNvZ25pdGlvbiBBUEkgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuIFBsZWFzZSB1c2UgQ2hyb21lLCBFZGdlLCBvciBhbm90aGVyIENocm9taXVtLWJhc2VkIGJyb3dzZXIuXCI7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIGEgc2VjdXJlIGNvbnRleHQgKHJlcXVpcmVkIGZvciBTcGVlY2ggUmVjb2duaXRpb24gQVBJKVxuICAgICAgICAvLyBTZWN1cmUgY29udGV4dCBpcyByZXF1aXJlZCBieSB0aGUgU3BlZWNoIFJlY29nbml0aW9uIEFQSSAtIHRoaXMgaW5jbHVkZXM6XG4gICAgICAgIC8vIDEuIEhUVFBTIGNvbm5lY3Rpb25zXG4gICAgICAgIC8vIDIuIGxvY2FsaG9zdCBvciAxMjcuMC4wLjEgKGRldmVsb3BtZW50KVxuICAgICAgICAvLyAzLiBFeHBsaWNpdGx5IHNlY3VyZSBjb250ZXh0cyBhcyBkZWZpbmVkIGJ5IHdpbmRvdy5pc1NlY3VyZUNvbnRleHRcbiAgICAgICAgY29uc3QgaXNTZWN1cmVDb250ZXh0ID0gd2luZG93LmlzU2VjdXJlQ29udGV4dCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnMTI3LjAuMC4xJztcblxuICAgICAgICBpZiAoIWlzU2VjdXJlQ29udGV4dCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBcIlNwZWVjaCBSZWNvZ25pdGlvbiByZXF1aXJlcyBhIHNlY3VyZSBjb250ZXh0IChIVFRQUyBvciBsb2NhbGhvc3QpLiBQbGVhc2UgYWNjZXNzIHRoaXMgYXBwIHZpYSBIVFRQUyBvciBsb2NhbGhvc3QuXCI7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlY29nbml0aW9uOiBTcGVlY2hSZWNvZ25pdGlvbiA9IG5ldyBTcGVlY2hSZWNvZ25pdGlvbkFQSSgpO1xuICAgICAgICBjb25zdCBpc01vYmlsZSA9IGlzTW9iaWxlRGV2aWNlKCk7XG4gICAgICAgIHJlY29nbml0aW9uLmNvbnRpbnVvdXMgPSAhaXNNb2JpbGU7IC8vIGNvbnRpbnVvdXMgb24gZGVza3RvcCwgc2luZ2xlLXV0dGVyYW5jZSBvbiBtb2JpbGVcbiAgICAgICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSB0cnVlO1xuICAgICAgICByZWNvZ25pdGlvbi5sYW5nID0gJ2VuLVVTJztcbiAgICAgICAgXG4gICAgICAgIHJlY29nbml0aW9uLm9ucmVzdWx0ID0gKGV2ZW50OiBTcGVlY2hSZWNvZ25pdGlvbkV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBCdWlsZCBpbnRlcmltIHRyYW5zY3JpcHQgZnJvbSBPTkxZIHRoZSBsYXRlc3QgaW50ZXJpbSByZXN1bHRzIGluIHRoaXMgZXZlbnRcbiAgICAgICAgICAgIC8vIERvbid0IGFjY3VtdWxhdGUgLSByZWJ1aWxkIGZyb20gc2NyYXRjaCBlYWNoIHRpbWVcbiAgICAgICAgICAgIGxldCBuZXdJbnRlcmltVHJhbnNjcmlwdCA9ICcnO1xuICAgICAgICAgICAgbGV0IGhhc05ld0ZpbmFsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgcmVzdWx0cyBmcm9tIHJlc3VsdEluZGV4IHRvIGVuZCBvZiByZXN1bHRzIGFycmF5XG4gICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZXZlbnQucmVzdWx0SW5kZXg7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZXZlbnQucmVzdWx0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGV2ZW50LnJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0ZpbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsX3RleHQgPSByZXN1bHRbMF0udHJhbnNjcmlwdC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbF90ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW1wbHkgYXBwZW5kIGZpbmFsIHJlc3VsdHMgdG8gdGhlIHRyYW5zY3JpcHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRUb0FkZCA9IGZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50ID8gJyAnICsgZmluYWxfdGV4dCA6IGZpbmFsX3RleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudCArPSB0ZXh0VG9BZGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJzaXN0ZWRUcmFuc2NyaXB0ID0gZmluYWxUcmFuc2NyaXB0UmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNOZXdGaW5hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbnRlcmltVHJhbnNjcmlwdCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJpbVRyYW5zY3JpcHRSZWYuY3VycmVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgc3RvcCBpcyBwcmVzc2VkLCBpZ25vcmUgbGF0ZSBpbnRlcmltIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3BUcmlnZ2VyZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQnVpbGQgaW50ZXJpbSB0cmFuc2NyaXB0IGZyb20gT05MWSBpbnRlcmltIHJlc3VsdHMgaW4gY3VycmVudCBldmVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbnRlcmltVHJhbnNjcmlwdCArPSByZXN1bHRbMF0udHJhbnNjcmlwdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIGZpbmFsIHRyYW5zY3JpcHQgc3RhdGUgb25seSBpZiB3ZSBnb3QgbmV3IGZpbmFsIHJlc3VsdHNcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGNvbXBvbmVudCBpcyBzdGlsbCBtb3VudGVkIGJlZm9yZSB1cGRhdGluZyBzdGF0ZVxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc05ld0ZpbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEZpbmFsVHJhbnNjcmlwdChmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBjbGVhciBpbnRlcmltIHdoZW4gd2UgZ2V0IGZpbmFsIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJpbVRyYW5zY3JpcHQoJycpO1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmltVHJhbnNjcmlwdFJlZi5jdXJyZW50ID0gJyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGludGVyaW0gdHJhbnNjcmlwdCAodGhpcyByZXBsYWNlcyBwcmV2aW91cyBpbnRlcmltLCBkb2Vzbid0IGFwcGVuZClcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dEludGVyaW0gPSBuZXdJbnRlcmltVHJhbnNjcmlwdC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEludGVyaW1UcmFuc2NyaXB0KG5leHRJbnRlcmltKTtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJpbVRyYW5zY3JpcHRSZWYuY3VycmVudCA9IG5leHRJbnRlcmltO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZWNvZ25pdGlvbi5vbmVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGNvbXBvbmVudCBpcyBzdGlsbCBtb3VudGVkIGJlZm9yZSB1cGRhdGluZyBzdGF0ZVxuICAgICAgICAgICAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0SXNMaXN0ZW5pbmcoZmFsc2UpO1xuICAgICAgICAgICAgc3RvcFRyaWdnZXJlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBJZiB3ZSBuZXZlciByZWNlaXZlZCBhIGZpbmFsIHJlc3VsdCwgcHJlc2VydmUgd2hhdGV2ZXIgaW50ZXJpbSB3ZSBoYWQgYXQgc3RvcCB0aW1lXG4gICAgICAgICAgICBpZiAoIWZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50ICYmIGludGVyaW1UcmFuc2NyaXB0UmVmLmN1cnJlbnQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgZmluYWxUcmFuc2NyaXB0UmVmLmN1cnJlbnQgPSBpbnRlcmltVHJhbnNjcmlwdFJlZi5jdXJyZW50LnRyaW0oKTtcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZWRUcmFuc2NyaXB0ID0gZmluYWxUcmFuc2NyaXB0UmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgc2V0RmluYWxUcmFuc2NyaXB0KCgpID0+IGZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENsZWFyIGludGVyaW0gYXQgZW5kXG4gICAgICAgICAgICBzZXRJbnRlcmltVHJhbnNjcmlwdCgnJyk7XG4gICAgICAgICAgICBpbnRlcmltVHJhbnNjcmlwdFJlZi5jdXJyZW50ID0gJyc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFsd2F5cyBwcmVzZXJ2ZSB0aGUgdHJhbnNjcmlwdCBpbiBvbmVuZFxuICAgICAgICAgICAgcGVyc2lzdGVkVHJhbnNjcmlwdCA9IGZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50O1xuICAgICAgICAgICAgc2V0RmluYWxUcmFuc2NyaXB0KCgpID0+IGZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIHN0YXRlU3luY2VkSW5TdG9wUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHVzZXJFeHBsaWNpdGx5U3RvcHBlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVjb2duaXRpb24ub25lcnJvciA9IChldmVudDogU3BlZWNoUmVjb2duaXRpb25FcnJvckV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBjb21wb25lbnQgaXMgc3RpbGwgbW91bnRlZFxuICAgICAgICAgICAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3BlZWNoIHJlY29nbml0aW9uIGVycm9yJywgZXZlbnQuZXJyb3IpO1xuICAgICAgICAgICAgc2V0SXNMaXN0ZW5pbmcoZmFsc2UpO1xuICAgICAgICAgICAgc3RvcFRyaWdnZXJlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB1c2VyRXhwbGljaXRseVN0b3BwZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0SW50ZXJpbVRyYW5zY3JpcHQoJycpO1xuXG4gICAgICAgICAgICAvLyBQcm92aWRlIHVzZXItZnJpZW5kbHkgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnTWljcm9waG9uZSBlcnJvciBvY2N1cnJlZC4nO1xuICAgICAgICAgICAgc3dpdGNoIChldmVudC5lcnJvcikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ25vLXNwZWVjaCc6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdObyBzcGVlY2ggZGV0ZWN0ZWQuIFBsZWFzZSB0cnkgYWdhaW4uJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXVkaW8tY2FwdHVyZSc6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdNaWNyb3Bob25lIG5vdCBmb3VuZCBvciBhY2Nlc3MgZGVuaWVkLiBQbGVhc2UgY2hlY2sgeW91ciBtaWNyb3Bob25lIHBlcm1pc3Npb25zLic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ25vdC1hbGxvd2VkJzpcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ01pY3JvcGhvbmUgYWNjZXNzIGRlbmllZC4gUGxlYXNlIGFsbG93IG1pY3JvcGhvbmUgYWNjZXNzIGluIHlvdXIgYnJvd3NlciBzZXR0aW5ncy4nO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICduZXR3b3JrJzpcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYWJvcnRlZCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgc3RvcHBlZCwgbm90IHJlYWxseSBhbiBlcnJvclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYFNwZWVjaCByZWNvZ25pdGlvbiBlcnJvcjogJHtldmVudC5lcnJvcn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgZXJyb3IgYWZ0ZXIgNSBzZWNvbmRzIChvbmx5IGlmIHN0aWxsIG1vdW50ZWQpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVjb2duaXRpb25SZWYuY3VycmVudCA9IHJlY29nbml0aW9uO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBNYXJrIGNvbXBvbmVudCBhcyB1bm1vdW50ZWRcbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGJ5IHN0b3BwaW5nIHJlY29nbml0aW9uXG4gICAgICAgICAgICBpZiAocmVjb2duaXRpb25SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXRpb25SZWYuY3VycmVudC5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvcnMgd2hlbiBzdG9wcGluZyAobWF5IGFscmVhZHkgYmUgc3RvcHBlZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIHJlZlxuICAgICAgICAgICAgICAgIHJlY29nbml0aW9uUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNldCByZWZzIChidXQgcHJlc2VydmUgdHJhbnNjcmlwdCByZWZzIHRvIHN1cnZpdmUgUmVhY3QgU3RyaWN0IE1vZGUgcmVtb3VudHMpXG4gICAgICAgICAgICBzdG9wVHJpZ2dlcmVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHVzZXJFeHBsaWNpdGx5U3RvcHBlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3Qgc3RhcnRMaXN0ZW5pbmcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVjb2duaXRpb25SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgc2V0RXJyb3IoJ1NwZWVjaCByZWNvZ25pdGlvbiBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIEFscmVhZHkgbGlzdGVuaW5nXG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RvcFRyaWdnZXJlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB1c2VyRXhwbGljaXRseVN0b3BwZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGVTeW5jZWRJblN0b3BSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENsZWFyIGludGVyaW0gd2hlbiBzdGFydGluZyBuZXcgc2Vzc2lvblxuICAgICAgICAgICAgc2V0SW50ZXJpbVRyYW5zY3JpcHQoJycpO1xuICAgICAgICAgICAgaW50ZXJpbVRyYW5zY3JpcHRSZWYuY3VycmVudCA9ICcnO1xuICAgICAgICAgICAgcmVjb2duaXRpb25SZWYuY3VycmVudC5zdGFydCgpO1xuICAgICAgICAgICAgc2V0SXNMaXN0ZW5pbmcodHJ1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN0YXJ0IHNwZWVjaCByZWNvZ25pdGlvbjonLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHN0YXJ0IG1pY3JvcGhvbmUuIFBsZWFzZSBjaGVjayB5b3VyIGJyb3dzZXIgcGVybWlzc2lvbnMuJyk7XG4gICAgICAgICAgICBzZXRJc0xpc3RlbmluZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3RvcExpc3RlbmluZyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJlY29nbml0aW9uUmVmLmN1cnJlbnQgJiYgaXNMaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgIHN0b3BUcmlnZ2VyZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50LnN0b3AoKTtcbiAgICAgICAgICAgIHNldElzTGlzdGVuaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIC8vIFByZXNlcnZlIHdoYXRldmVyIGludGVyaW0gd2UgaGF2ZSBieSBwcm9tb3RpbmcgaXQgdG8gZmluYWwgaWYgd2UgZG9uJ3QgaGF2ZSBhIGZpbmFsIHlldFxuICAgICAgICAgICAgY29uc3QgaW50ZXJpbUF0U3RvcCA9IGludGVyaW1UcmFuc2NyaXB0UmVmLmN1cnJlbnQudHJpbSgpO1xuICAgICAgICAgICAgaWYgKCFmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudCAmJiBpbnRlcmltQXRTdG9wKSB7XG4gICAgICAgICAgICAgICAgZmluYWxUcmFuc2NyaXB0UmVmLmN1cnJlbnQgPSBpbnRlcmltQXRTdG9wO1xuICAgICAgICAgICAgICAgIHBlcnNpc3RlZFRyYW5zY3JpcHQgPSBmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudDtcbiAgICAgICAgICAgICAgICBzZXRGaW5hbFRyYW5zY3JpcHQoKCkgPT4gZmluYWxUcmFuc2NyaXB0UmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2xlYXIgaW50ZXJpbSB3aGVuIHN0b3BwaW5nXG4gICAgICAgICAgICBzZXRJbnRlcmltVHJhbnNjcmlwdCgnJyk7XG4gICAgICAgICAgICBpbnRlcmltVHJhbnNjcmlwdFJlZi5jdXJyZW50ID0gJyc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN5bmMgUmVhY3Qgc3RhdGUgd2l0aCByZWYgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIHNldEZpbmFsVHJhbnNjcmlwdCgoKSA9PiBmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICBzdGF0ZVN5bmNlZEluU3RvcFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyBjb21wb25lbnRzIHRvIHJlc2V0IHRoZSB0cmFuc2NyaXB0IGFuZCBlbnN1cmVzIHRoZSByZWYgaXMgYWxzbyBjbGVhcmVkLlxuICAgIGNvbnN0IGN1c3RvbVNldFRyYW5zY3JpcHQgPSB1c2VDYWxsYmFjaygodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICghaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRleHQgaXMgZW1wdHksIHRoaXMgbWVhbnMgdXNlciBzZW50IHRoZSBtZXNzYWdlIC0gY2xlYXIgZXZlcnl0aGluZyBmb3IgZnJlc2ggc3RhcnRcbiAgICAgICAgaWYgKHRleHQgPT09ICcnKSB7XG4gICAgICAgICAgICB1c2VyRXhwbGljaXRseVN0b3BwZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudCA9ICcnO1xuICAgICAgICAgICAgcGVyc2lzdGVkVHJhbnNjcmlwdCA9ICcnO1xuICAgICAgICAgICAgc2V0RmluYWxUcmFuc2NyaXB0KCcnKTtcbiAgICAgICAgICAgIHNldEludGVyaW1UcmFuc2NyaXB0KCcnKTtcbiAgICAgICAgICAgIGludGVyaW1UcmFuc2NyaXB0UmVmLmN1cnJlbnQgPSAnJztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vbi1lbXB0eSB0ZXh0OiBmdWxsIHJlc2V0IChmb3IgZXhwbGljaXQgdHJhbnNjcmlwdCBzZXR0aW5nKVxuICAgICAgICB1c2VyRXhwbGljaXRseVN0b3BwZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudCA9IHRleHQ7XG4gICAgICAgIHBlcnNpc3RlZFRyYW5zY3JpcHQgPSB0ZXh0O1xuICAgICAgICBzZXRGaW5hbFRyYW5zY3JpcHQodGV4dCk7XG4gICAgICAgIHNldEludGVyaW1UcmFuc2NyaXB0KCcnKTtcbiAgICAgICAgaW50ZXJpbVRyYW5zY3JpcHRSZWYuY3VycmVudCA9ICcnO1xuICAgIH0sIFtdKTtcblxuICAgIC8vIENvbWJpbmVkIHRyYW5zY3JpcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgKGZpbmFsICsgaW50ZXJpbSlcbiAgICBjb25zdCB0cmFuc2NyaXB0ID0gZmluYWxUcmFuc2NyaXB0ICsgKGludGVyaW1UcmFuc2NyaXB0ID8gKGZpbmFsVHJhbnNjcmlwdCA/ICcgJyA6ICcnKSArIGludGVyaW1UcmFuc2NyaXB0IDogJycpO1xuXG4gICAgLy8gQ2hlY2sgaWYgU3BlZWNoIFJlY29nbml0aW9uIEFQSSBpcyBzdXBwb3J0ZWQgYW5kIHdlJ3JlIGluIGEgc2VjdXJlIGNvbnRleHRcbiAgICBjb25zdCBpc1NlY3VyZUNvbnRleHQgPSB3aW5kb3cuaXNTZWN1cmVDb250ZXh0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICcxMjcuMC4wLjEnO1xuICAgIGNvbnN0IGhhc1N1cHBvcnQgPSAhIVNwZWVjaFJlY29nbml0aW9uQVBJICYmIGlzU2VjdXJlQ29udGV4dDtcblxuICAgIHJldHVybiB7IFxuICAgICAgICBpc0xpc3RlbmluZywgXG4gICAgICAgIHRyYW5zY3JpcHQsIC8vIENvbWJpbmVkIChiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxuICAgICAgICBmaW5hbFRyYW5zY3JpcHQsIC8vIE9ubHkgZmluYWwgY29uZmlybWVkIHRleHRcbiAgICAgICAgaW50ZXJpbVRyYW5zY3JpcHQsIC8vIExpdmUgcHJldmlldyAodGVtcG9yYXJ5KVxuICAgICAgICBzdGFydExpc3RlbmluZywgXG4gICAgICAgIHN0b3BMaXN0ZW5pbmcsIFxuICAgICAgICBoYXNTdXBwb3J0LCBcbiAgICAgICAgZXJyb3IsIFxuICAgICAgICBzZXRUcmFuc2NyaXB0OiBjdXN0b21TZXRUcmFuc2NyaXB0IFxuICAgIH07XG59O1xuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJTcGVlY2hSZWNvZ25pdGlvbkFQSSIsIndpbmRvdyIsIlNwZWVjaFJlY29nbml0aW9uIiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iLCJwZXJzaXN0ZWRUcmFuc2NyaXB0IiwiaXNNb2JpbGVEZXZpY2UiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidXNlU3BlZWNoUmVjb2duaXRpb24iLCJpc0xpc3RlbmluZyIsInNldElzTGlzdGVuaW5nIiwiZmluYWxUcmFuc2NyaXB0Iiwic2V0RmluYWxUcmFuc2NyaXB0IiwiaW50ZXJpbVRyYW5zY3JpcHQiLCJzZXRJbnRlcmltVHJhbnNjcmlwdCIsImVycm9yIiwic2V0RXJyb3IiLCJpc01vdW50ZWRSZWYiLCJyZWNvZ25pdGlvblJlZiIsImZpbmFsVHJhbnNjcmlwdFJlZiIsInN0b3BUcmlnZ2VyZWRSZWYiLCJ1c2VyRXhwbGljaXRseVN0b3BwZWRSZWYiLCJzdGF0ZVN5bmNlZEluU3RvcFJlZiIsImludGVyaW1UcmFuc2NyaXB0UmVmIiwiY3VycmVudCIsImVycm9yTXNnIiwiY29uc29sZSIsImlzU2VjdXJlQ29udGV4dCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInJlY29nbml0aW9uIiwiaXNNb2JpbGUiLCJjb250aW51b3VzIiwiaW50ZXJpbVJlc3VsdHMiLCJsYW5nIiwib25yZXN1bHQiLCJldmVudCIsIm5ld0ludGVyaW1UcmFuc2NyaXB0IiwiaGFzTmV3RmluYWwiLCJzdGFydEluZGV4IiwicmVzdWx0SW5kZXgiLCJpIiwicmVzdWx0cyIsImxlbmd0aCIsInJlc3VsdCIsImlzRmluYWwiLCJmaW5hbF90ZXh0IiwidHJhbnNjcmlwdCIsInRyaW0iLCJ0ZXh0VG9BZGQiLCJuZXh0SW50ZXJpbSIsIm9uZW5kIiwib25lcnJvciIsImVycm9yTWVzc2FnZSIsInNldFRpbWVvdXQiLCJzdG9wIiwiZXJyIiwic3RhcnRMaXN0ZW5pbmciLCJzdGFydCIsInN0b3BMaXN0ZW5pbmciLCJpbnRlcmltQXRTdG9wIiwiY3VzdG9tU2V0VHJhbnNjcmlwdCIsInRleHQiLCJoYXNTdXBwb3J0Iiwic2V0VHJhbnNjcmlwdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useSpeechRecognition.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./utils/sessionManager.ts":
/*!*********************************!*\
  !*** ./utils/sessionManager.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoSaveSession: () => (/* binding */ autoSaveSession),\n/* harmony export */   clearAutoSavedSessions: () => (/* binding */ clearAutoSavedSessions),\n/* harmony export */   getAutoSavedSession: () => (/* binding */ getAutoSavedSession),\n/* harmony export */   getValidAuthToken: () => (/* binding */ getValidAuthToken),\n/* harmony export */   isSessionValid: () => (/* binding */ isSessionValid)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/**\n * Session Management Utility\n * \n * Handles token refresh, session expiry detection, and auto-save functionality\n * to prevent data loss during long practice sessions.\n */ \nconst AUTO_SAVE_KEY_PREFIX = 'mi-practice-auto-save-';\nconst AUTO_SAVE_EXPIRY_MS = 24 * 60 * 60 * 1000; // 24 hours\n/**\n * Get a valid auth token, refreshing if necessary\n * Returns null if session is expired and cannot be refreshed\n */ async function getValidAuthToken() {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n        return null;\n    }\n    try {\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n        if (sessionError || !session) {\n            return null;\n        }\n        if (!session.access_token) {\n            return null;\n        }\n        // Check if token is expired or will expire soon (within 5 minutes)\n        try {\n            const tokenParts = session.access_token.split('.');\n            if (tokenParts.length === 3) {\n                const payload = JSON.parse(atob(tokenParts[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const expiresAt = payload.exp || 0;\n                const timeUntilExpiry = expiresAt - now;\n                // If expired or expires within 5 minutes, refresh\n                if (timeUntilExpiry < 300) {\n                    console.log('[sessionManager] Token expires soon, refreshing...');\n                    if (session.refresh_token) {\n                        const { data: { session: refreshedSession }, error: refreshError } = await supabase.auth.refreshSession(session);\n                        if (refreshError || !refreshedSession?.access_token) {\n                            console.error('[sessionManager] Failed to refresh session:', refreshError);\n                            return null;\n                        }\n                        console.log('[sessionManager] Session refreshed successfully');\n                        return refreshedSession.access_token;\n                    } else {\n                        console.warn('[sessionManager] No refresh token available');\n                        return null;\n                    }\n                }\n            }\n        } catch (parseError) {\n            // If we can't parse the token, use it as-is (server will validate)\n            console.warn('[sessionManager] Could not parse token, using as-is');\n        }\n        return session.access_token;\n    } catch (error) {\n        console.error('[sessionManager] Error getting auth token:', error);\n        return null;\n    }\n}\n/**\n * Check if current session is valid\n */ async function isSessionValid() {\n    const token = await getValidAuthToken();\n    return token !== null;\n}\n/**\n * Auto-save practice session data to localStorage\n */ function autoSaveSession(sessionData) {\n    try {\n        const key = `${AUTO_SAVE_KEY_PREFIX}${Date.now()}`;\n        const data = {\n            ...sessionData,\n            timestamp: Date.now()\n        };\n        localStorage.setItem(key, JSON.stringify(data));\n        // Clean up old auto-saves (older than expiry)\n        cleanupOldAutoSaves();\n        console.log('[sessionManager] Auto-saved session data');\n    } catch (error) {\n        console.error('[sessionManager] Failed to auto-save:', error);\n    }\n}\n/**\n * Get the most recent auto-saved session\n */ function getAutoSavedSession() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        if (keys.length === 0) {\n            return null;\n        }\n        // Get the most recent auto-save\n        const sortedKeys = keys.sort((a, b)=>{\n            const timestampA = parseInt(a.replace(AUTO_SAVE_KEY_PREFIX, ''));\n            const timestampB = parseInt(b.replace(AUTO_SAVE_KEY_PREFIX, ''));\n            return timestampB - timestampA;\n        });\n        const mostRecentKey = sortedKeys[0];\n        const data = localStorage.getItem(mostRecentKey);\n        if (!data) {\n            return null;\n        }\n        const sessionData = JSON.parse(data);\n        // Check if auto-save is still valid (not expired)\n        const age = Date.now() - sessionData.timestamp;\n        if (age > AUTO_SAVE_EXPIRY_MS) {\n            localStorage.removeItem(mostRecentKey);\n            return null;\n        }\n        return {\n            transcript: sessionData.transcript,\n            patient: sessionData.patient,\n            timestamp: sessionData.timestamp\n        };\n    } catch (error) {\n        console.error('[sessionManager] Failed to get auto-saved session:', error);\n        return null;\n    }\n}\n/**\n * Clear all auto-saved sessions\n */ function clearAutoSavedSessions() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        keys.forEach((key)=>localStorage.removeItem(key));\n        console.log('[sessionManager] Cleared all auto-saved sessions');\n    } catch (error) {\n        console.error('[sessionManager] Failed to clear auto-saves:', error);\n    }\n}\n/**\n * Clean up old auto-saves (older than expiry)\n */ function cleanupOldAutoSaves() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        const now = Date.now();\n        keys.forEach((key)=>{\n            const data = localStorage.getItem(key);\n            if (data) {\n                try {\n                    const sessionData = JSON.parse(data);\n                    const age = now - sessionData.timestamp;\n                    if (age > AUTO_SAVE_EXPIRY_MS) {\n                        localStorage.removeItem(key);\n                    }\n                } catch  {\n                    // Invalid data, remove it\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    } catch (error) {\n        console.error('[sessionManager] Failed to cleanup old auto-saves:', error);\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3V0aWxzL3Nlc3Npb25NYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7OztDQUtDLEdBRXdFO0FBUXpFLE1BQU1FLHVCQUF1QjtBQUM3QixNQUFNQyxzQkFBc0IsS0FBSyxLQUFLLEtBQUssTUFBTSxXQUFXO0FBRTVEOzs7Q0FHQyxHQUNNLGVBQWVDO0lBQ3BCLElBQUksQ0FBQ0gsbUVBQW9CQSxJQUFJO1FBQzNCLE9BQU87SUFDVDtJQUVBLElBQUk7UUFDRixNQUFNSSxXQUFXTCxnRUFBaUJBO1FBQ2xDLE1BQU0sRUFBRU0sTUFBTSxFQUFFQyxPQUFPLEVBQUUsRUFBRUMsT0FBT0MsWUFBWSxFQUFFLEdBQUcsTUFBTUosU0FBU0ssSUFBSSxDQUFDQyxVQUFVO1FBRWpGLElBQUlGLGdCQUFnQixDQUFDRixTQUFTO1lBQzVCLE9BQU87UUFDVDtRQUVBLElBQUksQ0FBQ0EsUUFBUUssWUFBWSxFQUFFO1lBQ3pCLE9BQU87UUFDVDtRQUVBLG1FQUFtRTtRQUNuRSxJQUFJO1lBQ0YsTUFBTUMsYUFBYU4sUUFBUUssWUFBWSxDQUFDRSxLQUFLLENBQUM7WUFDOUMsSUFBSUQsV0FBV0UsTUFBTSxLQUFLLEdBQUc7Z0JBQzNCLE1BQU1DLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0MsS0FBS04sVUFBVSxDQUFDLEVBQUU7Z0JBQzdDLE1BQU1PLE1BQU1DLEtBQUtDLEtBQUssQ0FBQ0MsS0FBS0gsR0FBRyxLQUFLO2dCQUNwQyxNQUFNSSxZQUFZUixRQUFRUyxHQUFHLElBQUk7Z0JBQ2pDLE1BQU1DLGtCQUFrQkYsWUFBWUo7Z0JBRXBDLGtEQUFrRDtnQkFDbEQsSUFBSU0sa0JBQWtCLEtBQUs7b0JBQ3pCQyxRQUFRQyxHQUFHLENBQUM7b0JBRVosSUFBSXJCLFFBQVFzQixhQUFhLEVBQUU7d0JBQ3pCLE1BQU0sRUFBRXZCLE1BQU0sRUFBRUMsU0FBU3VCLGdCQUFnQixFQUFFLEVBQUV0QixPQUFPdUIsWUFBWSxFQUFF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QU9wQixPQUFPO1FBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLGdEQUFnREE7SUFDaEU7QUFDRjtBQUVBOztDQUVDLEdBQ0QsU0FBU29DO0lBQ1AsSUFBSTtRQUNGLE1BQU1FLE9BQU9DLE9BQU9ELElBQUksQ0FBQ0wsY0FBY08sTUFBTSxDQUFDVCxDQUFBQSxNQUM1Q0EsSUFBSVUsVUFBVSxDQUFDL0M7UUFHakIsTUFBTWtCLE1BQU1HLEtBQUtILEdBQUc7UUFDcEIwQixLQUFLbUIsT0FBTyxDQUFDMUIsQ0FBQUE7WUFDWCxNQUFNakMsT0FBT21DLGFBQWFrQixPQUFPLENBQUNwQjtZQUNsQyxJQUFJakMsTUFBTTtnQkFDUixJQUFJO29CQUNGLE1BQU1nQyxjQUFjckIsS0FBS0MsS0FBSyxDQUFDWjtvQkFDL0IsTUFBTXNELE1BQU14QyxNQUFNa0IsWUFBWUUsU0FBUztvQkFDdkMsSUFBSW9CLE1BQU16RCxxQkFBcUI7d0JBQzdCc0MsYUFBYW9CLFVBQVUsQ0FBQ3RCO29CQUMxQjtnQkFDRixFQUFFLE9BQU07b0JBQ04sMEJBQTBCO29CQUMxQkUsYUFBYW9CLFVBQVUsQ0FBQ3RCO2dCQUMxQjtZQUNGO1FBQ0Y7SUFDRixFQUFFLE9BQU8vQixPQUFPO1FBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLHNEQUFzREE7SUFDdEU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvdXRpbHMvc2Vzc2lvbk1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTZXNzaW9uIE1hbmFnZW1lbnQgVXRpbGl0eVxuICogXG4gKiBIYW5kbGVzIHRva2VuIHJlZnJlc2gsIHNlc3Npb24gZXhwaXJ5IGRldGVjdGlvbiwgYW5kIGF1dG8tc2F2ZSBmdW5jdGlvbmFsaXR5XG4gKiB0byBwcmV2ZW50IGRhdGEgbG9zcyBkdXJpbmcgbG9uZyBwcmFjdGljZSBzZXNzaW9ucy5cbiAqL1xuXG5pbXBvcnQgeyBnZXRTdXBhYmFzZUNsaWVudCwgaXNTdXBhYmFzZUNvbmZpZ3VyZWQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkRhdGEge1xuICB0cmFuc2NyaXB0OiBBcnJheTx7IGF1dGhvcjogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfT47XG4gIHBhdGllbnQ6IGFueTtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmNvbnN0IEFVVE9fU0FWRV9LRVlfUFJFRklYID0gJ21pLXByYWN0aWNlLWF1dG8tc2F2ZS0nO1xuY29uc3QgQVVUT19TQVZFX0VYUElSWV9NUyA9IDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vIDI0IGhvdXJzXG5cbi8qKlxuICogR2V0IGEgdmFsaWQgYXV0aCB0b2tlbiwgcmVmcmVzaGluZyBpZiBuZWNlc3NhcnlcbiAqIFJldHVybnMgbnVsbCBpZiBzZXNzaW9uIGlzIGV4cGlyZWQgYW5kIGNhbm5vdCBiZSByZWZyZXNoZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFZhbGlkQXV0aFRva2VuKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuXG4gICAgaWYgKHNlc3Npb25FcnJvciB8fCAhc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFzZXNzaW9uLmFjY2Vzc190b2tlbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdG9rZW4gaXMgZXhwaXJlZCBvciB3aWxsIGV4cGlyZSBzb29uICh3aXRoaW4gNSBtaW51dGVzKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlblBhcnRzID0gc2Vzc2lvbi5hY2Nlc3NfdG9rZW4uc3BsaXQoJy4nKTtcbiAgICAgIGlmICh0b2tlblBhcnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShhdG9iKHRva2VuUGFydHNbMV0pKTtcbiAgICAgICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgIGNvbnN0IGV4cGlyZXNBdCA9IHBheWxvYWQuZXhwIHx8IDA7XG4gICAgICAgIGNvbnN0IHRpbWVVbnRpbEV4cGlyeSA9IGV4cGlyZXNBdCAtIG5vdztcblxuICAgICAgICAvLyBJZiBleHBpcmVkIG9yIGV4cGlyZXMgd2l0aGluIDUgbWludXRlcywgcmVmcmVzaFxuICAgICAgICBpZiAodGltZVVudGlsRXhwaXJ5IDwgMzAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tzZXNzaW9uTWFuYWdlcl0gVG9rZW4gZXhwaXJlcyBzb29uLCByZWZyZXNoaW5nLi4uJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHNlc3Npb24ucmVmcmVzaF90b2tlbikge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb246IHJlZnJlc2hlZFNlc3Npb24gfSwgZXJyb3I6IHJlZnJlc2hFcnJvciB9ID0gXG4gICAgICAgICAgICAgIGF3YWl0IHN1cGFiYXNlLmF1dGgucmVmcmVzaFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyZWZyZXNoRXJyb3IgfHwgIXJlZnJlc2hlZFNlc3Npb24/LmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byByZWZyZXNoIHNlc3Npb246JywgcmVmcmVzaEVycm9yKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbc2Vzc2lvbk1hbmFnZXJdIFNlc3Npb24gcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZnJlc2hlZFNlc3Npb24uYWNjZXNzX3Rva2VuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tzZXNzaW9uTWFuYWdlcl0gTm8gcmVmcmVzaCB0b2tlbiBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgIC8vIElmIHdlIGNhbid0IHBhcnNlIHRoZSB0b2tlbiwgdXNlIGl0IGFzLWlzIChzZXJ2ZXIgd2lsbCB2YWxpZGF0ZSlcbiAgICAgIGNvbnNvbGUud2FybignW3Nlc3Npb25NYW5hZ2VyXSBDb3VsZCBub3QgcGFyc2UgdG9rZW4sIHVzaW5nIGFzLWlzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlc3Npb24uYWNjZXNzX3Rva2VuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXNzaW9uTWFuYWdlcl0gRXJyb3IgZ2V0dGluZyBhdXRoIHRva2VuOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGN1cnJlbnQgc2Vzc2lvbiBpcyB2YWxpZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNTZXNzaW9uVmFsaWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VmFsaWRBdXRoVG9rZW4oKTtcbiAgcmV0dXJuIHRva2VuICE9PSBudWxsO1xufVxuXG4vKipcbiAqIEF1dG8tc2F2ZSBwcmFjdGljZSBzZXNzaW9uIGRhdGEgdG8gbG9jYWxTdG9yYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvU2F2ZVNlc3Npb24oc2Vzc2lvbkRhdGE6IFNlc3Npb25EYXRhKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgY29uc3Qga2V5ID0gYCR7QVVUT19TQVZFX0tFWV9QUkVGSVh9JHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIC4uLnNlc3Npb25EYXRhLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH07XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgXG4gICAgLy8gQ2xlYW4gdXAgb2xkIGF1dG8tc2F2ZXMgKG9sZGVyIHRoYW4gZXhwaXJ5KVxuICAgIGNsZWFudXBPbGRBdXRvU2F2ZXMoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW3Nlc3Npb25NYW5hZ2VyXSBBdXRvLXNhdmVkIHNlc3Npb24gZGF0YScpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIGF1dG8tc2F2ZTonLCBlcnJvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1vc3QgcmVjZW50IGF1dG8tc2F2ZWQgc2Vzc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXV0b1NhdmVkU2Vzc2lvbigpOiBTZXNzaW9uRGF0YSB8IG51bGwge1xuICB0cnkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcihrZXkgPT4gXG4gICAgICBrZXkuc3RhcnRzV2l0aChBVVRPX1NBVkVfS0VZX1BSRUZJWClcbiAgICApO1xuICAgIFxuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBtb3N0IHJlY2VudCBhdXRvLXNhdmVcbiAgICBjb25zdCBzb3J0ZWRLZXlzID0ga2V5cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCB0aW1lc3RhbXBBID0gcGFyc2VJbnQoYS5yZXBsYWNlKEFVVE9fU0FWRV9LRVlfUFJFRklYLCAnJykpO1xuICAgICAgY29uc3QgdGltZXN0YW1wQiA9IHBhcnNlSW50KGIucmVwbGFjZShBVVRPX1NBVkVfS0VZX1BSRUZJWCwgJycpKTtcbiAgICAgIHJldHVybiB0aW1lc3RhbXBCIC0gdGltZXN0YW1wQTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1vc3RSZWNlbnRLZXkgPSBzb3J0ZWRLZXlzWzBdO1xuICAgIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShtb3N0UmVjZW50S2V5KTtcbiAgICBcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHNlc3Npb25EYXRhID0gSlNPTi5wYXJzZShkYXRhKSBhcyBTZXNzaW9uRGF0YSAmIHsgdGltZXN0YW1wOiBudW1iZXIgfTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhdXRvLXNhdmUgaXMgc3RpbGwgdmFsaWQgKG5vdCBleHBpcmVkKVxuICAgIGNvbnN0IGFnZSA9IERhdGUubm93KCkgLSBzZXNzaW9uRGF0YS50aW1lc3RhbXA7XG4gICAgaWYgKGFnZSA+IEFVVE9fU0FWRV9FWFBJUllfTVMpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG1vc3RSZWNlbnRLZXkpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zY3JpcHQ6IHNlc3Npb25EYXRhLnRyYW5zY3JpcHQsXG4gICAgICBwYXRpZW50OiBzZXNzaW9uRGF0YS5wYXRpZW50LFxuICAgICAgdGltZXN0YW1wOiBzZXNzaW9uRGF0YS50aW1lc3RhbXAsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byBnZXQgYXV0by1zYXZlZCBzZXNzaW9uOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFyIGFsbCBhdXRvLXNhdmVkIHNlc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckF1dG9TYXZlZFNlc3Npb25zKCk6IHZvaWQge1xuICB0cnkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcihrZXkgPT4gXG4gICAgICBrZXkuc3RhcnRzV2l0aChBVVRPX1NBVkVfS0VZX1BSRUZJWClcbiAgICApO1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KSk7XG4gICAgY29uc29sZS5sb2coJ1tzZXNzaW9uTWFuYWdlcl0gQ2xlYXJlZCBhbGwgYXV0by1zYXZlZCBzZXNzaW9ucycpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIGNsZWFyIGF1dG8tc2F2ZXM6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogQ2xlYW4gdXAgb2xkIGF1dG8tc2F2ZXMgKG9sZGVyIHRoYW4gZXhwaXJ5KVxuICovXG5mdW5jdGlvbiBjbGVhbnVwT2xkQXV0b1NhdmVzKCk6IHZvaWQge1xuICB0cnkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcihrZXkgPT4gXG4gICAgICBrZXkuc3RhcnRzV2l0aChBVVRPX1NBVkVfS0VZX1BSRUZJWClcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBKU09OLnBhcnNlKGRhdGEpIGFzIHsgdGltZXN0YW1wOiBudW1iZXIgfTtcbiAgICAgICAgICBjb25zdCBhZ2UgPSBub3cgLSBzZXNzaW9uRGF0YS50aW1lc3RhbXA7XG4gICAgICAgICAgaWYgKGFnZSA+IEFVVE9fU0FWRV9FWFBJUllfTVMpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGEsIHJlbW92ZSBpdFxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byBjbGVhbnVwIG9sZCBhdXRvLXNhdmVzOicsIGVycm9yKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImdldFN1cGFiYXNlQ2xpZW50IiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJBVVRPX1NBVkVfS0VZX1BSRUZJWCIsIkFVVE9fU0FWRV9FWFBJUllfTVMiLCJnZXRWYWxpZEF1dGhUb2tlbiIsInN1cGFiYXNlIiwiZGF0YSIsInNlc3Npb24iLCJlcnJvciIsInNlc3Npb25FcnJvciIsImF1dGgiLCJnZXRTZXNzaW9uIiwiYWNjZXNzX3Rva2VuIiwidG9rZW5QYXJ0cyIsInNwbGl0IiwibGVuZ3RoIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJub3ciLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwiZXhwaXJlc0F0IiwiZXhwIiwidGltZVVudGlsRXhwaXJ5IiwiY29uc29sZSIsImxvZyIsInJlZnJlc2hfdG9rZW4iLCJyZWZyZXNoZWRTZXNzaW9uIiwicmVmcmVzaEVycm9yIiwicmVmcmVzaFNlc3Npb24iLCJ3YXJuIiwicGFyc2VFcnJvciIsImlzU2Vzc2lvblZhbGlkIiwidG9rZW4iLCJhdXRvU2F2ZVNlc3Npb24iLCJzZXNzaW9uRGF0YSIsImtleSIsInRpbWVzdGFtcCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJjbGVhbnVwT2xkQXV0b1NhdmVzIiwiZ2V0QXV0b1NhdmVkU2Vzc2lvbiIsImtleXMiLCJPYmplY3QiLCJmaWx0ZXIiLCJzdGFydHNXaXRoIiwic29ydGVkS2V5cyIsInNvcnQiLCJhIiwiYiIsInRpbWVzdGFtcEEiLCJwYXJzZUludCIsInJlcGxhY2UiLCJ0aW1lc3RhbXBCIiwibW9zdFJlY2VudEtleSIsImdldEl0ZW0iLCJhZ2UiLCJyZW1vdmVJdGVtIiwidHJhbnNjcmlwdCIsInBhdGllbnQiLCJjbGVhckF1dG9TYXZlZFNlc3Npb25zIiwiZm9yRWFjaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./utils/sessionManager.ts\n"));

/***/ })

}]);