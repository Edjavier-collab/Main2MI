"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_components_views_SettingsView_tsx"],{

/***/ "(app-pages-browser)/./components/ui/Button.tsx":
/*!**********************************!*\
  !*** ./components/ui/Button.tsx ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ Button,default auto */ \n\nconst Button = ({ children, onClick, variant = 'primary', size = 'md', fullWidth = false, disabled = false, loading = false, icon, iconPosition = 'left', className = '', type = 'button', 'aria-label': ariaLabel })=>{\n    const baseClasses = 'inline-flex items-center justify-center font-semibold rounded-none transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]';\n    const variantClasses = {\n        primary: 'bg-[var(--color-primary)] text-[var(--color-text-primary)] border-2 border-black hover:bg-[var(--color-primary-dark)] hover:border-black focus:ring-[var(--color-primary)] shadow-sm hover:shadow-md',\n        secondary: 'bg-[var(--color-bg-accent)] text-[var(--color-text-primary)] border-2 border-black hover:bg-[var(--color-primary-lighter)] focus:ring-[var(--color-primary)]',\n        ghost: 'bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-bg-accent)] border border-transparent hover:border-[var(--color-primary-light)] focus:ring-[var(--color-primary)]',\n        danger: 'bg-[var(--color-error)] text-white border-2 border-black hover:bg-[var(--color-error-dark)] focus:ring-[var(--color-error)] shadow-sm hover:shadow-md',\n        success: 'bg-[var(--color-success)] text-white border-2 border-black hover:bg-[var(--color-success-dark)] focus:ring-[var(--color-success)] shadow-sm hover:shadow-md'\n    };\n    const sizeClasses = {\n        sm: 'h-[var(--button-height-sm)] px-4 text-sm gap-2',\n        md: 'h-[var(--button-height-md)] px-6 text-base gap-2',\n        lg: 'h-[var(--button-height-lg)] px-8 text-xl gap-3'\n    };\n    const widthClass = fullWidth ? 'w-full' : '';\n    const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${widthClass} ${className}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: type,\n        onClick: onClick,\n        disabled: disabled || loading,\n        className: classes,\n        \"aria-label\": ariaLabel,\n        \"aria-busy\": loading,\n        children: [\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin\",\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 64,\n                columnNumber: 9\n            }, undefined),\n            !loading && icon && iconPosition === 'left' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-shrink-0\",\n                \"aria-hidden\": \"true\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 67,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 69,\n                columnNumber: 7\n            }, undefined),\n            !loading && icon && iconPosition === 'right' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-shrink-0\",\n                \"aria-hidden\": \"true\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 71,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n        lineNumber: 55,\n        columnNumber: 5\n    }, undefined);\n};\n_c = Button;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Button);\nvar _c;\n$RefreshReg$(_c, \"Button\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvQnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFMEI7QUFpQm5CLE1BQU1DLFNBQWdDLENBQUMsRUFDNUNDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxVQUFVLFNBQVMsRUFDbkJDLE9BQU8sSUFBSSxFQUNYQyxZQUFZLEtBQUssRUFDakJDLFdBQVcsS0FBSyxFQUNoQkMsVUFBVSxLQUFLLEVBQ2ZDLElBQUksRUFDSkMsZUFBZSxNQUFNLEVBQ3JCQyxZQUFZLEVBQUUsRUFDZEMsT0FBTyxRQUFRLEVBQ2YsY0FBY0MsU0FBUyxFQUN4QjtJQUNDLE1BQU1DLGNBQWM7SUFFcEIsTUFBTUMsaUJBQWlCO1FBQ3JCQyxTQUFTO1FBQ1RDLFdBQVc7UUFDWEMsT0FBTztRQUNQQyxRQUFRO1FBQ1JDLFNBQVM7SUFDWDtJQUVBLE1BQU1DLGNBQWM7UUFDbEJDLElBQUk7UUFDSkMsSUFBSTtRQUNKQyxJQUFJO0lBQ047SUFFQSxNQUFNQyxhQUFhbkIsWUFBWSxXQUFXO0lBRTFDLE1BQU1vQixVQUFVLEdBQUdaLFlBQVksQ0FBQyxFQUFFQyxjQUFjLENBQUNYLFFBQVEsQ0FBQyxDQUFDLEVBQUVpQixXQUFXLENBQUNoQixLQUFLLENBQUMsQ0FBQyxFQUFFb0IsV0FBVyxDQUFDLEVBQUVkLFdBQVc7SUFFM0cscUJBQ0UsOERBQUNnQjtRQUNDZixNQUFNQTtRQUNOVCxTQUFTQTtRQUNUSSxVQUFVQSxZQUFZQztRQUN0QkcsV0FBV2U7UUFDWEUsY0FBWWY7UUFDWmdCLGFBQVdyQjs7WUFFVkEseUJBQ0MsOERBQUNzQjtnQkFBSW5CLFdBQVU7Z0JBQWlGb0IsZUFBWTs7Ozs7O1lBRTdHLENBQUN2QixXQUFXQyxRQUFRQyxpQkFBaUIsd0JBQ3BDLDhEQUFDc0I7Z0JBQUtyQixXQUFVO2dCQUFnQm9CLGVBQVk7MEJBQVF0Qjs7Ozs7OzBCQUV0RCw4REFBQ3VCOzBCQUFNOUI7Ozs7OztZQUNOLENBQUNNLFdBQVdDLFFBQVFDLGlCQUFpQix5QkFDcEMsOERBQUNzQjtnQkFBS3JCLFdBQVU7Z0JBQWdCb0IsZUFBWTswQkFBUXRCOzs7Ozs7Ozs7Ozs7QUFJNUQsRUFBRTtLQXZEV1I7QUF5RGIsaUVBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvQnV0dG9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBCdXR0b25Qcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gIG9uQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICB2YXJpYW50PzogJ3ByaW1hcnknIHwgJ3NlY29uZGFyeScgfCAnZ2hvc3QnIHwgJ2RhbmdlcicgfCAnc3VjY2Vzcyc7XG4gIHNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7XG4gIGZ1bGxXaWR0aD86IGJvb2xlYW47XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgbG9hZGluZz86IGJvb2xlYW47XG4gIGljb24/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGljb25Qb3NpdGlvbj86ICdsZWZ0JyB8ICdyaWdodCc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgdHlwZT86ICdidXR0b24nIHwgJ3N1Ym1pdCcgfCAncmVzZXQnO1xuICAnYXJpYS1sYWJlbCc/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBCdXR0b246IFJlYWN0LkZDPEJ1dHRvblByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBvbkNsaWNrLFxuICB2YXJpYW50ID0gJ3ByaW1hcnknLFxuICBzaXplID0gJ21kJyxcbiAgZnVsbFdpZHRoID0gZmFsc2UsXG4gIGRpc2FibGVkID0gZmFsc2UsXG4gIGxvYWRpbmcgPSBmYWxzZSxcbiAgaWNvbixcbiAgaWNvblBvc2l0aW9uID0gJ2xlZnQnLFxuICBjbGFzc05hbWUgPSAnJyxcbiAgdHlwZSA9ICdidXR0b24nLFxuICAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCxcbn0pID0+IHtcbiAgY29uc3QgYmFzZUNsYXNzZXMgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZvbnQtc2VtaWJvbGQgcm91bmRlZC1ub25lIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgYWN0aXZlOnNjYWxlLVswLjk4XSc7XG4gIFxuICBjb25zdCB2YXJpYW50Q2xhc3NlcyA9IHtcbiAgICBwcmltYXJ5OiAnYmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBib3JkZXItMiBib3JkZXItYmxhY2sgaG92ZXI6YmctW3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayldIGhvdmVyOmJvcmRlci1ibGFjayBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gc2hhZG93LXNtIGhvdmVyOnNoYWRvdy1tZCcsXG4gICAgc2Vjb25kYXJ5OiAnYmctW3ZhcigtLWNvbG9yLWJnLWFjY2VudCldIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGJvcmRlci0yIGJvcmRlci1ibGFjayBob3ZlcjpiZy1bdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodGVyKV0gZm9jdXM6cmluZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldJyxcbiAgICBnaG9zdDogJ2JnLXRyYW5zcGFyZW50IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1iZy1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IGhvdmVyOmJvcmRlci1bdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodCldIGZvY3VzOnJpbmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXScsXG4gICAgZGFuZ2VyOiAnYmctW3ZhcigtLWNvbG9yLWVycm9yKV0gdGV4dC13aGl0ZSBib3JkZXItMiBib3JkZXItYmxhY2sgaG92ZXI6YmctW3ZhcigtLWNvbG9yLWVycm9yLWRhcmspXSBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1lcnJvcildIHNoYWRvdy1zbSBob3ZlcjpzaGFkb3ctbWQnLFxuICAgIHN1Y2Nlc3M6ICdiZy1bdmFyKC0tY29sb3Itc3VjY2VzcyldIHRleHQtd2hpdGUgYm9yZGVyLTIgYm9yZGVyLWJsYWNrIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1zdWNjZXNzLWRhcmspXSBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1zdWNjZXNzKV0gc2hhZG93LXNtIGhvdmVyOnNoYWRvdy1tZCcsXG4gIH07XG4gIFxuICBjb25zdCBzaXplQ2xhc3NlcyA9IHtcbiAgICBzbTogJ2gtW3ZhcigtLWJ1dHRvbi1oZWlnaHQtc20pXSBweC00IHRleHQtc20gZ2FwLTInLFxuICAgIG1kOiAnaC1bdmFyKC0tYnV0dG9uLWhlaWdodC1tZCldIHB4LTYgdGV4dC1iYXNlIGdhcC0yJyxcbiAgICBsZzogJ2gtW3ZhcigtLWJ1dHRvbi1oZWlnaHQtbGcpXSBweC04IHRleHQteGwgZ2FwLTMnLFxuICB9O1xuICBcbiAgY29uc3Qgd2lkdGhDbGFzcyA9IGZ1bGxXaWR0aCA/ICd3LWZ1bGwnIDogJyc7XG4gIFxuICBjb25zdCBjbGFzc2VzID0gYCR7YmFzZUNsYXNzZXN9ICR7dmFyaWFudENsYXNzZXNbdmFyaWFudF19ICR7c2l6ZUNsYXNzZXNbc2l6ZV19ICR7d2lkdGhDbGFzc30gJHtjbGFzc05hbWV9YDtcbiAgXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgdHlwZT17dHlwZX1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWQgfHwgbG9hZGluZ31cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlc31cbiAgICAgIGFyaWEtbGFiZWw9e2FyaWFMYWJlbH1cbiAgICAgIGFyaWEtYnVzeT17bG9hZGluZ31cbiAgICA+XG4gICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBib3JkZXItMiBib3JkZXItY3VycmVudCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICl9XG4gICAgICB7IWxvYWRpbmcgJiYgaWNvbiAmJiBpY29uUG9zaXRpb24gPT09ICdsZWZ0JyAmJiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj57aWNvbn08L3NwYW4+XG4gICAgICApfVxuICAgICAgPHNwYW4+e2NoaWxkcmVufTwvc3Bhbj5cbiAgICAgIHshbG9hZGluZyAmJiBpY29uICYmIGljb25Qb3NpdGlvbiA9PT0gJ3JpZ2h0JyAmJiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj57aWNvbn08L3NwYW4+XG4gICAgICApfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uO1xuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJCdXR0b24iLCJjaGlsZHJlbiIsIm9uQ2xpY2siLCJ2YXJpYW50Iiwic2l6ZSIsImZ1bGxXaWR0aCIsImRpc2FibGVkIiwibG9hZGluZyIsImljb24iLCJpY29uUG9zaXRpb24iLCJjbGFzc05hbWUiLCJ0eXBlIiwiYXJpYUxhYmVsIiwiYmFzZUNsYXNzZXMiLCJ2YXJpYW50Q2xhc3NlcyIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJnaG9zdCIsImRhbmdlciIsInN1Y2Nlc3MiLCJzaXplQ2xhc3NlcyIsInNtIiwibWQiLCJsZyIsIndpZHRoQ2xhc3MiLCJjbGFzc2VzIiwiYnV0dG9uIiwiYXJpYS1sYWJlbCIsImFyaWEtYnVzeSIsImRpdiIsImFyaWEtaGlkZGVuIiwic3BhbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/Button.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/FeedbackModal.tsx":
/*!*****************************************!*\
  !*** ./components/ui/FeedbackModal.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FeedbackModal: () => (/* binding */ FeedbackModal),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Button */ \"(app-pages-browser)/./components/ui/Button.tsx\");\n/* __next_internal_client_entry_do_not_use__ FeedbackModal,default auto */ \nvar _s = $RefreshSig$();\n\n\n/**\n * In-app feedback modal with 1â€“5 star rating and optional comment.\n * Includes focus trap for accessibility.\n */ const FeedbackModal = ({ isOpen, onClose, onSubmit })=>{\n    _s();\n    const [rating, setRating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [hoverRating, setHoverRating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [comment, setComment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [success, setSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const modalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const previousActiveElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Focus trap implementation\n    const getFocusableElements = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FeedbackModal.useCallback[getFocusableElements]\": ()=>{\n            if (!modalRef.current) return [];\n            return Array.from(modalRef.current.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'));\n        }\n    }[\"FeedbackModal.useCallback[getFocusableElements]\"], []);\n    // Handle keyboard navigation for focus trap\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FeedbackModal.useEffect\": ()=>{\n            if (!isOpen) return;\n            const handleKeyDown = {\n                \"FeedbackModal.useEffect.handleKeyDown\": (e)=>{\n                    if (e.key === 'Escape') {\n                        onClose();\n                        return;\n                    }\n                    if (e.key !== 'Tab') return;\n                    const focusableElements = getFocusableElements();\n                    if (focusableElements.length === 0) return;\n                    const firstElement = focusableElements[0];\n                    const lastElement = focusableElements[focusableElements.length - 1];\n                    if (e.shiftKey) {\n                        // Shift + Tab\n                        if (document.activeElement === firstElement) {\n                            e.preventDefault();\n                            lastElement.focus();\n                        }\n                    } else {\n                        // Tab\n                        if (document.activeElement === lastElement) {\n                            e.preventDefault();\n                            firstElement.focus();\n                        }\n                    }\n                }\n            }[\"FeedbackModal.useEffect.handleKeyDown\"];\n            document.addEventListener('keydown', handleKeyDown);\n            return ({\n                \"FeedbackModal.useEffect\": ()=>document.removeEventListener('keydown', handleKeyDown)\n            })[\"FeedbackModal.useEffect\"];\n        }\n    }[\"FeedbackModal.useEffect\"], [\n        isOpen,\n        onClose,\n        getFocusableElements\n    ]);\n    // Focus first element when modal opens, restore focus when it closes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FeedbackModal.useEffect\": ()=>{\n            if (isOpen) {\n                previousActiveElement.current = document.activeElement;\n                // Focus the first focusable element after a short delay to allow render\n                const timer = setTimeout({\n                    \"FeedbackModal.useEffect.timer\": ()=>{\n                        const focusableElements = getFocusableElements();\n                        if (focusableElements.length > 0) {\n                            focusableElements[0].focus();\n                        }\n                    }\n                }[\"FeedbackModal.useEffect.timer\"], 50);\n                return ({\n                    \"FeedbackModal.useEffect\": ()=>clearTimeout(timer)\n                })[\"FeedbackModal.useEffect\"];\n            } else if (previousActiveElement.current) {\n                previousActiveElement.current.focus();\n            }\n        }\n    }[\"FeedbackModal.useEffect\"], [\n        isOpen,\n        getFocusableElements\n    ]);\n    // Prevent body scroll when modal is open\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FeedbackModal.useEffect\": ()=>{\n            if (isOpen) {\n                document.body.style.overflow = 'hidden';\n            } else {\n                document.body.style.overflow = '';\n            }\n            return ({\n                \"FeedbackModal.useEffect\": ()=>{\n                    document.body.style.overflow = '';\n                }\n            })[\"FeedbackModal.useEffect\"];\n        }\n    }[\"FeedbackModal.useEffect\"], [\n        isOpen\n    ]);\n    const resetState = ()=>{\n        setRating(0);\n        setHoverRating(0);\n        setComment('');\n        setError(null);\n        setSuccess(false);\n    };\n    const handleClose = ()=>{\n        resetState();\n        onClose();\n    };\n    const handleSubmit = async ()=>{\n        if (rating === 0) {\n            setError('Please select a rating before submitting.');\n            return;\n        }\n        setLoading(true);\n        setError(null);\n        try {\n            await onSubmit(rating, comment.trim());\n            setSuccess(true);\n            // Auto-close after showing success\n            setTimeout(()=>{\n                handleClose();\n            }, 1500);\n        } catch (err) {\n            setError(err instanceof Error ? err.message : 'Failed to submit feedback. Please try again.');\n        } finally{\n            setLoading(false);\n        }\n    };\n    if (!isOpen) return null;\n    const displayRating = hoverRating || rating;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        \"aria-labelledby\": \"feedback-modal-title\",\n        onClick: (e)=>{\n            // Close when clicking the backdrop\n            if (e.target === e.currentTarget) {\n                handleClose();\n            }\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            ref: modalRef,\n            className: \"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-slide-up\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-6 py-4 border-b border-[var(--color-neutral-200)] flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            id: \"feedback-modal-title\",\n                            className: \"text-lg font-bold text-[var(--color-text-primary)]\",\n                            children: \"Give Feedback\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                            lineNumber: 159,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-[var(--color-text-muted)] hover:text-[var(--color-text-primary)] transition-colors\",\n                            \"aria-label\": \"Close feedback modal\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fa-solid fa-times text-lg\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 167,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                    lineNumber: 158,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-6 py-5\",\n                    children: success ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center py-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 mx-auto mb-4 rounded-full bg-[var(--color-success-light)] flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"fa-solid fa-check text-3xl text-[var(--color-success)]\",\n                                    \"aria-hidden\": \"true\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                    lineNumber: 176,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 175,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-lg font-semibold text-[var(--color-text-primary)]\",\n                                children: \"Thank you!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 178,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-[var(--color-text-muted)] mt-1\",\n                                children: \"Your feedback helps us improve.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 179,\n                                columnNumber: 29\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                        lineNumber: 174,\n                        columnNumber: 25\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-[var(--color-text-muted)] mb-4 text-center\",\n                                children: \"How would you rate your experience with MI Mastery?\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 183,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-center gap-2 mb-6\",\n                                role: \"radiogroup\",\n                                \"aria-label\": \"Rating\",\n                                children: [\n                                    1,\n                                    2,\n                                    3,\n                                    4,\n                                    5\n                                ].map((star)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>setRating(star),\n                                        onMouseEnter: ()=>setHoverRating(star),\n                                        onMouseLeave: ()=>setHoverRating(0),\n                                        className: \"p-1 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:ring-offset-2 rounded\",\n                                        \"aria-label\": `${star} star${star > 1 ? 's' : ''}`,\n                                        \"aria-checked\": rating === star,\n                                        role: \"radio\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: `fa-star text-3xl ${star <= displayRating ? 'fa-solid text-warning' : 'fa-regular text-[var(--color-neutral-300)]'}`,\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                            lineNumber: 201,\n                                            columnNumber: 41\n                                        }, undefined)\n                                    }, star, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                        lineNumber: 190,\n                                        columnNumber: 37\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 188,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"feedback-comment\",\n                                className: \"block text-sm font-medium text-[var(--color-text-primary)] mb-2\",\n                                children: [\n                                    \"Any additional comments? \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-muted)]\",\n                                        children: \"(optional)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                        lineNumber: 215,\n                                        columnNumber: 58\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 214,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                id: \"feedback-comment\",\n                                value: comment,\n                                onChange: (e)=>setComment(e.target.value),\n                                placeholder: \"Tell us what you liked or how we can improve...\",\n                                rows: 3,\n                                maxLength: 500,\n                                className: \"w-full px-4 py-3 border border-[var(--color-neutral-300)] rounded-lg text-sm text-[var(--color-text-primary)] placeholder-[var(--color-text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 217,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-[var(--color-text-muted)] mt-1 text-right\",\n                                children: [\n                                    comment.length,\n                                    \"/500\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 226,\n                                columnNumber: 29\n                            }, undefined),\n                            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-3 p-3 rounded-lg bg-[var(--color-error-light)] text-[var(--color-error)] text-sm flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-exclamation-circle flex-shrink-0\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                        lineNumber: 231,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                        lineNumber: 232,\n                                        columnNumber: 37\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 230,\n                                columnNumber: 33\n                            }, undefined)\n                        ]\n                    }, void 0, true)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                    lineNumber: 172,\n                    columnNumber: 17\n                }, undefined),\n                !success && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-6 py-4 border-t border-[var(--color-neutral-200)] flex gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"secondary\",\n                            onClick: handleClose,\n                            fullWidth: true,\n                            disabled: loading,\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                            lineNumber: 242,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"primary\",\n                            onClick: handleSubmit,\n                            fullWidth: true,\n                            loading: loading,\n                            disabled: rating === 0,\n                            children: \"Submit\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                            lineNumber: 245,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                    lineNumber: 241,\n                    columnNumber: 21\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n            lineNumber: 153,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n        lineNumber: 141,\n        columnNumber: 9\n    }, undefined);\n};\n_s(FeedbackModal, \"g4eC9bShwJY5eXQfytLIcyj2FbA=\");\n_c = FeedbackModal;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FeedbackModal);\nvar _c;\n$RefreshReg$(_c, \"FeedbackModal\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvRmVlZGJhY2tNb2RhbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFd0U7QUFDdEM7QUFRbEM7OztDQUdDLEdBQ00sTUFBTU0sZ0JBQThDLENBQUMsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLFFBQVEsRUFBRTs7SUFDckYsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUdWLCtDQUFRQSxDQUFTO0lBQzdDLE1BQU0sQ0FBQ1csYUFBYUMsZUFBZSxHQUFHWiwrQ0FBUUEsQ0FBUztJQUN2RCxNQUFNLENBQUNhLFNBQVNDLFdBQVcsR0FBR2QsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZSxTQUFTQyxXQUFXLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNpQixPQUFPQyxTQUFTLEdBQUdsQiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDbUIsU0FBU0MsV0FBVyxHQUFHcEIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTXFCLFdBQVduQiw2Q0FBTUEsQ0FBaUI7SUFDeEMsTUFBTW9CLHdCQUF3QnBCLDZDQUFNQSxDQUFxQjtJQUV6RCw0QkFBNEI7SUFDNUIsTUFBTXFCLHVCQUF1QnBCLGtEQUFXQTsyREFBQztZQUNyQyxJQUFJLENBQUNrQixTQUFTRyxPQUFPLEVBQUUsT0FBTyxFQUFFO1lBQ2hDLE9BQU9DLE1BQU1DLElBQUksQ0FDYkwsU0FBU0csT0FBTyxDQUFDRyxnQkFBZ0IsQ0FDN0I7UUFHWjswREFBRyxFQUFFO0lBRUwsNENBQTRDO0lBQzVDMUIsZ0RBQVNBO21DQUFDO1lBQ04sSUFBSSxDQUFDSyxRQUFRO1lBRWIsTUFBTXNCO3lEQUFnQixDQUFDQztvQkFDbkIsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFVBQVU7d0JBQ3BCdkI7d0JBQ0E7b0JBQ0o7b0JBRUEsSUFBSXNCLEVBQUVDLEdBQUcsS0FBSyxPQUFPO29CQUVyQixNQUFNQyxvQkFBb0JSO29CQUMxQixJQUFJUSxrQkFBa0JDLE1BQU0sS0FBSyxHQUFHO29CQUVwQyxNQUFNQyxlQUFlRixpQkFBaUIsQ0FBQyxFQUFFO29CQUN6QyxNQUFNRyxjQUFjSCxpQkFBaUIsQ0FBQ0Esa0JBQWtCQyxNQUFNLEdBQUcsRUFBRTtvQkFFbkUsSUFBSUgsRUFBRU0sUUFBUSxFQUFFO3dCQUNaLGNBQWM7d0JBQ2QsSUFBSUMsU0FBU0MsYUFBYSxLQUFLSixjQUFjOzRCQUN6Q0osRUFBRVMsY0FBYzs0QkFDaEJKLFlBQVlLLEtBQUs7d0JBQ3JCO29CQUNKLE9BQU87d0JBQ0gsTUFBTTt3QkFDTixJQUFJSCxTQUFTQyxhQUFhLEtBQUtILGFBQWE7NEJBQ3hDTCxFQUFFUyxjQUFjOzRCQUNoQkwsYUFBYU0sS0FBSzt3QkFDdEI7b0JBQ0o7Z0JBQ0o7O1lBRUFILFNBQVNJLGdCQUFnQixDQUFDLFdBQVdaO1lBQ3JDOzJDQUFPLElBQU1RLFNBQVNLLG1CQUFtQixDQUFDLFdBQVdiOztRQUN6RDtrQ0FBRztRQUFDdEI7UUFBUUM7UUFBU2dCO0tBQXFCO0lBRTFDLHFFQUFxRTtJQUNyRXRCLGdEQUFTQTttQ0FBQztZQUNOLElBQUlLLFFBQVE7Z0JBQ1JnQixzQkFBc0JFLE9BQU8sR0FBR1ksU0FBU0MsYUFBYTtnQkFDdEQsd0VBQXdFO2dCQUN4RSxNQUFNSyxRQUFRQztxREFBVzt3QkFDckIsTUFBTVosb0JBQW9CUjt3QkFDMUIsSUFBSVEsa0JBQWtCQyxNQUFNLEdBQUcsR0FBRzs0QkFDOUJELGlCQUFpQixDQUFDLEVBQUUsQ0FBQ1EsS0FBSzt3QkFDOUI7b0JBQ0o7b0RBQUc7Z0JBQ0g7K0NBQU8sSUFBTUssYUFBYUY7O1lBQzlCLE9BQU8sSUFBSXBCLHNCQUFzQkUsT0FBTyxFQUFFO2dCQUN0Q0Ysc0JBQXNCRSxPQUFPLENBQUNlLEtBQUs7WUFDdkM7UUFDSjtrQ0FBRztRQUFDakM7UUFBUWlCO0tBQXFCO0lBRWpDLHlDQUF5QztJQUN6Q3RCLGdEQUFTQTttQ0FBQztZQUNOLElBQUlLLFFBQVE7Z0JBQ1I4QixTQUFTUyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsUUFBUSxHQUFHO1lBQ25DLE9BQU87Z0JBQ0hYLFNBQVNTLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxRQUFRLEdBQUc7WUFDbkM7WUFDQTsyQ0FBTztvQkFDSFgsU0FBU1MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLFFBQVEsR0FBRztnQkFDbkM7O1FBQ0o7a0NBQUc7UUFBQ3pDO0tBQU87SUFFWCxNQUFNMEMsYUFBYTtRQUNmdEMsVUFBVTtRQUNWRSxlQUFlO1FBQ2ZFLFdBQVc7UUFDWEksU0FBUztRQUNURSxXQUFXO0lBQ2Y7SUFFQSxNQUFNNkIsY0FBYztRQUNoQkQ7UUFDQXpDO0lBQ0o7SUFFQSxNQUFNMkMsZUFBZTtRQUNqQixJQUFJekMsV0FBVyxHQUFHO1lBQ2RTLFNBQVM7WUFDVDtRQUNKO1FBQ0FGLFdBQVc7UUFDWEUsU0FBUztRQUNULElBQUk7WUFDQSxNQUFNVixTQUFTQyxRQUFRSSxRQUFRc0MsSUFBSTtZQUNuQy9CLFdBQVc7WUFDWCxtQ0FBbUM7WUFDbkN1QixXQUFXO2dCQUNQTTtZQUNKLEdBQUc7UUFDUCxFQUFFLE9BQU9HLEtBQUs7WUFDVmxDLFNBQVNrQyxlQUFlQyxRQUFRRCxJQUFJRSxPQUFPLEdBQUc7UUFDbEQsU0FBVTtZQUNOdEMsV0FBVztRQUNmO0lBQ0o7SUFFQSxJQUFJLENBQUNWLFFBQVEsT0FBTztJQUVwQixNQUFNaUQsZ0JBQWdCNUMsZUFBZUY7SUFFckMscUJBQ0ksOERBQUMrQztRQUNHQyxXQUFVO1FBQ1ZDLE1BQUs7UUFDTEMsY0FBVztRQUNYQyxtQkFBZ0I7UUFDaEJDLFNBQVMsQ0FBQ2hDO1lBQ04sbUNBQW1DO1lBQ25DLElBQUlBLEVBQUVpQyxNQUFNLEtBQUtqQyxFQUFFa0MsYUFBYSxFQUFFO2dCQUM5QmQ7WUFDSjtRQUNKO2tCQUVBLDRFQUFDTztZQUNHUSxLQUFLM0M7WUFDTG9DLFdBQVU7OzhCQUdWLDhEQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ1gsOERBQUNROzRCQUFHQyxJQUFHOzRCQUF1QlQsV0FBVTtzQ0FBcUQ7Ozs7OztzQ0FHN0YsOERBQUNVOzRCQUNHTixTQUFTWjs0QkFDVFEsV0FBVTs0QkFDVlcsY0FBVztzQ0FFWCw0RUFBQ0M7Z0NBQUVaLFdBQVU7Z0NBQTRCYSxlQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFLN0QsOERBQUNkO29CQUFJQyxXQUFVOzhCQUNWdEMsd0JBQ0csOERBQUNxQzt3QkFBSUMsV0FBVTs7MENBQ1gsOERBQUNEO2dDQUFJQyxXQUFVOzBDQUNYLDRFQUFDWTtvQ0FBRVosV0FBVTtvQ0FBeURhLGVBQVk7Ozs7Ozs7Ozs7OzBDQUV0Riw4REFBQ0M7Z0NBQUVkLFdBQVU7MENBQXlEOzs7Ozs7MENBQ3RFLDhEQUFDYztnQ0FBRWQsV0FBVTswQ0FBOEM7Ozs7Ozs7Ozs7O2tEQUcvRDs7MENBQ0ksOERBQUNjO2dDQUFFZCxXQUFVOzBDQUEwRDs7Ozs7OzBDQUt2RSw4REFBQ0Q7Z0NBQUlDLFdBQVU7Z0NBQWlDQyxNQUFLO2dDQUFhVSxjQUFXOzBDQUN4RTtvQ0FBQztvQ0FBRztvQ0FBRztvQ0FBRztvQ0FBRztpQ0FBRSxDQUFDSSxHQUFHLENBQUMsQ0FBQ0MscUJBQ2xCLDhEQUFDTjt3Q0FFR08sTUFBSzt3Q0FDTGIsU0FBUyxJQUFNbkQsVUFBVStEO3dDQUN6QkUsY0FBYyxJQUFNL0QsZUFBZTZEO3dDQUNuQ0csY0FBYyxJQUFNaEUsZUFBZTt3Q0FDbkM2QyxXQUFVO3dDQUNWVyxjQUFZLEdBQUdLLEtBQUssS0FBSyxFQUFFQSxPQUFPLElBQUksTUFBTSxJQUFJO3dDQUNoREksZ0JBQWNwRSxXQUFXZ0U7d0NBQ3pCZixNQUFLO2tEQUVMLDRFQUFDVzs0Q0FDR1osV0FBVyxDQUFDLGlCQUFpQixFQUN6QmdCLFFBQVFsQixnQkFDRiwwQkFDQSw4Q0FDUjs0Q0FDRmUsZUFBWTs7Ozs7O3VDQWhCWEc7Ozs7Ozs7Ozs7MENBdUJqQiw4REFBQ0s7Z0NBQU1DLFNBQVE7Z0NBQW1CdEIsV0FBVTs7b0NBQWtFO2tEQUNqRiw4REFBQ3VCO3dDQUFLdkIsV0FBVTtrREFBaUM7Ozs7Ozs7Ozs7OzswQ0FFOUUsOERBQUN3QjtnQ0FDR2YsSUFBRztnQ0FDSGdCLE9BQU9yRTtnQ0FDUHNFLFVBQVUsQ0FBQ3RELElBQU1mLFdBQVdlLEVBQUVpQyxNQUFNLENBQUNvQixLQUFLO2dDQUMxQ0UsYUFBWTtnQ0FDWkMsTUFBTTtnQ0FDTkMsV0FBVztnQ0FDWDdCLFdBQVU7Ozs7OzswQ0FFZCw4REFBQ2M7Z0NBQUVkLFdBQVU7O29DQUEwRDVDLFFBQVFtQixNQUFNO29DQUFDOzs7Ozs7OzRCQUdyRmYsdUJBQ0csOERBQUN1QztnQ0FBSUMsV0FBVTs7a0RBQ1gsOERBQUNZO3dDQUFFWixXQUFVO3dDQUErQ2EsZUFBWTs7Ozs7O2tEQUN4RSw4REFBQ1U7a0RBQU0vRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnQkFRMUIsQ0FBQ0UseUJBQ0UsOERBQUNxQztvQkFBSUMsV0FBVTs7c0NBQ1gsOERBQUNyRCwyQ0FBTUE7NEJBQUNtRixTQUFROzRCQUFZMUIsU0FBU1o7NEJBQWF1QyxTQUFTOzRCQUFDQyxVQUFVMUU7c0NBQVM7Ozs7OztzQ0FHL0UsOERBQUNYLDJDQUFNQTs0QkFBQ21GLFNBQVE7NEJBQVUxQixTQUFTWDs0QkFBY3NDLFNBQVM7NEJBQUN6RSxTQUFTQTs0QkFBUzBFLFVBQVVoRixXQUFXO3NDQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVE3SCxFQUFFO0dBN09XSjtLQUFBQTtBQStPYixpRUFBZUEsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29tcG9uZW50cy91aS9GZWVkYmFja01vZGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi9CdXR0b24nO1xuXG5pbnRlcmZhY2UgRmVlZGJhY2tNb2RhbFByb3BzIHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgICBvblN1Ym1pdDogKHJhdGluZzogbnVtYmVyLCBjb21tZW50OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG59XG5cbi8qKlxuICogSW4tYXBwIGZlZWRiYWNrIG1vZGFsIHdpdGggMeKAkzUgc3RhciByYXRpbmcgYW5kIG9wdGlvbmFsIGNvbW1lbnQuXG4gKiBJbmNsdWRlcyBmb2N1cyB0cmFwIGZvciBhY2Nlc3NpYmlsaXR5LlxuICovXG5leHBvcnQgY29uc3QgRmVlZGJhY2tNb2RhbDogUmVhY3QuRkM8RmVlZGJhY2tNb2RhbFByb3BzPiA9ICh7IGlzT3Blbiwgb25DbG9zZSwgb25TdWJtaXQgfSkgPT4ge1xuICAgIGNvbnN0IFtyYXRpbmcsIHNldFJhdGluZ10gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICAgIGNvbnN0IFtob3ZlclJhdGluZywgc2V0SG92ZXJSYXRpbmddID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgICBjb25zdCBbY29tbWVudCwgc2V0Q29tbWVudF0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3N1Y2Nlc3MsIHNldFN1Y2Nlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG1vZGFsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgICBjb25zdCBwcmV2aW91c0FjdGl2ZUVsZW1lbnQgPSB1c2VSZWY8SFRNTEVsZW1lbnQgfCBudWxsPihudWxsKTtcblxuICAgIC8vIEZvY3VzIHRyYXAgaW1wbGVtZW50YXRpb25cbiAgICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKCFtb2RhbFJlZi5jdXJyZW50KSByZXR1cm4gW107XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxuICAgICAgICAgICAgbW9kYWxSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PihcbiAgICAgICAgICAgICAgICAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJ1xuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH0sIFtdKTtcblxuICAgIC8vIEhhbmRsZSBrZXlib2FyZCBuYXZpZ2F0aW9uIGZvciBmb2N1cyB0cmFwXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpc09wZW4pIHJldHVybjtcblxuICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZS5rZXkgIT09ICdUYWInKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoKTtcbiAgICAgICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgZmlyc3RFbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgICAgICAgICBjb25zdCBsYXN0RWxlbWVudCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIC8vIFNoaWZ0ICsgVGFiXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUYWJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBmaXJzdEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgIH0sIFtpc09wZW4sIG9uQ2xvc2UsIGdldEZvY3VzYWJsZUVsZW1lbnRzXSk7XG5cbiAgICAvLyBGb2N1cyBmaXJzdCBlbGVtZW50IHdoZW4gbW9kYWwgb3BlbnMsIHJlc3RvcmUgZm9jdXMgd2hlbiBpdCBjbG9zZXNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICBwcmV2aW91c0FjdGl2ZUVsZW1lbnQuY3VycmVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAvLyBGb2N1cyB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgYWZ0ZXIgYSBzaG9ydCBkZWxheSB0byBhbGxvdyByZW5kZXJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cygpO1xuICAgICAgICAgICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNBY3RpdmVFbGVtZW50LmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzQWN0aXZlRWxlbWVudC5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNPcGVuLCBnZXRGb2N1c2FibGVFbGVtZW50c10pO1xuXG4gICAgLy8gUHJldmVudCBib2R5IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgfTtcbiAgICB9LCBbaXNPcGVuXSk7XG5cbiAgICBjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xuICAgICAgICBzZXRSYXRpbmcoMCk7XG4gICAgICAgIHNldEhvdmVyUmF0aW5nKDApO1xuICAgICAgICBzZXRDb21tZW50KCcnKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIHNldFN1Y2Nlc3MoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgcmVzZXRTdGF0ZSgpO1xuICAgICAgICBvbkNsb3NlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHJhdGluZyA9PT0gMCkge1xuICAgICAgICAgICAgc2V0RXJyb3IoJ1BsZWFzZSBzZWxlY3QgYSByYXRpbmcgYmVmb3JlIHN1Ym1pdHRpbmcuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBvblN1Ym1pdChyYXRpbmcsIGNvbW1lbnQudHJpbSgpKTtcbiAgICAgICAgICAgIHNldFN1Y2Nlc3ModHJ1ZSk7XG4gICAgICAgICAgICAvLyBBdXRvLWNsb3NlIGFmdGVyIHNob3dpbmcgc3VjY2Vzc1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ2xvc2UoKTtcbiAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHN1Ym1pdCBmZWVkYmFjay4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGRpc3BsYXlSYXRpbmcgPSBob3ZlclJhdGluZyB8fCByYXRpbmc7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNTAgcC00XCJcbiAgICAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICAgICAgYXJpYS1tb2RhbD1cInRydWVcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiZmVlZGJhY2stbW9kYWwtdGl0bGVcIlxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBDbG9zZSB3aGVuIGNsaWNraW5nIHRoZSBiYWNrZHJvcFxuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHJlZj17bW9kYWxSZWZ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC0yeGwgc2hhZG93LXhsIHctZnVsbCBtYXgtdy1tZCBvdmVyZmxvdy1oaWRkZW4gYW5pbWF0ZS1zbGlkZS11cFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTYgcHktNCBib3JkZXItYiBib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtMjAwKV0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBpZD1cImZlZWRiYWNrLW1vZGFsLXRpdGxlXCIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEdpdmUgRmVlZGJhY2tcbiAgICAgICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV0gaG92ZXI6dGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIGZlZWRiYWNrIG1vZGFsXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtdGltZXMgdGV4dC1sZ1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEJvZHkgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC02IHB5LTVcIj5cbiAgICAgICAgICAgICAgICAgICAge3N1Y2Nlc3MgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBteC1hdXRvIG1iLTQgcm91bmRlZC1mdWxsIGJnLVt2YXIoLS1jb2xvci1zdWNjZXNzLWxpZ2h0KV0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtY2hlY2sgdGV4dC0zeGwgdGV4dC1bdmFyKC0tY29sb3Itc3VjY2VzcyldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5UaGFuayB5b3UhPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIG10LTFcIj5Zb3VyIGZlZWRiYWNrIGhlbHBzIHVzIGltcHJvdmUuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIG1iLTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSG93IHdvdWxkIHlvdSByYXRlIHlvdXIgZXhwZXJpZW5jZSB3aXRoIE1JIE1hc3Rlcnk/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFN0YXIgcmF0aW5nICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtMiBtYi02XCIgcm9sZT1cInJhZGlvZ3JvdXBcIiBhcmlhLWxhYmVsPVwiUmF0aW5nXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbMSwgMiwgMywgNCwgNV0ubWFwKChzdGFyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzdGFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFJhdGluZyhzdGFyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldEhvdmVyUmF0aW5nKHN0YXIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SG92ZXJSYXRpbmcoMCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xIHRyYW5zaXRpb24tdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTExMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXSBmb2N1czpyaW5nLW9mZnNldC0yIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2Ake3N0YXJ9IHN0YXIke3N0YXIgPiAxID8gJ3MnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWNoZWNrZWQ9e3JhdGluZyA9PT0gc3Rhcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZhLXN0YXIgdGV4dC0zeGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXIgPD0gZGlzcGxheVJhdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2ZhLXNvbGlkIHRleHQtd2FybmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdmYS1yZWd1bGFyIHRleHQtW3ZhcigtLWNvbG9yLW5ldXRyYWwtMzAwKV0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogT3B0aW9uYWwgY29tbWVudCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImZlZWRiYWNrLWNvbW1lbnRcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW55IGFkZGl0aW9uYWwgY29tbWVudHM/IDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiPihvcHRpb25hbCk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJmZWVkYmFjay1jb21tZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NvbW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q29tbWVudChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVGVsbCB1cyB3aGF0IHlvdSBsaWtlZCBvciBob3cgd2UgY2FuIGltcHJvdmUuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9ezUwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBib3JkZXIgYm9yZGVyLVt2YXIoLS1jb2xvci1uZXV0cmFsLTMwMCldIHJvdW5kZWQtbGcgdGV4dC1zbSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBwbGFjZWhvbGRlci1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudCByZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXSBtdC0xIHRleHQtcmlnaHRcIj57Y29tbWVudC5sZW5ndGh9LzUwMDwvcD5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBFcnJvciBtZXNzYWdlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBwLTMgcm91bmRlZC1sZyBiZy1bdmFyKC0tY29sb3ItZXJyb3ItbGlnaHQpXSB0ZXh0LVt2YXIoLS1jb2xvci1lcnJvcildIHRleHQtc20gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZSBmbGV4LXNocmluay0wXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntlcnJvcn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBGb290ZXIgKi99XG4gICAgICAgICAgICAgICAgeyFzdWNjZXNzICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC02IHB5LTQgYm9yZGVyLXQgYm9yZGVyLVt2YXIoLS1jb2xvci1uZXV0cmFsLTIwMCldIGZsZXggZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cInNlY29uZGFyeVwiIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfSBmdWxsV2lkdGggZGlzYWJsZWQ9e2xvYWRpbmd9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJwcmltYXJ5XCIgb25DbGljaz17aGFuZGxlU3VibWl0fSBmdWxsV2lkdGggbG9hZGluZz17bG9hZGluZ30gZGlzYWJsZWQ9e3JhdGluZyA9PT0gMH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3VibWl0XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmVlZGJhY2tNb2RhbDtcblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIkJ1dHRvbiIsIkZlZWRiYWNrTW9kYWwiLCJpc09wZW4iLCJvbkNsb3NlIiwib25TdWJtaXQiLCJyYXRpbmciLCJzZXRSYXRpbmciLCJob3ZlclJhdGluZyIsInNldEhvdmVyUmF0aW5nIiwiY29tbWVudCIsInNldENvbW1lbnQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJzdWNjZXNzIiwic2V0U3VjY2VzcyIsIm1vZGFsUmVmIiwicHJldmlvdXNBY3RpdmVFbGVtZW50IiwiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCJjdXJyZW50IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5IiwiZm9jdXNhYmxlRWxlbWVudHMiLCJsZW5ndGgiLCJmaXJzdEVsZW1lbnQiLCJsYXN0RWxlbWVudCIsInNoaWZ0S2V5IiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwicHJldmVudERlZmF1bHQiLCJmb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiYm9keSIsInN0eWxlIiwib3ZlcmZsb3ciLCJyZXNldFN0YXRlIiwiaGFuZGxlQ2xvc2UiLCJoYW5kbGVTdWJtaXQiLCJ0cmltIiwiZXJyIiwiRXJyb3IiLCJtZXNzYWdlIiwiZGlzcGxheVJhdGluZyIsImRpdiIsImNsYXNzTmFtZSIsInJvbGUiLCJhcmlhLW1vZGFsIiwiYXJpYS1sYWJlbGxlZGJ5Iiwib25DbGljayIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJyZWYiLCJoMiIsImlkIiwiYnV0dG9uIiwiYXJpYS1sYWJlbCIsImkiLCJhcmlhLWhpZGRlbiIsInAiLCJtYXAiLCJzdGFyIiwidHlwZSIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsImFyaWEtY2hlY2tlZCIsImxhYmVsIiwiaHRtbEZvciIsInNwYW4iLCJ0ZXh0YXJlYSIsInZhbHVlIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJtYXhMZW5ndGgiLCJ2YXJpYW50IiwiZnVsbFdpZHRoIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/FeedbackModal.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/Toast.tsx":
/*!*********************************!*\
  !*** ./components/ui/Toast.tsx ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   ToastContainer: () => (/* binding */ ToastContainer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ Toast,ToastContainer,useToast,default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n// Default durations by type (errors stay longer so users can read them)\nconst DEFAULT_DURATIONS = {\n    success: 3000,\n    info: 4000,\n    warning: 5000,\n    error: 6000\n};\nconst Toast = ({ message, type = 'info', duration, onClose })=>{\n    _s();\n    // Use provided duration or fall back to type-based default\n    const effectiveDuration = duration ?? DEFAULT_DURATIONS[type];\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Toast.useEffect\": ()=>{\n            if (effectiveDuration > 0) {\n                const timer = setTimeout({\n                    \"Toast.useEffect.timer\": ()=>{\n                        setIsVisible(false);\n                        setTimeout({\n                            \"Toast.useEffect.timer\": ()=>onClose?.()\n                        }[\"Toast.useEffect.timer\"], 300); // Wait for fade out\n                    }\n                }[\"Toast.useEffect.timer\"], effectiveDuration);\n                return ({\n                    \"Toast.useEffect\": ()=>clearTimeout(timer)\n                })[\"Toast.useEffect\"];\n            }\n        }\n    }[\"Toast.useEffect\"], [\n        effectiveDuration,\n        onClose\n    ]);\n    const typeClasses = {\n        success: 'bg-[var(--color-success)] text-white',\n        error: 'bg-[var(--color-error)] text-white',\n        warning: 'bg-[var(--color-warning)] text-white',\n        info: 'bg-[var(--color-info)] text-white'\n    };\n    const icons = {\n        success: 'fa-check-circle',\n        error: 'fa-exclamation-circle',\n        warning: 'fa-exclamation-triangle',\n        info: 'fa-info-circle'\n    };\n    if (!isVisible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg ${typeClasses[type]} animate-slide-in-right max-w-sm`,\n        role: \"alert\",\n        \"aria-live\": \"assertive\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                className: `fa-solid ${icons[type]} flex-shrink-0`,\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 65,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-1 text-sm font-medium\",\n                children: message\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>{\n                    setIsVisible(false);\n                    setTimeout(()=>onClose?.(), 300);\n                },\n                className: \"flex-shrink-0 ml-2 hover:opacity-80 transition-opacity\",\n                \"aria-label\": \"Close notification\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fa-solid fa-times\",\n                    \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                    lineNumber: 75,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n        lineNumber: 60,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Toast, \"m22S9IQwDfEe/fCJY7LYj8YPDMo=\");\n_c = Toast;\nconst ToastContainer = ({ toasts, onRemove })=>{\n    if (toasts.length === 0) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed top-4 right-4 z-50 space-y-2\",\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\",\n        children: toasts.map((toast)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Toast, {\n                message: toast.message,\n                type: toast.type,\n                onClose: ()=>onRemove(toast.id)\n            }, toast.id, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 92,\n                columnNumber: 9\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n        lineNumber: 90,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = ToastContainer;\n// Hook for managing toasts\nconst useToast = ()=>{\n    _s1();\n    const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const showToast = (message, type = 'info')=>{\n        const id = Math.random().toString(36).substring(7);\n        setToasts((prev)=>[\n                ...prev,\n                {\n                    id,\n                    message,\n                    type\n                }\n            ]);\n        return id;\n    };\n    const removeToast = (id)=>{\n        setToasts((prev)=>prev.filter((toast)=>toast.id !== id));\n    };\n    return {\n        toasts,\n        showToast,\n        removeToast,\n        ToastContainer\n    };\n};\n_s1(useToast, \"nD8TBOiFYf9ajstmZpZK2DP4rNo=\");\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Toast);\nvar _c, _c1;\n$RefreshReg$(_c, \"Toast\");\n$RefreshReg$(_c1, \"ToastContainer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvVG9hc3QudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVtRDtBQUluRCx3RUFBd0U7QUFDeEUsTUFBTUcsb0JBQStDO0lBQ25EQyxTQUFTO0lBQ1RDLE1BQU07SUFDTkMsU0FBUztJQUNUQyxPQUFPO0FBQ1Q7QUFTTyxNQUFNQyxRQUE4QixDQUFDLEVBQzFDQyxPQUFPLEVBQ1BDLE9BQU8sTUFBTSxFQUNiQyxRQUFRLEVBQ1JDLE9BQU8sRUFDUjs7SUFDQywyREFBMkQ7SUFDM0QsTUFBTUMsb0JBQW9CRixZQUFZUixpQkFBaUIsQ0FBQ08sS0FBSztJQUM3RCxNQUFNLENBQUNJLFdBQVdDLGFBQWEsR0FBR2IsK0NBQVFBLENBQUM7SUFFM0NELGdEQUFTQTsyQkFBQztZQUNSLElBQUlZLG9CQUFvQixHQUFHO2dCQUN6QixNQUFNRyxRQUFRQzs2Q0FBVzt3QkFDdkJGLGFBQWE7d0JBQ2JFO3FEQUFXLElBQU1MO29EQUFhLE1BQU0sb0JBQW9CO29CQUMxRDs0Q0FBR0M7Z0JBRUg7dUNBQU8sSUFBTUssYUFBYUY7O1lBQzVCO1FBQ0Y7MEJBQUc7UUFBQ0g7UUFBbUJEO0tBQVE7SUFFL0IsTUFBTU8sY0FBYztRQUNsQmYsU0FBUztRQUNURyxPQUFPO1FBQ1BELFNBQVM7UUFDVEQsTUFBTTtJQUNSO0lBRUEsTUFBTWUsUUFBUTtRQUNaaEIsU0FBUztRQUNURyxPQUFPO1FBQ1BELFNBQVM7UUFDVEQsTUFBTTtJQUNSO0lBRUEsSUFBSSxDQUFDUyxXQUFXLE9BQU87SUFFdkIscUJBQ0UsOERBQUNPO1FBQ0NDLFdBQVcsQ0FBQyxnRkFBZ0YsRUFBRUgsV0FBVyxDQUFDVCxLQUFLLENBQUMsZ0NBQWdDLENBQUM7UUFDakphLE1BQUs7UUFDTEMsYUFBVTs7MEJBRVYsOERBQUNDO2dCQUFFSCxXQUFXLENBQUMsU0FBUyxFQUFFRixLQUFLLENBQUNWLEtBQUssQ0FBQyxjQUFjLENBQUM7Z0JBQUVnQixlQUFZOzs7Ozs7MEJBQ25FLDhEQUFDQztnQkFBS0wsV0FBVTswQkFBOEJiOzs7Ozs7MEJBQzlDLDhEQUFDbUI7Z0JBQ0NDLFNBQVM7b0JBQ1BkLGFBQWE7b0JBQ2JFLFdBQVcsSUFBTUwsYUFBYTtnQkFDaEM7Z0JBQ0FVLFdBQVU7Z0JBQ1ZRLGNBQVc7MEJBRVgsNEVBQUNMO29CQUFFSCxXQUFVO29CQUFvQkksZUFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJckQsRUFBRTtHQXpEV2xCO0tBQUFBO0FBZ0VOLE1BQU11QixpQkFBZ0QsQ0FBQyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRTtJQUNoRixJQUFJRCxPQUFPRSxNQUFNLEtBQUssR0FBRyxPQUFPO0lBRWhDLHFCQUNFLDhEQUFDYjtRQUFJQyxXQUFVO1FBQXFDRSxhQUFVO1FBQVNXLGVBQVk7a0JBQ2hGSCxPQUFPSSxHQUFHLENBQUMsQ0FBQ0Msc0JBQ1gsOERBQUM3QjtnQkFFQ0MsU0FBUzRCLE1BQU01QixPQUFPO2dCQUN0QkMsTUFBTTJCLE1BQU0zQixJQUFJO2dCQUNoQkUsU0FBUyxJQUFNcUIsU0FBU0ksTUFBTUMsRUFBRTtlQUgzQkQsTUFBTUMsRUFBRTs7Ozs7Ozs7OztBQVF2QixFQUFFO01BZldQO0FBaUJiLDJCQUEyQjtBQUNwQixNQUFNUSxXQUFXOztJQUN0QixNQUFNLENBQUNQLFFBQVFRLFVBQVUsR0FBR3RDLCtDQUFRQSxDQUEyRCxFQUFFO0lBRWpHLE1BQU11QyxZQUFZLENBQUNoQyxTQUFpQkMsT0FBa0IsTUFBTTtRQUMxRCxNQUFNNEIsS0FBS0ksS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsU0FBUyxDQUFDO1FBQ2hETCxVQUFVLENBQUNNLE9BQVM7bUJBQUlBO2dCQUFNO29CQUFFUjtvQkFBSTdCO29CQUFTQztnQkFBSzthQUFFO1FBQ3BELE9BQU80QjtJQUNUO0lBRUEsTUFBTVMsY0FBYyxDQUFDVDtRQUNuQkUsVUFBVSxDQUFDTSxPQUFTQSxLQUFLRSxNQUFNLENBQUMsQ0FBQ1gsUUFBVUEsTUFBTUMsRUFBRSxLQUFLQTtJQUMxRDtJQUVBLE9BQU87UUFBRU47UUFBUVM7UUFBV007UUFBYWhCO0lBQWU7QUFDMUQsRUFBRTtJQWRXUTtBQWdCYixpRUFBZS9CLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvVG9hc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCB0eXBlIFRvYXN0VHlwZSA9ICdzdWNjZXNzJyB8ICdlcnJvcicgfCAnd2FybmluZycgfCAnaW5mbyc7XG5cbi8vIERlZmF1bHQgZHVyYXRpb25zIGJ5IHR5cGUgKGVycm9ycyBzdGF5IGxvbmdlciBzbyB1c2VycyBjYW4gcmVhZCB0aGVtKVxuY29uc3QgREVGQVVMVF9EVVJBVElPTlM6IFJlY29yZDxUb2FzdFR5cGUsIG51bWJlcj4gPSB7XG4gIHN1Y2Nlc3M6IDMwMDAsICAvLyBRdWljayBjb25maXJtYXRpb25cbiAgaW5mbzogNDAwMCwgICAgIC8vIFN0YW5kYXJkIGluZm9cbiAgd2FybmluZzogNTAwMCwgIC8vIEdpdmUgdGltZSB0byByZWFkXG4gIGVycm9yOiA2MDAwLCAgICAvLyBFcnJvcnMgbmVlZCBtb3JlIHRpbWUgdG8gcmVhZC9hY3Rcbn07XG5cbmludGVyZmFjZSBUb2FzdFByb3BzIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB0eXBlPzogVG9hc3RUeXBlO1xuICBkdXJhdGlvbj86IG51bWJlcjtcbiAgb25DbG9zZT86ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBUb2FzdDogUmVhY3QuRkM8VG9hc3RQcm9wcz4gPSAoe1xuICBtZXNzYWdlLFxuICB0eXBlID0gJ2luZm8nLFxuICBkdXJhdGlvbixcbiAgb25DbG9zZSxcbn0pID0+IHtcbiAgLy8gVXNlIHByb3ZpZGVkIGR1cmF0aW9uIG9yIGZhbGwgYmFjayB0byB0eXBlLWJhc2VkIGRlZmF1bHRcbiAgY29uc3QgZWZmZWN0aXZlRHVyYXRpb24gPSBkdXJhdGlvbiA/PyBERUZBVUxUX0RVUkFUSU9OU1t0eXBlXTtcbiAgY29uc3QgW2lzVmlzaWJsZSwgc2V0SXNWaXNpYmxlXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVmZmVjdGl2ZUR1cmF0aW9uID4gMCkge1xuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0SXNWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBvbkNsb3NlPy4oKSwgMzAwKTsgLy8gV2FpdCBmb3IgZmFkZSBvdXRcbiAgICAgIH0sIGVmZmVjdGl2ZUR1cmF0aW9uKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfVxuICB9LCBbZWZmZWN0aXZlRHVyYXRpb24sIG9uQ2xvc2VdKTtcbiAgXG4gIGNvbnN0IHR5cGVDbGFzc2VzID0ge1xuICAgIHN1Y2Nlc3M6ICdiZy1bdmFyKC0tY29sb3Itc3VjY2VzcyldIHRleHQtd2hpdGUnLFxuICAgIGVycm9yOiAnYmctW3ZhcigtLWNvbG9yLWVycm9yKV0gdGV4dC13aGl0ZScsXG4gICAgd2FybmluZzogJ2JnLVt2YXIoLS1jb2xvci13YXJuaW5nKV0gdGV4dC13aGl0ZScsXG4gICAgaW5mbzogJ2JnLVt2YXIoLS1jb2xvci1pbmZvKV0gdGV4dC13aGl0ZScsXG4gIH07XG4gIFxuICBjb25zdCBpY29ucyA9IHtcbiAgICBzdWNjZXNzOiAnZmEtY2hlY2stY2lyY2xlJyxcbiAgICBlcnJvcjogJ2ZhLWV4Y2xhbWF0aW9uLWNpcmNsZScsXG4gICAgd2FybmluZzogJ2ZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJyxcbiAgICBpbmZvOiAnZmEtaW5mby1jaXJjbGUnLFxuICB9O1xuICBcbiAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BmaXhlZCB0b3AtNCByaWdodC00IHotNTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtNCBweS0zIHJvdW5kZWQtbGcgc2hhZG93LWxnICR7dHlwZUNsYXNzZXNbdHlwZV19IGFuaW1hdGUtc2xpZGUtaW4tcmlnaHQgbWF4LXctc21gfVxuICAgICAgcm9sZT1cImFsZXJ0XCJcbiAgICAgIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiXG4gICAgPlxuICAgICAgPGkgY2xhc3NOYW1lPXtgZmEtc29saWQgJHtpY29uc1t0eXBlXX0gZmxleC1zaHJpbmstMGB9IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1zbSBmb250LW1lZGl1bVwiPnttZXNzYWdlfTwvc3Bhbj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIHNldElzVmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBvbkNsb3NlPy4oKSwgMzAwKTtcbiAgICAgICAgfX1cbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBtbC0yIGhvdmVyOm9wYWNpdHktODAgdHJhbnNpdGlvbi1vcGFjaXR5XCJcbiAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIG5vdGlmaWNhdGlvblwiXG4gICAgICA+XG4gICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLXRpbWVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuaW50ZXJmYWNlIFRvYXN0Q29udGFpbmVyUHJvcHMge1xuICB0b2FzdHM6IEFycmF5PHsgaWQ6IHN0cmluZzsgbWVzc2FnZTogc3RyaW5nOyB0eXBlPzogVG9hc3RUeXBlIH0+O1xuICBvblJlbW92ZTogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBUb2FzdENvbnRhaW5lcjogUmVhY3QuRkM8VG9hc3RDb250YWluZXJQcm9wcz4gPSAoeyB0b2FzdHMsIG9uUmVtb3ZlIH0pID0+IHtcbiAgaWYgKHRvYXN0cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIHRvcC00IHJpZ2h0LTQgei01MCBzcGFjZS15LTJcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIiBhcmlhLWF0b21pYz1cInRydWVcIj5cbiAgICAgIHt0b2FzdHMubWFwKCh0b2FzdCkgPT4gKFxuICAgICAgICA8VG9hc3RcbiAgICAgICAgICBrZXk9e3RvYXN0LmlkfVxuICAgICAgICAgIG1lc3NhZ2U9e3RvYXN0Lm1lc3NhZ2V9XG4gICAgICAgICAgdHlwZT17dG9hc3QudHlwZX1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBvblJlbW92ZSh0b2FzdC5pZCl9XG4gICAgICAgIC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIEhvb2sgZm9yIG1hbmFnaW5nIHRvYXN0c1xuZXhwb3J0IGNvbnN0IHVzZVRvYXN0ID0gKCkgPT4ge1xuICBjb25zdCBbdG9hc3RzLCBzZXRUb2FzdHNdID0gdXNlU3RhdGU8QXJyYXk8eyBpZDogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmc7IHR5cGU/OiBUb2FzdFR5cGUgfT4+KFtdKTtcbiAgXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlOiBzdHJpbmcsIHR5cGU6IFRvYXN0VHlwZSA9ICdpbmZvJykgPT4ge1xuICAgIGNvbnN0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xuICAgIHNldFRvYXN0cygocHJldikgPT4gWy4uLnByZXYsIHsgaWQsIG1lc3NhZ2UsIHR5cGUgfV0pO1xuICAgIHJldHVybiBpZDtcbiAgfTtcbiAgXG4gIGNvbnN0IHJlbW92ZVRvYXN0ID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUb2FzdHMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh0b2FzdCkgPT4gdG9hc3QuaWQgIT09IGlkKSk7XG4gIH07XG4gIFxuICByZXR1cm4geyB0b2FzdHMsIHNob3dUb2FzdCwgcmVtb3ZlVG9hc3QsIFRvYXN0Q29udGFpbmVyIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUb2FzdDtcblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJERUZBVUxUX0RVUkFUSU9OUyIsInN1Y2Nlc3MiLCJpbmZvIiwid2FybmluZyIsImVycm9yIiwiVG9hc3QiLCJtZXNzYWdlIiwidHlwZSIsImR1cmF0aW9uIiwib25DbG9zZSIsImVmZmVjdGl2ZUR1cmF0aW9uIiwiaXNWaXNpYmxlIiwic2V0SXNWaXNpYmxlIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwidHlwZUNsYXNzZXMiLCJpY29ucyIsImRpdiIsImNsYXNzTmFtZSIsInJvbGUiLCJhcmlhLWxpdmUiLCJpIiwiYXJpYS1oaWRkZW4iLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJUb2FzdENvbnRhaW5lciIsInRvYXN0cyIsIm9uUmVtb3ZlIiwibGVuZ3RoIiwiYXJpYS1hdG9taWMiLCJtYXAiLCJ0b2FzdCIsImlkIiwidXNlVG9hc3QiLCJzZXRUb2FzdHMiLCJzaG93VG9hc3QiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJwcmV2IiwicmVtb3ZlVG9hc3QiLCJmaWx0ZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/Toast.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/views/SettingsView.tsx":
/*!*******************************************!*\
  !*** ./components/views/SettingsView.tsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ \"(app-pages-browser)/./types.ts\");\n/* harmony import */ var _services_stripeService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/stripeService */ \"(app-pages-browser)/./services/stripeService.ts\");\n/* harmony import */ var _services_feedbackService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/feedbackService */ \"(app-pages-browser)/./services/feedbackService.ts\");\n/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/Button */ \"(app-pages-browser)/./components/ui/Button.tsx\");\n/* harmony import */ var _ui_Card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Card */ \"(app-pages-browser)/./components/ui/Card.tsx\");\n/* harmony import */ var _ui_Toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Toast */ \"(app-pages-browser)/./components/ui/Toast.tsx\");\n/* harmony import */ var _ui_FeedbackModal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/FeedbackModal */ \"(app-pages-browser)/./components/ui/FeedbackModal.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst SettingsSection = ({ title, children, prominent = false })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mb-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: `font-bold uppercase px-4 mb-3 ${prominent ? 'text-base text-[var(--color-text-primary)]' : 'text-sm text-[var(--color-text-muted)]'}`,\n                children: title\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                variant: \"elevated\",\n                padding: \"none\",\n                className: \"overflow-hidden\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 28,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n        lineNumber: 22,\n        columnNumber: 5\n    }, undefined);\n_c = SettingsSection;\nconst SettingsRow = ({ onClick, isLast = false, children })=>{\n    const baseClasses = `flex justify-between items-center p-4 min-h-[var(--touch-target-min)] transition-colors ${!isLast ? 'border-b border-[var(--color-neutral-200)]' : ''}`;\n    const interactiveClasses = onClick ? 'cursor-pointer hover:bg-[var(--color-bg-accent)] focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--color-primary)]' : '';\n    if (onClick) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            role: \"button\",\n            tabIndex: 0,\n            onClick: onClick,\n            onKeyDown: (e)=>{\n                if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    onClick();\n                }\n            },\n            className: `${baseClasses} ${interactiveClasses}`,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n            lineNumber: 40,\n            columnNumber: 13\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: baseClasses,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n        lineNumber: 58,\n        columnNumber: 9\n    }, undefined);\n};\n_c1 = SettingsRow;\nconst SettingsView = ({ userTier, onNavigateToPaywall, onLogout, onNavigate, user })=>{\n    _s();\n    const [restoreLoading, setRestoreLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [restoreSuccess, setRestoreSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [logoutLoading, setLogoutLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [logoutError, setLogoutError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [subscriptionPlan, setSubscriptionPlan] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [subscriptionLoading, setSubscriptionLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [subscriptionCancelled, setSubscriptionCancelled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cancelAtPeriodEnd, setCancelAtPeriodEnd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentPeriodEnd, setCurrentPeriodEnd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasPremiumMismatch, setHasPremiumMismatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [feedbackModalOpen, setFeedbackModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [billingPortalLoading, setBillingPortalLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { toasts, showToast, removeToast, ToastContainer } = (0,_ui_Toast__WEBPACK_IMPORTED_MODULE_7__.useToast)();\n    const handleFeedbackSubmit = async (rating, comment)=>{\n        try {\n            await (0,_services_feedbackService__WEBPACK_IMPORTED_MODULE_4__.submitFeedback)({\n                rating,\n                comment,\n                userId: user?.id\n            });\n            showToast('Thank you for your feedback!', 'success');\n        } catch (err) {\n            console.error('[SettingsView] Error submitting feedback:', err);\n            showToast('Failed to submit feedback. Please try again.', 'error');\n            throw err; // Re-throw so FeedbackModal knows submission failed\n        }\n    };\n    const handlePlaceholderClick = (feature)=>{\n        alert(`${feature} feature coming soon!`);\n    };\n    // Fetch subscription plan and cancellation status for all users\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SettingsView.useEffect\": ()=>{\n            const fetchSubscriptionPlan = {\n                \"SettingsView.useEffect.fetchSubscriptionPlan\": async ()=>{\n                    if (!user) {\n                        setSubscriptionPlan(null);\n                        setSubscriptionCancelled(false);\n                        setHasPremiumMismatch(false);\n                        return;\n                    }\n                    setSubscriptionLoading(true);\n                    try {\n                        const subscription = await (0,_services_stripeService__WEBPACK_IMPORTED_MODULE_3__.getUserSubscription)(user.id);\n                        console.log('[SettingsView] Subscription data received:', subscription);\n                        // Check for premium tier mismatch\n                        if (subscription && typeof subscription === 'object' && '_premiumTierMismatch' in subscription) {\n                            console.log('[SettingsView] Premium tier mismatch detected');\n                            setHasPremiumMismatch(true);\n                            setSubscriptionCancelled(false);\n                            setSubscriptionPlan(null);\n                            return;\n                        }\n                        if (subscription) {\n                            // Check if subscription is cancelled AND period hasn't ended\n                            const isCancelled = subscription.cancelAtPeriodEnd === true;\n                            const periodEndDate = subscription.currentPeriodEnd;\n                            const periodHasEnded = periodEndDate ? new Date(periodEndDate) <= new Date() : false;\n                            // Only mark as cancelled if subscription exists, is cancelled, and period hasn't ended\n                            const cancelled = isCancelled && !periodHasEnded;\n                            console.log('[SettingsView] Cancellation check:', {\n                                cancelAtPeriodEnd: isCancelled,\n                                currentPeriodEnd: periodEndDate,\n                                periodHasEnded,\n                                cancelled\n                            });\n                            setSubscriptionCancelled(cancelled);\n                            setCancelAtPeriodEnd(isCancelled);\n                            setCurrentPeriodEnd(periodEndDate || null);\n                            setHasPremiumMismatch(false);\n                            // Extract plan type from subscription\n                            let plan = subscription.plan;\n                            console.log('[SettingsView] Plan value from subscription:', plan, 'Type:', typeof plan);\n                            console.log('[SettingsView] Cancellation status:', cancelled);\n                            // Normalize plan value (handle case sensitivity, whitespace, etc.)\n                            if (plan && typeof plan === 'string') {\n                                plan = plan.trim().toLowerCase();\n                            }\n                            // Try to infer from price if plan is missing, null, undefined, or unknown\n                            const originalPrice = subscription.originalPrice;\n                            const currentPrice = subscription.currentPrice;\n                            const price = originalPrice || currentPrice;\n                            console.log('[SettingsView] Price values - originalPrice:', originalPrice, 'currentPrice:', currentPrice, 'using:', price);\n                            if (plan === 'monthly' || plan === 'annual') {\n                                console.log('[SettingsView] âœ… Setting plan to:', plan);\n                                setSubscriptionPlan(plan);\n                            } else if (!plan || plan === 'unknown' || plan === 'null' || plan === 'undefined') {\n                                // Try to infer plan from price if available\n                                console.log('[SettingsView] Plan is missing/unknown, attempting to infer from price:', price);\n                                if (price && typeof price === 'number') {\n                                    // Annual plans are typically > $50, monthly < $50\n                                    // Mock annual: 99.99 (or 69.99 with discount), Mock monthly: 9.99 (or 6.99 with discount)\n                                    // Check for exact mock prices first, then use threshold\n                                    if (price === 99.99 || price === 69.99 || price >= 50) {\n                                        console.log('[SettingsView] âœ… Inferred plan as \"annual\" from price:', price);\n                                        setSubscriptionPlan('annual');\n                                    } else if (price === 9.99 || price === 6.99 || price > 0 && price < 50) {\n                                        console.log('[SettingsView] âœ… Inferred plan as \"monthly\" from price:', price);\n                                        setSubscriptionPlan('monthly');\n                                    } else {\n                                        console.warn('[SettingsView] âš ï¸ Could not infer plan from price, setting to unknown');\n                                        setSubscriptionPlan('unknown');\n                                    }\n                                } else {\n                                    console.warn('[SettingsView] âš ï¸ Plan is unknown and no price available, setting to unknown');\n                                    setSubscriptionPlan('unknown');\n                                }\n                            } else {\n                                // Plan has an unexpected value - try price inference as fallback\n                                console.warn('[SettingsView] âš ï¸ Unexpected plan value:', plan);\n                                if (price && typeof price === 'number') {\n                                    // Check for exact mock prices first, then use threshold\n                                    if (price === 99.99 || price === 69.99 || price >= 50) {\n                                        console.log('[SettingsView] âœ… Fallback: Inferred plan as \"annual\" from price:', price);\n                                        setSubscriptionPlan('annual');\n                                    } else if (price === 9.99 || price === 6.99 || price > 0 && price < 50) {\n                                        console.log('[SettingsView] âœ… Fallback: Inferred plan as \"monthly\" from price:', price);\n                                        setSubscriptionPlan('monthly');\n                                    } else {\n                                        setSubscriptionPlan('unknown');\n                                    }\n                                } else {\n                                    setSubscriptionPlan('unknown');\n                                }\n                            }\n                        } else {\n                            // Subscription not found (404) - no restore available\n                            console.log('[SettingsView] No subscription found');\n                            setHasPremiumMismatch(false);\n                            setSubscriptionCancelled(false);\n                            setCancelAtPeriodEnd(false);\n                            setCurrentPeriodEnd(null);\n                            setSubscriptionPlan(null);\n                        }\n                    } catch (err) {\n                        console.error('[SettingsView] Error fetching subscription plan:', err);\n                        // On error, don't set plan (will show just \"Premium Member\")\n                        setSubscriptionPlan(null);\n                        setSubscriptionCancelled(false);\n                        setCancelAtPeriodEnd(false);\n                        setCurrentPeriodEnd(null);\n                        setHasPremiumMismatch(false);\n                        // Show error toast for subscription fetch failures (except network errors which are expected offline)\n                        const errorMessage = err instanceof Error ? err.message : 'Unknown error';\n                        if (!errorMessage.includes('Failed to fetch') && !errorMessage.includes('NetworkError')) {\n                            showToast('Unable to load subscription details', 'warning');\n                        }\n                    } finally{\n                        setSubscriptionLoading(false);\n                    }\n                }\n            }[\"SettingsView.useEffect.fetchSubscriptionPlan\"];\n            fetchSubscriptionPlan();\n        }\n    }[\"SettingsView.useEffect\"], [\n        user,\n        userTier\n    ]);\n    const handleRestorePurchase = async ()=>{\n        if (!user) {\n            showToast('Please log in to restore your purchase', 'warning');\n            return;\n        }\n        setRestoreLoading(true);\n        setRestoreSuccess(null);\n        try {\n            const result = await (0,_services_stripeService__WEBPACK_IMPORTED_MODULE_3__.restoreSubscription)(user.id);\n            const message = result?.message || 'Your subscription has been restored successfully!';\n            setRestoreSuccess(message);\n            showToast(message, 'success');\n            // Reload the page after a short delay to refresh tier and subscription state\n            setTimeout(()=>{\n                window.location.reload();\n            }, 1500);\n        } catch (err) {\n            console.error('[SettingsView] Error restoring purchase:', err);\n            const errorMessage = err instanceof Error ? err.message : 'Failed to restore purchase. Please try again.';\n            // Improve error messages\n            let displayError = errorMessage;\n            if (errorMessage.includes('endpoint not found') || errorMessage.includes('Failed to fetch')) {\n                displayError = 'Unable to reach the subscription server. Please check your connection.';\n            } else if (errorMessage.includes('No subscription found')) {\n                displayError = 'No subscription found to restore. It may have expired or been cancelled.';\n            }\n            showToast(displayError, 'error');\n        } finally{\n            setRestoreLoading(false);\n        }\n    };\n    const handleLogoutClick = async ()=>{\n        if (logoutLoading) return;\n        setLogoutError(null);\n        setLogoutLoading(true);\n        try {\n            await onLogout();\n        } catch (err) {\n            const message = err instanceof Error ? err.message : 'Unable to log out. Please try again.';\n            showToast(message, 'error');\n        } finally{\n            setLogoutLoading(false);\n        }\n    };\n    const handleManageBilling = async ()=>{\n        if (!user || billingPortalLoading) return;\n        setBillingPortalLoading(true);\n        try {\n            const returnUrl = `${window.location.origin}/settings`;\n            const portalUrl = await (0,_services_stripeService__WEBPACK_IMPORTED_MODULE_3__.createBillingPortalSession)(user.id, returnUrl);\n            // Redirect to Stripe Customer Portal\n            window.location.href = portalUrl;\n        } catch (err) {\n            console.error('[SettingsView] Error creating billing portal session:', err);\n            const message = err instanceof Error ? err.message : 'Unable to open billing portal. Please try again.';\n            showToast(message, 'error');\n            setBillingPortalLoading(false);\n        }\n    };\n    const isPremium = userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium;\n    const isAnonymous = !user;\n    // Get creation date from user metadata or fallback to null\n    const memberSince = user?.created_at ? new Date(user.created_at).toLocaleDateString() : null;\n    // Get full name from user metadata\n    const fullName = user?.user_metadata?.full_name || user?.email;\n    const displayName = fullName ? fullName.split(' ')[0] : user?.email?.split('@')[0];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-transparent pb-24\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToastContainer, {\n                toasts: toasts,\n                onRemove: removeToast\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 309,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center px-6 py-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold text-[var(--color-text-primary)]\",\n                    children: \"Settings\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                    lineNumber: 313,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 312,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"max-w-2xl mx-auto px-6\",\n                children: [\n                    user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Profile\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6 flex flex-col gap-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-4\",\n                                children: [\n                                    subscriptionLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 rounded-full bg-[var(--color-neutral-200)] animate-pulse\",\n                                        \"aria-label\": \"Loading profile...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 322,\n                                        columnNumber: 37\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 rounded-full bg-[var(--color-primary-lighter)] flex items-center justify-center text-[var(--color-primary-dark)] text-2xl font-bold\",\n                                        \"aria-label\": `Profile avatar for ${user.email}`,\n                                        children: displayName?.charAt(0).toUpperCase() || /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-user\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 331,\n                                            columnNumber: 82\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 327,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 min-w-0\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-lg font-semibold text-[var(--color-text-primary)] truncate\",\n                                                title: user.email,\n                                                children: fullName\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 335,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap items-center gap-2 text-sm text-[var(--color-text-muted)] mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: `px-2 py-0.5 rounded-full text-xs font-medium whitespace-nowrap ${isPremium ? 'bg-[var(--color-warning-light)] text-[var(--color-warning-dark)] border border-[var(--color-warning)]' : 'bg-[var(--color-neutral-100)] text-[var(--color-neutral-600)] border border-[var(--color-neutral-200)]'}`,\n                                                        children: isPremium ? cancelAtPeriodEnd && currentPeriodEnd ? `Premium - cancels ${new Date(currentPeriodEnd).toLocaleDateString()}` : subscriptionPlan === 'monthly' ? 'Premium Monthly' : subscriptionPlan === 'annual' ? 'Premium Annual' : 'Premium' : 'Free Plan'\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                        lineNumber: 339,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    memberSince && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs whitespace-nowrap\",\n                                                        children: [\n                                                            \"Since \",\n                                                            memberSince\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                        lineNumber: 354,\n                                                        columnNumber: 45\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 338,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 334,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 320,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                            lineNumber: 319,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 318,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Account\",\n                        prominent: true,\n                        children: isAnonymous ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login),\n                                isLast: true,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[var(--color-primary)] font-medium\",\n                                                children: \"Sign In or Create Account\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 368,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-[var(--color-text-muted)] mt-1\",\n                                                children: \"Access unlimited sessions and sync across devices\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 369,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 367,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 371,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 366,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                            isLast: true,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                    type: \"button\",\n                                    onClick: handleLogoutClick,\n                                    disabled: logoutLoading,\n                                    variant: \"secondary\",\n                                    fullWidth: true,\n                                    loading: logoutLoading,\n                                    className: \"border-2 border-error text-error hover:bg-error-light hover:border-error-dark focus:ring-error\",\n                                    icon: !logoutLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-right-from-bracket\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 385,\n                                        columnNumber: 60\n                                    }, void 0) : undefined,\n                                    children: logoutLoading ? 'Logging Out...' : 'Log Out'\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 377,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 376,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                            lineNumber: 375,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 363,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Subscription\",\n                        children: isPremium ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[var(--color-text-primary)]\",\n                                                children: \"Current Plan\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 400,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            subscriptionLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-[var(--color-text-muted)] mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                        className: \"fa fa-spinner fa-spin mr-1\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                        lineNumber: 403,\n                                                        columnNumber: 49\n                                                    }, undefined),\n                                                    \"Loading subscription...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 402,\n                                                columnNumber: 45\n                                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm font-semibold text-[var(--color-text-primary)] mt-1\",\n                                                children: cancelAtPeriodEnd && currentPeriodEnd ? `Premium - cancels on ${new Date(currentPeriodEnd).toLocaleDateString()}` : `Premium${subscriptionPlan === 'monthly' ? ' (Monthly)' : subscriptionPlan === 'annual' ? ' (Annual)' : ''}`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 406,\n                                                columnNumber: 45\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 399,\n                                        columnNumber: 37\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 398,\n                                    columnNumber: 33\n                                }, undefined),\n                                !user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[var(--color-text-primary)]\",\n                                            children: \"Current Plan\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 418,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-semibold text-[var(--color-text-primary)]\",\n                                            children: \"Premium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 419,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 417,\n                                    columnNumber: 33\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.CancelSubscription),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[var(--color-primary)]\",\n                                            children: \"Manage Subscription\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 423,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 424,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 422,\n                                    columnNumber: 29\n                                }, undefined),\n                                user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: handleManageBilling,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[var(--color-primary)]\",\n                                                    children: \"Manage Billing\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 429,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                billingPortalLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"fa fa-spinner fa-spin text-[var(--color-text-muted)]\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 431,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 428,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        !billingPortalLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 435,\n                                            columnNumber: 41\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 427,\n                                    columnNumber: 33\n                                }, undefined),\n                                subscriptionCancelled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: handleRestorePurchase,\n                                    isLast: true,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[var(--color-primary-dark)]\",\n                                                    children: \"Restore Purchase\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 443,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                restoreLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-xs text-[var(--color-text-muted)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-spinner fa-spin\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 446,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        \" Restoring...\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 445,\n                                                    columnNumber: 45\n                                                }, undefined),\n                                                restoreSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-xs text-[var(--color-success-dark)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-check\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 451,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        \" Restored!\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 450,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 442,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        !restoreLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 455,\n                                            columnNumber: 57\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 441,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: onNavigateToPaywall,\n                                    isLast: !subscriptionCancelled,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-[var(--color-text-primary)]\",\n                                                    children: \"Current Plan\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 463,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                subscriptionLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-[var(--color-text-muted)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-spinner fa-spin mr-1\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 466,\n                                                            columnNumber: 45\n                                                        }, undefined),\n                                                        \"Loading...\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 465,\n                                                    columnNumber: 41\n                                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-[var(--color-primary)] text-sm font-semibold\",\n                                                    children: \"Free Tier\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 469,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 462,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        user ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                            variant: \"primary\",\n                                            size: \"sm\",\n                                            onClick: onNavigateToPaywall,\n                                            children: \"Upgrade\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 473,\n                                            columnNumber: 37\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 481,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 461,\n                                    columnNumber: 29\n                                }, undefined),\n                                subscriptionCancelled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: handleRestorePurchase,\n                                    isLast: true,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[var(--color-primary-dark)]\",\n                                                    children: \"Restore Purchase\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 488,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                restoreLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-xs text-[var(--color-text-muted)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-spinner fa-spin\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 491,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        \" Restoring...\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 490,\n                                                    columnNumber: 45\n                                                }, undefined),\n                                                restoreSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-xs text-[var(--color-success-dark)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-check\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 496,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        \" Restored!\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 495,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 487,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        !restoreLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 500,\n                                            columnNumber: 57\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 486,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 394,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Legal\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.PrivacyPolicy),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Privacy Policy\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 509,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 510,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 508,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.TermsOfService),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Terms of Service\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 513,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 514,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 512,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.SubscriptionTerms),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Subscription & Billing\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 517,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 518,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 516,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.CookiePolicy),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Cookie Policy\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 521,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 522,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 520,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Disclaimer),\n                                isLast: true,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Medical & Education Disclaimer\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 525,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 526,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 524,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 507,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Support\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Support),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Contact Us / Help Center\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 532,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 533,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 531,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>setFeedbackModalOpen(true),\n                                isLast: true,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Give Feedback\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 536,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 537,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 535,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 530,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 316,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_FeedbackModal__WEBPACK_IMPORTED_MODULE_8__.FeedbackModal, {\n                isOpen: feedbackModalOpen,\n                onClose: ()=>setFeedbackModalOpen(false),\n                onSubmit: handleFeedbackSubmit\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 543,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n        lineNumber: 308,\n        columnNumber: 9\n    }, undefined);\n};\n_s(SettingsView, \"UcFfc5B8Q630wBF7Ey/0iGYCaMw=\", false, function() {\n    return [\n        _ui_Toast__WEBPACK_IMPORTED_MODULE_7__.useToast\n    ];\n});\n_c2 = SettingsView;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SettingsView);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"SettingsSection\");\n$RefreshReg$(_c1, \"SettingsRow\");\n$RefreshReg$(_c2, \"SettingsView\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdmlld3MvU2V0dGluZ3NWaWV3LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRW1EO0FBQ047QUFFdUU7QUFDcEQ7QUFDMUI7QUFDSjtBQUNLO0FBQ2E7QUFVcEQsTUFBTWEsa0JBQStGLENBQUMsRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLFlBQVksS0FBSyxFQUFFLGlCQUN4SSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ1gsOERBQUNDO2dCQUFHRCxXQUFXLENBQUMsOEJBQThCLEVBQzFDRixZQUNNLCtDQUNBLDBDQUNSOzBCQUFHRjs7Ozs7OzBCQUNMLDhEQUFDSiwwQ0FBSUE7Z0JBQUNVLFNBQVE7Z0JBQVdDLFNBQVE7Z0JBQU9ILFdBQVU7MEJBQzdDSDs7Ozs7Ozs7Ozs7O0tBUlBGO0FBYU4sTUFBTVMsY0FBK0YsQ0FBQyxFQUFFQyxPQUFPLEVBQUVDLFNBQVMsS0FBSyxFQUFFVCxRQUFRLEVBQUU7SUFDdkksTUFBTVUsY0FBYyxDQUFDLHdGQUF3RixFQUFFLENBQUNELFNBQVMsK0NBQStDLElBQUk7SUFDNUssTUFBTUUscUJBQXFCSCxVQUFVLGdLQUFnSztJQUVyTSxJQUFJQSxTQUFTO1FBQ1QscUJBQ0ksOERBQUNOO1lBQ0dVLE1BQUs7WUFDTEMsVUFBVTtZQUNWTCxTQUFTQTtZQUNUTSxXQUFXLENBQUNDO2dCQUNSLElBQUlBLEVBQUVDLEdBQUcsS0FBSyxXQUFXRCxFQUFFQyxHQUFHLEtBQUssS0FBSztvQkFDcENELEVBQUVFLGNBQWM7b0JBQ2hCVDtnQkFDSjtZQUNKO1lBQ0FMLFdBQVcsR0FBR08sWUFBWSxDQUFDLEVBQUVDLG9CQUFvQjtzQkFFaERYOzs7Ozs7SUFHYjtJQUVBLHFCQUNJLDhEQUFDRTtRQUFJQyxXQUFXTztrQkFDWFY7Ozs7OztBQUdiO01BNUJNTztBQStCTixNQUFNVyxlQUE0QyxDQUFDLEVBQUVDLFFBQVEsRUFBRUMsbUJBQW1CLEVBQUVDLFFBQVEs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bEM7O1FBYXlEdEIsK0NBQVFBOzs7TUFiakVzQjtBQXVlTixpRUFBZUEsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29tcG9uZW50cy92aWV3cy9TZXR0aW5nc1ZpZXcudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVc2VyVGllciwgVmlldyB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IHsgcmVzdG9yZVN1YnNjcmlwdGlvbiwgZ2V0VXNlclN1YnNjcmlwdGlvbiwgY3JlYXRlQmlsbGluZ1BvcnRhbFNlc3Npb24gfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9zdHJpcGVTZXJ2aWNlJztcbmltcG9ydCB7IHN1Ym1pdEZlZWRiYWNrIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZmVlZGJhY2tTZXJ2aWNlJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL0J1dHRvbic7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vdWkvQ2FyZCc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJy4uL3VpL1RvYXN0JztcbmltcG9ydCB7IEZlZWRiYWNrTW9kYWwgfSBmcm9tICcuLi91aS9GZWVkYmFja01vZGFsJztcblxuaW50ZXJmYWNlIFNldHRpbmdzVmlld1Byb3BzIHtcbiAgICB1c2VyVGllcjogVXNlclRpZXI7XG4gICAgb25OYXZpZ2F0ZVRvUGF5d2FsbDogKCkgPT4gdm9pZDtcbiAgICBvbkxvZ291dDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICBvbk5hdmlnYXRlOiAodmlldzogVmlldykgPT4gdm9pZDtcbiAgICB1c2VyOiBVc2VyIHwgbnVsbDtcbn1cblxuY29uc3QgU2V0dGluZ3NTZWN0aW9uOiBSZWFjdC5GQzx7IHRpdGxlOiBzdHJpbmc7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7IHByb21pbmVudD86IGJvb2xlYW4gfT4gPSAoeyB0aXRsZSwgY2hpbGRyZW4sIHByb21pbmVudCA9IGZhbHNlIH0pID0+IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT17YGZvbnQtYm9sZCB1cHBlcmNhc2UgcHgtNCBtYi0zICR7XG4gICAgICAgICAgICBwcm9taW5lbnQgXG4gICAgICAgICAgICAgICAgPyAndGV4dC1iYXNlIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldJyBcbiAgICAgICAgICAgICAgICA6ICd0ZXh0LXNtIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXSdcbiAgICAgICAgfWB9Pnt0aXRsZX08L2gyPlxuICAgICAgICA8Q2FyZCB2YXJpYW50PVwiZWxldmF0ZWRcIiBwYWRkaW5nPVwibm9uZVwiIGNsYXNzTmFtZT1cIm92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L0NhcmQ+XG4gICAgPC9kaXY+XG4pO1xuXG5jb25zdCBTZXR0aW5nc1JvdzogUmVhY3QuRkM8eyBvbkNsaWNrPzogKCkgPT4gdm9pZDsgaXNMYXN0PzogYm9vbGVhbjsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9PiA9ICh7IG9uQ2xpY2ssIGlzTGFzdCA9IGZhbHNlLCBjaGlsZHJlbiB9KSA9PiB7XG4gICAgY29uc3QgYmFzZUNsYXNzZXMgPSBgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHAtNCBtaW4taC1bdmFyKC0tdG91Y2gtdGFyZ2V0LW1pbildIHRyYW5zaXRpb24tY29sb3JzICR7IWlzTGFzdCA/ICdib3JkZXItYiBib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtMjAwKV0nIDogJyd9YDtcbiAgICBjb25zdCBpbnRlcmFjdGl2ZUNsYXNzZXMgPSBvbkNsaWNrID8gJ2N1cnNvci1wb2ludGVyIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1iZy1hY2NlbnQpXSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLWluc2V0IGZvY3VzLXZpc2libGU6cmluZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldJyA6ICcnO1xuXG4gICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3Nlc30gJHtpbnRlcmFjdGl2ZUNsYXNzZXN9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YmFzZUNsYXNzZXN9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuXG5jb25zdCBTZXR0aW5nc1ZpZXc6IFJlYWN0LkZDPFNldHRpbmdzVmlld1Byb3BzPiA9ICh7IHVzZXJUaWVyLCBvbk5hdmlnYXRlVG9QYXl3YWxsLCBvbkxvZ291dCwgb25OYXZpZ2F0ZSwgdXNlciB9KSA9PiB7XG4gICAgY29uc3QgW3Jlc3RvcmVMb2FkaW5nLCBzZXRSZXN0b3JlTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3Jlc3RvcmVTdWNjZXNzLCBzZXRSZXN0b3JlU3VjY2Vzc10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbbG9nb3V0TG9hZGluZywgc2V0TG9nb3V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2xvZ291dEVycm9yLCBzZXRMb2dvdXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbc3Vic2NyaXB0aW9uUGxhbiwgc2V0U3Vic2NyaXB0aW9uUGxhbl0gPSB1c2VTdGF0ZTwnbW9udGhseScgfCAnYW5udWFsJyB8ICd1bmtub3duJyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtzdWJzY3JpcHRpb25Mb2FkaW5nLCBzZXRTdWJzY3JpcHRpb25Mb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc3Vic2NyaXB0aW9uQ2FuY2VsbGVkLCBzZXRTdWJzY3JpcHRpb25DYW5jZWxsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtjYW5jZWxBdFBlcmlvZEVuZCwgc2V0Q2FuY2VsQXRQZXJpb2RFbmRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtjdXJyZW50UGVyaW9kRW5kLCBzZXRDdXJyZW50UGVyaW9kRW5kXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtoYXNQcmVtaXVtTWlzbWF0Y2gsIHNldEhhc1ByZW1pdW1NaXNtYXRjaF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2ZlZWRiYWNrTW9kYWxPcGVuLCBzZXRGZWVkYmFja01vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2JpbGxpbmdQb3J0YWxMb2FkaW5nLCBzZXRCaWxsaW5nUG9ydGFsTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgeyB0b2FzdHMsIHNob3dUb2FzdCwgcmVtb3ZlVG9hc3QsIFRvYXN0Q29udGFpbmVyIH0gPSB1c2VUb2FzdCgpO1xuXG4gICAgY29uc3QgaGFuZGxlRmVlZGJhY2tTdWJtaXQgPSBhc3luYyAocmF0aW5nOiBudW1iZXIsIGNvbW1lbnQ6IHN0cmluZykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgc3VibWl0RmVlZGJhY2soeyByYXRpbmcsIGNvbW1lbnQsIHVzZXJJZDogdXNlcj8uaWQgfSk7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1RoYW5rIHlvdSBmb3IgeW91ciBmZWVkYmFjayEnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTZXR0aW5nc1ZpZXddIEVycm9yIHN1Ym1pdHRpbmcgZmVlZGJhY2s6JywgZXJyKTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnRmFpbGVkIHRvIHN1Ym1pdCBmZWVkYmFjay4gUGxlYXNlIHRyeSBhZ2Fpbi4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHRocm93IGVycjsgLy8gUmUtdGhyb3cgc28gRmVlZGJhY2tNb2RhbCBrbm93cyBzdWJtaXNzaW9uIGZhaWxlZFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVBsYWNlaG9sZGVyQ2xpY2sgPSAoZmVhdHVyZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGFsZXJ0KGAke2ZlYXR1cmV9IGZlYXR1cmUgY29taW5nIHNvb24hYCk7XG4gICAgfTtcblxuICAgIC8vIEZldGNoIHN1YnNjcmlwdGlvbiBwbGFuIGFuZCBjYW5jZWxsYXRpb24gc3RhdHVzIGZvciBhbGwgdXNlcnNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBmZXRjaFN1YnNjcmlwdGlvblBsYW4gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKG51bGwpO1xuICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvbkNhbmNlbGxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0SGFzUHJlbWl1bU1pc21hdGNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvbkxvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGF3YWl0IGdldFVzZXJTdWJzY3JpcHRpb24odXNlci5pZCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTZXR0aW5nc1ZpZXddIFN1YnNjcmlwdGlvbiBkYXRhIHJlY2VpdmVkOicsIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHByZW1pdW0gdGllciBtaXNtYXRjaFxuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gJiYgdHlwZW9mIHN1YnNjcmlwdGlvbiA9PT0gJ29iamVjdCcgJiYgJ19wcmVtaXVtVGllck1pc21hdGNoJyBpbiBzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTZXR0aW5nc1ZpZXddIFByZW1pdW0gdGllciBtaXNtYXRjaCBkZXRlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICBzZXRIYXNQcmVtaXVtTWlzbWF0Y2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvbkNhbmNlbGxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvblBsYW4obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBzdWJzY3JpcHRpb24gaXMgY2FuY2VsbGVkIEFORCBwZXJpb2QgaGFzbid0IGVuZGVkXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2FuY2VsbGVkID0gc3Vic2NyaXB0aW9uLmNhbmNlbEF0UGVyaW9kRW5kID09PSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJpb2RFbmREYXRlID0gc3Vic2NyaXB0aW9uLmN1cnJlbnRQZXJpb2RFbmQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmlvZEhhc0VuZGVkID0gcGVyaW9kRW5kRGF0ZSA/IG5ldyBEYXRlKHBlcmlvZEVuZERhdGUpIDw9IG5ldyBEYXRlKCkgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgbWFyayBhcyBjYW5jZWxsZWQgaWYgc3Vic2NyaXB0aW9uIGV4aXN0cywgaXMgY2FuY2VsbGVkLCBhbmQgcGVyaW9kIGhhc24ndCBlbmRlZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5jZWxsZWQgPSBpc0NhbmNlbGxlZCAmJiAhcGVyaW9kSGFzRW5kZWQ7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10gQ2FuY2VsbGF0aW9uIGNoZWNrOicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEF0UGVyaW9kRW5kOiBpc0NhbmNlbGxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQZXJpb2RFbmQ6IHBlcmlvZEVuZERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RIYXNFbmRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbGxlZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvbkNhbmNlbGxlZChjYW5jZWxsZWQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDYW5jZWxBdFBlcmlvZEVuZChpc0NhbmNlbGxlZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQZXJpb2RFbmQocGVyaW9kRW5kRGF0ZSB8fCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SGFzUHJlbWl1bU1pc21hdGNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgcGxhbiB0eXBlIGZyb20gc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGFuID0gc3Vic2NyaXB0aW9uLnBsYW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSBQbGFuIHZhbHVlIGZyb20gc3Vic2NyaXB0aW9uOicsIHBsYW4sICdUeXBlOicsIHR5cGVvZiBwbGFuKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTZXR0aW5nc1ZpZXddIENhbmNlbGxhdGlvbiBzdGF0dXM6JywgY2FuY2VsbGVkKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBwbGFuIHZhbHVlIChoYW5kbGUgY2FzZSBzZW5zaXRpdml0eSwgd2hpdGVzcGFjZSwgZXRjLilcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYW4gJiYgdHlwZW9mIHBsYW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFuID0gcGxhbi50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGluZmVyIGZyb20gcHJpY2UgaWYgcGxhbiBpcyBtaXNzaW5nLCBudWxsLCB1bmRlZmluZWQsIG9yIHVua25vd25cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcmljZSA9IHN1YnNjcmlwdGlvbi5vcmlnaW5hbFByaWNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBzdWJzY3JpcHRpb24uY3VycmVudFByaWNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmljZSA9IG9yaWdpbmFsUHJpY2UgfHwgY3VycmVudFByaWNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10gUHJpY2UgdmFsdWVzIC0gb3JpZ2luYWxQcmljZTonLCBvcmlnaW5hbFByaWNlLCAnY3VycmVudFByaWNlOicsIGN1cnJlbnRQcmljZSwgJ3VzaW5nOicsIHByaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGFuID09PSAnbW9udGhseScgfHwgcGxhbiA9PT0gJ2FubnVhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSDinIUgU2V0dGluZyBwbGFuIHRvOicsIHBsYW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbihwbGFuKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghcGxhbiB8fCBwbGFuID09PSAndW5rbm93bicgfHwgcGxhbiA9PT0gJ251bGwnIHx8IHBsYW4gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gaW5mZXIgcGxhbiBmcm9tIHByaWNlIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTZXR0aW5nc1ZpZXddIFBsYW4gaXMgbWlzc2luZy91bmtub3duLCBhdHRlbXB0aW5nIHRvIGluZmVyIGZyb20gcHJpY2U6JywgcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2UgJiYgdHlwZW9mIHByaWNlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFubnVhbCBwbGFucyBhcmUgdHlwaWNhbGx5ID4gJDUwLCBtb250aGx5IDwgJDUwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW9jayBhbm51YWw6IDk5Ljk5IChvciA2OS45OSB3aXRoIGRpc2NvdW50KSwgTW9jayBtb250aGx5OiA5Ljk5IChvciA2Ljk5IHdpdGggZGlzY291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGV4YWN0IG1vY2sgcHJpY2VzIGZpcnN0LCB0aGVuIHVzZSB0aHJlc2hvbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2UgPT09IDk5Ljk5IHx8IHByaWNlID09PSA2OS45OSB8fCBwcmljZSA+PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10g4pyFIEluZmVycmVkIHBsYW4gYXMgXCJhbm51YWxcIiBmcm9tIHByaWNlOicsIHByaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbignYW5udWFsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmljZSA9PT0gOS45OSB8fCBwcmljZSA9PT0gNi45OSB8fCAocHJpY2UgPiAwICYmIHByaWNlIDwgNTApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSDinIUgSW5mZXJyZWQgcGxhbiBhcyBcIm1vbnRobHlcIiBmcm9tIHByaWNlOicsIHByaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbignbW9udGhseScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1NldHRpbmdzVmlld10g4pqg77iPIENvdWxkIG5vdCBpbmZlciBwbGFuIGZyb20gcHJpY2UsIHNldHRpbmcgdG8gdW5rbm93bicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKCd1bmtub3duJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tTZXR0aW5nc1ZpZXddIOKaoO+4jyBQbGFuIGlzIHVua25vd24gYW5kIG5vIHByaWNlIGF2YWlsYWJsZSwgc2V0dGluZyB0byB1bmtub3duJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbigndW5rbm93bicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGxhbiBoYXMgYW4gdW5leHBlY3RlZCB2YWx1ZSAtIHRyeSBwcmljZSBpbmZlcmVuY2UgYXMgZmFsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1NldHRpbmdzVmlld10g4pqg77iPIFVuZXhwZWN0ZWQgcGxhbiB2YWx1ZTonLCBwbGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZSAmJiB0eXBlb2YgcHJpY2UgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGV4YWN0IG1vY2sgcHJpY2VzIGZpcnN0LCB0aGVuIHVzZSB0aHJlc2hvbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2UgPT09IDk5Ljk5IHx8IHByaWNlID09PSA2OS45OSB8fCBwcmljZSA+PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10g4pyFIEZhbGxiYWNrOiBJbmZlcnJlZCBwbGFuIGFzIFwiYW5udWFsXCIgZnJvbSBwcmljZTonLCBwcmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvblBsYW4oJ2FubnVhbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpY2UgPT09IDkuOTkgfHwgcHJpY2UgPT09IDYuOTkgfHwgKHByaWNlID4gMCAmJiBwcmljZSA8IDUwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10g4pyFIEZhbGxiYWNrOiBJbmZlcnJlZCBwbGFuIGFzIFwibW9udGhseVwiIGZyb20gcHJpY2U6JywgcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKCdtb250aGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbigndW5rbm93bicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbigndW5rbm93bicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3Vic2NyaXB0aW9uIG5vdCBmb3VuZCAoNDA0KSAtIG5vIHJlc3RvcmUgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSBObyBzdWJzY3JpcHRpb24gZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SGFzUHJlbWl1bU1pc21hdGNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uQ2FuY2VsbGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FuY2VsQXRQZXJpb2RFbmQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGVyaW9kRW5kKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTZXR0aW5nc1ZpZXddIEVycm9yIGZldGNoaW5nIHN1YnNjcmlwdGlvbiBwbGFuOicsIGVycik7XG4gICAgICAgICAgICAgICAgLy8gT24gZXJyb3IsIGRvbid0IHNldCBwbGFuICh3aWxsIHNob3cganVzdCBcIlByZW1pdW0gTWVtYmVyXCIpXG4gICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbihudWxsKTtcbiAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25DYW5jZWxsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldENhbmNlbEF0UGVyaW9kRW5kKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGVyaW9kRW5kKG51bGwpO1xuICAgICAgICAgICAgICAgIHNldEhhc1ByZW1pdW1NaXNtYXRjaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyBlcnJvciB0b2FzdCBmb3Igc3Vic2NyaXB0aW9uIGZldGNoIGZhaWx1cmVzIChleGNlcHQgbmV0d29yayBlcnJvcnMgd2hpY2ggYXJlIGV4cGVjdGVkIG9mZmxpbmUpXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgICAgICBpZiAoIWVycm9yTWVzc2FnZS5pbmNsdWRlcygnRmFpbGVkIHRvIGZldGNoJykgJiYgIWVycm9yTWVzc2FnZS5pbmNsdWRlcygnTmV0d29ya0Vycm9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCdVbmFibGUgdG8gbG9hZCBzdWJzY3JpcHRpb24gZGV0YWlscycsICd3YXJuaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25Mb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmZXRjaFN1YnNjcmlwdGlvblBsYW4oKTtcbiAgICB9LCBbdXNlciwgdXNlclRpZXJdKTtcblxuICAgIGNvbnN0IGhhbmRsZVJlc3RvcmVQdXJjaGFzZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1BsZWFzZSBsb2cgaW4gdG8gcmVzdG9yZSB5b3VyIHB1cmNoYXNlJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFJlc3RvcmVMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRSZXN0b3JlU3VjY2VzcyhudWxsKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzdG9yZVN1YnNjcmlwdGlvbih1c2VyLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSByZXN1bHQ/Lm1lc3NhZ2UgfHwgJ1lvdXIgc3Vic2NyaXB0aW9uIGhhcyBiZWVuIHJlc3RvcmVkIHN1Y2Nlc3NmdWxseSEnO1xuICAgICAgICAgICAgc2V0UmVzdG9yZVN1Y2Nlc3MobWVzc2FnZSk7XG4gICAgICAgICAgICBzaG93VG9hc3QobWVzc2FnZSwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVsb2FkIHRoZSBwYWdlIGFmdGVyIGEgc2hvcnQgZGVsYXkgdG8gcmVmcmVzaCB0aWVyIGFuZCBzdWJzY3JpcHRpb24gc3RhdGVcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTZXR0aW5nc1ZpZXddIEVycm9yIHJlc3RvcmluZyBwdXJjaGFzZTonLCBlcnIpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gcmVzdG9yZSBwdXJjaGFzZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbXByb3ZlIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgICAgICBsZXQgZGlzcGxheUVycm9yID0gZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnZW5kcG9pbnQgbm90IGZvdW5kJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdGYWlsZWQgdG8gZmV0Y2gnKSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlFcnJvciA9ICdVbmFibGUgdG8gcmVhY2ggdGhlIHN1YnNjcmlwdGlvbiBzZXJ2ZXIuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24uJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdObyBzdWJzY3JpcHRpb24gZm91bmQnKSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlFcnJvciA9ICdObyBzdWJzY3JpcHRpb24gZm91bmQgdG8gcmVzdG9yZS4gSXQgbWF5IGhhdmUgZXhwaXJlZCBvciBiZWVuIGNhbmNlbGxlZC4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzaG93VG9hc3QoZGlzcGxheUVycm9yLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldFJlc3RvcmVMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVMb2dvdXRDbGljayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGxvZ291dExvYWRpbmcpIHJldHVybjtcbiAgICAgICAgc2V0TG9nb3V0RXJyb3IobnVsbCk7XG4gICAgICAgIHNldExvZ291dExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBvbkxvZ291dCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ1VuYWJsZSB0byBsb2cgb3V0LiBQbGVhc2UgdHJ5IGFnYWluLic7XG4gICAgICAgICAgICBzaG93VG9hc3QobWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2dvdXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVNYW5hZ2VCaWxsaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXVzZXIgfHwgYmlsbGluZ1BvcnRhbExvYWRpbmcpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHNldEJpbGxpbmdQb3J0YWxMb2FkaW5nKHRydWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0dXJuVXJsID0gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vc2V0dGluZ3NgO1xuICAgICAgICAgICAgY29uc3QgcG9ydGFsVXJsID0gYXdhaXQgY3JlYXRlQmlsbGluZ1BvcnRhbFNlc3Npb24odXNlci5pZCwgcmV0dXJuVXJsKTtcbiAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIFN0cmlwZSBDdXN0b21lciBQb3J0YWxcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcG9ydGFsVXJsO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTZXR0aW5nc1ZpZXddIEVycm9yIGNyZWF0aW5nIGJpbGxpbmcgcG9ydGFsIHNlc3Npb246JywgZXJyKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ1VuYWJsZSB0byBvcGVuIGJpbGxpbmcgcG9ydGFsLiBQbGVhc2UgdHJ5IGFnYWluLic7XG4gICAgICAgICAgICBzaG93VG9hc3QobWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgICAgICAgICBzZXRCaWxsaW5nUG9ydGFsTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaXNQcmVtaXVtID0gdXNlclRpZXIgPT09IFVzZXJUaWVyLlByZW1pdW07XG4gICAgY29uc3QgaXNBbm9ueW1vdXMgPSAhdXNlcjtcblxuICAgIC8vIEdldCBjcmVhdGlvbiBkYXRlIGZyb20gdXNlciBtZXRhZGF0YSBvciBmYWxsYmFjayB0byBudWxsXG4gICAgY29uc3QgbWVtYmVyU2luY2UgPSB1c2VyPy5jcmVhdGVkX2F0ID8gbmV3IERhdGUodXNlci5jcmVhdGVkX2F0KS50b0xvY2FsZURhdGVTdHJpbmcoKSA6IG51bGw7XG5cbiAgICAvLyBHZXQgZnVsbCBuYW1lIGZyb20gdXNlciBtZXRhZGF0YVxuICAgIGNvbnN0IGZ1bGxOYW1lID0gdXNlcj8udXNlcl9tZXRhZGF0YT8uZnVsbF9uYW1lIHx8IHVzZXI/LmVtYWlsO1xuICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZnVsbE5hbWUgPyBmdWxsTmFtZS5zcGxpdCgnICcpWzBdIDogdXNlcj8uZW1haWw/LnNwbGl0KCdAJylbMF07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy10cmFuc3BhcmVudCBwYi0yNFwiPlxuICAgICAgICAgICAgPFRvYXN0Q29udGFpbmVyIHRvYXN0cz17dG9hc3RzfSBvblJlbW92ZT17cmVtb3ZlVG9hc3R9IC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHB4LTYgcHktNFwiPlxuICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5TZXR0aW5nczwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gcHgtNlwiPlxuICAgICAgICAgICAgICAgIHt1c2VyICYmIChcbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzU2VjdGlvbiB0aXRsZT1cIlByb2ZpbGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IGZsZXggZmxleC1jb2wgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJzY3JpcHRpb25Mb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLVt2YXIoLS1jb2xvci1uZXV0cmFsLTIwMCldIGFuaW1hdGUtcHVsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJMb2FkaW5nIHByb2ZpbGUuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLVt2YXIoLS1jb2xvci1wcmltYXJ5LWxpZ2h0ZXIpXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LVt2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspXSB0ZXh0LTJ4bCBmb250LWJvbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BQcm9maWxlIGF2YXRhciBmb3IgJHt1c2VyLmVtYWlsfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lPy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSB8fCA8aSBjbGFzc05hbWU9XCJmYSBmYS11c2VyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIHRydW5jYXRlXCIgdGl0bGU9e3VzZXIuZW1haWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmdWxsTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgcHgtMiBweS0wLjUgcm91bmRlZC1mdWxsIHRleHQteHMgZm9udC1tZWRpdW0gd2hpdGVzcGFjZS1ub3dyYXAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmVtaXVtID8gJ2JnLVt2YXIoLS1jb2xvci13YXJuaW5nLWxpZ2h0KV0gdGV4dC1bdmFyKC0tY29sb3Itd2FybmluZy1kYXJrKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tY29sb3Itd2FybmluZyldJyA6ICdiZy1bdmFyKC0tY29sb3ItbmV1dHJhbC0xMDApXSB0ZXh0LVt2YXIoLS1jb2xvci1uZXV0cmFsLTYwMCldIGJvcmRlciBib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtMjAwKV0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNQcmVtaXVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNhbmNlbEF0UGVyaW9kRW5kICYmIGN1cnJlbnRQZXJpb2RFbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGBQcmVtaXVtIC0gY2FuY2VscyAke25ldyBEYXRlKGN1cnJlbnRQZXJpb2RFbmQpLnRvTG9jYWxlRGF0ZVN0cmluZygpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHN1YnNjcmlwdGlvblBsYW4gPT09ICdtb250aGx5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdQcmVtaXVtIE1vbnRobHknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc3Vic2NyaXB0aW9uUGxhbiA9PT0gJ2FubnVhbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1ByZW1pdW0gQW5udWFsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnUHJlbWl1bSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ0ZyZWUgUGxhbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVtYmVyU2luY2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHdoaXRlc3BhY2Utbm93cmFwXCI+U2luY2Uge21lbWJlclNpbmNlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NTZWN0aW9uPlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICA8U2V0dGluZ3NTZWN0aW9uIHRpdGxlPVwiQWNjb3VudFwiIHByb21pbmVudD5cbiAgICAgICAgICAgICAgICAgICAge2lzQW5vbnltb3VzID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LkxvZ2luKX0gaXNMYXN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItcHJpbWFyeSldIGZvbnQtbWVkaXVtXCI+U2lnbiBJbiBvciBDcmVhdGUgQWNjb3VudDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIG10LTFcIj5BY2Nlc3MgdW5saW1pdGVkIHNlc3Npb25zIGFuZCBzeW5jIGFjcm9zcyBkZXZpY2VzPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93IGlzTGFzdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUxvZ291dENsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvZ291dExvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9nb3V0TG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci1lcnJvciB0ZXh0LWVycm9yIGhvdmVyOmJnLWVycm9yLWxpZ2h0IGhvdmVyOmJvcmRlci1lcnJvci1kYXJrIGZvY3VzOnJpbmctZXJyb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17IWxvZ291dExvYWRpbmcgPyA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1yaWdodC1mcm9tLWJyYWNrZXRcIiAvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvZ291dExvYWRpbmcgPyAnTG9nZ2luZyBPdXQuLi4nIDogJ0xvZyBPdXQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9TZXR0aW5nc1NlY3Rpb24+XG5cbiAgICAgICAgICAgICAgICA8U2V0dGluZ3NTZWN0aW9uIHRpdGxlPVwiU3Vic2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIHtpc1ByZW1pdW0gPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPkN1cnJlbnQgUGxhbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3Vic2NyaXB0aW9uTG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV0gbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtc3Bpbm5lciBmYS1zcGluIG1yLTFcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+TG9hZGluZyBzdWJzY3JpcHRpb24uLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FuY2VsQXRQZXJpb2RFbmQgJiYgY3VycmVudFBlcmlvZEVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYFByZW1pdW0gLSBjYW5jZWxzIG9uICR7bmV3IERhdGUoY3VycmVudFBlcmlvZEVuZCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYFByZW1pdW0ke3N1YnNjcmlwdGlvblBsYW4gPT09ICdtb250aGx5JyA/ICcgKE1vbnRobHkpJyA6IHN1YnNjcmlwdGlvblBsYW4gPT09ICdhbm51YWwnID8gJyAoQW5udWFsKScgOiAnJ31gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXVzZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPkN1cnJlbnQgUGxhbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5QcmVtaXVtPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93IG9uQ2xpY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5DYW5jZWxTdWJzY3JpcHRpb24pfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItcHJpbWFyeSldXCI+TWFuYWdlIFN1YnNjcmlwdGlvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXtoYW5kbGVNYW5hZ2VCaWxsaW5nfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci1wcmltYXJ5KV1cIj5NYW5hZ2UgQmlsbGluZzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YmlsbGluZ1BvcnRhbExvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1zcGlubmVyIGZhLXNwaW4gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshYmlsbGluZ1BvcnRhbExvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNoZXZyb24tcmlnaHQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBPbmx5IHNob3cgUmVzdG9yZSBQdXJjaGFzZSBpZiBzdWJzY3JpcHRpb24gZXhpc3RzLCBpcyBjYW5jZWxsZWQsIGFuZCBwZXJpb2QgaGFzbid0IGVuZGVkICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJzY3JpcHRpb25DYW5jZWxsZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17aGFuZGxlUmVzdG9yZVB1cmNoYXNlfSBpc0xhc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayldXCI+UmVzdG9yZSBQdXJjaGFzZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVzdG9yZUxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQteHMgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1zcGlubmVyIGZhLXNwaW5cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+IFJlc3RvcmluZy4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVzdG9yZVN1Y2Nlc3MgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQteHMgdGV4dC1bdmFyKC0tY29sb3Itc3VjY2Vzcy1kYXJrKV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNoZWNrXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiBSZXN0b3JlZCFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshcmVzdG9yZUxvYWRpbmcgJiYgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93IG9uQ2xpY2s9e29uTmF2aWdhdGVUb1BheXdhbGx9IGlzTGFzdD17IXN1YnNjcmlwdGlvbkNhbmNlbGxlZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPkN1cnJlbnQgUGxhbjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJzY3JpcHRpb25Mb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXNwaW5uZXIgZmEtc3BpbiBtci0xXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPkxvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnkpXSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj5GcmVlIFRpZXI8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25OYXZpZ2F0ZVRvUGF5d2FsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVcGdyYWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNoZXZyb24tcmlnaHQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEZyZWUgdGllciB1c2VycyBjYW4gcmVzdG9yZSBpZiBhIGNhbmNlbGxlZCBzdWJzY3JpcHRpb24gc3RpbGwgZXhpc3RzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJzY3JpcHRpb25DYW5jZWxsZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17aGFuZGxlUmVzdG9yZVB1cmNoYXNlfSBpc0xhc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayldXCI+UmVzdG9yZSBQdXJjaGFzZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVzdG9yZUxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQteHMgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1zcGlubmVyIGZhLXNwaW5cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+IFJlc3RvcmluZy4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVzdG9yZVN1Y2Nlc3MgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQteHMgdGV4dC1bdmFyKC0tY29sb3Itc3VjY2Vzcy1kYXJrKV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNoZWNrXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiBSZXN0b3JlZCFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshcmVzdG9yZUxvYWRpbmcgJiYgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L1NldHRpbmdzU2VjdGlvbj5cblxuICAgICAgICAgICAgICAgIDxTZXR0aW5nc1NlY3Rpb24gdGl0bGU9XCJMZWdhbFwiPlxuICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LlByaXZhY3lQb2xpY3kpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCI+UHJpdmFjeSBQb2xpY3k8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93IG9uQ2xpY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5UZXJtc09mU2VydmljZSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5UZXJtcyBvZiBTZXJ2aWNlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuU3Vic2NyaXB0aW9uVGVybXMpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCI+U3Vic2NyaXB0aW9uICYgQmlsbGluZzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNoZXZyb24tcmlnaHQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LkNvb2tpZVBvbGljeSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5Db29raWUgUG9saWN5PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuRGlzY2xhaW1lcil9IGlzTGFzdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCI+TWVkaWNhbCAmIEVkdWNhdGlvbiBEaXNjbGFpbWVyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgPC9TZXR0aW5nc1NlY3Rpb24+XG5cbiAgICAgICAgICAgICAgICA8U2V0dGluZ3NTZWN0aW9uIHRpdGxlPVwiU3VwcG9ydFwiPlxuICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LlN1cHBvcnQpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCI+Q29udGFjdCBVcyAvIEhlbHAgQ2VudGVyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXsoKSA9PiBzZXRGZWVkYmFja01vZGFsT3Blbih0cnVlKX0gaXNMYXN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5HaXZlIEZlZWRiYWNrPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgPC9TZXR0aW5nc1NlY3Rpb24+XG4gICAgICAgICAgICA8L21haW4+XG5cbiAgICAgICAgICAgIHsvKiBGZWVkYmFjayBNb2RhbCAqL31cbiAgICAgICAgICAgIDxGZWVkYmFja01vZGFsXG4gICAgICAgICAgICAgICAgaXNPcGVuPXtmZWVkYmFja01vZGFsT3Blbn1cbiAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRGZWVkYmFja01vZGFsT3BlbihmYWxzZSl9XG4gICAgICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZUZlZWRiYWNrU3VibWl0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNldHRpbmdzVmlldzsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlVzZXJUaWVyIiwiVmlldyIsInJlc3RvcmVTdWJzY3JpcHRpb24iLCJnZXRVc2VyU3Vic2NyaXB0aW9uIiwiY3JlYXRlQmlsbGluZ1BvcnRhbFNlc3Npb24iLCJzdWJtaXRGZWVkYmFjayIsIkJ1dHRvbiIsIkNhcmQiLCJ1c2VUb2FzdCIsIkZlZWRiYWNrTW9kYWwiLCJTZXR0aW5nc1NlY3Rpb24iLCJ0aXRsZSIsImNoaWxkcmVuIiwicHJvbWluZW50IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJ2YXJpYW50IiwicGFkZGluZyIsIlNldHRpbmdzUm93Iiwib25DbGljayIsImlzTGFzdCIsImJhc2VDbGFzc2VzIiwiaW50ZXJhY3RpdmVDbGFzc2VzIiwicm9sZSIsInRhYkluZGV4Iiwib25LZXlEb3duIiwiZSIsImtleSIsInByZXZlbnREZWZhdWx0IiwiU2V0dGluZ3NWaWV3IiwidXNlclRpZXIiLCJvbk5hdmlnYXRlVG9QYXl3YWxsIiwib25Mb2dvdXQiLCJvbk5hdmlnYXRlIiwidXNlciIsInJlc3RvcmVMb2FkaW5nIiwic2V0UmVzdG9yZUxvYWRpbmciLCJyZXN0b3JlU3VjY2VzcyIsInNldFJlc3RvcmVTdWNjZXNzIiwibG9nb3V0TG9hZGluZyIsInNldExvZ291dExvYWRpbmciLCJsb2dvdXRFcnJvciIsInNldExvZ291dEVycm9yIiwic3Vic2NyaXB0aW9uUGxhbiIsInNldFN1YnNjcmlwdGlvblBsYW4iLCJzdWJzY3JpcHRpb25Mb2FkaW5nIiwic2V0U3Vic2NyaXB0aW9uTG9hZGluZyIsInN1YnNjcmlwdGlvbkNhbmNlbGxlZCIsInNldFN1YnNjcmlwdGlvbkNhbmNlbGxlZCIsImNhbmNlbEF0UGVyaW9kRW5kIiwic2V0Q2FuY2VsQXRQZXJpb2RFbmQiLCJjdXJyZW50UGVyaW9kRW5kIiwic2V0Q3VycmVudFBlcmlvZEVuZCIsImhhc1ByZW1pdW1NaXNtYXRjaCIsInNldEhhc1ByZW1pdW1NaXNtYXRjaCIsImZlZWRiYWNrTW9kYWxPcGVuIiwic2V0RmVlZGJhY2tNb2RhbE9wZW4iLCJiaWxsaW5nUG9ydGFsTG9hZGluZyIsInNldEJpbGxpbmdQb3J0YWxMb2FkaW5nIiwidG9hc3RzIiwic2hvd1RvYXN0IiwicmVtb3ZlVG9hc3QiLCJUb2FzdENvbnRhaW5lciIsImhhbmRsZUZlZWRiYWNrU3VibWl0IiwicmF0aW5nIiwiY29tbWVudCIsInVzZXJJZCIsImlkIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiaGFuZGxlUGxhY2Vob2xkZXJDbGljayIsImZlYXR1cmUiLCJhbGVydCIsImZldGNoU3Vic2NyaXB0aW9uUGxhbiIsInN1YnNjcmlwdGlvbiIsImxvZyIsImlzQ2FuY2VsbGVkIiwicGVyaW9kRW5kRGF0ZSIsInBlcmlvZEhhc0VuZGVkIiwiRGF0ZSIsImNhbmNlbGxlZCIsInBsYW4iLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJvcmlnaW5hbFByaWNlIiwiY3VycmVudFByaWNlIiwicHJpY2UiLCJ3YXJuIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJoYW5kbGVSZXN0b3JlUHVyY2hhc2UiLCJyZXN1bHQiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJkaXNwbGF5RXJyb3IiLCJoYW5kbGVMb2dvdXRDbGljayIsImhhbmRsZU1hbmFnZUJpbGxpbmciLCJyZXR1cm5VcmwiLCJvcmlnaW4iLCJwb3J0YWxVcmwiLCJocmVmIiwiaXNQcmVtaXVtIiwiUHJlbWl1bSIsImlzQW5vbnltb3VzIiwibWVtYmVyU2luY2UiLCJjcmVhdGVkX2F0IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZnVsbE5hbWUiLCJ1c2VyX21ldGFkYXRhIiwiZnVsbF9uYW1lIiwiZW1haWwiLCJkaXNwbGF5TmFtZSIsInNwbGl0Iiwib25SZW1vdmUiLCJoMSIsIm1haW4iLCJhcmlhLWxhYmVsIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJpIiwiYXJpYS1oaWRkZW4iLCJoMyIsInNwYW4iLCJMb2dpbiIsInAiLCJ0eXBlIiwiZGlzYWJsZWQiLCJmdWxsV2lkdGgiLCJsb2FkaW5nIiwiaWNvbiIsInVuZGVmaW5lZCIsIkNhbmNlbFN1YnNjcmlwdGlvbiIsInNpemUiLCJQcml2YWN5UG9saWN5IiwiVGVybXNPZlNlcnZpY2UiLCJTdWJzY3JpcHRpb25UZXJtcyIsIkNvb2tpZVBvbGljeSIsIkRpc2NsYWltZXIiLCJTdXBwb3J0IiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU3VibWl0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/views/SettingsView.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stripe/stripe-js/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@stripe/stripe-js/dist/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadStripe: () => (/* binding */ loadStripe)\n/* harmony export */ });\nvar RELEASE_TRAIN = 'clover';\n\nvar runtimeVersionToUrlVersion = function runtimeVersionToUrlVersion(version) {\n  return version === 3 ? 'v3' : version;\n};\n\nvar ORIGIN = 'https://js.stripe.com';\nvar STRIPE_JS_URL = \"\".concat(ORIGIN, \"/\").concat(RELEASE_TRAIN, \"/stripe.js\");\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar STRIPE_JS_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/(v3|[a-z]+)\\/stripe\\.js(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\n\nvar isStripeJSURL = function isStripeJSURL(url) {\n  return V3_URL_REGEX.test(url) || STRIPE_JS_URL_REGEX.test(url);\n};\n\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(ORIGIN, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!isStripeJSURL(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(STRIPE_JS_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"8.5.3\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise$1 = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function (cause) {\n    reject(new Error('Failed to load Stripe.js', {\n      cause: cause\n    }));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise$1 !== null) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise$1[\"catch\"](function (error) {\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var pk = args[0];\n  var isTestKey = pk.match(/^pk_test/); // @ts-expect-error this is not publicly typed\n\n  var version = runtimeVersionToUrlVersion(maybeStripe.version);\n  var expectedVersion = RELEASE_TRAIN;\n\n  if (isTestKey && version !== expectedVersion) {\n    console.warn(\"Stripe.js@\".concat(version, \" was loaded on the page, but @stripe/stripe-js@\").concat(\"8.5.3\", \" expected Stripe.js@\").concat(expectedVersion, \". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning\"));\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise) {\n    return stripePromise;\n  }\n\n  stripePromise = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n  return stripePromise;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RyaXBlL3N0cmlwZS1qcy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0lBQXdJOztBQUV4STtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0Isb0JBQW9CO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUc7O0FBRU47QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0M7O0FBRXhDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxzRUFBc0UsYUFBYTtBQUNuRjtBQUNBOztBQUVBO0FBQ0EsOEJBQThCOztBQUU5QjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVzQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL0BzdHJpcGUvc3RyaXBlLWpzL2Rpc3QvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBSRUxFQVNFX1RSQUlOID0gJ2Nsb3Zlcic7XG5cbnZhciBydW50aW1lVmVyc2lvblRvVXJsVmVyc2lvbiA9IGZ1bmN0aW9uIHJ1bnRpbWVWZXJzaW9uVG9VcmxWZXJzaW9uKHZlcnNpb24pIHtcbiAgcmV0dXJuIHZlcnNpb24gPT09IDMgPyAndjMnIDogdmVyc2lvbjtcbn07XG5cbnZhciBPUklHSU4gPSAnaHR0cHM6Ly9qcy5zdHJpcGUuY29tJztcbnZhciBTVFJJUEVfSlNfVVJMID0gXCJcIi5jb25jYXQoT1JJR0lOLCBcIi9cIikuY29uY2F0KFJFTEVBU0VfVFJBSU4sIFwiL3N0cmlwZS5qc1wiKTtcbnZhciBWM19VUkxfUkVHRVggPSAvXmh0dHBzOlxcL1xcL2pzXFwuc3RyaXBlXFwuY29tXFwvdjNcXC8/KFxcPy4qKT8kLztcbnZhciBTVFJJUEVfSlNfVVJMX1JFR0VYID0gL15odHRwczpcXC9cXC9qc1xcLnN0cmlwZVxcLmNvbVxcLyh2M3xbYS16XSspXFwvc3RyaXBlXFwuanMoXFw/LiopPyQvO1xudmFyIEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFID0gJ2xvYWRTdHJpcGUuc2V0TG9hZFBhcmFtZXRlcnMgd2FzIGNhbGxlZCBidXQgYW4gZXhpc3RpbmcgU3RyaXBlLmpzIHNjcmlwdCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZG9jdW1lbnQ7IGV4aXN0aW5nIHNjcmlwdCBwYXJhbWV0ZXJzIHdpbGwgYmUgdXNlZCc7XG5cbnZhciBpc1N0cmlwZUpTVVJMID0gZnVuY3Rpb24gaXNTdHJpcGVKU1VSTCh1cmwpIHtcbiAgcmV0dXJuIFYzX1VSTF9SRUdFWC50ZXN0KHVybCkgfHwgU1RSSVBFX0pTX1VSTF9SRUdFWC50ZXN0KHVybCk7XG59O1xuXG52YXIgZmluZFNjcmlwdCA9IGZ1bmN0aW9uIGZpbmRTY3JpcHQoKSB7XG4gIHZhciBzY3JpcHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFtzcmNePVxcXCJcIi5jb25jYXQoT1JJR0lOLCBcIlxcXCJdXCIpKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc2NyaXB0ID0gc2NyaXB0c1tpXTtcblxuICAgIGlmICghaXNTdHJpcGVKU1VSTChzY3JpcHQuc3JjKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjcmlwdDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIGluamVjdFNjcmlwdCA9IGZ1bmN0aW9uIGluamVjdFNjcmlwdChwYXJhbXMpIHtcbiAgdmFyIHF1ZXJ5U3RyaW5nID0gcGFyYW1zICYmICFwYXJhbXMuYWR2YW5jZWRGcmF1ZFNpZ25hbHMgPyAnP2FkdmFuY2VkRnJhdWRTaWduYWxzPWZhbHNlJyA6ICcnO1xuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zcmMgPSBcIlwiLmNvbmNhdChTVFJJUEVfSlNfVVJMKS5jb25jYXQocXVlcnlTdHJpbmcpO1xuICB2YXIgaGVhZE9yQm9keSA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keTtcblxuICBpZiAoIWhlYWRPckJvZHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGRvY3VtZW50LmJvZHkgbm90IHRvIGJlIG51bGwuIFN0cmlwZS5qcyByZXF1aXJlcyBhIDxib2R5PiBlbGVtZW50LicpO1xuICB9XG5cbiAgaGVhZE9yQm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICByZXR1cm4gc2NyaXB0O1xufTtcblxudmFyIHJlZ2lzdGVyV3JhcHBlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyV3JhcHBlcihzdHJpcGUsIHN0YXJ0VGltZSkge1xuICBpZiAoIXN0cmlwZSB8fCAhc3RyaXBlLl9yZWdpc3RlcldyYXBwZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdHJpcGUuX3JlZ2lzdGVyV3JhcHBlcih7XG4gICAgbmFtZTogJ3N0cmlwZS1qcycsXG4gICAgdmVyc2lvbjogXCI4LjUuM1wiLFxuICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lXG4gIH0pO1xufTtcblxudmFyIHN0cmlwZVByb21pc2UkMSA9IG51bGw7XG52YXIgb25FcnJvckxpc3RlbmVyID0gbnVsbDtcbnZhciBvbkxvYWRMaXN0ZW5lciA9IG51bGw7XG5cbnZhciBvbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihyZWplY3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjYXVzZSkge1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFN0cmlwZS5qcycsIHtcbiAgICAgIGNhdXNlOiBjYXVzZVxuICAgIH0pKTtcbiAgfTtcbn07XG5cbnZhciBvbkxvYWQgPSBmdW5jdGlvbiBvbkxvYWQocmVzb2x2ZSwgcmVqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5TdHJpcGUpIHtcbiAgICAgIHJlc29sdmUod2luZG93LlN0cmlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1N0cmlwZS5qcyBub3QgYXZhaWxhYmxlJykpO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBsb2FkU2NyaXB0ID0gZnVuY3Rpb24gbG9hZFNjcmlwdChwYXJhbXMpIHtcbiAgLy8gRW5zdXJlIHRoYXQgd2Ugb25seSBhdHRlbXB0IHRvIGxvYWQgU3RyaXBlLmpzIGF0IG1vc3Qgb25jZVxuICBpZiAoc3RyaXBlUHJvbWlzZSQxICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHN0cmlwZVByb21pc2UkMTtcbiAgfVxuXG4gIHN0cmlwZVByb21pc2UkMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmVzb2x2ZSB0byBudWxsIHdoZW4gaW1wb3J0ZWQgc2VydmVyIHNpZGUuIFRoaXMgbWFrZXMgdGhlIG1vZHVsZVxuICAgICAgLy8gc2FmZSB0byBpbXBvcnQgaW4gYW4gaXNvbW9ycGhpYyBjb2RlIGJhc2UuXG4gICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuU3RyaXBlICYmIHBhcmFtcykge1xuICAgICAgY29uc29sZS53YXJuKEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LlN0cmlwZSkge1xuICAgICAgcmVzb2x2ZSh3aW5kb3cuU3RyaXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHNjcmlwdCA9IGZpbmRTY3JpcHQoKTtcblxuICAgICAgaWYgKHNjcmlwdCAmJiBwYXJhbXMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFKTtcbiAgICAgIH0gZWxzZSBpZiAoIXNjcmlwdCkge1xuICAgICAgICBzY3JpcHQgPSBpbmplY3RTY3JpcHQocGFyYW1zKTtcbiAgICAgIH0gZWxzZSBpZiAoc2NyaXB0ICYmIG9uTG9hZExpc3RlbmVyICE9PSBudWxsICYmIG9uRXJyb3JMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgX3NjcmlwdCRwYXJlbnROb2RlO1xuXG4gICAgICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgc2NyaXB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWRMaXN0ZW5lcik7XG4gICAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3JMaXN0ZW5lcik7IC8vIGlmIHNjcmlwdCBleGlzdHMsIGJ1dCB3ZSBhcmUgcmVsb2FkaW5nIGR1ZSB0byBhbiBlcnJvcixcbiAgICAgICAgLy8gcmVsb2FkIHNjcmlwdCB0byB0cmlnZ2VyICdsb2FkJyBldmVudFxuXG4gICAgICAgIChfc2NyaXB0JHBhcmVudE5vZGUgPSBzY3JpcHQucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX3NjcmlwdCRwYXJlbnROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2NyaXB0JHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgc2NyaXB0ID0gaW5qZWN0U2NyaXB0KHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIG9uTG9hZExpc3RlbmVyID0gb25Mb2FkKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBvbkVycm9yTGlzdGVuZXIgPSBvbkVycm9yKHJlamVjdCk7XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZExpc3RlbmVyKTtcbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3JMaXN0ZW5lcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTsgLy8gUmVzZXRzIHN0cmlwZVByb21pc2Ugb24gZXJyb3JcblxuICByZXR1cm4gc3RyaXBlUHJvbWlzZSQxW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgc3RyaXBlUHJvbWlzZSQxID0gbnVsbDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9KTtcbn07XG52YXIgaW5pdFN0cmlwZSA9IGZ1bmN0aW9uIGluaXRTdHJpcGUobWF5YmVTdHJpcGUsIGFyZ3MsIHN0YXJ0VGltZSkge1xuICBpZiAobWF5YmVTdHJpcGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwayA9IGFyZ3NbMF07XG4gIHZhciBpc1Rlc3RLZXkgPSBway5tYXRjaCgvXnBrX3Rlc3QvKTsgLy8gQHRzLWV4cGVjdC1lcnJvciB0aGlzIGlzIG5vdCBwdWJsaWNseSB0eXBlZFxuXG4gIHZhciB2ZXJzaW9uID0gcnVudGltZVZlcnNpb25Ub1VybFZlcnNpb24obWF5YmVTdHJpcGUudmVyc2lvbik7XG4gIHZhciBleHBlY3RlZFZlcnNpb24gPSBSRUxFQVNFX1RSQUlOO1xuXG4gIGlmIChpc1Rlc3RLZXkgJiYgdmVyc2lvbiAhPT0gZXhwZWN0ZWRWZXJzaW9uKSB7XG4gICAgY29uc29sZS53YXJuKFwiU3RyaXBlLmpzQFwiLmNvbmNhdCh2ZXJzaW9uLCBcIiB3YXMgbG9hZGVkIG9uIHRoZSBwYWdlLCBidXQgQHN0cmlwZS9zdHJpcGUtanNAXCIpLmNvbmNhdChcIjguNS4zXCIsIFwiIGV4cGVjdGVkIFN0cmlwZS5qc0BcIikuY29uY2F0KGV4cGVjdGVkVmVyc2lvbiwgXCIuIFRoaXMgbWF5IHJlc3VsdCBpbiB1bmV4cGVjdGVkIGJlaGF2aW9yLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vZG9jcy5zdHJpcGUuY29tL3Nka3Mvc3RyaXBlanMtdmVyc2lvbmluZ1wiKSk7XG4gIH1cblxuICB2YXIgc3RyaXBlID0gbWF5YmVTdHJpcGUuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgcmVnaXN0ZXJXcmFwcGVyKHN0cmlwZSwgc3RhcnRUaW1lKTtcbiAgcmV0dXJuIHN0cmlwZTtcbn07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5cbnZhciBzdHJpcGVQcm9taXNlO1xudmFyIGxvYWRDYWxsZWQgPSBmYWxzZTtcblxudmFyIGdldFN0cmlwZVByb21pc2UgPSBmdW5jdGlvbiBnZXRTdHJpcGVQcm9taXNlKCkge1xuICBpZiAoc3RyaXBlUHJvbWlzZSkge1xuICAgIHJldHVybiBzdHJpcGVQcm9taXNlO1xuICB9XG5cbiAgc3RyaXBlUHJvbWlzZSA9IGxvYWRTY3JpcHQobnVsbClbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAvLyBjbGVhciBjYWNoZSBvbiBlcnJvclxuICAgIHN0cmlwZVByb21pc2UgPSBudWxsO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH0pO1xuICByZXR1cm4gc3RyaXBlUHJvbWlzZTtcbn07IC8vIEV4ZWN1dGUgb3VyIG93biBzY3JpcHQgaW5qZWN0aW9uIGFmdGVyIGEgdGljayB0byBnaXZlIHVzZXJzIHRpbWUgdG8gZG8gdGhlaXJcbi8vIG93biBzY3JpcHQgaW5qZWN0aW9uLlxuXG5cblByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZ2V0U3RyaXBlUHJvbWlzZSgpO1xufSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgaWYgKCFsb2FkQ2FsbGVkKSB7XG4gICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgfVxufSk7XG52YXIgbG9hZFN0cmlwZSA9IGZ1bmN0aW9uIGxvYWRTdHJpcGUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBsb2FkQ2FsbGVkID0gdHJ1ZTtcbiAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7IC8vIGlmIHByZXZpb3VzIGF0dGVtcHRzIGFyZSB1bnN1Y2Nlc3NmdWwsIHdpbGwgcmUtbG9hZCBzY3JpcHRcblxuICByZXR1cm4gZ2V0U3RyaXBlUHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24gKG1heWJlU3RyaXBlKSB7XG4gICAgcmV0dXJuIGluaXRTdHJpcGUobWF5YmVTdHJpcGUsIGFyZ3MsIHN0YXJ0VGltZSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgbG9hZFN0cmlwZSB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stripe/stripe-js/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stripe/stripe-js/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@stripe/stripe-js/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadStripe: () => (/* reexport safe */ _dist_index_mjs__WEBPACK_IMPORTED_MODULE_0__.loadStripe)\n/* harmony export */ });\n/* harmony import */ var _dist_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dist/index.mjs */ \"(app-pages-browser)/./node_modules/@stripe/stripe-js/dist/index.mjs\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RyaXBlL3N0cmlwZS1qcy9saWIvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ub2RlX21vZHVsZXMvQHN0cmlwZS9zdHJpcGUtanMvbGliL2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuLi9kaXN0L2luZGV4Lm1qcyc7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stripe/stripe-js/lib/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./services/feedbackService.ts":
/*!*************************************!*\
  !*** ./services/feedbackService.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   submitFeedback: () => (/* binding */ submitFeedback)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n\n/**\n * Submit user feedback (rating + optional comment) to Supabase.\n * If Supabase is not configured, logs a warning and returns silently.\n */ const submitFeedback = async (payload)=>{\n    const { rating, comment, userId } = payload;\n    console.log('[feedbackService] Submitting feedback:', {\n        rating,\n        hasComment: !!comment,\n        userId: userId ?? 'anonymous'\n    });\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n        console.warn('[feedbackService] Supabase not configured. Feedback not saved.');\n        // Resolve silently so the UI can still show success (useful for local dev)\n        return;\n    }\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n    const { error } = await supabase.from('feedback').insert({\n        user_id: userId ?? null,\n        rating,\n        comment: comment?.trim() || null,\n        created_at: new Date().toISOString(),\n        user_agent: typeof navigator !== 'undefined' ? navigator.userAgent : null\n    });\n    if (error) {\n        console.error('[feedbackService] Failed to insert feedback:', error);\n        throw new Error('Failed to submit feedback. Please try again.');\n    }\n    console.log('[feedbackService] Feedback submitted successfully');\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NlcnZpY2VzL2ZlZWRiYWNrU2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF5RTtBQVF6RTs7O0NBR0MsR0FDTSxNQUFNRSxpQkFBaUIsT0FBT0M7SUFDakMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFLEdBQUdIO0lBRXBDSSxRQUFRQyxHQUFHLENBQUMsMENBQTBDO1FBQUVKO1FBQVFLLFlBQVksQ0FBQyxDQUFDSjtRQUFTQyxRQUFRQSxVQUFVO0lBQVk7SUFFckgsSUFBSSxDQUFDTCxtRUFBb0JBLElBQUk7UUFDekJNLFFBQVFHLElBQUksQ0FBQztRQUNiLDJFQUEyRTtRQUMzRTtJQUNKO0lBRUEsTUFBTUMsV0FBV1gsZ0VBQWlCQTtJQUVsQyxNQUFNLEVBQUVZLEtBQUssRUFBRSxHQUFHLE1BQU1ELFNBQVNFLElBQUksQ0FBQyxZQUFZQyxNQUFNLENBQUM7UUFDckRDLFNBQVNULFVBQVU7UUFDbkJGO1FBQ0FDLFNBQVNBLFNBQVNXLFVBQVU7UUFDNUJDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztRQUNsQ0MsWUFBWSxPQUFPQyxjQUFjLGNBQWNBLFVBQVVDLFNBQVMsR0FBRztJQUN6RTtJQUVBLElBQUlWLE9BQU87UUFDUEwsUUFBUUssS0FBSyxDQUFDLGdEQUFnREE7UUFDOUQsTUFBTSxJQUFJVyxNQUFNO0lBQ3BCO0lBRUFoQixRQUFRQyxHQUFHLENBQUM7QUFDaEIsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvc2VydmljZXMvZmVlZGJhY2tTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFN1cGFiYXNlQ2xpZW50LCBpc1N1cGFiYXNlQ29uZmlndXJlZCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcblxuZXhwb3J0IGludGVyZmFjZSBGZWVkYmFja1BheWxvYWQge1xuICAgIHJhdGluZzogbnVtYmVyO1xuICAgIGNvbW1lbnQ/OiBzdHJpbmc7XG4gICAgdXNlcklkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFN1Ym1pdCB1c2VyIGZlZWRiYWNrIChyYXRpbmcgKyBvcHRpb25hbCBjb21tZW50KSB0byBTdXBhYmFzZS5cbiAqIElmIFN1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLCBsb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBzaWxlbnRseS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN1Ym1pdEZlZWRiYWNrID0gYXN5bmMgKHBheWxvYWQ6IEZlZWRiYWNrUGF5bG9hZCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IHsgcmF0aW5nLCBjb21tZW50LCB1c2VySWQgfSA9IHBheWxvYWQ7XG5cbiAgICBjb25zb2xlLmxvZygnW2ZlZWRiYWNrU2VydmljZV0gU3VibWl0dGluZyBmZWVkYmFjazonLCB7IHJhdGluZywgaGFzQ29tbWVudDogISFjb21tZW50LCB1c2VySWQ6IHVzZXJJZCA/PyAnYW5vbnltb3VzJyB9KTtcblxuICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tmZWVkYmFja1NlcnZpY2VdIFN1cGFiYXNlIG5vdCBjb25maWd1cmVkLiBGZWVkYmFjayBub3Qgc2F2ZWQuJyk7XG4gICAgICAgIC8vIFJlc29sdmUgc2lsZW50bHkgc28gdGhlIFVJIGNhbiBzdGlsbCBzaG93IHN1Y2Nlc3MgKHVzZWZ1bCBmb3IgbG9jYWwgZGV2KVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgnZmVlZGJhY2snKS5pbnNlcnQoe1xuICAgICAgICB1c2VyX2lkOiB1c2VySWQgPz8gbnVsbCxcbiAgICAgICAgcmF0aW5nLFxuICAgICAgICBjb21tZW50OiBjb21tZW50Py50cmltKCkgfHwgbnVsbCxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1c2VyX2FnZW50OiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IG5hdmlnYXRvci51c2VyQWdlbnQgOiBudWxsLFxuICAgIH0pO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmZWVkYmFja1NlcnZpY2VdIEZhaWxlZCB0byBpbnNlcnQgZmVlZGJhY2s6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzdWJtaXQgZmVlZGJhY2suIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1tmZWVkYmFja1NlcnZpY2VdIEZlZWRiYWNrIHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHknKTtcbn07XG5cbiJdLCJuYW1lcyI6WyJnZXRTdXBhYmFzZUNsaWVudCIsImlzU3VwYWJhc2VDb25maWd1cmVkIiwic3VibWl0RmVlZGJhY2siLCJwYXlsb2FkIiwicmF0aW5nIiwiY29tbWVudCIsInVzZXJJZCIsImNvbnNvbGUiLCJsb2ciLCJoYXNDb21tZW50Iiwid2FybiIsInN1cGFiYXNlIiwiZXJyb3IiLCJmcm9tIiwiaW5zZXJ0IiwidXNlcl9pZCIsInRyaW0iLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXNlcl9hZ2VudCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIkVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./services/feedbackService.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./services/stripeService.ts":
/*!***********************************!*\
  !*** ./services/stripeService.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyRetentionDiscount: () => (/* binding */ applyRetentionDiscount),\n/* harmony export */   cancelSubscription: () => (/* binding */ cancelSubscription),\n/* harmony export */   createBillingPortalSession: () => (/* binding */ createBillingPortalSession),\n/* harmony export */   createCheckoutSession: () => (/* binding */ createCheckoutSession),\n/* harmony export */   createMockSubscription: () => (/* binding */ createMockSubscription),\n/* harmony export */   getUserSubscription: () => (/* binding */ getUserSubscription),\n/* harmony export */   redirectToCheckout: () => (/* binding */ redirectToCheckout),\n/* harmony export */   restoreSubscription: () => (/* binding */ restoreSubscription),\n/* harmony export */   upgradeToAnnual: () => (/* binding */ upgradeToAnnual)\n/* harmony export */ });\n/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stripe/stripe-js */ \"(app-pages-browser)/./node_modules/@stripe/stripe-js/lib/index.mjs\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/* harmony import */ var _utils_sessionManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/sessionManager */ \"(app-pages-browser)/./utils/sessionManager.ts\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\n\n\n// Get Stripe publishable key from environment\nconst getStripePublishableKey = ()=>{\n    const key = \"pk_test_51SQyUERi2fT4iEDsht3iyOUKPtnTgjMArwyt01St3yYJnMRIbyTVox4swh6WyJ7CNPV4y5C6QRKAhNqFCFJDPwHn007DAju5WZ\";\n    if (!key) {\n        throw new Error('NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY is not set in environment variables');\n    }\n    return key;\n};\n// Initialize Stripe\nlet stripePromise = null;\nconst getStripe = ()=>{\n    if (!stripePromise) {\n        stripePromise = (0,_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_0__.loadStripe)(getStripePublishableKey());\n    }\n    return stripePromise;\n};\n/**\n * Get the Supabase Functions URL from environment\n * Uses VITE_SUPABASE_URL to construct the functions URL\n */ const getFunctionsUrl = ()=>{\n    // First check for explicit functions URL\n    const functionsUrl = process.env.NEXT_PUBLIC_SUPABASE_FUNCTIONS_URL;\n    if (functionsUrl) {\n        return functionsUrl;\n    }\n    // Fall back to constructing from Supabase URL\n    const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n    if (!supabaseUrl) {\n        throw new Error('NEXT_PUBLIC_SUPABASE_URL is not set. Cannot determine Edge Functions URL.');\n    }\n    // Convert https://xxx.supabase.co to https://xxx.supabase.co/functions/v1\n    return `${supabaseUrl}/functions/v1`;\n};\n/**\n * Get user's JWT token from Supabase session\n * Throws error if no session exists (user must be logged in)\n */ const getAuthToken = async ()=>{\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.isSupabaseConfigured)()) {\n        throw new Error('Supabase is not configured. Please check your environment variables.');\n    }\n    // Use sessionManager utility which handles token refresh automatically\n    const token = await (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_2__.getValidAuthToken)();\n    if (!token) {\n        throw new Error('You must be logged in to perform this action. Please log in and try again.');\n    }\n    return token;\n};\n/**\n * Make a request to a Supabase Edge Function\n * Requires user authentication (JWT token)\n */ const callEdgeFunction = async (functionName, options = {})=>{\n    const { method = 'POST', body, params } = options;\n    const functionsUrl = getFunctionsUrl();\n    // Get user's JWT token (requires authentication)\n    let authToken;\n    try {\n        authToken = await getAuthToken();\n    } catch (error) {\n        // Re-throw with clear error message\n        if (error instanceof Error) {\n            throw error;\n        }\n        throw new Error('Authentication failed. Please log in and try again.');\n    }\n    let url = `${functionsUrl}/${functionName}`;\n    // Add query params for GET requests\n    if (params && Object.keys(params).length > 0) {\n        const searchParams = new URLSearchParams(params);\n        url += `?${searchParams.toString()}`;\n    }\n    const fetchOptions = {\n        method,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${authToken}`\n        }\n    };\n    if (body && method === 'POST') {\n        fetchOptions.body = JSON.stringify(body);\n    }\n    return fetch(url, fetchOptions);\n};\n/**\n * Create a Stripe Checkout Session via Supabase Edge Function\n */ const createCheckoutSession = async (userId, plan, email)=>{\n    const body = {\n        userId,\n        plan\n    };\n    if (email) {\n        body.email = email;\n    }\n    const response = await callEdgeFunction('create-checkout-session', {\n        method: 'POST',\n        body\n    });\n    if (!response.ok) {\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to create checkout session'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to create checkout session';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Redirect user to Stripe Checkout\n */ const redirectToCheckout = async (userId, plan, email)=>{\n    try {\n        console.log('[stripeService] Creating checkout session for user:', userId, 'plan:', plan, 'email:', email);\n        const { sessionId, url } = await createCheckoutSession(userId, plan, email);\n        if (url) {\n            // Redirect to Stripe Checkout\n            window.location.href = url;\n        } else {\n            // Fallback: use Stripe.js redirect\n            const stripe = await getStripe();\n            const { error } = await stripe.redirectToCheckout({\n                sessionId\n            });\n            if (error) {\n                throw new Error(error.message || 'Failed to redirect to checkout');\n            }\n        }\n    } catch (error) {\n        console.error('[stripeService] Checkout error:', error);\n        throw error;\n    }\n};\n/**\n * Get user's subscription details\n * Returns null if no subscription is found (404), throws error for other failures\n */ const getUserSubscription = async (userId)=>{\n    const response = await callEdgeFunction('get-subscription', {\n        method: 'GET',\n        params: {\n            userId\n        }\n    });\n    if (!response.ok) {\n        // Handle 404 (no subscription found)\n        if (response.status === 404) {\n            // Check if the response includes premium tier info\n            const errorData = await response.json().catch(()=>({}));\n            if (errorData.hasPremiumTier) {\n                // Return a special object to indicate premium tier mismatch\n                return {\n                    _premiumTierMismatch: true,\n                    error: errorData.error || 'No subscription found'\n                };\n            }\n            return null;\n        }\n        // For other errors, parse and throw with proper error message\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to get subscription'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to get subscription';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Cancel subscription with retention offer option\n */ const cancelSubscription = async (userId, acceptOffer)=>{\n    const response = await callEdgeFunction('cancel-subscription', {\n        method: 'POST',\n        body: {\n            userId,\n            action: acceptOffer ? 'accept_offer' : 'cancel'\n        }\n    });\n    if (!response.ok) {\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to cancel subscription'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to cancel subscription';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Apply retention discount to subscription\n */ const applyRetentionDiscount = async (userId)=>{\n    const response = await callEdgeFunction('apply-retention-discount', {\n        method: 'POST',\n        body: {\n            userId\n        }\n    });\n    if (!response.ok) {\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to apply retention discount'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to apply retention discount';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Restore a cancelled subscription\n */ const restoreSubscription = async (userId)=>{\n    const response = await callEdgeFunction('restore-subscription', {\n        method: 'POST',\n        body: {\n            userId\n        }\n    });\n    if (!response.ok) {\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to restore subscription'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to restore subscription';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Upgrade subscription from monthly to annual\n */ const upgradeToAnnual = async (userId)=>{\n    console.log('[stripeService] upgradeToAnnual called for user:', userId);\n    try {\n        const response = await callEdgeFunction('upgrade-subscription', {\n            method: 'POST',\n            body: {\n                userId\n            }\n        });\n        console.log('[stripeService] upgradeToAnnual response status:', response.status, response.statusText);\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>{\n                console.error('[stripeService] Failed to parse error response');\n                return {\n                    error: `Failed to upgrade subscription (${response.status} ${response.statusText})`\n                };\n            });\n            const errorMessage = errorData.error || errorData.message || `Failed to upgrade subscription (${response.status})`;\n            console.error('[stripeService] upgradeToAnnual error:', errorMessage, errorData);\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log('[stripeService] upgradeToAnnual success:', result);\n        return result;\n    } catch (error) {\n        console.error('[stripeService] upgradeToAnnual exception:', error);\n        if (error instanceof Error) {\n            throw error;\n        }\n        throw new Error('Failed to upgrade subscription');\n    }\n};\n/**\n * Create a Stripe Customer Portal session for managing billing\n */ const createBillingPortalSession = async (userId, returnUrl)=>{\n    console.log('[stripeService] createBillingPortalSession called for user:', userId);\n    try {\n        const body = {\n            userId\n        };\n        if (returnUrl) {\n            body.returnUrl = returnUrl;\n        }\n        const response = await callEdgeFunction('create-billing-portal-session', {\n            method: 'POST',\n            body\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    error: 'Failed to create billing portal session'\n                }));\n            const errorMessage = errorData.error || errorData.message || 'Failed to create billing portal session';\n            throw new Error(errorMessage);\n        }\n        const data = await response.json();\n        if (!data.url) {\n            throw new Error('No portal URL returned from server');\n        }\n        console.log('[stripeService] Billing portal session created successfully');\n        return data.url;\n    } catch (error) {\n        console.error('[stripeService] createBillingPortalSession error:', error);\n        throw error;\n    }\n};\n/**\n * Create a mock subscription (development only)\n * Note: This functionality is no longer supported with Edge Functions.\n * Use real Stripe test mode instead.\n */ const createMockSubscription = async (_userId, _plan)=>{\n    throw new Error('Mock subscriptions are not supported with Edge Functions. ' + 'Please use Stripe test mode with test card numbers instead.');\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NlcnZpY2VzL3N0cmlwZVNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUErQztBQUNPO0FBQ0s7QUFFM0QsOENBQThDO0FBQzlDLE1BQU1HLDBCQUEwQjtJQUM1QixNQUFNQyxNQUFNQyw2R0FBOEM7SUFDMUQsSUFBSSxDQUFDRCxLQUFLO1FBQ04sTUFBTSxJQUFJSSxNQUFNO0lBQ3BCO0lBQ0EsT0FBT0o7QUFDWDtBQUVBLG9CQUFvQjtBQUNwQixJQUFJSyxnQkFBcUM7QUFDekMsTUFBTUMsWUFBWTtJQUNkLElBQUksQ0FBQ0QsZUFBZTtRQUNoQkEsZ0JBQWdCVCw2REFBVUEsQ0FBQ0c7SUFDL0I7SUFDQSxPQUFPTTtBQUNYO0FBRUE7OztDQUdDLEdBQ0QsTUFBTUUsa0JBQWtCO0lBQ3BCLHlDQUF5QztJQUN6QyxNQUFNQyxlQUFlUCxPQUFPQSxDQUFDQyxHQUFHLENBQUNPLGtDQUFrQztJQUNuRSxJQUFJRCxjQUFjO1FBQ2QsT0FBT0E7SUFDWDtJQUVBLDhDQUE4QztJQUM5QyxNQUFNRSxjQUFjVCwwQ0FBb0M7SUFDeEQsSUFBSSxDQUFDUyxhQUFhO1FBQ2QsTUFBTSxJQUFJTixNQUFNO0lBQ3BCO0lBRUEsMEVBQTBFO0lBQzFFLE9BQU8sR0FBR00sWUFBWSxhQUFhLENBQUM7QUFDeEM7QUFFQTs7O0NBR0MsR0FDRCxNQUFNRSxlQUFlO0lBQ2pCLElBQUksQ0FBQ2YsbUVBQW9CQSxJQUFJO1FBQ3pCLE1BQU0sSUFBSU8sTUFBTTtJQUNwQjtJQUVBLHVFQUF1RTtJQUN2RSxNQUFNUyxRQUFRLE1BQU1mLHdFQUFpQkE7SUFFckMsSUFBSSxDQUFDZSxPQUFPO1FBQ1IsTUFBTSxJQUFJVCxNQUFNO0lBQ3BCO0lBRUEsT0FBT1M7QUFDWDtBQUVBOzs7Q0FHQyxHQUNELE1BQU1DLG1CQUFtQixPQUNyQkMsY0FDQUMsVUFJSSxDQUFDLENBQUM7SUFFTixNQUFNLEVBQUVDLFNBQVMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLE1BQU0sRUFBRSxHQUFHSDtJQUMxQyxNQUFNUixlQUFlRDtJQUVyQixpREFBaUQ7SUFDakQsSUFBSWE7SUFDSixJQUFJO1FBQ0FBLFlBQVksTUFBTVI7SUFDdEIsRUFBRSxPQUFPUyxPQUFPO1FBQ1osb0NBQW9DO1FBQ3BDLElBQUlBLGlCQUFpQmpCLE9BQU87WUFDeEIsTUFBTWlCO1FBQ1Y7UUFDQSxNQUFNLElBQUlqQixNQUFNO0lBQ3BCO0lBRUEsSUFBSWtCLE1BQU0sR0FBR2QsYUFBYSxDQUFDLEVBQUVPLGNBQWM7SUFFM0Msb0NBQW9DO0lBQ3BDLElBQUlJLFVBQVVJLE9BQU9DLElBQUksQ0FBQ0wsUUFBUU0sTUFBTSxHQUFHLEdBQUc7UUFDMUMsTUFBTUMsZUFBZSxJQUFJQyxnQkFBZ0JSO1FBQ3pDRyxPQUFPLENBQUMsQ0FBQyxFQUFFSSxhQUFhRSxRQUFRLElBQUk7SUFDeEM7SUFFQSxNQUFNQyxlQUE0QjtRQUM5Qlo7UUFDQWEsU0FBUztZQUNMLGdCQUFnQjtZQUNoQixpQkFBaUIsQ0FBQyxPQUFPLEVBQUVWLFdBQVc7UUFDMUM7SUFDSjtJQUVBLElBQUlGLFFBQVFELFdBQVcsUUFBUTtRQUMzQlksYUFBYVgsSUFBSSxHQUFHYSxLQUFLQyxTQUFTLENBQUNkO0lBQ3ZDO0lBRUEsT0FBT2UsTUFBTVgsS0FBS087QUFDdEI7QUFFQTs7Q0FFQyxHQUNNLE1BQU1LLHdCQUF3QixPQUNqQ0MsUUFDQUMsTUFDQUM7SUFFQSxNQUFNbkIsT0FBZ0M7UUFBRWlCO1FBQVFDO0lBQUs7SUFDckQsSUFBSUMsT0FBTztRQUNQbkIsS0FBS21CLEtBQUssR0FBR0E7SUFDakI7SUFFQSxNQUFNQyxXQUFXLE1BQU14QixpQkFBaUIsMkJBQTJCO1FBQy9ERyxRQUFRO1FBQ1JDO0lBQ0o7SUFFQSxJQUFJLENBQUNvQixTQUFTQyxFQUFFLEVBQUU7UUFDZCxNQUFNQyxZQUFZLE1BQU1GLFNBQVNHLElBQUksR0FBR0MsS0FBSyxDQUFDLElBQU87Z0JBQUVyQixPQUFPO1lBQW9DO1FBQ2xHLE1BQU1zQixlQUFlSCxVQUFVbkIsS0FBSyxJQUFJbUIsVUFBVUksT0FBTyxJQUFJO1FBQzdELE1BQU0sSUFBSXhDLE1BQU11QztJQUNwQjtJQUVBLE9BQU8sTUFBTUwsU0FBU0csSUFBSTtBQUM5QixFQUFFO0FBRUY7O0NBRUMsR0FDTSxNQUFNSSxxQkFBcUIsT0FBT1YsUUFBZ0JDLE1BQTRCQztJQUNqRixJQUFJO1FBQ0FTLFFBQVFDLEdBQUcsQ0FBQyx1REFBdURaLFFBQVEsU0FBU0MsTUFBTSxVQUFVQztRQUVwRyxNQUFNLEVBQUVXLFNBQVMsRUFBRTFCLEdBQUcsRUFBRSxHQUFHLE1BQU1ZLHNCQUFzQkMsUUFBUUMsTUFBTUM7UUFFckUsSUFBSWYsS0FBSztZQUNMLDhCQUE4QjtZQUM5QjJCLE9BQU9DLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHN0I7UUFDM0IsT0FBTztZQUNILG1DQUFtQztZQUNuQyxNQUFNOEIsU0FBUyxNQUFNOUM7WUFDckIsTUFBTSxFQUFFZSxLQUFLLEVBQUUsR0FBRyxNQUFNK0IsT0FBUVAsa0JBQWtCLENBQUM7Z0JBQUVHO1lBQVU7WUFFL0QsSUFBSTNCLE9BQU87Z0JBQ1AsTUFBTSxJQUFJakIsTUFBTWlCLE1BQU11QixPQUFPLElBQUk7WUFDckM7UUFDSjtJQUNKLEVBQUUsT0FBT3ZCLE9BQU87UUFDWnlCLFFBQVF6QixLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxNQUFNQTtJQUNWO0FBQ0osRUFBRTtBQUVGOzs7Q0FHQyxHQUNNLE1BQU1nQyxzQkFBc0IsT0FBT2xCO0lBQ3RDLE1BQU1HLFdBQVcsTUFBTXhCLGlCQUFpQixvQkFBb0I7UUFDeERHLFFBQVE7UUFDUkUsUUFBUTtZQUFFZ0I7UUFBTztJQUNyQjtJQUVBLElBQUksQ0FBQ0csU0FBU0MsRUFBRSxFQUFFO1FBQ2QscUNBQXFDO1FBQ3JDLElBQUlELFNBQVNnQixNQUFNLEtBQUssS0FBSztZQUN6QixtREFBbUQ7WUFDbkQsTUFBTWQsWUFBWSxNQUFNRixTQUFTRyxJQUFJLEdBQUdDLEtBQUssQ0FBQyxJQUFPLEVBQUM7WUFDdEQsSUFBSUYsVUFBVWUsY0FBYyxFQUFFO2dCQUMxQiw0REFBNEQ7Z0JBQzVELE9BQU87b0JBQUVDLHNCQUFzQjtvQkFBTW5DLE9BQU9tQixVQUFVbkIsS0FBSyxJQUFJO2dCQUF3QjtZQUMzRjtZQUNBLE9BQU87UUFDWDtRQUVBLDhEQUE4RDtRQUM5RCxNQUFNbUIsWUFBWSxNQUFNRixTQUFTRyxJQUFJLEdBQUdDLEtBQUssQ0FBQyxJQUFPO2dCQUFFckIsT0FBTztZQUE2QjtRQUMzRixNQUFNc0IsZUFBZUgsVUFBVW5CLEtBQUssSUFBSW1CLFVBQVVJLE9BQU8sSUFBSTtRQUM3RCxNQUFNLElBQUl4QyxNQUFNdUM7SUFDcEI7SUFFQSxPQUFPLE1BQU1MLFNBQVNHLElBQUk7QUFDOUIsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTWdCLHFCQUFxQixPQUFPdEIsUUFBZ0J1QjtJQUNyRCxNQUFNcEIsV0FBVyxNQUFNeEIsaUJBQWlCLHVCQUF1QjtRQUMzREcsUUFBUTtRQUNSQyxNQUFNO1lBQ0ZpQjtZQUNBd0IsUUFBUUQsY0FBYyxpQkFBaUI7UUFDM0M7SUFDSjtJQUVBLElBQUksQ0FBQ3BCLFNBQVNDLEVBQUUsRUFBRTtRQUNkLE1BQU1DLFlBQVksTUFBTUYsU0FBU0csSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTztnQkFBRXJCLE9BQU87WUFBZ0M7UUFDOUYsTUFBTXNCLGVBQWVILFVBQVVuQixLQUFLLElBQUltQixVQUFVSSxPQUFPLElBQUk7UUFDN0QsTUFBTSxJQUFJeEMsTUFBTXVDO0lBQ3BCO0lBRUEsT0FBTyxNQUFNTCxTQUFTRyxJQUFJO0FBQzlCLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1tQix5QkFBeUIsT0FBT3pCO0lBQ3pDLE1BQU1HLFdBQVcsTUFBTXhCLGlCQUFpQiw0QkFBNEI7UUFDaEVHLFFBQVE7UUFDUkMsTUFBTTtZQUFFaUI7UUFBTztJQUNuQjtJQUVBLElBQUksQ0FBQ0csU0FBU0MsRUFBRSxFQUFFO1FBQ2QsTUFBTUMsWUFBWSxNQUFNRixTQUFTRyxJQUFJLEdBQUdDLEtBQUssQ0FBQyxJQUFPO2dCQUFFckIsT0FBTztZQUFxQztRQUNuRyxNQUFNc0IsZUFBZUgsVUFBVW5CLEtBQUssSUFBSW1CLFVBQVVJLE9BQU8sSUFBSTtRQUM3RCxNQUFNLElBQUl4QyxNQUFNdUM7SUFDcEI7SUFFQSxPQUFPLE1BQU1MLFNBQVNHLElBQUk7QUFDOUIsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTW9CLHNCQUFzQixPQUFPMUI7SUFDdEMsTUFBTUcsV0FBVyxNQUFNeEIsaUJBQWlCLHdCQUF3QjtRQUM1REcsUUFBUTtRQUNSQyxNQUFNO1lBQUVpQjtRQUFPO0lBQ25CO0lBRUEsSUFBSSxDQUFDRyxTQUFTQyxFQUFFLEVBQUU7UUFDZCxNQUFNQyxZQUFZLE1BQU1GLFNBQVNHLElBQUksR0FBR0MsS0FBSyxDQUFDLElBQU87Z0JBQUVyQixPQUFPO1lBQWlDO1FBQy9GLE1BQU1zQixlQUFlSCxVQUFVbkIsS0FBSyxJQUFJbUIsVUFBVUksT0FBTyxJQUFJO1FBQzdELE1BQU0sSUFBSXhDLE1BQU11QztJQUNwQjtJQUVBLE9BQU8sTUFBTUwsU0FBU0csSUFBSTtBQUM5QixFQUFFO0FBRUY7O0NBRUMsR0FDTSxNQUFNcUIsa0JBQWtCLE9BQU8zQjtJQUNsQ1csUUFBUUMsR0FBRyxDQUFDLG9EQUFvRFo7SUFFaEUsSUFBSTtRQUNBLE1BQU1HLFdBQVcsTUFBTXhCLGlCQUFpQix3QkFBd0I7WUFDNURHLFFBQVE7WUFDUkMsTUFBTTtnQkFBRWlCO1lBQU87UUFDbkI7UUFFQVcsUUFBUUMsR0FBRyxDQUFDLG9EQUFvRFQsU0FBU2dCLE1BQU0sRUFBRWhCLFNBQVN5QixVQUFVO1FBRXBHLElBQUksQ0FBQ3pCLFNBQVNDLEVBQUUsRUFBRTtZQUNkLE1BQU1DLFlBQVksTUFBTUYsU0FBU0csSUFBSSxHQUFHQyxLQUFLLENBQUM7Z0JBQzFDSSxRQUFRekIsS0FBSyxDQUFDO2dCQUNkLE9BQU87b0JBQUVBLE9BQU8sQ0FBQyxnQ0FBZ0MsRUFBRWlCLFNBQVNnQixNQUFNLENBQUMsQ0FBQyxFQUFFaEIsU0FBU3lCLFVBQVUsQ0FBQyxDQUFDLENBQUM7Z0JBQUM7WUFDakc7WUFDQSxNQUFNcEIsZUFBZUgsVUFBVW5CLEtBQUssSUFBSW1CLFVBQVVJLE9BQU8sSUFBSSxDQUFDLGdDQUFnQyxFQUFFTixTQUFTZ0IsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNsSFIsUUFBUXpCLEtBQUssQ0FBQywwQ0FBMENzQixjQUFjSDtZQUN0RSxNQUFNLElBQUlwQyxNQUFNdUM7UUFDcEI7UUFFQSxNQUFNcUIsU0FBUyxNQUFNMUIsU0FBU0csSUFBSTtRQUNsQ0ssUUFBUUMsR0FBRyxDQUFDLDRDQUE0Q2lCO1FBQ3hELE9BQU9BO0lBQ1gsRUFBRSxPQUFPM0MsT0FBTztRQUNaeUIsUUFBUXpCLEtBQUssQ0FBQyw4Q0FBOENBO1FBQzVELElBQUlBLGlCQUFpQmpCLE9BQU87WUFDeEIsTUFBTWlCO1FBQ1Y7UUFDQSxNQUFNLElBQUlqQixNQUFNO0lBQ3BCO0FBQ0osRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTTZELDZCQUE2QixPQUFPOUIsUUFBZ0IrQjtJQUM3RHBCLFFBQVFDLEdBQUcsQ0FBQywrREFBK0RaO0lBRTNFLElBQUk7UUFDQSxNQUFNakIsT0FBZ0M7WUFBRWlCO1FBQU87UUFDL0MsSUFBSStCLFdBQVc7WUFDWGhELEtBQUtnRCxTQUFTLEdBQUdBO1FBQ3JCO1FBRUEsTUFBTTVCLFdBQVcsTUFBTXhCLGlCQUFpQixpQ0FBaUM7WUFDckVHLFFBQVE7WUFDUkM7UUFDSjtRQUVBLElBQUksQ0FBQ29CLFNBQVNDLEVBQUUsRUFBRTtZQUNkLE1BQU1DLFlBQVksTUFBTUYsU0FBU0csSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTztvQkFBRXJCLE9BQU87Z0JBQTBDO1lBQ3hHLE1BQU1zQixlQUFlSCxVQUFVbkIsS0FBSyxJQUFJbUIsVUFBVUksT0FBTyxJQUFJO1lBQzdELE1BQU0sSUFBSXhDLE1BQU11QztRQUNwQjtRQUVBLE1BQU13QixPQUFPLE1BQU03QixTQUFTRyxJQUFJO1FBQ2hDLElBQUksQ0FBQzBCLEtBQUs3QyxHQUFHLEVBQUU7WUFDWCxNQUFNLElBQUlsQixNQUFNO1FBQ3BCO1FBRUEwQyxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPb0IsS0FBSzdDLEdBQUc7SUFDbkIsRUFBRSxPQUFPRCxPQUFPO1FBQ1p5QixRQUFRekIsS0FBSyxDQUFDLHFEQUFxREE7UUFDbkUsTUFBTUE7SUFDVjtBQUNKLEVBQUU7QUFFRjs7OztDQUlDLEdBQ00sTUFBTStDLHlCQUF5QixPQUFPQyxTQUFpQkM7SUFDMUQsTUFBTSxJQUFJbEUsTUFDTiwrREFDQTtBQUVSLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL3NlcnZpY2VzL3N0cmlwZVNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9hZFN0cmlwZSB9IGZyb20gJ0BzdHJpcGUvc3RyaXBlLWpzJztcbmltcG9ydCB7IGlzU3VwYWJhc2VDb25maWd1cmVkIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xuaW1wb3J0IHsgZ2V0VmFsaWRBdXRoVG9rZW4gfSBmcm9tICdAL3V0aWxzL3Nlc3Npb25NYW5hZ2VyJztcblxuLy8gR2V0IFN0cmlwZSBwdWJsaXNoYWJsZSBrZXkgZnJvbSBlbnZpcm9ubWVudFxuY29uc3QgZ2V0U3RyaXBlUHVibGlzaGFibGVLZXkgPSAoKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVFJJUEVfUFVCTElTSEFCTEVfS0VZO1xuICAgIGlmICgha2V5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTkVYVF9QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSBpcyBub3Qgc2V0IGluIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xufTtcblxuLy8gSW5pdGlhbGl6ZSBTdHJpcGVcbmxldCBzdHJpcGVQcm9taXNlOiBQcm9taXNlPGFueT4gfCBudWxsID0gbnVsbDtcbmNvbnN0IGdldFN0cmlwZSA9ICgpID0+IHtcbiAgICBpZiAoIXN0cmlwZVByb21pc2UpIHtcbiAgICAgICAgc3RyaXBlUHJvbWlzZSA9IGxvYWRTdHJpcGUoZ2V0U3RyaXBlUHVibGlzaGFibGVLZXkoKSk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpcGVQcm9taXNlO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIFN1cGFiYXNlIEZ1bmN0aW9ucyBVUkwgZnJvbSBlbnZpcm9ubWVudFxuICogVXNlcyBWSVRFX1NVUEFCQVNFX1VSTCB0byBjb25zdHJ1Y3QgdGhlIGZ1bmN0aW9ucyBVUkxcbiAqL1xuY29uc3QgZ2V0RnVuY3Rpb25zVXJsID0gKCk6IHN0cmluZyA9PiB7XG4gICAgLy8gRmlyc3QgY2hlY2sgZm9yIGV4cGxpY2l0IGZ1bmN0aW9ucyBVUkxcbiAgICBjb25zdCBmdW5jdGlvbnNVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9GVU5DVElPTlNfVVJMO1xuICAgIGlmIChmdW5jdGlvbnNVcmwpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uc1VybDtcbiAgICB9XG5cbiAgICAvLyBGYWxsIGJhY2sgdG8gY29uc3RydWN0aW5nIGZyb20gU3VwYWJhc2UgVVJMXG4gICAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG4gICAgaWYgKCFzdXBhYmFzZVVybCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCBpcyBub3Qgc2V0LiBDYW5ub3QgZGV0ZXJtaW5lIEVkZ2UgRnVuY3Rpb25zIFVSTC4nKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGh0dHBzOi8veHh4LnN1cGFiYXNlLmNvIHRvIGh0dHBzOi8veHh4LnN1cGFiYXNlLmNvL2Z1bmN0aW9ucy92MVxuICAgIHJldHVybiBgJHtzdXBhYmFzZVVybH0vZnVuY3Rpb25zL3YxYDtcbn07XG5cbi8qKlxuICogR2V0IHVzZXIncyBKV1QgdG9rZW4gZnJvbSBTdXBhYmFzZSBzZXNzaW9uXG4gKiBUaHJvd3MgZXJyb3IgaWYgbm8gc2Vzc2lvbiBleGlzdHMgKHVzZXIgbXVzdCBiZSBsb2dnZWQgaW4pXG4gKi9cbmNvbnN0IGdldEF1dGhUb2tlbiA9IGFzeW5jICgpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2UgY2hlY2sgeW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZXMuJyk7XG4gICAgfVxuXG4gICAgLy8gVXNlIHNlc3Npb25NYW5hZ2VyIHV0aWxpdHkgd2hpY2ggaGFuZGxlcyB0b2tlbiByZWZyZXNoIGF1dG9tYXRpY2FsbHlcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldFZhbGlkQXV0aFRva2VuKCk7XG4gICAgXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBwZXJmb3JtIHRoaXMgYWN0aW9uLiBQbGVhc2UgbG9nIGluIGFuZCB0cnkgYWdhaW4uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VuO1xufTtcblxuLyoqXG4gKiBNYWtlIGEgcmVxdWVzdCB0byBhIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbiAqIFJlcXVpcmVzIHVzZXIgYXV0aGVudGljYXRpb24gKEpXVCB0b2tlbilcbiAqL1xuY29uc3QgY2FsbEVkZ2VGdW5jdGlvbiA9IGFzeW5jIChcbiAgICBmdW5jdGlvbk5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIG1ldGhvZD86ICdHRVQnIHwgJ1BPU1QnO1xuICAgICAgICBib2R5PzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICAgIHBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgfSA9IHt9XG4pOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgeyBtZXRob2QgPSAnUE9TVCcsIGJvZHksIHBhcmFtcyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBmdW5jdGlvbnNVcmwgPSBnZXRGdW5jdGlvbnNVcmwoKTtcblxuICAgIC8vIEdldCB1c2VyJ3MgSldUIHRva2VuIChyZXF1aXJlcyBhdXRoZW50aWNhdGlvbilcbiAgICBsZXQgYXV0aFRva2VuOiBzdHJpbmc7XG4gICAgdHJ5IHtcbiAgICAgICAgYXV0aFRva2VuID0gYXdhaXQgZ2V0QXV0aFRva2VuKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gUmUtdGhyb3cgd2l0aCBjbGVhciBlcnJvciBtZXNzYWdlXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZC4gUGxlYXNlIGxvZyBpbiBhbmQgdHJ5IGFnYWluLicpO1xuICAgIH1cblxuICAgIGxldCB1cmwgPSBgJHtmdW5jdGlvbnNVcmx9LyR7ZnVuY3Rpb25OYW1lfWA7XG4gICAgXG4gICAgLy8gQWRkIHF1ZXJ5IHBhcmFtcyBmb3IgR0VUIHJlcXVlc3RzXG4gICAgaWYgKHBhcmFtcyAmJiBPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpO1xuICAgICAgICB1cmwgKz0gYD8ke3NlYXJjaFBhcmFtcy50b1N0cmluZygpfWA7XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2hPcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXV0aFRva2VufWAsXG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGlmIChib2R5ICYmIG1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgICAgIGZldGNoT3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZldGNoKHVybCwgZmV0Y2hPcHRpb25zKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgU3RyaXBlIENoZWNrb3V0IFNlc3Npb24gdmlhIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoZWNrb3V0U2Vzc2lvbiA9IGFzeW5jIChcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBwbGFuOiAnbW9udGhseScgfCAnYW5udWFsJyxcbiAgICBlbWFpbD86IHN0cmluZ1xuKTogUHJvbWlzZTx7IHNlc3Npb25JZDogc3RyaW5nOyB1cmw6IHN0cmluZyB9PiA9PiB7XG4gICAgY29uc3QgYm9keTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7IHVzZXJJZCwgcGxhbiB9O1xuICAgIGlmIChlbWFpbCkge1xuICAgICAgICBib2R5LmVtYWlsID0gZW1haWw7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYWxsRWRnZUZ1bmN0aW9uKCdjcmVhdGUtY2hlY2tvdXQtc2Vzc2lvbicsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgY2hlY2tvdXQgc2Vzc2lvbicgfSkpO1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY2hlY2tvdXQgc2Vzc2lvbic7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuXG4vKipcbiAqIFJlZGlyZWN0IHVzZXIgdG8gU3RyaXBlIENoZWNrb3V0XG4gKi9cbmV4cG9ydCBjb25zdCByZWRpcmVjdFRvQ2hlY2tvdXQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHBsYW46ICdtb250aGx5JyB8ICdhbm51YWwnLCBlbWFpbD86IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3RyaXBlU2VydmljZV0gQ3JlYXRpbmcgY2hlY2tvdXQgc2Vzc2lvbiBmb3IgdXNlcjonLCB1c2VySWQsICdwbGFuOicsIHBsYW4sICdlbWFpbDonLCBlbWFpbCk7XG5cbiAgICAgICAgY29uc3QgeyBzZXNzaW9uSWQsIHVybCB9ID0gYXdhaXQgY3JlYXRlQ2hlY2tvdXRTZXNzaW9uKHVzZXJJZCwgcGxhbiwgZW1haWwpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gU3RyaXBlIENoZWNrb3V0XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiB1c2UgU3RyaXBlLmpzIHJlZGlyZWN0XG4gICAgICAgICAgICBjb25zdCBzdHJpcGUgPSBhd2FpdCBnZXRTdHJpcGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN0cmlwZSEucmVkaXJlY3RUb0NoZWNrb3V0KHsgc2Vzc2lvbklkIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHJlZGlyZWN0IHRvIGNoZWNrb3V0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc3RyaXBlU2VydmljZV0gQ2hlY2tvdXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuXG4vKipcbiAqIEdldCB1c2VyJ3Mgc3Vic2NyaXB0aW9uIGRldGFpbHNcbiAqIFJldHVybnMgbnVsbCBpZiBubyBzdWJzY3JpcHRpb24gaXMgZm91bmQgKDQwNCksIHRocm93cyBlcnJvciBmb3Igb3RoZXIgZmFpbHVyZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFVzZXJTdWJzY3JpcHRpb24gPSBhc3luYyAodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueSB8IG51bGw+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxFZGdlRnVuY3Rpb24oJ2dldC1zdWJzY3JpcHRpb24nLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhcmFtczogeyB1c2VySWQgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgLy8gSGFuZGxlIDQwNCAobm8gc3Vic2NyaXB0aW9uIGZvdW5kKVxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSByZXNwb25zZSBpbmNsdWRlcyBwcmVtaXVtIHRpZXIgaW5mb1xuICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgICAgaWYgKGVycm9yRGF0YS5oYXNQcmVtaXVtVGllcikge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBhIHNwZWNpYWwgb2JqZWN0IHRvIGluZGljYXRlIHByZW1pdW0gdGllciBtaXNtYXRjaFxuICAgICAgICAgICAgICAgIHJldHVybiB7IF9wcmVtaXVtVGllck1pc21hdGNoOiB0cnVlLCBlcnJvcjogZXJyb3JEYXRhLmVycm9yIHx8ICdObyBzdWJzY3JpcHRpb24gZm91bmQnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRm9yIG90aGVyIGVycm9ycywgcGFyc2UgYW5kIHRocm93IHdpdGggcHJvcGVyIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnRmFpbGVkIHRvIGdldCBzdWJzY3JpcHRpb24nIH0pKTtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZ2V0IHN1YnNjcmlwdGlvbic7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuXG4vKipcbiAqIENhbmNlbCBzdWJzY3JpcHRpb24gd2l0aCByZXRlbnRpb24gb2ZmZXIgb3B0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBjYW5jZWxTdWJzY3JpcHRpb24gPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGFjY2VwdE9mZmVyOiBib29sZWFuKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxFZGdlRnVuY3Rpb24oJ2NhbmNlbC1zdWJzY3JpcHRpb24nLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICBhY3Rpb246IGFjY2VwdE9mZmVyID8gJ2FjY2VwdF9vZmZlcicgOiAnY2FuY2VsJyxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnRmFpbGVkIHRvIGNhbmNlbCBzdWJzY3JpcHRpb24nIH0pKTtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY2FuY2VsIHN1YnNjcmlwdGlvbic7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuXG4vKipcbiAqIEFwcGx5IHJldGVudGlvbiBkaXNjb3VudCB0byBzdWJzY3JpcHRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGFwcGx5UmV0ZW50aW9uRGlzY291bnQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2FsbEVkZ2VGdW5jdGlvbignYXBwbHktcmV0ZW50aW9uLWRpc2NvdW50Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogeyB1c2VySWQgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnRmFpbGVkIHRvIGFwcGx5IHJldGVudGlvbiBkaXNjb3VudCcgfSkpO1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBhcHBseSByZXRlbnRpb24gZGlzY291bnQnO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xufTtcblxuLyoqXG4gKiBSZXN0b3JlIGEgY2FuY2VsbGVkIHN1YnNjcmlwdGlvblxuICovXG5leHBvcnQgY29uc3QgcmVzdG9yZVN1YnNjcmlwdGlvbiA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYWxsRWRnZUZ1bmN0aW9uKCdyZXN0b3JlLXN1YnNjcmlwdGlvbicsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IHsgdXNlcklkIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ0ZhaWxlZCB0byByZXN0b3JlIHN1YnNjcmlwdGlvbicgfSkpO1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byByZXN0b3JlIHN1YnNjcmlwdGlvbic7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuXG4vKipcbiAqIFVwZ3JhZGUgc3Vic2NyaXB0aW9uIGZyb20gbW9udGhseSB0byBhbm51YWxcbiAqL1xuZXhwb3J0IGNvbnN0IHVwZ3JhZGVUb0FubnVhbCA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tzdHJpcGVTZXJ2aWNlXSB1cGdyYWRlVG9Bbm51YWwgY2FsbGVkIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYWxsRWRnZUZ1bmN0aW9uKCd1cGdyYWRlLXN1YnNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogeyB1c2VySWQgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1tzdHJpcGVTZXJ2aWNlXSB1cGdyYWRlVG9Bbm51YWwgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc3RyaXBlU2VydmljZV0gRmFpbGVkIHRvIHBhcnNlIGVycm9yIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGBGYWlsZWQgdG8gdXBncmFkZSBzdWJzY3JpcHRpb24gKCR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9KWAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8IGBGYWlsZWQgdG8gdXBncmFkZSBzdWJzY3JpcHRpb24gKCR7cmVzcG9uc2Uuc3RhdHVzfSlgO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW3N0cmlwZVNlcnZpY2VdIHVwZ3JhZGVUb0FubnVhbCBlcnJvcjonLCBlcnJvck1lc3NhZ2UsIGVycm9yRGF0YSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tzdHJpcGVTZXJ2aWNlXSB1cGdyYWRlVG9Bbm51YWwgc3VjY2VzczonLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzdHJpcGVTZXJ2aWNlXSB1cGdyYWRlVG9Bbm51YWwgZXhjZXB0aW9uOicsIGVycm9yKTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwZ3JhZGUgc3Vic2NyaXB0aW9uJyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBTdHJpcGUgQ3VzdG9tZXIgUG9ydGFsIHNlc3Npb24gZm9yIG1hbmFnaW5nIGJpbGxpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUJpbGxpbmdQb3J0YWxTZXNzaW9uID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCByZXR1cm5Vcmw/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbc3RyaXBlU2VydmljZV0gY3JlYXRlQmlsbGluZ1BvcnRhbFNlc3Npb24gY2FsbGVkIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYm9keTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7IHVzZXJJZCB9O1xuICAgICAgICBpZiAocmV0dXJuVXJsKSB7XG4gICAgICAgICAgICBib2R5LnJldHVyblVybCA9IHJldHVyblVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2FsbEVkZ2VGdW5jdGlvbignY3JlYXRlLWJpbGxpbmctcG9ydGFsLXNlc3Npb24nLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgYmlsbGluZyBwb3J0YWwgc2Vzc2lvbicgfSkpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGJpbGxpbmcgcG9ydGFsIHNlc3Npb24nO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIWRhdGEudXJsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHBvcnRhbCBVUkwgcmV0dXJuZWQgZnJvbSBzZXJ2ZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3RyaXBlU2VydmljZV0gQmlsbGluZyBwb3J0YWwgc2Vzc2lvbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICByZXR1cm4gZGF0YS51cmw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3N0cmlwZVNlcnZpY2VdIGNyZWF0ZUJpbGxpbmdQb3J0YWxTZXNzaW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBtb2NrIHN1YnNjcmlwdGlvbiAoZGV2ZWxvcG1lbnQgb25seSlcbiAqIE5vdGU6IFRoaXMgZnVuY3Rpb25hbGl0eSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIHdpdGggRWRnZSBGdW5jdGlvbnMuXG4gKiBVc2UgcmVhbCBTdHJpcGUgdGVzdCBtb2RlIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVNb2NrU3Vic2NyaXB0aW9uID0gYXN5bmMgKF91c2VySWQ6IHN0cmluZywgX3BsYW46ICdtb250aGx5JyB8ICdhbm51YWwnKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdNb2NrIHN1YnNjcmlwdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBFZGdlIEZ1bmN0aW9ucy4gJyArXG4gICAgICAgICdQbGVhc2UgdXNlIFN0cmlwZSB0ZXN0IG1vZGUgd2l0aCB0ZXN0IGNhcmQgbnVtYmVycyBpbnN0ZWFkLidcbiAgICApO1xufTtcbiJdLCJuYW1lcyI6WyJsb2FkU3RyaXBlIiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJnZXRWYWxpZEF1dGhUb2tlbiIsImdldFN0cmlwZVB1Ymxpc2hhYmxlS2V5Iiwia2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NUUklQRV9QVUJMSVNIQUJMRV9LRVkiLCJFcnJvciIsInN0cmlwZVByb21pc2UiLCJnZXRTdHJpcGUiLCJnZXRGdW5jdGlvbnNVcmwiLCJmdW5jdGlvbnNVcmwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9GVU5DVElPTlNfVVJMIiwic3VwYWJhc2VVcmwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJnZXRBdXRoVG9rZW4iLCJ0b2tlbiIsImNhbGxFZGdlRnVuY3Rpb24iLCJmdW5jdGlvbk5hbWUiLCJvcHRpb25zIiwibWV0aG9kIiwiYm9keSIsInBhcmFtcyIsImF1dGhUb2tlbiIsImVycm9yIiwidXJsIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiZmV0Y2hPcHRpb25zIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsImNyZWF0ZUNoZWNrb3V0U2Vzc2lvbiIsInVzZXJJZCIsInBsYW4iLCJlbWFpbCIsInJlc3BvbnNlIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwicmVkaXJlY3RUb0NoZWNrb3V0IiwiY29uc29sZSIsImxvZyIsInNlc3Npb25JZCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInN0cmlwZSIsImdldFVzZXJTdWJzY3JpcHRpb24iLCJzdGF0dXMiLCJoYXNQcmVtaXVtVGllciIsIl9wcmVtaXVtVGllck1pc21hdGNoIiwiY2FuY2VsU3Vic2NyaXB0aW9uIiwiYWNjZXB0T2ZmZXIiLCJhY3Rpb24iLCJhcHBseVJldGVudGlvbkRpc2NvdW50IiwicmVzdG9yZVN1YnNjcmlwdGlvbiIsInVwZ3JhZGVUb0FubnVhbCIsInN0YXR1c1RleHQiLCJyZXN1bHQiLCJjcmVhdGVCaWxsaW5nUG9ydGFsU2Vzc2lvbiIsInJldHVyblVybCIsImRhdGEiLCJjcmVhdGVNb2NrU3Vic2NyaXB0aW9uIiwiX3VzZXJJZCIsIl9wbGFuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./services/stripeService.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./utils/sessionManager.ts":
/*!*********************************!*\
  !*** ./utils/sessionManager.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoSaveSession: () => (/* binding */ autoSaveSession),\n/* harmony export */   clearAutoSavedSessions: () => (/* binding */ clearAutoSavedSessions),\n/* harmony export */   getAutoSavedSession: () => (/* binding */ getAutoSavedSession),\n/* harmony export */   getValidAuthToken: () => (/* binding */ getValidAuthToken),\n/* harmony export */   isSessionValid: () => (/* binding */ isSessionValid)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/**\n * Session Management Utility\n * \n * Handles token refresh, session expiry detection, and auto-save functionality\n * to prevent data loss during long practice sessions.\n */ \nconst AUTO_SAVE_KEY_PREFIX = 'mi-practice-auto-save-';\nconst AUTO_SAVE_EXPIRY_MS = 24 * 60 * 60 * 1000; // 24 hours\n/**\n * Get a valid auth token, refreshing if necessary\n * Returns null if session is expired and cannot be refreshed\n */ async function getValidAuthToken() {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n        return null;\n    }\n    try {\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n        if (sessionError || !session) {\n            return null;\n        }\n        if (!session.access_token) {\n            return null;\n        }\n        // Check if token is expired or will expire soon (within 5 minutes)\n        try {\n            const tokenParts = session.access_token.split('.');\n            if (tokenParts.length === 3) {\n                const payload = JSON.parse(atob(tokenParts[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const expiresAt = payload.exp || 0;\n                const timeUntilExpiry = expiresAt - now;\n                // If expired or expires within 5 minutes, refresh\n                if (timeUntilExpiry < 300) {\n                    console.log('[sessionManager] Token expires soon, refreshing...');\n                    if (session.refresh_token) {\n                        const { data: { session: refreshedSession }, error: refreshError } = await supabase.auth.refreshSession(session);\n                        if (refreshError || !refreshedSession?.access_token) {\n                            console.error('[sessionManager] Failed to refresh session:', refreshError);\n                            return null;\n                        }\n                        console.log('[sessionManager] Session refreshed successfully');\n                        return refreshedSession.access_token;\n                    } else {\n                        console.warn('[sessionManager] No refresh token available');\n                        return null;\n                    }\n                }\n            }\n        } catch (parseError) {\n            // If we can't parse the token, use it as-is (server will validate)\n            console.warn('[sessionManager] Could not parse token, using as-is');\n        }\n        return session.access_token;\n    } catch (error) {\n        console.error('[sessionManager] Error getting auth token:', error);\n        return null;\n    }\n}\n/**\n * Check if current session is valid\n */ async function isSessionValid() {\n    const token = await getValidAuthToken();\n    return token !== null;\n}\n/**\n * Auto-save practice session data to localStorage\n */ function autoSaveSession(sessionData) {\n    try {\n        const key = `${AUTO_SAVE_KEY_PREFIX}${Date.now()}`;\n        const data = {\n            ...sessionData,\n            timestamp: Date.now()\n        };\n        localStorage.setItem(key, JSON.stringify(data));\n        // Clean up old auto-saves (older than expiry)\n        cleanupOldAutoSaves();\n        console.log('[sessionManager] Auto-saved session data');\n    } catch (error) {\n        console.error('[sessionManager] Failed to auto-save:', error);\n    }\n}\n/**\n * Get the most recent auto-saved session\n */ function getAutoSavedSession() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        if (keys.length === 0) {\n            return null;\n        }\n        // Get the most recent auto-save\n        const sortedKeys = keys.sort((a, b)=>{\n            const timestampA = parseInt(a.replace(AUTO_SAVE_KEY_PREFIX, ''));\n            const timestampB = parseInt(b.replace(AUTO_SAVE_KEY_PREFIX, ''));\n            return timestampB - timestampA;\n        });\n        const mostRecentKey = sortedKeys[0];\n        const data = localStorage.getItem(mostRecentKey);\n        if (!data) {\n            return null;\n        }\n        const sessionData = JSON.parse(data);\n        // Check if auto-save is still valid (not expired)\n        const age = Date.now() - sessionData.timestamp;\n        if (age > AUTO_SAVE_EXPIRY_MS) {\n            localStorage.removeItem(mostRecentKey);\n            return null;\n        }\n        return {\n            transcript: sessionData.transcript,\n            patient: sessionData.patient,\n            timestamp: sessionData.timestamp\n        };\n    } catch (error) {\n        console.error('[sessionManager] Failed to get auto-saved session:', error);\n        return null;\n    }\n}\n/**\n * Clear all auto-saved sessions\n */ function clearAutoSavedSessions() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        keys.forEach((key)=>localStorage.removeItem(key));\n        console.log('[sessionManager] Cleared all auto-saved sessions');\n    } catch (error) {\n        console.error('[sessionManager] Failed to clear auto-saves:', error);\n    }\n}\n/**\n * Clean up old auto-saves (older than expiry)\n */ function cleanupOldAutoSaves() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        const now = Date.now();\n        keys.forEach((key)=>{\n            const data = localStorage.getItem(key);\n            if (data) {\n                try {\n                    const sessionData = JSON.parse(data);\n                    const age = now - sessionData.timestamp;\n                    if (age > AUTO_SAVE_EXPIRY_MS) {\n                        localStorage.removeItem(key);\n                    }\n                } catch  {\n                    // Invalid data, remove it\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    } catch (error) {\n        console.error('[sessionManager] Failed to cleanup old auto-saves:', error);\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3V0aWxzL3Nlc3Npb25NYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7OztDQUtDLEdBRXdFO0FBUXpFLE1BQU1FLHVCQUF1QjtBQUM3QixNQUFNQyxzQkFBc0IsS0FBSyxLQUFLLEtBQUssTUFBTSxXQUFXO0FBRTVEOzs7Q0FHQyxHQUNNLGVBQWVDO0lBQ3BCLElBQUksQ0FBQ0gsbUVBQW9CQSxJQUFJO1FBQzNCLE9BQU87SUFDVDtJQUVBLElBQUk7UUFDRixNQUFNSSxXQUFXTCxnRUFBaUJBO1FBQ2xDLE1BQU0sRUFBRU0sTUFBTSxFQUFFQyxPQUFPLEVBQUUsRUFBRUMsT0FBT0MsWUFBWSxFQUFFLEdBQUcsTUFBTUosU0FBU0ssSUFBSSxDQUFDQyxVQUFVO1FBRWpGLElBQUlGLGdCQUFnQixDQUFDRixTQUFTO1lBQzVCLE9BQU87UUFDVDtRQUVBLElBQUksQ0FBQ0EsUUFBUUssWUFBWSxFQUFFO1lBQ3pCLE9BQU87UUFDVDtRQUVBLG1FQUFtRTtRQUNuRSxJQUFJO1lBQ0YsTUFBTUMsYUFBYU4sUUFBUUssWUFBWSxDQUFDRSxLQUFLLENBQUM7WUFDOUMsSUFBSUQsV0FBV0UsTUFBTSxLQUFLLEdBQUc7Z0JBQzNCLE1BQU1DLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0MsS0FBS04sVUFBVSxDQUFDLEVBQUU7Z0JBQzdDLE1BQU1PLE1BQU1DLEtBQUtDLEtBQUssQ0FBQ0MsS0FBS0gsR0FBRyxLQUFLO2dCQUNwQyxNQUFNSSxZQUFZUixRQUFRUyxHQUFHLElBQUk7Z0JBQ2pDLE1BQU1DLGtCQUFrQkYsWUFBWUo7Z0JBRXBDLGtEQUFrRDtnQkFDbEQsSUFBSU0sa0JBQWtCLEtBQUs7b0JBQ3pCQyxRQUFRQyxHQUFHLENBQUM7b0JBRVosSUFBSXJCLFFBQVFzQixhQUFhLEVBQUU7d0JBQ3pCLE1BQU0sRUFBRXZCLE1BQU0sRUFBRUMsU0FBU3VCLGdCQUFnQixFQUFFLEVBQUV0QixPQUFPdUIsWUFBWSxFQUFF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QU9wQixPQUFPO1FBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLGdEQUFnREE7SUFDaEU7QUFDRjtBQUVBOztDQUVDLEdBQ0QsU0FBU29DO0lBQ1AsSUFBSTtRQUNGLE1BQU1FLE9BQU9DLE9BQU9ELElBQUksQ0FBQ0wsY0FBY08sTUFBTSxDQUFDVCxDQUFBQSxNQUM1Q0EsSUFBSVUsVUFBVSxDQUFDL0M7UUFHakIsTUFBTWtCLE1BQU1HLEtBQUtILEdBQUc7UUFDcEIwQixLQUFLbUIsT0FBTyxDQUFDMUIsQ0FBQUE7WUFDWCxNQUFNakMsT0FBT21DLGFBQWFrQixPQUFPLENBQUNwQjtZQUNsQyxJQUFJakMsTUFBTTtnQkFDUixJQUFJO29CQUNGLE1BQU1nQyxjQUFjckIsS0FBS0MsS0FBSyxDQUFDWjtvQkFDL0IsTUFBTXNELE1BQU14QyxNQUFNa0IsWUFBWUUsU0FBUztvQkFDdkMsSUFBSW9CLE1BQU16RCxxQkFBcUI7d0JBQzdCc0MsYUFBYW9CLFVBQVUsQ0FBQ3RCO29CQUMxQjtnQkFDRixFQUFFLE9BQU07b0JBQ04sMEJBQTBCO29CQUMxQkUsYUFBYW9CLFVBQVUsQ0FBQ3RCO2dCQUMxQjtZQUNGO1FBQ0Y7SUFDRixFQUFFLE9BQU8vQixPQUFPO1FBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLHNEQUFzREE7SUFDdEU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvdXRpbHMvc2Vzc2lvbk1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTZXNzaW9uIE1hbmFnZW1lbnQgVXRpbGl0eVxuICogXG4gKiBIYW5kbGVzIHRva2VuIHJlZnJlc2gsIHNlc3Npb24gZXhwaXJ5IGRldGVjdGlvbiwgYW5kIGF1dG8tc2F2ZSBmdW5jdGlvbmFsaXR5XG4gKiB0byBwcmV2ZW50IGRhdGEgbG9zcyBkdXJpbmcgbG9uZyBwcmFjdGljZSBzZXNzaW9ucy5cbiAqL1xuXG5pbXBvcnQgeyBnZXRTdXBhYmFzZUNsaWVudCwgaXNTdXBhYmFzZUNvbmZpZ3VyZWQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkRhdGEge1xuICB0cmFuc2NyaXB0OiBBcnJheTx7IGF1dGhvcjogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfT47XG4gIHBhdGllbnQ6IGFueTtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmNvbnN0IEFVVE9fU0FWRV9LRVlfUFJFRklYID0gJ21pLXByYWN0aWNlLWF1dG8tc2F2ZS0nO1xuY29uc3QgQVVUT19TQVZFX0VYUElSWV9NUyA9IDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vIDI0IGhvdXJzXG5cbi8qKlxuICogR2V0IGEgdmFsaWQgYXV0aCB0b2tlbiwgcmVmcmVzaGluZyBpZiBuZWNlc3NhcnlcbiAqIFJldHVybnMgbnVsbCBpZiBzZXNzaW9uIGlzIGV4cGlyZWQgYW5kIGNhbm5vdCBiZSByZWZyZXNoZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFZhbGlkQXV0aFRva2VuKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuXG4gICAgaWYgKHNlc3Npb25FcnJvciB8fCAhc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFzZXNzaW9uLmFjY2Vzc190b2tlbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdG9rZW4gaXMgZXhwaXJlZCBvciB3aWxsIGV4cGlyZSBzb29uICh3aXRoaW4gNSBtaW51dGVzKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlblBhcnRzID0gc2Vzc2lvbi5hY2Nlc3NfdG9rZW4uc3BsaXQoJy4nKTtcbiAgICAgIGlmICh0b2tlblBhcnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShhdG9iKHRva2VuUGFydHNbMV0pKTtcbiAgICAgICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgIGNvbnN0IGV4cGlyZXNBdCA9IHBheWxvYWQuZXhwIHx8IDA7XG4gICAgICAgIGNvbnN0IHRpbWVVbnRpbEV4cGlyeSA9IGV4cGlyZXNBdCAtIG5vdztcblxuICAgICAgICAvLyBJZiBleHBpcmVkIG9yIGV4cGlyZXMgd2l0aGluIDUgbWludXRlcywgcmVmcmVzaFxuICAgICAgICBpZiAodGltZVVudGlsRXhwaXJ5IDwgMzAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tzZXNzaW9uTWFuYWdlcl0gVG9rZW4gZXhwaXJlcyBzb29uLCByZWZyZXNoaW5nLi4uJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHNlc3Npb24ucmVmcmVzaF90b2tlbikge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb246IHJlZnJlc2hlZFNlc3Npb24gfSwgZXJyb3I6IHJlZnJlc2hFcnJvciB9ID0gXG4gICAgICAgICAgICAgIGF3YWl0IHN1cGFiYXNlLmF1dGgucmVmcmVzaFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyZWZyZXNoRXJyb3IgfHwgIXJlZnJlc2hlZFNlc3Npb24/LmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byByZWZyZXNoIHNlc3Npb246JywgcmVmcmVzaEVycm9yKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbc2Vzc2lvbk1hbmFnZXJdIFNlc3Npb24gcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZnJlc2hlZFNlc3Npb24uYWNjZXNzX3Rva2VuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tzZXNzaW9uTWFuYWdlcl0gTm8gcmVmcmVzaCB0b2tlbiBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgIC8vIElmIHdlIGNhbid0IHBhcnNlIHRoZSB0b2tlbiwgdXNlIGl0IGFzLWlzIChzZXJ2ZXIgd2lsbCB2YWxpZGF0ZSlcbiAgICAgIGNvbnNvbGUud2FybignW3Nlc3Npb25NYW5hZ2VyXSBDb3VsZCBub3QgcGFyc2UgdG9rZW4sIHVzaW5nIGFzLWlzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlc3Npb24uYWNjZXNzX3Rva2VuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXNzaW9uTWFuYWdlcl0gRXJyb3IgZ2V0dGluZyBhdXRoIHRva2VuOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGN1cnJlbnQgc2Vzc2lvbiBpcyB2YWxpZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNTZXNzaW9uVmFsaWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VmFsaWRBdXRoVG9rZW4oKTtcbiAgcmV0dXJuIHRva2VuICE9PSBudWxsO1xufVxuXG4vKipcbiAqIEF1dG8tc2F2ZSBwcmFjdGljZSBzZXNzaW9uIGRhdGEgdG8gbG9jYWxTdG9yYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvU2F2ZVNlc3Npb24oc2Vzc2lvbkRhdGE6IFNlc3Npb25EYXRhKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgY29uc3Qga2V5ID0gYCR7QVVUT19TQVZFX0tFWV9QUkVGSVh9JHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIC4uLnNlc3Npb25EYXRhLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH07XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgXG4gICAgLy8gQ2xlYW4gdXAgb2xkIGF1dG8tc2F2ZXMgKG9sZGVyIHRoYW4gZXhwaXJ5KVxuICAgIGNsZWFudXBPbGRBdXRvU2F2ZXMoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW3Nlc3Npb25NYW5hZ2VyXSBBdXRvLXNhdmVkIHNlc3Npb24gZGF0YScpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIGF1dG8tc2F2ZTonLCBlcnJvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1vc3QgcmVjZW50IGF1dG8tc2F2ZWQgc2Vzc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXV0b1NhdmVkU2Vzc2lvbigpOiBTZXNzaW9uRGF0YSB8IG51bGwge1xuICB0cnkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcihrZXkgPT4gXG4gICAgICBrZXkuc3RhcnRzV2l0aChBVVRPX1NBVkVfS0VZX1BSRUZJWClcbiAgICApO1xuICAgIFxuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBtb3N0IHJlY2VudCBhdXRvLXNhdmVcbiAgICBjb25zdCBzb3J0ZWRLZXlzID0ga2V5cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCB0aW1lc3RhbXBBID0gcGFyc2VJbnQoYS5yZXBsYWNlKEFVVE9fU0FWRV9LRVlfUFJFRklYLCAnJykpO1xuICAgICAgY29uc3QgdGltZXN0YW1wQiA9IHBhcnNlSW50KGIucmVwbGFjZShBVVRPX1NBVkVfS0VZX1BSRUZJWCwgJycpKTtcbiAgICAgIHJldHVybiB0aW1lc3RhbXBCIC0gdGltZXN0YW1wQTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1vc3RSZWNlbnRLZXkgPSBzb3J0ZWRLZXlzWzBdO1xuICAgIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShtb3N0UmVjZW50S2V5KTtcbiAgICBcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHNlc3Npb25EYXRhID0gSlNPTi5wYXJzZShkYXRhKSBhcyBTZXNzaW9uRGF0YSAmIHsgdGltZXN0YW1wOiBudW1iZXIgfTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhdXRvLXNhdmUgaXMgc3RpbGwgdmFsaWQgKG5vdCBleHBpcmVkKVxuICAgIGNvbnN0IGFnZSA9IERhdGUubm93KCkgLSBzZXNzaW9uRGF0YS50aW1lc3RhbXA7XG4gICAgaWYgKGFnZSA+IEFVVE9fU0FWRV9FWFBJUllfTVMpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG1vc3RSZWNlbnRLZXkpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zY3JpcHQ6IHNlc3Npb25EYXRhLnRyYW5zY3JpcHQsXG4gICAgICBwYXRpZW50OiBzZXNzaW9uRGF0YS5wYXRpZW50LFxuICAgICAgdGltZXN0YW1wOiBzZXNzaW9uRGF0YS50aW1lc3RhbXAsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byBnZXQgYXV0by1zYXZlZCBzZXNzaW9uOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFyIGFsbCBhdXRvLXNhdmVkIHNlc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckF1dG9TYXZlZFNlc3Npb25zKCk6IHZvaWQge1xuICB0cnkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcihrZXkgPT4gXG4gICAgICBrZXkuc3RhcnRzV2l0aChBVVRPX1NBVkVfS0VZX1BSRUZJWClcbiAgICApO1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KSk7XG4gICAgY29uc29sZS5sb2coJ1tzZXNzaW9uTWFuYWdlcl0gQ2xlYXJlZCBhbGwgYXV0by1zYXZlZCBzZXNzaW9ucycpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIGNsZWFyIGF1dG8tc2F2ZXM6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogQ2xlYW4gdXAgb2xkIGF1dG8tc2F2ZXMgKG9sZGVyIHRoYW4gZXhwaXJ5KVxuICovXG5mdW5jdGlvbiBjbGVhbnVwT2xkQXV0b1NhdmVzKCk6IHZvaWQge1xuICB0cnkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcihrZXkgPT4gXG4gICAgICBrZXkuc3RhcnRzV2l0aChBVVRPX1NBVkVfS0VZX1BSRUZJWClcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBKU09OLnBhcnNlKGRhdGEpIGFzIHsgdGltZXN0YW1wOiBudW1iZXIgfTtcbiAgICAgICAgICBjb25zdCBhZ2UgPSBub3cgLSBzZXNzaW9uRGF0YS50aW1lc3RhbXA7XG4gICAgICAgICAgaWYgKGFnZSA+IEFVVE9fU0FWRV9FWFBJUllfTVMpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGEsIHJlbW92ZSBpdFxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byBjbGVhbnVwIG9sZCBhdXRvLXNhdmVzOicsIGVycm9yKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImdldFN1cGFiYXNlQ2xpZW50IiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJBVVRPX1NBVkVfS0VZX1BSRUZJWCIsIkFVVE9fU0FWRV9FWFBJUllfTVMiLCJnZXRWYWxpZEF1dGhUb2tlbiIsInN1cGFiYXNlIiwiZGF0YSIsInNlc3Npb24iLCJlcnJvciIsInNlc3Npb25FcnJvciIsImF1dGgiLCJnZXRTZXNzaW9uIiwiYWNjZXNzX3Rva2VuIiwidG9rZW5QYXJ0cyIsInNwbGl0IiwibGVuZ3RoIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJub3ciLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwiZXhwaXJlc0F0IiwiZXhwIiwidGltZVVudGlsRXhwaXJ5IiwiY29uc29sZSIsImxvZyIsInJlZnJlc2hfdG9rZW4iLCJyZWZyZXNoZWRTZXNzaW9uIiwicmVmcmVzaEVycm9yIiwicmVmcmVzaFNlc3Npb24iLCJ3YXJuIiwicGFyc2VFcnJvciIsImlzU2Vzc2lvblZhbGlkIiwidG9rZW4iLCJhdXRvU2F2ZVNlc3Npb24iLCJzZXNzaW9uRGF0YSIsImtleSIsInRpbWVzdGFtcCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJjbGVhbnVwT2xkQXV0b1NhdmVzIiwiZ2V0QXV0b1NhdmVkU2Vzc2lvbiIsImtleXMiLCJPYmplY3QiLCJmaWx0ZXIiLCJzdGFydHNXaXRoIiwic29ydGVkS2V5cyIsInNvcnQiLCJhIiwiYiIsInRpbWVzdGFtcEEiLCJwYXJzZUludCIsInJlcGxhY2UiLCJ0aW1lc3RhbXBCIiwibW9zdFJlY2VudEtleSIsImdldEl0ZW0iLCJhZ2UiLCJyZW1vdmVJdGVtIiwidHJhbnNjcmlwdCIsInBhdGllbnQiLCJjbGVhckF1dG9TYXZlZFNlc3Npb25zIiwiZm9yRWFjaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./utils/sessionManager.ts\n"));

/***/ })

}]);