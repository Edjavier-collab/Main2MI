"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_components_views_SettingsView_tsx";
exports.ids = ["_ssr_components_views_SettingsView_tsx"];
exports.modules = {

/***/ "(ssr)/./components/ui/FeedbackModal.tsx":
/*!*****************************************!*\
  !*** ./components/ui/FeedbackModal.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FeedbackModal: () => (/* binding */ FeedbackModal),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Button */ \"(ssr)/./components/ui/Button.tsx\");\n\n\n\n/**\n * In-app feedback modal with 1â€“5 star rating and optional comment.\n * Includes focus trap for accessibility.\n */ const FeedbackModal = ({ isOpen, onClose, onSubmit })=>{\n    const [rating, setRating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [hoverRating, setHoverRating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [comment, setComment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [success, setSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const modalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const previousActiveElement = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Focus trap implementation\n    const getFocusableElements = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"FeedbackModal.useCallback[getFocusableElements]\": ()=>{\n            if (!modalRef.current) return [];\n            return Array.from(modalRef.current.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'));\n        }\n    }[\"FeedbackModal.useCallback[getFocusableElements]\"], []);\n    // Handle keyboard navigation for focus trap\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FeedbackModal.useEffect\": ()=>{\n            if (!isOpen) return;\n            const handleKeyDown = {\n                \"FeedbackModal.useEffect.handleKeyDown\": (e)=>{\n                    if (e.key === 'Escape') {\n                        onClose();\n                        return;\n                    }\n                    if (e.key !== 'Tab') return;\n                    const focusableElements = getFocusableElements();\n                    if (focusableElements.length === 0) return;\n                    const firstElement = focusableElements[0];\n                    const lastElement = focusableElements[focusableElements.length - 1];\n                    if (e.shiftKey) {\n                        // Shift + Tab\n                        if (document.activeElement === firstElement) {\n                            e.preventDefault();\n                            lastElement.focus();\n                        }\n                    } else {\n                        // Tab\n                        if (document.activeElement === lastElement) {\n                            e.preventDefault();\n                            firstElement.focus();\n                        }\n                    }\n                }\n            }[\"FeedbackModal.useEffect.handleKeyDown\"];\n            document.addEventListener('keydown', handleKeyDown);\n            return ({\n                \"FeedbackModal.useEffect\": ()=>document.removeEventListener('keydown', handleKeyDown)\n            })[\"FeedbackModal.useEffect\"];\n        }\n    }[\"FeedbackModal.useEffect\"], [\n        isOpen,\n        onClose,\n        getFocusableElements\n    ]);\n    // Focus first element when modal opens, restore focus when it closes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FeedbackModal.useEffect\": ()=>{\n            if (isOpen) {\n                previousActiveElement.current = document.activeElement;\n                // Focus the first focusable element after a short delay to allow render\n                const timer = setTimeout({\n                    \"FeedbackModal.useEffect.timer\": ()=>{\n                        const focusableElements = getFocusableElements();\n                        if (focusableElements.length > 0) {\n                            focusableElements[0].focus();\n                        }\n                    }\n                }[\"FeedbackModal.useEffect.timer\"], 50);\n                return ({\n                    \"FeedbackModal.useEffect\": ()=>clearTimeout(timer)\n                })[\"FeedbackModal.useEffect\"];\n            } else if (previousActiveElement.current) {\n                previousActiveElement.current.focus();\n            }\n        }\n    }[\"FeedbackModal.useEffect\"], [\n        isOpen,\n        getFocusableElements\n    ]);\n    // Prevent body scroll when modal is open\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"FeedbackModal.useEffect\": ()=>{\n            if (isOpen) {\n                document.body.style.overflow = 'hidden';\n            } else {\n                document.body.style.overflow = '';\n            }\n            return ({\n                \"FeedbackModal.useEffect\": ()=>{\n                    document.body.style.overflow = '';\n                }\n            })[\"FeedbackModal.useEffect\"];\n        }\n    }[\"FeedbackModal.useEffect\"], [\n        isOpen\n    ]);\n    const resetState = ()=>{\n        setRating(0);\n        setHoverRating(0);\n        setComment('');\n        setError(null);\n        setSuccess(false);\n    };\n    const handleClose = ()=>{\n        resetState();\n        onClose();\n    };\n    const handleSubmit = async ()=>{\n        if (rating === 0) {\n            setError('Please select a rating before submitting.');\n            return;\n        }\n        setLoading(true);\n        setError(null);\n        try {\n            await onSubmit(rating, comment.trim());\n            setSuccess(true);\n            // Auto-close after showing success\n            setTimeout(()=>{\n                handleClose();\n            }, 1500);\n        } catch (err) {\n            setError(err instanceof Error ? err.message : 'Failed to submit feedback. Please try again.');\n        } finally{\n            setLoading(false);\n        }\n    };\n    if (!isOpen) return null;\n    const displayRating = hoverRating || rating;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        \"aria-labelledby\": \"feedback-modal-title\",\n        onClick: (e)=>{\n            // Close when clicking the backdrop\n            if (e.target === e.currentTarget) {\n                handleClose();\n            }\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            ref: modalRef,\n            className: \"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-slide-up\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-6 py-4 border-b border-[var(--color-neutral-200)] flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            id: \"feedback-modal-title\",\n                            className: \"text-lg font-bold text-[var(--color-text-primary)]\",\n                            children: \"Give Feedback\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                            lineNumber: 157,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            className: \"text-[var(--color-text-muted)] hover:text-[var(--color-text-primary)] transition-colors\",\n                            \"aria-label\": \"Close feedback modal\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fa-solid fa-times text-lg\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 165,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                            lineNumber: 160,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                    lineNumber: 156,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-6 py-5\",\n                    children: success ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center py-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 mx-auto mb-4 rounded-full bg-[var(--color-success-light)] flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"fa-solid fa-check text-3xl text-[var(--color-success)]\",\n                                    \"aria-hidden\": \"true\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                    lineNumber: 174,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 173,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-lg font-semibold text-[var(--color-text-primary)]\",\n                                children: \"Thank you!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 176,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-[var(--color-text-muted)] mt-1\",\n                                children: \"Your feedback helps us improve.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 177,\n                                columnNumber: 29\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                        lineNumber: 172,\n                        columnNumber: 25\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-[var(--color-text-muted)] mb-4 text-center\",\n                                children: \"How would you rate your experience with MI Mastery?\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-center gap-2 mb-6\",\n                                role: \"radiogroup\",\n                                \"aria-label\": \"Rating\",\n                                children: [\n                                    1,\n                                    2,\n                                    3,\n                                    4,\n                                    5\n                                ].map((star)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>setRating(star),\n                                        onMouseEnter: ()=>setHoverRating(star),\n                                        onMouseLeave: ()=>setHoverRating(0),\n                                        className: \"p-1 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:ring-offset-2 rounded\",\n                                        \"aria-label\": `${star} star${star > 1 ? 's' : ''}`,\n                                        \"aria-checked\": rating === star,\n                                        role: \"radio\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: `fa-star text-3xl ${star <= displayRating ? 'fa-solid text-warning' : 'fa-regular text-[var(--color-neutral-300)]'}`,\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                            lineNumber: 199,\n                                            columnNumber: 41\n                                        }, undefined)\n                                    }, star, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                        lineNumber: 188,\n                                        columnNumber: 37\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 186,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"feedback-comment\",\n                                className: \"block text-sm font-medium text-[var(--color-text-primary)] mb-2\",\n                                children: [\n                                    \"Any additional comments? \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-muted)]\",\n                                        children: \"(optional)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                        lineNumber: 213,\n                                        columnNumber: 58\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 212,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                id: \"feedback-comment\",\n                                value: comment,\n                                onChange: (e)=>setComment(e.target.value),\n                                placeholder: \"Tell us what you liked or how we can improve...\",\n                                rows: 3,\n                                maxLength: 500,\n                                className: \"w-full px-4 py-3 border border-[var(--color-neutral-300)] rounded-lg text-sm text-[var(--color-text-primary)] placeholder-[var(--color-text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 215,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-[var(--color-text-muted)] mt-1 text-right\",\n                                children: [\n                                    comment.length,\n                                    \"/500\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 224,\n                                columnNumber: 29\n                            }, undefined),\n                            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-3 p-3 rounded-lg bg-[var(--color-error-light)] text-[var(--color-error)] text-sm flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-exclamation-circle flex-shrink-0\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                        lineNumber: 229,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                        lineNumber: 230,\n                                        columnNumber: 37\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                                lineNumber: 228,\n                                columnNumber: 33\n                            }, undefined)\n                        ]\n                    }, void 0, true)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                    lineNumber: 170,\n                    columnNumber: 17\n                }, undefined),\n                !success && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-6 py-4 border-t border-[var(--color-neutral-200)] flex gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"secondary\",\n                            onClick: handleClose,\n                            fullWidth: true,\n                            disabled: loading,\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                            lineNumber: 240,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"primary\",\n                            onClick: handleSubmit,\n                            fullWidth: true,\n                            loading: loading,\n                            disabled: rating === 0,\n                            children: \"Submit\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                            lineNumber: 243,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n                    lineNumber: 239,\n                    columnNumber: 21\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n            lineNumber: 151,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/FeedbackModal.tsx\",\n        lineNumber: 139,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FeedbackModal);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RztnQ0FDSGdCLE9BQU9yRTtnQ0FDUHNFLFVBQVUsQ0FBQ3RELElBQU1mLFdBQVdlLEVBQUVpQyxNQUFNLENBQUNvQixLQUFLO2dDQUMxQ0UsYUFBWTtnQ0FDWkMsTUFBTTtnQ0FDTkMsV0FBVztnQ0FDWDdCLFdBQVU7Ozs7OzswQ0FFZCw4REFBQ2M7Z0NBQUVkLFdBQVU7O29DQUEwRDVDLFFBQVFtQixNQUFNO29DQUFDOzs7Ozs7OzRCQUdyRmYsdUJBQ0csOERBQUN1QztnQ0FBSUMsV0FBVTs7a0RBQ1gsOERBQUNZO3dDQUFFWixXQUFVO3dDQUErQ2EsZUFBWTs7Ozs7O2tEQUN4RSw4REFBQ1U7a0RBQU0vRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnQkFRMUIsQ0FBQ0UseUJBQ0UsOERBQUNxQztvQkFBSUMsV0FBVTs7c0NBQ1gsOERBQUNyRCwyQ0FBTUE7NEJBQUNtRixTQUFROzRCQUFZMUIsU0FBU1o7NEJBQWF1QyxTQUFTOzRCQUFDQyxVQUFVMUU7c0NBQVM7Ozs7OztzQ0FHL0UsOERBQUNYLDJDQUFNQTs0QkFBQ21GLFNBQVE7NEJBQVUxQixTQUFTWDs0QkFBY3NDLFNBQVM7NEJBQUN6RSxTQUFTQTs0QkFBUzBFLFVBQVVoRixXQUFXO3NDQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVE3SCxFQUFFO0FBRUYsaUVBQWVKLGFBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvRmVlZGJhY2tNb2RhbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL0J1dHRvbic7XG5cbmludGVyZmFjZSBGZWVkYmFja01vZGFsUHJvcHMge1xuICAgIGlzT3BlbjogYm9vbGVhbjtcbiAgICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICAgIG9uU3VibWl0OiAocmF0aW5nOiBudW1iZXIsIGNvbW1lbnQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuLyoqXG4gKiBJbi1hcHAgZmVlZGJhY2sgbW9kYWwgd2l0aCAx4oCTNSBzdGFyIHJhdGluZyBhbmQgb3B0aW9uYWwgY29tbWVudC5cbiAqIEluY2x1ZGVzIGZvY3VzIHRyYXAgZm9yIGFjY2Vzc2liaWxpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBGZWVkYmFja01vZGFsOiBSZWFjdC5GQzxGZWVkYmFja01vZGFsUHJvcHM+ID0gKHsgaXNPcGVuLCBvbkNsb3NlLCBvblN1Ym1pdCB9KSA9PiB7XG4gICAgY29uc3QgW3JhdGluZywgc2V0UmF0aW5nXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gICAgY29uc3QgW2hvdmVyUmF0aW5nLCBzZXRIb3ZlclJhdGluZ10gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICAgIGNvbnN0IFtjb21tZW50LCBzZXRDb21tZW50XSA9IHVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbc3VjY2Vzcywgc2V0U3VjY2Vzc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgbW9kYWxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICAgIGNvbnN0IHByZXZpb3VzQWN0aXZlRWxlbWVudCA9IHVzZVJlZjxIVE1MRWxlbWVudCB8IG51bGw+KG51bGwpO1xuXG4gICAgLy8gRm9jdXMgdHJhcCBpbXBsZW1lbnRhdGlvblxuICAgIGNvbnN0IGdldEZvY3VzYWJsZUVsZW1lbnRzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoIW1vZGFsUmVmLmN1cnJlbnQpIHJldHVybiBbXTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oXG4gICAgICAgICAgICBtb2RhbFJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEVsZW1lbnQ+KFxuICAgICAgICAgICAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pLCBbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gSGFuZGxlIGtleWJvYXJkIG5hdmlnYXRpb24gZm9yIGZvY3VzIHRyYXBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzT3BlbikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlLmtleSAhPT0gJ1RhYicpIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cygpO1xuICAgICAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBmaXJzdEVsZW1lbnQgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RFbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gU2hpZnQgKyBUYWJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRhYlxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgfSwgW2lzT3Blbiwgb25DbG9zZSwgZ2V0Rm9jdXNhYmxlRWxlbWVudHNdKTtcblxuICAgIC8vIEZvY3VzIGZpcnN0IGVsZW1lbnQgd2hlbiBtb2RhbCBvcGVucywgcmVzdG9yZSBmb2N1cyB3aGVuIGl0IGNsb3Nlc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAgIHByZXZpb3VzQWN0aXZlRWxlbWVudC5jdXJyZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIC8vIEZvY3VzIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBhZnRlciBhIHNob3J0IGRlbGF5IHRvIGFsbG93IHJlbmRlclxuICAgICAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKCk7XG4gICAgICAgICAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNhYmxlRWxlbWVudHNbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c0FjdGl2ZUVsZW1lbnQuY3VycmVudCkge1xuICAgICAgICAgICAgcHJldmlvdXNBY3RpdmVFbGVtZW50LmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc09wZW4sIGdldEZvY3VzYWJsZUVsZW1lbnRzXSk7XG5cbiAgICAvLyBQcmV2ZW50IGJvZHkgc2Nyb2xsIHdoZW4gbW9kYWwgaXMgb3BlblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICB9O1xuICAgIH0sIFtpc09wZW5dKTtcblxuICAgIGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiB7XG4gICAgICAgIHNldFJhdGluZygwKTtcbiAgICAgICAgc2V0SG92ZXJSYXRpbmcoMCk7XG4gICAgICAgIHNldENvbW1lbnQoJycpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgc2V0U3VjY2VzcyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICByZXNldFN0YXRlKCk7XG4gICAgICAgIG9uQ2xvc2UoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAocmF0aW5nID09PSAwKSB7XG4gICAgICAgICAgICBzZXRFcnJvcignUGxlYXNlIHNlbGVjdCBhIHJhdGluZyBiZWZvcmUgc3VibWl0dGluZy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG9uU3VibWl0KHJhdGluZywgY29tbWVudC50cmltKCkpO1xuICAgICAgICAgICAgc2V0U3VjY2Vzcyh0cnVlKTtcbiAgICAgICAgICAgIC8vIEF1dG8tY2xvc2UgYWZ0ZXIgc2hvd2luZyBzdWNjZXNzXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVDbG9zZSgpO1xuICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gc3VibWl0IGZlZWRiYWNrLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgZGlzcGxheVJhdGluZyA9IGhvdmVyUmF0aW5nIHx8IHJhdGluZztcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay81MCBwLTRcIlxuICAgICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJmZWVkYmFjay1tb2RhbC10aXRsZVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENsb3NlIHdoZW4gY2xpY2tpbmcgdGhlIGJhY2tkcm9wXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgcmVmPXttb2RhbFJlZn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLTJ4bCBzaGFkb3cteGwgdy1mdWxsIG1heC13LW1kIG92ZXJmbG93LWhpZGRlbiBhbmltYXRlLXNsaWRlLXVwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNiBweS00IGJvcmRlci1iIGJvcmRlci1bdmFyKC0tY29sb3ItbmV1dHJhbC0yMDApXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGlkPVwiZmVlZGJhY2stbW9kYWwtdGl0bGVcIiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgR2l2ZSBGZWVkYmFja1xuICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXSBob3Zlcjp0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2UgZmVlZGJhY2sgbW9kYWxcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS10aW1lcyB0ZXh0LWxnXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogQm9keSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTYgcHktNVwiPlxuICAgICAgICAgICAgICAgICAgICB7c3VjY2VzcyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCByb3VuZGVkLWZ1bGwgYmctW3ZhcigtLWNvbG9yLXN1Y2Nlc3MtbGlnaHQpXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1jaGVjayB0ZXh0LTN4bCB0ZXh0LVt2YXIoLS1jb2xvci1zdWNjZXNzKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPlRoYW5rIHlvdSE8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV0gbXQtMVwiPllvdXIgZmVlZGJhY2sgaGVscHMgdXMgaW1wcm92ZS48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV0gbWItNCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIb3cgd291bGQgeW91IHJhdGUgeW91ciBleHBlcmllbmNlIHdpdGggTUkgTWFzdGVyeT9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU3RhciByYXRpbmcgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGdhcC0yIG1iLTZcIiByb2xlPVwicmFkaW9ncm91cFwiIGFyaWEtbGFiZWw9XCJSYXRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1sxLCAyLCAzLCA0LCA1XS5tYXAoKHN0YXIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N0YXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UmF0aW5nKHN0YXIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gc2V0SG92ZXJSYXRpbmcoc3Rhcil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRIb3ZlclJhdGluZygwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgdHJhbnNpdGlvbi10cmFuc2Zvcm0gaG92ZXI6c2NhbGUtMTEwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldIGZvY3VzOnJpbmctb2Zmc2V0LTIgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YCR7c3Rhcn0gc3RhciR7c3RhciA+IDEgPyAncycgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtY2hlY2tlZD17cmF0aW5nID09PSBzdGFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmEtc3RhciB0ZXh0LTN4bCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhciA8PSBkaXNwbGF5UmF0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnZmEtc29saWQgdGV4dC13YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2ZhLXJlZ3VsYXIgdGV4dC1bdmFyKC0tY29sb3ItbmV1dHJhbC0zMDApXSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBPcHRpb25hbCBjb21tZW50ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZmVlZGJhY2stY29tbWVudFwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbnkgYWRkaXRpb25hbCBjb21tZW50cz8gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCI+KG9wdGlvbmFsKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImZlZWRiYWNrLWNvbW1lbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29tbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDb21tZW50KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUZWxsIHVzIHdoYXQgeW91IGxpa2VkIG9yIGhvdyB3ZSBjYW4gaW1wcm92ZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aD17NTAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIGJvcmRlciBib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtMzAwKV0gcm91bmRlZC1sZyB0ZXh0LXNtIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIHBsYWNlaG9sZGVyLVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV0gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50IHJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIG10LTEgdGV4dC1yaWdodFwiPntjb21tZW50Lmxlbmd0aH0vNTAwPC9wPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEVycm9yIG1lc3NhZ2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHAtMyByb3VuZGVkLWxnIGJnLVt2YXIoLS1jb2xvci1lcnJvci1saWdodCldIHRleHQtW3ZhcigtLWNvbG9yLWVycm9yKV0gdGV4dC1zbSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtZXhjbGFtYXRpb24tY2lyY2xlIGZsZXgtc2hyaW5rLTBcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2Vycm9yfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEZvb3RlciAqL31cbiAgICAgICAgICAgICAgICB7IXN1Y2Nlc3MgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTYgcHktNCBib3JkZXItdCBib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtMjAwKV0gZmxleCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwic2Vjb25kYXJ5XCIgb25DbGljaz17aGFuZGxlQ2xvc2V9IGZ1bGxXaWR0aCBkaXNhYmxlZD17bG9hZGluZ30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cInByaW1hcnlcIiBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9IGZ1bGxXaWR0aCBsb2FkaW5nPXtsb2FkaW5nfSBkaXNhYmxlZD17cmF0aW5nID09PSAwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGZWVkYmFja01vZGFsO1xuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiQnV0dG9uIiwiRmVlZGJhY2tNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblN1Ym1pdCIsInJhdGluZyIsInNldFJhdGluZyIsImhvdmVyUmF0aW5nIiwic2V0SG92ZXJSYXRpbmciLCJjb21tZW50Iiwic2V0Q29tbWVudCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInN1Y2Nlc3MiLCJzZXRTdWNjZXNzIiwibW9kYWxSZWYiLCJwcmV2aW91c0FjdGl2ZUVsZW1lbnQiLCJnZXRGb2N1c2FibGVFbGVtZW50cyIsImN1cnJlbnQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJmb2N1c2FibGVFbGVtZW50cyIsImxlbmd0aCIsImZpcnN0RWxlbWVudCIsImxhc3RFbGVtZW50Iiwic2hpZnRLZXkiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZvY3VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJib2R5Iiwic3R5bGUiLCJvdmVyZmxvdyIsInJlc2V0U3RhdGUiLCJoYW5kbGVDbG9zZSIsImhhbmRsZVN1Ym1pdCIsInRyaW0iLCJlcnIiLCJFcnJvciIsIm1lc3NhZ2UiLCJkaXNwbGF5UmF0aW5nIiwiZGl2IiwiY2xhc3NOYW1lIiwicm9sZSIsImFyaWEtbW9kYWwiLCJhcmlhLWxhYmVsbGVkYnkiLCJvbkNsaWNrIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlZiIsImgyIiwiaWQiLCJidXR0b24iLCJhcmlhLWxhYmVsIiwiaSIsImFyaWEtaGlkZGVuIiwicCIsIm1hcCIsInN0YXIiLCJ0eXBlIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiYXJpYS1jaGVja2VkIiwibGFiZWwiLCJodG1sRm9yIiwic3BhbiIsInRleHRhcmVhIiwidmFsdWUiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwicm93cyIsIm1heExlbmd0aCIsInZhcmlhbnQiLCJmdWxsV2lkdGgiLCJkaXNhYmxlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/FeedbackModal.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/Toast.tsx":
/*!*********************************!*\
  !*** ./components/ui/Toast.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   ToastContainer: () => (/* binding */ ToastContainer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Default durations by type (errors stay longer so users can read them)\nconst DEFAULT_DURATIONS = {\n    success: 3000,\n    info: 4000,\n    warning: 5000,\n    error: 6000\n};\nconst Toast = ({ message, type = 'info', duration, onClose })=>{\n    // Use provided duration or fall back to type-based default\n    const effectiveDuration = duration ?? DEFAULT_DURATIONS[type];\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Toast.useEffect\": ()=>{\n            if (effectiveDuration > 0) {\n                const timer = setTimeout({\n                    \"Toast.useEffect.timer\": ()=>{\n                        setIsVisible(false);\n                        setTimeout({\n                            \"Toast.useEffect.timer\": ()=>onClose?.()\n                        }[\"Toast.useEffect.timer\"], 300); // Wait for fade out\n                    }\n                }[\"Toast.useEffect.timer\"], effectiveDuration);\n                return ({\n                    \"Toast.useEffect\": ()=>clearTimeout(timer)\n                })[\"Toast.useEffect\"];\n            }\n        }\n    }[\"Toast.useEffect\"], [\n        effectiveDuration,\n        onClose\n    ]);\n    const typeClasses = {\n        success: 'bg-[var(--color-success)] text-white',\n        error: 'bg-[var(--color-error)] text-white',\n        warning: 'bg-[var(--color-warning)] text-white',\n        info: 'bg-[var(--color-info)] text-white'\n    };\n    const icons = {\n        success: 'fa-check-circle',\n        error: 'fa-exclamation-circle',\n        warning: 'fa-exclamation-triangle',\n        info: 'fa-info-circle'\n    };\n    if (!isVisible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg ${typeClasses[type]} animate-slide-in-right max-w-sm`,\n        role: \"alert\",\n        \"aria-live\": \"assertive\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                className: `fa-solid ${icons[type]} flex-shrink-0`,\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 63,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-1 text-sm font-medium\",\n                children: message\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 64,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>{\n                    setIsVisible(false);\n                    setTimeout(()=>onClose?.(), 300);\n                },\n                className: \"flex-shrink-0 ml-2 hover:opacity-80 transition-opacity\",\n                \"aria-label\": \"Close notification\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                    className: \"fa-solid fa-times\",\n                    \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 65,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n        lineNumber: 58,\n        columnNumber: 5\n    }, undefined);\n};\nconst ToastContainer = ({ toasts, onRemove })=>{\n    if (toasts.length === 0) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed top-4 right-4 z-50 space-y-2\",\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\",\n        children: toasts.map((toast)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Toast, {\n                message: toast.message,\n                type: toast.type,\n                onClose: ()=>onRemove(toast.id)\n            }, toast.id, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n                lineNumber: 90,\n                columnNumber: 9\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Toast.tsx\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, undefined);\n};\n// Hook for managing toasts\nconst useToast = ()=>{\n    const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const showToast = (message, type = 'info')=>{\n        const id = Math.random().toString(36).substring(7);\n        setToasts((prev)=>[\n                ...prev,\n                {\n                    id,\n                    message,\n                    type\n                }\n            ]);\n        return id;\n    };\n    const removeToast = (id)=>{\n        setToasts((prev)=>prev.filter((toast)=>toast.id !== id));\n    };\n    return {\n        toasts,\n        showToast,\n        removeToast,\n        ToastContainer\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Toast);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBYWhCO0lBQWU7QUFDMUQsRUFBRTtBQUVGLGlFQUFldkIsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29tcG9uZW50cy91aS9Ub2FzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCB0eXBlIFRvYXN0VHlwZSA9ICdzdWNjZXNzJyB8ICdlcnJvcicgfCAnd2FybmluZycgfCAnaW5mbyc7XG5cbi8vIERlZmF1bHQgZHVyYXRpb25zIGJ5IHR5cGUgKGVycm9ycyBzdGF5IGxvbmdlciBzbyB1c2VycyBjYW4gcmVhZCB0aGVtKVxuY29uc3QgREVGQVVMVF9EVVJBVElPTlM6IFJlY29yZDxUb2FzdFR5cGUsIG51bWJlcj4gPSB7XG4gIHN1Y2Nlc3M6IDMwMDAsICAvLyBRdWljayBjb25maXJtYXRpb25cbiAgaW5mbzogNDAwMCwgICAgIC8vIFN0YW5kYXJkIGluZm9cbiAgd2FybmluZzogNTAwMCwgIC8vIEdpdmUgdGltZSB0byByZWFkXG4gIGVycm9yOiA2MDAwLCAgICAvLyBFcnJvcnMgbmVlZCBtb3JlIHRpbWUgdG8gcmVhZC9hY3Rcbn07XG5cbmludGVyZmFjZSBUb2FzdFByb3BzIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB0eXBlPzogVG9hc3RUeXBlO1xuICBkdXJhdGlvbj86IG51bWJlcjtcbiAgb25DbG9zZT86ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBUb2FzdDogUmVhY3QuRkM8VG9hc3RQcm9wcz4gPSAoe1xuICBtZXNzYWdlLFxuICB0eXBlID0gJ2luZm8nLFxuICBkdXJhdGlvbixcbiAgb25DbG9zZSxcbn0pID0+IHtcbiAgLy8gVXNlIHByb3ZpZGVkIGR1cmF0aW9uIG9yIGZhbGwgYmFjayB0byB0eXBlLWJhc2VkIGRlZmF1bHRcbiAgY29uc3QgZWZmZWN0aXZlRHVyYXRpb24gPSBkdXJhdGlvbiA/PyBERUZBVUxUX0RVUkFUSU9OU1t0eXBlXTtcbiAgY29uc3QgW2lzVmlzaWJsZSwgc2V0SXNWaXNpYmxlXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVmZmVjdGl2ZUR1cmF0aW9uID4gMCkge1xuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0SXNWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBvbkNsb3NlPy4oKSwgMzAwKTsgLy8gV2FpdCBmb3IgZmFkZSBvdXRcbiAgICAgIH0sIGVmZmVjdGl2ZUR1cmF0aW9uKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfVxuICB9LCBbZWZmZWN0aXZlRHVyYXRpb24sIG9uQ2xvc2VdKTtcbiAgXG4gIGNvbnN0IHR5cGVDbGFzc2VzID0ge1xuICAgIHN1Y2Nlc3M6ICdiZy1bdmFyKC0tY29sb3Itc3VjY2VzcyldIHRleHQtd2hpdGUnLFxuICAgIGVycm9yOiAnYmctW3ZhcigtLWNvbG9yLWVycm9yKV0gdGV4dC13aGl0ZScsXG4gICAgd2FybmluZzogJ2JnLVt2YXIoLS1jb2xvci13YXJuaW5nKV0gdGV4dC13aGl0ZScsXG4gICAgaW5mbzogJ2JnLVt2YXIoLS1jb2xvci1pbmZvKV0gdGV4dC13aGl0ZScsXG4gIH07XG4gIFxuICBjb25zdCBpY29ucyA9IHtcbiAgICBzdWNjZXNzOiAnZmEtY2hlY2stY2lyY2xlJyxcbiAgICBlcnJvcjogJ2ZhLWV4Y2xhbWF0aW9uLWNpcmNsZScsXG4gICAgd2FybmluZzogJ2ZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJyxcbiAgICBpbmZvOiAnZmEtaW5mby1jaXJjbGUnLFxuICB9O1xuICBcbiAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BmaXhlZCB0b3AtNCByaWdodC00IHotNTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtNCBweS0zIHJvdW5kZWQtbGcgc2hhZG93LWxnICR7dHlwZUNsYXNzZXNbdHlwZV19IGFuaW1hdGUtc2xpZGUtaW4tcmlnaHQgbWF4LXctc21gfVxuICAgICAgcm9sZT1cImFsZXJ0XCJcbiAgICAgIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiXG4gICAgPlxuICAgICAgPGkgY2xhc3NOYW1lPXtgZmEtc29saWQgJHtpY29uc1t0eXBlXX0gZmxleC1zaHJpbmstMGB9IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1zbSBmb250LW1lZGl1bVwiPnttZXNzYWdlfTwvc3Bhbj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIHNldElzVmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBvbkNsb3NlPy4oKSwgMzAwKTtcbiAgICAgICAgfX1cbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBtbC0yIGhvdmVyOm9wYWNpdHktODAgdHJhbnNpdGlvbi1vcGFjaXR5XCJcbiAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIG5vdGlmaWNhdGlvblwiXG4gICAgICA+XG4gICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLXRpbWVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuaW50ZXJmYWNlIFRvYXN0Q29udGFpbmVyUHJvcHMge1xuICB0b2FzdHM6IEFycmF5PHsgaWQ6IHN0cmluZzsgbWVzc2FnZTogc3RyaW5nOyB0eXBlPzogVG9hc3RUeXBlIH0+O1xuICBvblJlbW92ZTogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBUb2FzdENvbnRhaW5lcjogUmVhY3QuRkM8VG9hc3RDb250YWluZXJQcm9wcz4gPSAoeyB0b2FzdHMsIG9uUmVtb3ZlIH0pID0+IHtcbiAgaWYgKHRvYXN0cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIHRvcC00IHJpZ2h0LTQgei01MCBzcGFjZS15LTJcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIiBhcmlhLWF0b21pYz1cInRydWVcIj5cbiAgICAgIHt0b2FzdHMubWFwKCh0b2FzdCkgPT4gKFxuICAgICAgICA8VG9hc3RcbiAgICAgICAgICBrZXk9e3RvYXN0LmlkfVxuICAgICAgICAgIG1lc3NhZ2U9e3RvYXN0Lm1lc3NhZ2V9XG4gICAgICAgICAgdHlwZT17dG9hc3QudHlwZX1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBvblJlbW92ZSh0b2FzdC5pZCl9XG4gICAgICAgIC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIEhvb2sgZm9yIG1hbmFnaW5nIHRvYXN0c1xuZXhwb3J0IGNvbnN0IHVzZVRvYXN0ID0gKCkgPT4ge1xuICBjb25zdCBbdG9hc3RzLCBzZXRUb2FzdHNdID0gdXNlU3RhdGU8QXJyYXk8eyBpZDogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmc7IHR5cGU/OiBUb2FzdFR5cGUgfT4+KFtdKTtcbiAgXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlOiBzdHJpbmcsIHR5cGU6IFRvYXN0VHlwZSA9ICdpbmZvJykgPT4ge1xuICAgIGNvbnN0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xuICAgIHNldFRvYXN0cygocHJldikgPT4gWy4uLnByZXYsIHsgaWQsIG1lc3NhZ2UsIHR5cGUgfV0pO1xuICAgIHJldHVybiBpZDtcbiAgfTtcbiAgXG4gIGNvbnN0IHJlbW92ZVRvYXN0ID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUb2FzdHMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh0b2FzdCkgPT4gdG9hc3QuaWQgIT09IGlkKSk7XG4gIH07XG4gIFxuICByZXR1cm4geyB0b2FzdHMsIHNob3dUb2FzdCwgcmVtb3ZlVG9hc3QsIFRvYXN0Q29udGFpbmVyIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUb2FzdDtcblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJERUZBVUxUX0RVUkFUSU9OUyIsInN1Y2Nlc3MiLCJpbmZvIiwid2FybmluZyIsImVycm9yIiwiVG9hc3QiLCJtZXNzYWdlIiwidHlwZSIsImR1cmF0aW9uIiwib25DbG9zZSIsImVmZmVjdGl2ZUR1cmF0aW9uIiwiaXNWaXNpYmxlIiwic2V0SXNWaXNpYmxlIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwidHlwZUNsYXNzZXMiLCJpY29ucyIsImRpdiIsImNsYXNzTmFtZSIsInJvbGUiLCJhcmlhLWxpdmUiLCJpIiwiYXJpYS1oaWRkZW4iLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJUb2FzdENvbnRhaW5lciIsInRvYXN0cyIsIm9uUmVtb3ZlIiwibGVuZ3RoIiwiYXJpYS1hdG9taWMiLCJtYXAiLCJ0b2FzdCIsImlkIiwidXNlVG9hc3QiLCJzZXRUb2FzdHMiLCJzaG93VG9hc3QiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJwcmV2IiwicmVtb3ZlVG9hc3QiLCJmaWx0ZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/Toast.tsx\n");

/***/ }),

/***/ "(ssr)/./components/views/SettingsView.tsx":
/*!*******************************************!*\
  !*** ./components/views/SettingsView.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _services_stripeService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/stripeService */ \"(ssr)/./services/stripeService.ts\");\n/* harmony import */ var _services_feedbackService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/feedbackService */ \"(ssr)/./services/feedbackService.ts\");\n/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/Button */ \"(ssr)/./components/ui/Button.tsx\");\n/* harmony import */ var _ui_Card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Card */ \"(ssr)/./components/ui/Card.tsx\");\n/* harmony import */ var _ui_Toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Toast */ \"(ssr)/./components/ui/Toast.tsx\");\n/* harmony import */ var _ui_FeedbackModal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/FeedbackModal */ \"(ssr)/./components/ui/FeedbackModal.tsx\");\n\n\n\n\n\n\n\n\n\nconst SettingsSection = ({ title, children, prominent = false })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mb-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: `font-bold uppercase px-4 mb-3 ${prominent ? 'text-base text-[var(--color-text-primary)]' : 'text-sm text-[var(--color-text-muted)]'}`,\n                children: title\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 21,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                variant: \"elevated\",\n                padding: \"none\",\n                className: \"overflow-hidden\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 26,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n        lineNumber: 20,\n        columnNumber: 5\n    }, undefined);\nconst SettingsRow = ({ onClick, isLast = false, children })=>{\n    const baseClasses = `flex justify-between items-center p-4 min-h-[var(--touch-target-min)] transition-colors ${!isLast ? 'border-b border-[var(--color-neutral-200)]' : ''}`;\n    const interactiveClasses = onClick ? 'cursor-pointer hover:bg-[var(--color-bg-accent)] focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--color-primary)]' : '';\n    if (onClick) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            role: \"button\",\n            tabIndex: 0,\n            onClick: onClick,\n            onKeyDown: (e)=>{\n                if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    onClick();\n                }\n            },\n            className: `${baseClasses} ${interactiveClasses}`,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n            lineNumber: 38,\n            columnNumber: 13\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: baseClasses,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n        lineNumber: 56,\n        columnNumber: 9\n    }, undefined);\n};\nconst SettingsView = ({ userTier, onNavigateToPaywall, onLogout, onNavigate, user })=>{\n    const [restoreLoading, setRestoreLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [restoreSuccess, setRestoreSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [logoutLoading, setLogoutLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [logoutError, setLogoutError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [subscriptionPlan, setSubscriptionPlan] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [subscriptionLoading, setSubscriptionLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [subscriptionCancelled, setSubscriptionCancelled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cancelAtPeriodEnd, setCancelAtPeriodEnd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentPeriodEnd, setCurrentPeriodEnd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasPremiumMismatch, setHasPremiumMismatch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [feedbackModalOpen, setFeedbackModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [billingPortalLoading, setBillingPortalLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { toasts, showToast, removeToast, ToastContainer } = (0,_ui_Toast__WEBPACK_IMPORTED_MODULE_7__.useToast)();\n    const handleFeedbackSubmit = async (rating, comment)=>{\n        try {\n            await (0,_services_feedbackService__WEBPACK_IMPORTED_MODULE_4__.submitFeedback)({\n                rating,\n                comment,\n                userId: user?.id\n            });\n            showToast('Thank you for your feedback!', 'success');\n        } catch (err) {\n            console.error('[SettingsView] Error submitting feedback:', err);\n            showToast('Failed to submit feedback. Please try again.', 'error');\n            throw err; // Re-throw so FeedbackModal knows submission failed\n        }\n    };\n    const handlePlaceholderClick = (feature)=>{\n        alert(`${feature} feature coming soon!`);\n    };\n    // Fetch subscription plan and cancellation status for all users\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SettingsView.useEffect\": ()=>{\n            const fetchSubscriptionPlan = {\n                \"SettingsView.useEffect.fetchSubscriptionPlan\": async ()=>{\n                    if (!user) {\n                        setSubscriptionPlan(null);\n                        setSubscriptionCancelled(false);\n                        setHasPremiumMismatch(false);\n                        return;\n                    }\n                    setSubscriptionLoading(true);\n                    try {\n                        const subscription = await (0,_services_stripeService__WEBPACK_IMPORTED_MODULE_3__.getUserSubscription)(user.id);\n                        console.log('[SettingsView] Subscription data received:', subscription);\n                        // Check for premium tier mismatch\n                        if (subscription && typeof subscription === 'object' && '_premiumTierMismatch' in subscription) {\n                            console.log('[SettingsView] Premium tier mismatch detected');\n                            setHasPremiumMismatch(true);\n                            setSubscriptionCancelled(false);\n                            setSubscriptionPlan(null);\n                            return;\n                        }\n                        if (subscription) {\n                            // Check if subscription is cancelled AND period hasn't ended\n                            const isCancelled = subscription.cancelAtPeriodEnd === true;\n                            const periodEndDate = subscription.currentPeriodEnd;\n                            const periodHasEnded = periodEndDate ? new Date(periodEndDate) <= new Date() : false;\n                            // Only mark as cancelled if subscription exists, is cancelled, and period hasn't ended\n                            const cancelled = isCancelled && !periodHasEnded;\n                            console.log('[SettingsView] Cancellation check:', {\n                                cancelAtPeriodEnd: isCancelled,\n                                currentPeriodEnd: periodEndDate,\n                                periodHasEnded,\n                                cancelled\n                            });\n                            setSubscriptionCancelled(cancelled);\n                            setCancelAtPeriodEnd(isCancelled);\n                            setCurrentPeriodEnd(periodEndDate || null);\n                            setHasPremiumMismatch(false);\n                            // Extract plan type from subscription\n                            let plan = subscription.plan;\n                            console.log('[SettingsView] Plan value from subscription:', plan, 'Type:', typeof plan);\n                            console.log('[SettingsView] Cancellation status:', cancelled);\n                            // Normalize plan value (handle case sensitivity, whitespace, etc.)\n                            if (plan && typeof plan === 'string') {\n                                plan = plan.trim().toLowerCase();\n                            }\n                            // Try to infer from price if plan is missing, null, undefined, or unknown\n                            const originalPrice = subscription.originalPrice;\n                            const currentPrice = subscription.currentPrice;\n                            const price = originalPrice || currentPrice;\n                            console.log('[SettingsView] Price values - originalPrice:', originalPrice, 'currentPrice:', currentPrice, 'using:', price);\n                            if (plan === 'monthly' || plan === 'annual') {\n                                console.log('[SettingsView] âœ… Setting plan to:', plan);\n                                setSubscriptionPlan(plan);\n                            } else if (!plan || plan === 'unknown' || plan === 'null' || plan === 'undefined') {\n                                // Try to infer plan from price if available\n                                console.log('[SettingsView] Plan is missing/unknown, attempting to infer from price:', price);\n                                if (price && typeof price === 'number') {\n                                    // Annual plans are typically > $50, monthly < $50\n                                    // Mock annual: 99.99 (or 69.99 with discount), Mock monthly: 9.99 (or 6.99 with discount)\n                                    // Check for exact mock prices first, then use threshold\n                                    if (price === 99.99 || price === 69.99 || price >= 50) {\n                                        console.log('[SettingsView] âœ… Inferred plan as \"annual\" from price:', price);\n                                        setSubscriptionPlan('annual');\n                                    } else if (price === 9.99 || price === 6.99 || price > 0 && price < 50) {\n                                        console.log('[SettingsView] âœ… Inferred plan as \"monthly\" from price:', price);\n                                        setSubscriptionPlan('monthly');\n                                    } else {\n                                        console.warn('[SettingsView] âš ï¸ Could not infer plan from price, setting to unknown');\n                                        setSubscriptionPlan('unknown');\n                                    }\n                                } else {\n                                    console.warn('[SettingsView] âš ï¸ Plan is unknown and no price available, setting to unknown');\n                                    setSubscriptionPlan('unknown');\n                                }\n                            } else {\n                                // Plan has an unexpected value - try price inference as fallback\n                                console.warn('[SettingsView] âš ï¸ Unexpected plan value:', plan);\n                                if (price && typeof price === 'number') {\n                                    // Check for exact mock prices first, then use threshold\n                                    if (price === 99.99 || price === 69.99 || price >= 50) {\n                                        console.log('[SettingsView] âœ… Fallback: Inferred plan as \"annual\" from price:', price);\n                                        setSubscriptionPlan('annual');\n                                    } else if (price === 9.99 || price === 6.99 || price > 0 && price < 50) {\n                                        console.log('[SettingsView] âœ… Fallback: Inferred plan as \"monthly\" from price:', price);\n                                        setSubscriptionPlan('monthly');\n                                    } else {\n                                        setSubscriptionPlan('unknown');\n                                    }\n                                } else {\n                                    setSubscriptionPlan('unknown');\n                                }\n                            }\n                        } else {\n                            // Subscription not found (404) - no restore available\n                            console.log('[SettingsView] No subscription found');\n                            setHasPremiumMismatch(false);\n                            setSubscriptionCancelled(false);\n                            setCancelAtPeriodEnd(false);\n                            setCurrentPeriodEnd(null);\n                            setSubscriptionPlan(null);\n                        }\n                    } catch (err) {\n                        console.error('[SettingsView] Error fetching subscription plan:', err);\n                        // On error, don't set plan (will show just \"Premium Member\")\n                        setSubscriptionPlan(null);\n                        setSubscriptionCancelled(false);\n                        setCancelAtPeriodEnd(false);\n                        setCurrentPeriodEnd(null);\n                        setHasPremiumMismatch(false);\n                        // Show error toast for subscription fetch failures (except network errors which are expected offline)\n                        const errorMessage = err instanceof Error ? err.message : 'Unknown error';\n                        if (!errorMessage.includes('Failed to fetch') && !errorMessage.includes('NetworkError')) {\n                            showToast('Unable to load subscription details', 'warning');\n                        }\n                    } finally{\n                        setSubscriptionLoading(false);\n                    }\n                }\n            }[\"SettingsView.useEffect.fetchSubscriptionPlan\"];\n            fetchSubscriptionPlan();\n        }\n    }[\"SettingsView.useEffect\"], [\n        user,\n        userTier\n    ]);\n    const handleRestorePurchase = async ()=>{\n        if (!user) {\n            showToast('Please log in to restore your purchase', 'warning');\n            return;\n        }\n        setRestoreLoading(true);\n        setRestoreSuccess(null);\n        try {\n            const result = await (0,_services_stripeService__WEBPACK_IMPORTED_MODULE_3__.restoreSubscription)(user.id);\n            const message = result?.message || 'Your subscription has been restored successfully!';\n            setRestoreSuccess(message);\n            showToast(message, 'success');\n            // Reload the page after a short delay to refresh tier and subscription state\n            setTimeout(()=>{\n                window.location.reload();\n            }, 1500);\n        } catch (err) {\n            console.error('[SettingsView] Error restoring purchase:', err);\n            const errorMessage = err instanceof Error ? err.message : 'Failed to restore purchase. Please try again.';\n            // Improve error messages\n            let displayError = errorMessage;\n            if (errorMessage.includes('endpoint not found') || errorMessage.includes('Failed to fetch')) {\n                displayError = 'Unable to reach the subscription server. Please check your connection.';\n            } else if (errorMessage.includes('No subscription found')) {\n                displayError = 'No subscription found to restore. It may have expired or been cancelled.';\n            }\n            showToast(displayError, 'error');\n        } finally{\n            setRestoreLoading(false);\n        }\n    };\n    const handleLogoutClick = async ()=>{\n        if (logoutLoading) return;\n        setLogoutError(null);\n        setLogoutLoading(true);\n        try {\n            await onLogout();\n        } catch (err) {\n            const message = err instanceof Error ? err.message : 'Unable to log out. Please try again.';\n            showToast(message, 'error');\n        } finally{\n            setLogoutLoading(false);\n        }\n    };\n    const handleManageBilling = async ()=>{\n        if (!user || billingPortalLoading) return;\n        setBillingPortalLoading(true);\n        try {\n            const returnUrl = `${window.location.origin}/settings`;\n            const portalUrl = await (0,_services_stripeService__WEBPACK_IMPORTED_MODULE_3__.createBillingPortalSession)(user.id, returnUrl);\n            // Redirect to Stripe Customer Portal\n            window.location.href = portalUrl;\n        } catch (err) {\n            console.error('[SettingsView] Error creating billing portal session:', err);\n            const message = err instanceof Error ? err.message : 'Unable to open billing portal. Please try again.';\n            showToast(message, 'error');\n            setBillingPortalLoading(false);\n        }\n    };\n    const isPremium = userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium;\n    const isAnonymous = !user;\n    // Get creation date from user metadata or fallback to null\n    const memberSince = user?.created_at ? new Date(user.created_at).toLocaleDateString() : null;\n    // Get full name from user metadata\n    const fullName = user?.user_metadata?.full_name || user?.email;\n    const displayName = fullName ? fullName.split(' ')[0] : user?.email?.split('@')[0];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-transparent pb-24\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToastContainer, {\n                toasts: toasts,\n                onRemove: removeToast\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 307,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center px-6 py-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold text-[var(--color-text-primary)]\",\n                    children: \"Settings\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                    lineNumber: 311,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 310,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"max-w-2xl mx-auto px-6\",\n                children: [\n                    user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Profile\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6 flex flex-col gap-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-4\",\n                                children: [\n                                    subscriptionLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 rounded-full bg-[var(--color-neutral-200)] animate-pulse\",\n                                        \"aria-label\": \"Loading profile...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 320,\n                                        columnNumber: 37\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 rounded-full bg-[var(--color-primary-lighter)] flex items-center justify-center text-[var(--color-primary-dark)] text-2xl font-bold\",\n                                        \"aria-label\": `Profile avatar for ${user.email}`,\n                                        children: displayName?.charAt(0).toUpperCase() || /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-user\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 329,\n                                            columnNumber: 82\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 325,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 min-w-0\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-lg font-semibold text-[var(--color-text-primary)] truncate\",\n                                                title: user.email,\n                                                children: fullName\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 333,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap items-center gap-2 text-sm text-[var(--color-text-muted)] mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: `px-2 py-0.5 rounded-full text-xs font-medium whitespace-nowrap ${isPremium ? 'bg-[var(--color-warning-light)] text-[var(--color-warning-dark)] border border-[var(--color-warning)]' : 'bg-[var(--color-neutral-100)] text-[var(--color-neutral-600)] border border-[var(--color-neutral-200)]'}`,\n                                                        children: isPremium ? cancelAtPeriodEnd && currentPeriodEnd ? `Premium - cancels ${new Date(currentPeriodEnd).toLocaleDateString()}` : subscriptionPlan === 'monthly' ? 'Premium Monthly' : subscriptionPlan === 'annual' ? 'Premium Annual' : 'Premium' : 'Free Plan'\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                        lineNumber: 337,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    memberSince && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs whitespace-nowrap\",\n                                                        children: [\n                                                            \"Since \",\n                                                            memberSince\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                        lineNumber: 352,\n                                                        columnNumber: 45\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 336,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 332,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 318,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                            lineNumber: 317,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 316,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Account\",\n                        prominent: true,\n                        children: isAnonymous ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login),\n                                isLast: true,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[var(--color-primary)] font-medium\",\n                                                children: \"Sign In or Create Account\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 366,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-[var(--color-text-muted)] mt-1\",\n                                                children: \"Access unlimited sessions and sync across devices\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 367,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 365,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 369,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 364,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                            isLast: true,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                    type: \"button\",\n                                    onClick: handleLogoutClick,\n                                    disabled: logoutLoading,\n                                    variant: \"secondary\",\n                                    fullWidth: true,\n                                    loading: logoutLoading,\n                                    className: \"border-2 border-error text-error hover:bg-error-light hover:border-error-dark focus:ring-error\",\n                                    icon: !logoutLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-right-from-bracket\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 383,\n                                        columnNumber: 60\n                                    }, void 0) : undefined,\n                                    children: logoutLoading ? 'Logging Out...' : 'Log Out'\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 375,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 374,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                            lineNumber: 373,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 361,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Subscription\",\n                        children: isPremium ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[var(--color-text-primary)]\",\n                                                children: \"Current Plan\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 398,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            subscriptionLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-[var(--color-text-muted)] mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                        className: \"fa fa-spinner fa-spin mr-1\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                        lineNumber: 401,\n                                                        columnNumber: 49\n                                                    }, undefined),\n                                                    \"Loading subscription...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 400,\n                                                columnNumber: 45\n                                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm font-semibold text-[var(--color-text-primary)] mt-1\",\n                                                children: cancelAtPeriodEnd && currentPeriodEnd ? `Premium - cancels on ${new Date(currentPeriodEnd).toLocaleDateString()}` : `Premium${subscriptionPlan === 'monthly' ? ' (Monthly)' : subscriptionPlan === 'annual' ? ' (Annual)' : ''}`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                lineNumber: 404,\n                                                columnNumber: 45\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 397,\n                                        columnNumber: 37\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 396,\n                                    columnNumber: 33\n                                }, undefined),\n                                !user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[var(--color-text-primary)]\",\n                                            children: \"Current Plan\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 416,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-semibold text-[var(--color-text-primary)]\",\n                                            children: \"Premium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 417,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 415,\n                                    columnNumber: 33\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.CancelSubscription),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[var(--color-primary)]\",\n                                            children: \"Manage Subscription\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 421,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 422,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 420,\n                                    columnNumber: 29\n                                }, undefined),\n                                user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: handleManageBilling,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[var(--color-primary)]\",\n                                                    children: \"Manage Billing\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 427,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                billingPortalLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"fa fa-spinner fa-spin text-[var(--color-text-muted)]\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 429,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 426,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        !billingPortalLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 433,\n                                            columnNumber: 41\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 425,\n                                    columnNumber: 33\n                                }, undefined),\n                                subscriptionCancelled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: handleRestorePurchase,\n                                    isLast: true,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[var(--color-primary-dark)]\",\n                                                    children: \"Restore Purchase\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 441,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                restoreLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-xs text-[var(--color-text-muted)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-spinner fa-spin\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 444,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        \" Restoring...\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 443,\n                                                    columnNumber: 45\n                                                }, undefined),\n                                                restoreSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-xs text-[var(--color-success-dark)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-check\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 449,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        \" Restored!\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 448,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 440,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        !restoreLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 453,\n                                            columnNumber: 57\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 439,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: onNavigateToPaywall,\n                                    isLast: !subscriptionCancelled,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-[var(--color-text-primary)]\",\n                                                    children: \"Current Plan\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 461,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                subscriptionLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-[var(--color-text-muted)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-spinner fa-spin mr-1\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 464,\n                                                            columnNumber: 45\n                                                        }, undefined),\n                                                        \"Loading...\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 463,\n                                                    columnNumber: 41\n                                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-[var(--color-primary)] text-sm font-semibold\",\n                                                    children: \"Free Tier\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 467,\n                                                    columnNumber: 41\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 460,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        user ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                            variant: \"primary\",\n                                            size: \"sm\",\n                                            onClick: onNavigateToPaywall,\n                                            children: \"Upgrade\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 471,\n                                            columnNumber: 37\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 479,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 459,\n                                    columnNumber: 29\n                                }, undefined),\n                                subscriptionCancelled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                    onClick: handleRestorePurchase,\n                                    isLast: true,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[var(--color-primary-dark)]\",\n                                                    children: \"Restore Purchase\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 486,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                restoreLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-xs text-[var(--color-text-muted)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-spinner fa-spin\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 489,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        \" Restoring...\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 488,\n                                                    columnNumber: 45\n                                                }, undefined),\n                                                restoreSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-xs text-[var(--color-success-dark)]\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fa fa-check\",\n                                                            \"aria-hidden\": \"true\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                            lineNumber: 494,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        \" Restored!\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                                    lineNumber: 493,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 485,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        !restoreLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                            lineNumber: 498,\n                                            columnNumber: 57\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                    lineNumber: 484,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 392,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Legal\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.PrivacyPolicy),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Privacy Policy\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 507,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 508,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 506,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.TermsOfService),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Terms of Service\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 511,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 512,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 510,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.SubscriptionTerms),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Subscription & Billing\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 515,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 516,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 514,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.CookiePolicy),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Cookie Policy\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 520,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 518,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Disclaimer),\n                                isLast: true,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Medical & Education Disclaimer\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 523,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 524,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 522,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 505,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsSection, {\n                        title: \"Support\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Support),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Contact Us / Help Center\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 530,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 529,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsRow, {\n                                onClick: ()=>setFeedbackModalOpen(true),\n                                isLast: true,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[var(--color-text-primary)]\",\n                                        children: \"Give Feedback\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 534,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa fa-chevron-right text-[var(--color-text-muted)]\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                        lineNumber: 535,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                                lineNumber: 533,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                        lineNumber: 528,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 314,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_FeedbackModal__WEBPACK_IMPORTED_MODULE_8__.FeedbackModal, {\n                isOpen: feedbackModalOpen,\n                onClose: ()=>setFeedbackModalOpen(false),\n                onSubmit: handleFeedbackSubmit\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n                lineNumber: 541,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/SettingsView.tsx\",\n        lineNumber: 306,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SettingsView);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3ZpZXdzL1NldHRpbmdzVmlldy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFtRDtBQUNOO0FBRXVFO0FBQ3BEO0FBQzFCO0FBQ0o7QUFDSztBQUNhO0FBVXBELE1BQU1hLGtCQUErRixDQUFDLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxZQUFZLEtBQUssRUFBRSxpQkFDeEksOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDQztnQkFBR0QsV0FBVyxDQUFDLDhCQUE4QixFQUMxQ0YsWUFDTSwrQ0FDQSwwQ0FDUjswQkFBR0Y7Ozs7OzswQkFDTCw4REFBQ0osMENBQUlBO2dCQUFDVSxTQUFRO2dCQUFXQyxTQUFRO2dCQUFPSCxXQUFVOzBCQUM3Q0g7Ozs7Ozs7Ozs7OztBQUtiLE1BQU1PLGNBQStGLENBQUMsRUFBRUMsT0FBTyxFQUFFQyxTQUFTLEtBQUssRUFBRVQsUUFBUSxFQUFFO0lBQ3ZJLE1BQU1VLGNBQWMsQ0FBQyx3RkFBd0YsRUFBRSxDQUFDRCxTQUFTLCtDQUErQyxJQUFJO0lBQzVLLE1BQU1FLHFCQUFxQkgsVUFBVSxnS0FBZ0s7SUFFck0sSUFBSUEsU0FBUztRQUNULHFCQUNJLDhEQUFDTjtZQUNHVSxNQUFLO1lBQ0xDLFVBQVU7WUFDVkwsU0FBU0E7WUFDVE0sV0FBVyxDQUFDQztnQkFDUixJQUFJQSxFQUFFQyxHQUFHLEtBQUssV0FBV0QsRUFBRUMsR0FBRyxLQUFLLEtBQUs7b0JBQ3BDRCxFQUFFRSxjQUFjO29CQUNoQlQ7Z0JBQ0o7WUFDSjtZQUNBTCxXQUFXLEdBQUdPLFlBQVksQ0FBQyxFQUFFQyxvQkFBb0I7c0JBRWhEWDs7Ozs7O0lBR2I7SUFFQSxxQkFDSSw4REFBQ0U7UUFBSUMsV0FBV087a0JBQ1hWOzs7Ozs7QUFHYjtBQUdBLE1BQU1rQixlQUE0QyxDQUFDLEVBQUVDLFFBQVEsRUFBRUMsbUJBQW1CLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFFQyxJQUFJLEVBQUU7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IjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdmlld3MvU2V0dGluZ3NWaWV3LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVzZXJUaWVyLCBWaWV3IH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyByZXN0b3JlU3Vic2NyaXB0aW9uLCBnZXRVc2VyU3Vic2NyaXB0aW9uLCBjcmVhdGVCaWxsaW5nUG9ydGFsU2Vzc2lvbiB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3N0cmlwZVNlcnZpY2UnO1xuaW1wb3J0IHsgc3VibWl0RmVlZGJhY2sgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9mZWVkYmFja1NlcnZpY2UnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi91aS9DYXJkJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnLi4vdWkvVG9hc3QnO1xuaW1wb3J0IHsgRmVlZGJhY2tNb2RhbCB9IGZyb20gJy4uL3VpL0ZlZWRiYWNrTW9kYWwnO1xuXG5pbnRlcmZhY2UgU2V0dGluZ3NWaWV3UHJvcHMge1xuICAgIHVzZXJUaWVyOiBVc2VyVGllcjtcbiAgICBvbk5hdmlnYXRlVG9QYXl3YWxsOiAoKSA9PiB2b2lkO1xuICAgIG9uTG9nb3V0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIG9uTmF2aWdhdGU6ICh2aWV3OiBWaWV3KSA9PiB2b2lkO1xuICAgIHVzZXI6IFVzZXIgfCBudWxsO1xufVxuXG5jb25zdCBTZXR0aW5nc1NlY3Rpb246IFJlYWN0LkZDPHsgdGl0bGU6IHN0cmluZzsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsgcHJvbWluZW50PzogYm9vbGVhbiB9PiA9ICh7IHRpdGxlLCBjaGlsZHJlbiwgcHJvbWluZW50ID0gZmFsc2UgfSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPXtgZm9udC1ib2xkIHVwcGVyY2FzZSBweC00IG1iLTMgJHtcbiAgICAgICAgICAgIHByb21pbmVudCBcbiAgICAgICAgICAgICAgICA/ICd0ZXh0LWJhc2UgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0nIFxuICAgICAgICAgICAgICAgIDogJ3RleHQtc20gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldJ1xuICAgICAgICB9YH0+e3RpdGxlfTwvaDI+XG4gICAgICAgIDxDYXJkIHZhcmlhbnQ9XCJlbGV2YXRlZFwiIHBhZGRpbmc9XCJub25lXCIgY2xhc3NOYW1lPVwib3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvQ2FyZD5cbiAgICA8L2Rpdj5cbik7XG5cbmNvbnN0IFNldHRpbmdzUm93OiBSZWFjdC5GQzx7IG9uQ2xpY2s/OiAoKSA9PiB2b2lkOyBpc0xhc3Q/OiBib29sZWFuOyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgb25DbGljaywgaXNMYXN0ID0gZmFsc2UsIGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCBiYXNlQ2xhc3NlcyA9IGBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC00IG1pbi1oLVt2YXIoLS10b3VjaC10YXJnZXQtbWluKV0gdHJhbnNpdGlvbi1jb2xvcnMgJHshaXNMYXN0ID8gJ2JvcmRlci1iIGJvcmRlci1bdmFyKC0tY29sb3ItbmV1dHJhbC0yMDApXScgOiAnJ31gO1xuICAgIGNvbnN0IGludGVyYWN0aXZlQ2xhc3NlcyA9IG9uQ2xpY2sgPyAnY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctW3ZhcigtLWNvbG9yLWJnLWFjY2VudCldIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctaW5zZXQgZm9jdXMtdmlzaWJsZTpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0nIDogJyc7XG5cbiAgICBpZiAob25DbGljaykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIHRhYkluZGV4PXswfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc2VzfSAke2ludGVyYWN0aXZlQ2xhc3Nlc31gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtiYXNlQ2xhc3Nlc30+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5cbmNvbnN0IFNldHRpbmdzVmlldzogUmVhY3QuRkM8U2V0dGluZ3NWaWV3UHJvcHM+ID0gKHsgdXNlclRpZXIsIG9uTmF2aWdhdGVUb1BheXdhbGwsIG9uTG9nb3V0LCBvbk5hdmlnYXRlLCB1c2VyIH0pID0+IHtcbiAgICBjb25zdCBbcmVzdG9yZUxvYWRpbmcsIHNldFJlc3RvcmVMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbcmVzdG9yZVN1Y2Nlc3MsIHNldFJlc3RvcmVTdWNjZXNzXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtsb2dvdXRMb2FkaW5nLCBzZXRMb2dvdXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbbG9nb3V0RXJyb3IsIHNldExvZ291dEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtzdWJzY3JpcHRpb25QbGFuLCBzZXRTdWJzY3JpcHRpb25QbGFuXSA9IHVzZVN0YXRlPCdtb250aGx5JyB8ICdhbm51YWwnIHwgJ3Vua25vd24nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3N1YnNjcmlwdGlvbkxvYWRpbmcsIHNldFN1YnNjcmlwdGlvbkxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzdWJzY3JpcHRpb25DYW5jZWxsZWQsIHNldFN1YnNjcmlwdGlvbkNhbmNlbGxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2NhbmNlbEF0UGVyaW9kRW5kLCBzZXRDYW5jZWxBdFBlcmlvZEVuZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnRQZXJpb2RFbmQsIHNldEN1cnJlbnRQZXJpb2RFbmRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW2hhc1ByZW1pdW1NaXNtYXRjaCwgc2V0SGFzUHJlbWl1bU1pc21hdGNoXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbZmVlZGJhY2tNb2RhbE9wZW4sIHNldEZlZWRiYWNrTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbYmlsbGluZ1BvcnRhbExvYWRpbmcsIHNldEJpbGxpbmdQb3J0YWxMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB7IHRvYXN0cywgc2hvd1RvYXN0LCByZW1vdmVUb2FzdCwgVG9hc3RDb250YWluZXIgfSA9IHVzZVRvYXN0KCk7XG5cbiAgICBjb25zdCBoYW5kbGVGZWVkYmFja1N1Ym1pdCA9IGFzeW5jIChyYXRpbmc6IG51bWJlciwgY29tbWVudDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBzdWJtaXRGZWVkYmFjayh7IHJhdGluZywgY29tbWVudCwgdXNlcklkOiB1c2VyPy5pZCB9KTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnVGhhbmsgeW91IGZvciB5b3VyIGZlZWRiYWNrIScsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1NldHRpbmdzVmlld10gRXJyb3Igc3VibWl0dGluZyBmZWVkYmFjazonLCBlcnIpO1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdGYWlsZWQgdG8gc3VibWl0IGZlZWRiYWNrLiBQbGVhc2UgdHJ5IGFnYWluLicsICdlcnJvcicpO1xuICAgICAgICAgICAgdGhyb3cgZXJyOyAvLyBSZS10aHJvdyBzbyBGZWVkYmFja01vZGFsIGtub3dzIHN1Ym1pc3Npb24gZmFpbGVkXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUGxhY2Vob2xkZXJDbGljayA9IChmZWF0dXJlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgYWxlcnQoYCR7ZmVhdHVyZX0gZmVhdHVyZSBjb21pbmcgc29vbiFgKTtcbiAgICB9O1xuXG4gICAgLy8gRmV0Y2ggc3Vic2NyaXB0aW9uIHBsYW4gYW5kIGNhbmNlbGxhdGlvbiBzdGF0dXMgZm9yIGFsbCB1c2Vyc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZldGNoU3Vic2NyaXB0aW9uUGxhbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvblBsYW4obnVsbCk7XG4gICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uQ2FuY2VsbGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRIYXNQcmVtaXVtTWlzbWF0Y2goZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uTG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXdhaXQgZ2V0VXNlclN1YnNjcmlwdGlvbih1c2VyLmlkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10gU3Vic2NyaXB0aW9uIGRhdGEgcmVjZWl2ZWQ6Jywgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcHJlbWl1bSB0aWVyIG1pc21hdGNoXG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAmJiB0eXBlb2Ygc3Vic2NyaXB0aW9uID09PSAnb2JqZWN0JyAmJiAnX3ByZW1pdW1UaWVyTWlzbWF0Y2gnIGluIHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10gUHJlbWl1bSB0aWVyIG1pc21hdGNoIGRldGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldEhhc1ByZW1pdW1NaXNtYXRjaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uQ2FuY2VsbGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHN1YnNjcmlwdGlvbiBpcyBjYW5jZWxsZWQgQU5EIHBlcmlvZCBoYXNuJ3QgZW5kZWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDYW5jZWxsZWQgPSBzdWJzY3JpcHRpb24uY2FuY2VsQXRQZXJpb2RFbmQgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmlvZEVuZERhdGUgPSBzdWJzY3JpcHRpb24uY3VycmVudFBlcmlvZEVuZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyaW9kSGFzRW5kZWQgPSBwZXJpb2RFbmREYXRlID8gbmV3IERhdGUocGVyaW9kRW5kRGF0ZSkgPD0gbmV3IERhdGUoKSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBtYXJrIGFzIGNhbmNlbGxlZCBpZiBzdWJzY3JpcHRpb24gZXhpc3RzLCBpcyBjYW5jZWxsZWQsIGFuZCBwZXJpb2QgaGFzbid0IGVuZGVkXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmNlbGxlZCA9IGlzQ2FuY2VsbGVkICYmICFwZXJpb2RIYXNFbmRlZDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSBDYW5jZWxsYXRpb24gY2hlY2s6Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQXRQZXJpb2RFbmQ6IGlzQ2FuY2VsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBlcmlvZEVuZDogcGVyaW9kRW5kRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZEhhc0VuZGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsbGVkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uQ2FuY2VsbGVkKGNhbmNlbGxlZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldENhbmNlbEF0UGVyaW9kRW5kKGlzQ2FuY2VsbGVkKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFBlcmlvZEVuZChwZXJpb2RFbmREYXRlIHx8IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBzZXRIYXNQcmVtaXVtTWlzbWF0Y2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBwbGFuIHR5cGUgZnJvbSBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYW4gPSBzdWJzY3JpcHRpb24ucGxhbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTZXR0aW5nc1ZpZXddIFBsYW4gdmFsdWUgZnJvbSBzdWJzY3JpcHRpb246JywgcGxhbiwgJ1R5cGU6JywgdHlwZW9mIHBsYW4pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10gQ2FuY2VsbGF0aW9uIHN0YXR1czonLCBjYW5jZWxsZWQpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9ybWFsaXplIHBsYW4gdmFsdWUgKGhhbmRsZSBjYXNlIHNlbnNpdGl2aXR5LCB3aGl0ZXNwYWNlLCBldGMuKVxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhbiAmJiB0eXBlb2YgcGxhbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYW4gPSBwbGFuLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gaW5mZXIgZnJvbSBwcmljZSBpZiBwbGFuIGlzIG1pc3NpbmcsIG51bGwsIHVuZGVmaW5lZCwgb3IgdW5rbm93blxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlID0gc3Vic2NyaXB0aW9uLm9yaWdpbmFsUHJpY2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcmljZSA9IHN1YnNjcmlwdGlvbi5jdXJyZW50UHJpY2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlID0gb3JpZ2luYWxQcmljZSB8fCBjdXJyZW50UHJpY2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSBQcmljZSB2YWx1ZXMgLSBvcmlnaW5hbFByaWNlOicsIG9yaWdpbmFsUHJpY2UsICdjdXJyZW50UHJpY2U6JywgY3VycmVudFByaWNlLCAndXNpbmc6JywgcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYW4gPT09ICdtb250aGx5JyB8fCBwbGFuID09PSAnYW5udWFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTZXR0aW5nc1ZpZXddIOKchSBTZXR0aW5nIHBsYW4gdG86JywgcGxhbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKHBsYW4pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFwbGFuIHx8IHBsYW4gPT09ICd1bmtub3duJyB8fCBwbGFuID09PSAnbnVsbCcgfHwgcGxhbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBpbmZlciBwbGFuIGZyb20gcHJpY2UgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NldHRpbmdzVmlld10gUGxhbiBpcyBtaXNzaW5nL3Vua25vd24sIGF0dGVtcHRpbmcgdG8gaW5mZXIgZnJvbSBwcmljZTonLCBwcmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZSAmJiB0eXBlb2YgcHJpY2UgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW5udWFsIHBsYW5zIGFyZSB0eXBpY2FsbHkgPiAkNTAsIG1vbnRobHkgPCAkNTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb2NrIGFubnVhbDogOTkuOTkgKG9yIDY5Ljk5IHdpdGggZGlzY291bnQpLCBNb2NrIG1vbnRobHk6IDkuOTkgKG9yIDYuOTkgd2l0aCBkaXNjb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZXhhY3QgbW9jayBwcmljZXMgZmlyc3QsIHRoZW4gdXNlIHRocmVzaG9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZSA9PT0gOTkuOTkgfHwgcHJpY2UgPT09IDY5Ljk5IHx8IHByaWNlID49IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSDinIUgSW5mZXJyZWQgcGxhbiBhcyBcImFubnVhbFwiIGZyb20gcHJpY2U6JywgcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKCdhbm51YWwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaWNlID09PSA5Ljk5IHx8IHByaWNlID09PSA2Ljk5IHx8IChwcmljZSA+IDAgJiYgcHJpY2UgPCA1MCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTZXR0aW5nc1ZpZXddIOKchSBJbmZlcnJlZCBwbGFuIGFzIFwibW9udGhseVwiIGZyb20gcHJpY2U6JywgcHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKCdtb250aGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbU2V0dGluZ3NWaWV3XSDimqDvuI8gQ291bGQgbm90IGluZmVyIHBsYW4gZnJvbSBwcmljZSwgc2V0dGluZyB0byB1bmtub3duJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvblBsYW4oJ3Vua25vd24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1NldHRpbmdzVmlld10g4pqg77iPIFBsYW4gaXMgdW5rbm93biBhbmQgbm8gcHJpY2UgYXZhaWxhYmxlLCBzZXR0aW5nIHRvIHVua25vd24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKCd1bmtub3duJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQbGFuIGhhcyBhbiB1bmV4cGVjdGVkIHZhbHVlIC0gdHJ5IHByaWNlIGluZmVyZW5jZSBhcyBmYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbU2V0dGluZ3NWaWV3XSDimqDvuI8gVW5leHBlY3RlZCBwbGFuIHZhbHVlOicsIHBsYW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlICYmIHR5cGVvZiBwcmljZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZXhhY3QgbW9jayBwcmljZXMgZmlyc3QsIHRoZW4gdXNlIHRocmVzaG9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZSA9PT0gOTkuOTkgfHwgcHJpY2UgPT09IDY5Ljk5IHx8IHByaWNlID49IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSDinIUgRmFsbGJhY2s6IEluZmVycmVkIHBsYW4gYXMgXCJhbm51YWxcIiBmcm9tIHByaWNlOicsIHByaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3Vic2NyaXB0aW9uUGxhbignYW5udWFsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmljZSA9PT0gOS45OSB8fCBwcmljZSA9PT0gNi45OSB8fCAocHJpY2UgPiAwICYmIHByaWNlIDwgNTApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2V0dGluZ3NWaWV3XSDinIUgRmFsbGJhY2s6IEluZmVycmVkIHBsYW4gYXMgXCJtb250aGx5XCIgZnJvbSBwcmljZTonLCBwcmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvblBsYW4oJ21vbnRobHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKCd1bmtub3duJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKCd1bmtub3duJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpcHRpb24gbm90IGZvdW5kICg0MDQpIC0gbm8gcmVzdG9yZSBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTZXR0aW5nc1ZpZXddIE5vIHN1YnNjcmlwdGlvbiBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBzZXRIYXNQcmVtaXVtTWlzbWF0Y2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25DYW5jZWxsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDYW5jZWxBdFBlcmlvZEVuZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQZXJpb2RFbmQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvblBsYW4obnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1NldHRpbmdzVmlld10gRXJyb3IgZmV0Y2hpbmcgc3Vic2NyaXB0aW9uIHBsYW46JywgZXJyKTtcbiAgICAgICAgICAgICAgICAvLyBPbiBlcnJvciwgZG9uJ3Qgc2V0IHBsYW4gKHdpbGwgc2hvdyBqdXN0IFwiUHJlbWl1bSBNZW1iZXJcIilcbiAgICAgICAgICAgICAgICBzZXRTdWJzY3JpcHRpb25QbGFuKG51bGwpO1xuICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvbkNhbmNlbGxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0Q2FuY2VsQXRQZXJpb2RFbmQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQZXJpb2RFbmQobnVsbCk7XG4gICAgICAgICAgICAgICAgc2V0SGFzUHJlbWl1bU1pc21hdGNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAvLyBTaG93IGVycm9yIHRvYXN0IGZvciBzdWJzY3JpcHRpb24gZmV0Y2ggZmFpbHVyZXMgKGV4Y2VwdCBuZXR3b3JrIGVycm9ycyB3aGljaCBhcmUgZXhwZWN0ZWQgb2ZmbGluZSlcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgICAgIGlmICghZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdGYWlsZWQgdG8gZmV0Y2gnKSAmJiAhZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrRXJyb3InKSkge1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ1VuYWJsZSB0byBsb2FkIHN1YnNjcmlwdGlvbiBkZXRhaWxzJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHNldFN1YnNjcmlwdGlvbkxvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZldGNoU3Vic2NyaXB0aW9uUGxhbigpO1xuICAgIH0sIFt1c2VyLCB1c2VyVGllcl0pO1xuXG4gICAgY29uc3QgaGFuZGxlUmVzdG9yZVB1cmNoYXNlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnUGxlYXNlIGxvZyBpbiB0byByZXN0b3JlIHlvdXIgcHVyY2hhc2UnLCAnd2FybmluZycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0UmVzdG9yZUxvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldFJlc3RvcmVTdWNjZXNzKG51bGwpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXN0b3JlU3Vic2NyaXB0aW9uKHVzZXIuaWQpO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdD8ubWVzc2FnZSB8fCAnWW91ciBzdWJzY3JpcHRpb24gaGFzIGJlZW4gcmVzdG9yZWQgc3VjY2Vzc2Z1bGx5ISc7XG4gICAgICAgICAgICBzZXRSZXN0b3JlU3VjY2VzcyhtZXNzYWdlKTtcbiAgICAgICAgICAgIHNob3dUb2FzdChtZXNzYWdlLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZWxvYWQgdGhlIHBhZ2UgYWZ0ZXIgYSBzaG9ydCBkZWxheSB0byByZWZyZXNoIHRpZXIgYW5kIHN1YnNjcmlwdGlvbiBzdGF0ZVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1NldHRpbmdzVmlld10gRXJyb3IgcmVzdG9yaW5nIHB1cmNoYXNlOicsIGVycik7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byByZXN0b3JlIHB1cmNoYXNlLiBQbGVhc2UgdHJ5IGFnYWluLic7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEltcHJvdmUgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgICAgIGxldCBkaXNwbGF5RXJyb3IgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdlbmRwb2ludCBub3QgZm91bmQnKSB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ0ZhaWxlZCB0byBmZXRjaCcpKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheUVycm9yID0gJ1VuYWJsZSB0byByZWFjaCB0aGUgc3Vic2NyaXB0aW9uIHNlcnZlci4gUGxlYXNlIGNoZWNrIHlvdXIgY29ubmVjdGlvbi4nO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ05vIHN1YnNjcmlwdGlvbiBmb3VuZCcpKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheUVycm9yID0gJ05vIHN1YnNjcmlwdGlvbiBmb3VuZCB0byByZXN0b3JlLiBJdCBtYXkgaGF2ZSBleHBpcmVkIG9yIGJlZW4gY2FuY2VsbGVkLic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNob3dUb2FzdChkaXNwbGF5RXJyb3IsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0UmVzdG9yZUxvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUxvZ291dENsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAobG9nb3V0TG9hZGluZykgcmV0dXJuO1xuICAgICAgICBzZXRMb2dvdXRFcnJvcihudWxsKTtcbiAgICAgICAgc2V0TG9nb3V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG9uTG9nb3V0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnVW5hYmxlIHRvIGxvZyBvdXQuIFBsZWFzZSB0cnkgYWdhaW4uJztcbiAgICAgICAgICAgIHNob3dUb2FzdChtZXNzYWdlLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvZ291dExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZU1hbmFnZUJpbGxpbmcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdXNlciB8fCBiaWxsaW5nUG9ydGFsTG9hZGluZykgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgc2V0QmlsbGluZ1BvcnRhbExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXR1cm5VcmwgPSBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9zZXR0aW5nc2A7XG4gICAgICAgICAgICBjb25zdCBwb3J0YWxVcmwgPSBhd2FpdCBjcmVhdGVCaWxsaW5nUG9ydGFsU2Vzc2lvbih1c2VyLmlkLCByZXR1cm5VcmwpO1xuICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gU3RyaXBlIEN1c3RvbWVyIFBvcnRhbFxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwb3J0YWxVcmw7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1NldHRpbmdzVmlld10gRXJyb3IgY3JlYXRpbmcgYmlsbGluZyBwb3J0YWwgc2Vzc2lvbjonLCBlcnIpO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnVW5hYmxlIHRvIG9wZW4gYmlsbGluZyBwb3J0YWwuIFBsZWFzZSB0cnkgYWdhaW4uJztcbiAgICAgICAgICAgIHNob3dUb2FzdChtZXNzYWdlLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHNldEJpbGxpbmdQb3J0YWxMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBpc1ByZW1pdW0gPSB1c2VyVGllciA9PT0gVXNlclRpZXIuUHJlbWl1bTtcbiAgICBjb25zdCBpc0Fub255bW91cyA9ICF1c2VyO1xuXG4gICAgLy8gR2V0IGNyZWF0aW9uIGRhdGUgZnJvbSB1c2VyIG1ldGFkYXRhIG9yIGZhbGxiYWNrIHRvIG51bGxcbiAgICBjb25zdCBtZW1iZXJTaW5jZSA9IHVzZXI/LmNyZWF0ZWRfYXQgPyBuZXcgRGF0ZSh1c2VyLmNyZWF0ZWRfYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpIDogbnVsbDtcblxuICAgIC8vIEdldCBmdWxsIG5hbWUgZnJvbSB1c2VyIG1ldGFkYXRhXG4gICAgY29uc3QgZnVsbE5hbWUgPSB1c2VyPy51c2VyX21ldGFkYXRhPy5mdWxsX25hbWUgfHwgdXNlcj8uZW1haWw7XG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBmdWxsTmFtZSA/IGZ1bGxOYW1lLnNwbGl0KCcgJylbMF0gOiB1c2VyPy5lbWFpbD8uc3BsaXQoJ0AnKVswXTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXRyYW5zcGFyZW50IHBiLTI0XCI+XG4gICAgICAgICAgICA8VG9hc3RDb250YWluZXIgdG9hc3RzPXt0b2FzdHN9IG9uUmVtb3ZlPXtyZW1vdmVUb2FzdH0gLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgcHgtNiBweS00XCI+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPlNldHRpbmdzPC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJtYXgtdy0yeGwgbXgtYXV0byBweC02XCI+XG4gICAgICAgICAgICAgICAge3VzZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NTZWN0aW9uIHRpdGxlPVwiUHJvZmlsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgZmxleCBmbGV4LWNvbCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YnNjcmlwdGlvbkxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLWZ1bGwgYmctW3ZhcigtLWNvbG9yLW5ldXRyYWwtMjAwKV0gYW5pbWF0ZS1wdWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkxvYWRpbmcgcHJvZmlsZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLWZ1bGwgYmctW3ZhcigtLWNvbG9yLXByaW1hcnktbGlnaHRlcildIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayldIHRleHQtMnhsIGZvbnQtYm9sZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YFByb2ZpbGUgYXZhdGFyIGZvciAke3VzZXIuZW1haWx9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWU/LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIHx8IDxpIGNsYXNzTmFtZT1cImZhIGZhLXVzZXJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gdHJ1bmNhdGVcIiB0aXRsZT17dXNlci5lbWFpbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Z1bGxOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LW1lZGl1bSB3aGl0ZXNwYWNlLW5vd3JhcCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ByZW1pdW0gPyAnYmctW3ZhcigtLWNvbG9yLXdhcm5pbmctbGlnaHQpXSB0ZXh0LVt2YXIoLS1jb2xvci13YXJuaW5nLWRhcmspXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1jb2xvci13YXJuaW5nKV0nIDogJ2JnLVt2YXIoLS1jb2xvci1uZXV0cmFsLTEwMCldIHRleHQtW3ZhcigtLWNvbG9yLW5ldXRyYWwtNjAwKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tY29sb3ItbmV1dHJhbC0yMDApXSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1ByZW1pdW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY2FuY2VsQXRQZXJpb2RFbmQgJiYgY3VycmVudFBlcmlvZEVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYFByZW1pdW0gLSBjYW5jZWxzICR7bmV3IERhdGUoY3VycmVudFBlcmlvZEVuZCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc3Vic2NyaXB0aW9uUGxhbiA9PT0gJ21vbnRobHknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1ByZW1pdW0gTW9udGhseSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzdWJzY3JpcHRpb25QbGFuID09PSAnYW5udWFsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnUHJlbWl1bSBBbm51YWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdQcmVtaXVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnRnJlZSBQbGFuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZW1iZXJTaW5jZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgd2hpdGVzcGFjZS1ub3dyYXBcIj5TaW5jZSB7bWVtYmVyU2luY2V9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1NlY3Rpb24+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDxTZXR0aW5nc1NlY3Rpb24gdGl0bGU9XCJBY2NvdW50XCIgcHJvbWluZW50PlxuICAgICAgICAgICAgICAgICAgICB7aXNBbm9ueW1vdXMgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuTG9naW4pfSBpc0xhc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gZm9udC1tZWRpdW1cIj5TaWduIEluIG9yIENyZWF0ZSBBY2NvdW50PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV0gbXQtMVwiPkFjY2VzcyB1bmxpbWl0ZWQgc2Vzc2lvbnMgYW5kIHN5bmMgYWNyb3NzIGRldmljZXM8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgaXNMYXN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTG9nb3V0Q2xpY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bG9nb3V0TG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2dvdXRMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLTIgYm9yZGVyLWVycm9yIHRleHQtZXJyb3IgaG92ZXI6YmctZXJyb3ItbGlnaHQgaG92ZXI6Ym9yZGVyLWVycm9yLWRhcmsgZm9jdXM6cmluZy1lcnJvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXshbG9nb3V0TG9hZGluZyA/IDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLXJpZ2h0LWZyb20tYnJhY2tldFwiIC8+IDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9nb3V0TG9hZGluZyA/ICdMb2dnaW5nIE91dC4uLicgOiAnTG9nIE91dCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L1NldHRpbmdzU2VjdGlvbj5cblxuICAgICAgICAgICAgICAgIDxTZXR0aW5nc1NlY3Rpb24gdGl0bGU9XCJTdWJzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAge2lzUHJlbWl1bSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCI+Q3VycmVudCBQbGFuPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJzY3JpcHRpb25Mb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1zcGlubmVyIGZhLXNwaW4gbXItMVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5Mb2FkaW5nIHN1YnNjcmlwdGlvbi4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYW5jZWxBdFBlcmlvZEVuZCAmJiBjdXJyZW50UGVyaW9kRW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgUHJlbWl1bSAtIGNhbmNlbHMgb24gJHtuZXcgRGF0ZShjdXJyZW50UGVyaW9kRW5kKS50b0xvY2FsZURhdGVTdHJpbmcoKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgUHJlbWl1bSR7c3Vic2NyaXB0aW9uUGxhbiA9PT0gJ21vbnRobHknID8gJyAoTW9udGhseSknIDogc3Vic2NyaXB0aW9uUGxhbiA9PT0gJ2FubnVhbCcgPyAnIChBbm51YWwpJyA6ICcnfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshdXNlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCI+Q3VycmVudCBQbGFuPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPlByZW1pdW08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LkNhbmNlbFN1YnNjcmlwdGlvbil9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci1wcmltYXJ5KV1cIj5NYW5hZ2UgU3Vic2NyaXB0aW9uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93IG9uQ2xpY2s9e2hhbmRsZU1hbmFnZUJpbGxpbmd9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnkpXVwiPk1hbmFnZSBCaWxsaW5nPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtiaWxsaW5nUG9ydGFsTG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXNwaW5uZXIgZmEtc3BpbiB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFiaWxsaW5nUG9ydGFsTG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIE9ubHkgc2hvdyBSZXN0b3JlIFB1cmNoYXNlIGlmIHN1YnNjcmlwdGlvbiBleGlzdHMsIGlzIGNhbmNlbGxlZCwgYW5kIHBlcmlvZCBoYXNuJ3QgZW5kZWQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YnNjcmlwdGlvbkNhbmNlbGxlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXtoYW5kbGVSZXN0b3JlUHVyY2hhc2V9IGlzTGFzdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItcHJpbWFyeS1kYXJrKV1cIj5SZXN0b3JlIFB1cmNoYXNlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZXN0b3JlTG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC14cyB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXNwaW5uZXIgZmEtc3BpblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gUmVzdG9yaW5nLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZXN0b3JlU3VjY2VzcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC14cyB0ZXh0LVt2YXIoLS1jb2xvci1zdWNjZXNzLWRhcmspXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hlY2tcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+IFJlc3RvcmVkIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFyZXN0b3JlTG9hZGluZyAmJiA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17b25OYXZpZ2F0ZVRvUGF5d2FsbH0gaXNMYXN0PXshc3Vic2NyaXB0aW9uQ2FuY2VsbGVkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCI+Q3VycmVudCBQbGFuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YnNjcmlwdGlvbkxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtc3Bpbm5lciBmYS1zcGluIG1yLTFcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+TG9hZGluZy4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItcHJpbWFyeSldIHRleHQtc20gZm9udC1zZW1pYm9sZFwiPkZyZWUgVGllcjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlciA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbk5hdmlnYXRlVG9QYXl3YWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZ3JhZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRnJlZSB0aWVyIHVzZXJzIGNhbiByZXN0b3JlIGlmIGEgY2FuY2VsbGVkIHN1YnNjcmlwdGlvbiBzdGlsbCBleGlzdHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YnNjcmlwdGlvbkNhbmNlbGxlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXtoYW5kbGVSZXN0b3JlUHVyY2hhc2V9IGlzTGFzdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItcHJpbWFyeS1kYXJrKV1cIj5SZXN0b3JlIFB1cmNoYXNlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZXN0b3JlTG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC14cyB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXNwaW5uZXIgZmEtc3BpblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gUmVzdG9yaW5nLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZXN0b3JlU3VjY2VzcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC14cyB0ZXh0LVt2YXIoLS1jb2xvci1zdWNjZXNzLWRhcmspXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hlY2tcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+IFJlc3RvcmVkIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFyZXN0b3JlTG9hZGluZyAmJiA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NTZWN0aW9uPlxuXG4gICAgICAgICAgICAgICAgPFNldHRpbmdzU2VjdGlvbiB0aXRsZT1cIkxlZ2FsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuUHJpdmFjeVBvbGljeSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5Qcml2YWN5IFBvbGljeTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNoZXZyb24tcmlnaHQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdzUm93PlxuICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3NSb3cgb25DbGljaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LlRlcm1zT2ZTZXJ2aWNlKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPlRlcm1zIG9mIFNlcnZpY2U8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93IG9uQ2xpY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5TdWJzY3JpcHRpb25UZXJtcyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5TdWJzY3JpcHRpb24gJiBCaWxsaW5nPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hldnJvbi1yaWdodCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LW11dGVkKV1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ3NSb3c+XG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuQ29va2llUG9saWN5KX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPkNvb2tpZSBQb2xpY3k8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93IG9uQ2xpY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5EaXNjbGFpbWVyKX0gaXNMYXN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5NZWRpY2FsICYgRWR1Y2F0aW9uIERpc2NsYWltZXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICA8L1NldHRpbmdzU2VjdGlvbj5cblxuICAgICAgICAgICAgICAgIDxTZXR0aW5nc1NlY3Rpb24gdGl0bGU9XCJTdXBwb3J0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nc1JvdyBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuU3VwcG9ydCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5Db250YWN0IFVzIC8gSGVscCBDZW50ZXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzUm93IG9uQ2xpY2s9eygpID0+IHNldEZlZWRiYWNrTW9kYWxPcGVuKHRydWUpfSBpc0xhc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXVwiPkdpdmUgRmVlZGJhY2s8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGV2cm9uLXJpZ2h0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nc1Jvdz5cbiAgICAgICAgICAgICAgICA8L1NldHRpbmdzU2VjdGlvbj5cbiAgICAgICAgICAgIDwvbWFpbj5cblxuICAgICAgICAgICAgey8qIEZlZWRiYWNrIE1vZGFsICovfVxuICAgICAgICAgICAgPEZlZWRiYWNrTW9kYWxcbiAgICAgICAgICAgICAgICBpc09wZW49e2ZlZWRiYWNrTW9kYWxPcGVufVxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEZlZWRiYWNrTW9kYWxPcGVuKGZhbHNlKX1cbiAgICAgICAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlRmVlZGJhY2tTdWJtaXR9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2V0dGluZ3NWaWV3OyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiVXNlclRpZXIiLCJWaWV3IiwicmVzdG9yZVN1YnNjcmlwdGlvbiIsImdldFVzZXJTdWJzY3JpcHRpb24iLCJjcmVhdGVCaWxsaW5nUG9ydGFsU2Vzc2lvbiIsInN1Ym1pdEZlZWRiYWNrIiwiQnV0dG9uIiwiQ2FyZCIsInVzZVRvYXN0IiwiRmVlZGJhY2tNb2RhbCIsIlNldHRpbmdzU2VjdGlvbiIsInRpdGxlIiwiY2hpbGRyZW4iLCJwcm9taW5lbnQiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsInZhcmlhbnQiLCJwYWRkaW5nIiwiU2V0dGluZ3NSb3ciLCJvbkNsaWNrIiwiaXNMYXN0IiwiYmFzZUNsYXNzZXMiLCJpbnRlcmFjdGl2ZUNsYXNzZXMiLCJyb2xlIiwidGFiSW5kZXgiLCJvbktleURvd24iLCJlIiwia2V5IiwicHJldmVudERlZmF1bHQiLCJTZXR0aW5nc1ZpZXciLCJ1c2VyVGllciIsIm9uTmF2aWdhdGVUb1BheXdhbGwiLCJvbkxvZ291dCIsIm9uTmF2aWdhdGUiLCJ1c2VyIiwicmVzdG9yZUxvYWRpbmciLCJzZXRSZXN0b3JlTG9hZGluZyIsInJlc3RvcmVTdWNjZXNzIiwic2V0UmVzdG9yZVN1Y2Nlc3MiLCJsb2dvdXRMb2FkaW5nIiwic2V0TG9nb3V0TG9hZGluZyIsImxvZ291dEVycm9yIiwic2V0TG9nb3V0RXJyb3IiLCJzdWJzY3JpcHRpb25QbGFuIiwic2V0U3Vic2NyaXB0aW9uUGxhbiIsInN1YnNjcmlwdGlvbkxvYWRpbmciLCJzZXRTdWJzY3JpcHRpb25Mb2FkaW5nIiwic3Vic2NyaXB0aW9uQ2FuY2VsbGVkIiwic2V0U3Vic2NyaXB0aW9uQ2FuY2VsbGVkIiwiY2FuY2VsQXRQZXJpb2RFbmQiLCJzZXRDYW5jZWxBdFBlcmlvZEVuZCIsImN1cnJlbnRQZXJpb2RFbmQiLCJzZXRDdXJyZW50UGVyaW9kRW5kIiwiaGFzUHJlbWl1bU1pc21hdGNoIiwic2V0SGFzUHJlbWl1bU1pc21hdGNoIiwiZmVlZGJhY2tNb2RhbE9wZW4iLCJzZXRGZWVkYmFja01vZGFsT3BlbiIsImJpbGxpbmdQb3J0YWxMb2FkaW5nIiwic2V0QmlsbGluZ1BvcnRhbExvYWRpbmciLCJ0b2FzdHMiLCJzaG93VG9hc3QiLCJyZW1vdmVUb2FzdCIsIlRvYXN0Q29udGFpbmVyIiwiaGFuZGxlRmVlZGJhY2tTdWJtaXQiLCJyYXRpbmciLCJjb21tZW50IiwidXNlcklkIiwiaWQiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJoYW5kbGVQbGFjZWhvbGRlckNsaWNrIiwiZmVhdHVyZSIsImFsZXJ0IiwiZmV0Y2hTdWJzY3JpcHRpb25QbGFuIiwic3Vic2NyaXB0aW9uIiwibG9nIiwiaXNDYW5jZWxsZWQiLCJwZXJpb2RFbmREYXRlIiwicGVyaW9kSGFzRW5kZWQiLCJEYXRlIiwiY2FuY2VsbGVkIiwicGxhbiIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsIm9yaWdpbmFsUHJpY2UiLCJjdXJyZW50UHJpY2UiLCJwcmljZSIsIndhcm4iLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImhhbmRsZVJlc3RvcmVQdXJjaGFzZSIsInJlc3VsdCIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImRpc3BsYXlFcnJvciIsImhhbmRsZUxvZ291dENsaWNrIiwiaGFuZGxlTWFuYWdlQmlsbGluZyIsInJldHVyblVybCIsIm9yaWdpbiIsInBvcnRhbFVybCIsImhyZWYiLCJpc1ByZW1pdW0iLCJQcmVtaXVtIiwiaXNBbm9ueW1vdXMiLCJtZW1iZXJTaW5jZSIsImNyZWF0ZWRfYXQiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJmdWxsTmFtZSIsInVzZXJfbWV0YWRhdGEiLCJmdWxsX25hbWUiLCJlbWFpbCIsImRpc3BsYXlOYW1lIiwic3BsaXQiLCJvblJlbW92ZSIsImgxIiwibWFpbiIsImFyaWEtbGFiZWwiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImkiLCJhcmlhLWhpZGRlbiIsImgzIiwic3BhbiIsIkxvZ2luIiwicCIsInR5cGUiLCJkaXNhYmxlZCIsImZ1bGxXaWR0aCIsImxvYWRpbmciLCJpY29uIiwidW5kZWZpbmVkIiwiQ2FuY2VsU3Vic2NyaXB0aW9uIiwic2l6ZSIsIlByaXZhY3lQb2xpY3kiLCJUZXJtc09mU2VydmljZSIsIlN1YnNjcmlwdGlvblRlcm1zIiwiQ29va2llUG9saWN5IiwiRGlzY2xhaW1lciIsIlN1cHBvcnQiLCJpc09wZW4iLCJvbkNsb3NlIiwib25TdWJtaXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/views/SettingsView.tsx\n");

/***/ }),

/***/ "(ssr)/./services/feedbackService.ts":
/*!*************************************!*\
  !*** ./services/feedbackService.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   submitFeedback: () => (/* binding */ submitFeedback)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n\n/**\n * Submit user feedback (rating + optional comment) to Supabase.\n * If Supabase is not configured, logs a warning and returns silently.\n */ const submitFeedback = async (payload)=>{\n    const { rating, comment, userId } = payload;\n    console.log('[feedbackService] Submitting feedback:', {\n        rating,\n        hasComment: !!comment,\n        userId: userId ?? 'anonymous'\n    });\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n        console.warn('[feedbackService] Supabase not configured. Feedback not saved.');\n        // Resolve silently so the UI can still show success (useful for local dev)\n        return;\n    }\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n    const { error } = await supabase.from('feedback').insert({\n        user_id: userId ?? null,\n        rating,\n        comment: comment?.trim() || null,\n        created_at: new Date().toISOString(),\n        user_agent: typeof navigator !== 'undefined' ? navigator.userAgent : null\n    });\n    if (error) {\n        console.error('[feedbackService] Failed to insert feedback:', error);\n        throw new Error('Failed to submit feedback. Please try again.');\n    }\n    console.log('[feedbackService] Feedback submitted successfully');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zZXJ2aWNlcy9mZWVkYmFja1NlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUU7QUFRekU7OztDQUdDLEdBQ00sTUFBTUUsaUJBQWlCLE9BQU9DO0lBQ2pDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLE1BQU0sRUFBRSxHQUFHSDtJQUVwQ0ksUUFBUUMsR0FBRyxDQUFDLDBDQUEwQztRQUFFSjtRQUFRSyxZQUFZLENBQUMsQ0FBQ0o7UUFBU0MsUUFBUUEsVUFBVTtJQUFZO0lBRXJILElBQUksQ0FBQ0wsbUVBQW9CQSxJQUFJO1FBQ3pCTSxRQUFRRyxJQUFJLENBQUM7UUFDYiwyRUFBMkU7UUFDM0U7SUFDSjtJQUVBLE1BQU1DLFdBQVdYLGdFQUFpQkE7SUFFbEMsTUFBTSxFQUFFWSxLQUFLLEVBQUUsR0FBRyxNQUFNRCxTQUFTRSxJQUFJLENBQUMsWUFBWUMsTUFBTSxDQUFDO1FBQ3JEQyxTQUFTVCxVQUFVO1FBQ25CRjtRQUNBQyxTQUFTQSxTQUFTVyxVQUFVO1FBQzVCQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7UUFDbENDLFlBQVksT0FBT0MsY0FBYyxjQUFjQSxVQUFVQyxTQUFTLEdBQUc7SUFDekU7SUFFQSxJQUFJVixPQUFPO1FBQ1BMLFFBQVFLLEtBQUssQ0FBQyxnREFBZ0RBO1FBQzlELE1BQU0sSUFBSVcsTUFBTTtJQUNwQjtJQUVBaEIsUUFBUUMsR0FBRyxDQUFDO0FBQ2hCLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL3NlcnZpY2VzL2ZlZWRiYWNrU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTdXBhYmFzZUNsaWVudCwgaXNTdXBhYmFzZUNvbmZpZ3VyZWQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmVlZGJhY2tQYXlsb2FkIHtcbiAgICByYXRpbmc6IG51bWJlcjtcbiAgICBjb21tZW50Pzogc3RyaW5nO1xuICAgIHVzZXJJZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBTdWJtaXQgdXNlciBmZWVkYmFjayAocmF0aW5nICsgb3B0aW9uYWwgY29tbWVudCkgdG8gU3VwYWJhc2UuXG4gKiBJZiBTdXBhYmFzZSBpcyBub3QgY29uZmlndXJlZCwgbG9ncyBhIHdhcm5pbmcgYW5kIHJldHVybnMgc2lsZW50bHkuXG4gKi9cbmV4cG9ydCBjb25zdCBzdWJtaXRGZWVkYmFjayA9IGFzeW5jIChwYXlsb2FkOiBGZWVkYmFja1BheWxvYWQpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCB7IHJhdGluZywgY29tbWVudCwgdXNlcklkIH0gPSBwYXlsb2FkO1xuXG4gICAgY29uc29sZS5sb2coJ1tmZWVkYmFja1NlcnZpY2VdIFN1Ym1pdHRpbmcgZmVlZGJhY2s6JywgeyByYXRpbmcsIGhhc0NvbW1lbnQ6ICEhY29tbWVudCwgdXNlcklkOiB1c2VySWQgPz8gJ2Fub255bW91cycgfSk7XG5cbiAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZmVlZGJhY2tTZXJ2aWNlXSBTdXBhYmFzZSBub3QgY29uZmlndXJlZC4gRmVlZGJhY2sgbm90IHNhdmVkLicpO1xuICAgICAgICAvLyBSZXNvbHZlIHNpbGVudGx5IHNvIHRoZSBVSSBjYW4gc3RpbGwgc2hvdyBzdWNjZXNzICh1c2VmdWwgZm9yIGxvY2FsIGRldilcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ2ZlZWRiYWNrJykuaW5zZXJ0KHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkID8/IG51bGwsXG4gICAgICAgIHJhdGluZyxcbiAgICAgICAgY29tbWVudDogY29tbWVudD8udHJpbSgpIHx8IG51bGwsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXNlcl9hZ2VudDogdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IudXNlckFnZW50IDogbnVsbCxcbiAgICB9KTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZmVlZGJhY2tTZXJ2aWNlXSBGYWlsZWQgdG8gaW5zZXJ0IGZlZWRiYWNrOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3VibWl0IGZlZWRiYWNrLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdbZmVlZGJhY2tTZXJ2aWNlXSBGZWVkYmFjayBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59O1xuXG4iXSwibmFtZXMiOlsiZ2V0U3VwYWJhc2VDbGllbnQiLCJpc1N1cGFiYXNlQ29uZmlndXJlZCIsInN1Ym1pdEZlZWRiYWNrIiwicGF5bG9hZCIsInJhdGluZyIsImNvbW1lbnQiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwiaGFzQ29tbWVudCIsIndhcm4iLCJzdXBhYmFzZSIsImVycm9yIiwiZnJvbSIsImluc2VydCIsInVzZXJfaWQiLCJ0cmltIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVzZXJfYWdlbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJFcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./services/feedbackService.ts\n");

/***/ }),

/***/ "(ssr)/./services/stripeService.ts":
/*!***********************************!*\
  !*** ./services/stripeService.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyRetentionDiscount: () => (/* binding */ applyRetentionDiscount),\n/* harmony export */   cancelSubscription: () => (/* binding */ cancelSubscription),\n/* harmony export */   createBillingPortalSession: () => (/* binding */ createBillingPortalSession),\n/* harmony export */   createCheckoutSession: () => (/* binding */ createCheckoutSession),\n/* harmony export */   createMockSubscription: () => (/* binding */ createMockSubscription),\n/* harmony export */   getUserSubscription: () => (/* binding */ getUserSubscription),\n/* harmony export */   redirectToCheckout: () => (/* binding */ redirectToCheckout),\n/* harmony export */   restoreSubscription: () => (/* binding */ restoreSubscription),\n/* harmony export */   upgradeToAnnual: () => (/* binding */ upgradeToAnnual)\n/* harmony export */ });\n/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stripe/stripe-js */ \"(ssr)/./node_modules/@stripe/stripe-js/lib/index.mjs\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _utils_sessionManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/sessionManager */ \"(ssr)/./utils/sessionManager.ts\");\n\n\n\n// Get Stripe publishable key from environment\nconst getStripePublishableKey = ()=>{\n    const key = \"pk_test_51SQyUERi2fT4iEDsht3iyOUKPtnTgjMArwyt01St3yYJnMRIbyTVox4swh6WyJ7CNPV4y5C6QRKAhNqFCFJDPwHn007DAju5WZ\";\n    if (!key) {\n        throw new Error('NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY is not set in environment variables');\n    }\n    return key;\n};\n// Initialize Stripe\nlet stripePromise = null;\nconst getStripe = ()=>{\n    if (!stripePromise) {\n        stripePromise = (0,_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_0__.loadStripe)(getStripePublishableKey());\n    }\n    return stripePromise;\n};\n/**\n * Get the Supabase Functions URL from environment\n * Uses VITE_SUPABASE_URL to construct the functions URL\n */ const getFunctionsUrl = ()=>{\n    // First check for explicit functions URL\n    const functionsUrl = process.env.NEXT_PUBLIC_SUPABASE_FUNCTIONS_URL;\n    if (functionsUrl) {\n        return functionsUrl;\n    }\n    // Fall back to constructing from Supabase URL\n    const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n    if (!supabaseUrl) {\n        throw new Error('NEXT_PUBLIC_SUPABASE_URL is not set. Cannot determine Edge Functions URL.');\n    }\n    // Convert https://xxx.supabase.co to https://xxx.supabase.co/functions/v1\n    return `${supabaseUrl}/functions/v1`;\n};\n/**\n * Get user's JWT token from Supabase session\n * Throws error if no session exists (user must be logged in)\n */ const getAuthToken = async ()=>{\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.isSupabaseConfigured)()) {\n        throw new Error('Supabase is not configured. Please check your environment variables.');\n    }\n    // Use sessionManager utility which handles token refresh automatically\n    const token = await (0,_utils_sessionManager__WEBPACK_IMPORTED_MODULE_2__.getValidAuthToken)();\n    if (!token) {\n        throw new Error('You must be logged in to perform this action. Please log in and try again.');\n    }\n    return token;\n};\n/**\n * Make a request to a Supabase Edge Function\n * Requires user authentication (JWT token)\n */ const callEdgeFunction = async (functionName, options = {})=>{\n    const { method = 'POST', body, params } = options;\n    const functionsUrl = getFunctionsUrl();\n    // Get user's JWT token (requires authentication)\n    let authToken;\n    try {\n        authToken = await getAuthToken();\n    } catch (error) {\n        // Re-throw with clear error message\n        if (error instanceof Error) {\n            throw error;\n        }\n        throw new Error('Authentication failed. Please log in and try again.');\n    }\n    let url = `${functionsUrl}/${functionName}`;\n    // Add query params for GET requests\n    if (params && Object.keys(params).length > 0) {\n        const searchParams = new URLSearchParams(params);\n        url += `?${searchParams.toString()}`;\n    }\n    const fetchOptions = {\n        method,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${authToken}`\n        }\n    };\n    if (body && method === 'POST') {\n        fetchOptions.body = JSON.stringify(body);\n    }\n    return fetch(url, fetchOptions);\n};\n/**\n * Create a Stripe Checkout Session via Supabase Edge Function\n */ const createCheckoutSession = async (userId, plan, email)=>{\n    const body = {\n        userId,\n        plan\n    };\n    if (email) {\n        body.email = email;\n    }\n    const response = await callEdgeFunction('create-checkout-session', {\n        method: 'POST',\n        body\n    });\n    if (!response.ok) {\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to create checkout session'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to create checkout session';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Redirect user to Stripe Checkout\n */ const redirectToCheckout = async (userId, plan, email)=>{\n    try {\n        console.log('[stripeService] Creating checkout session for user:', userId, 'plan:', plan, 'email:', email);\n        const { sessionId, url } = await createCheckoutSession(userId, plan, email);\n        if (url) {\n            // Redirect to Stripe Checkout\n            window.location.href = url;\n        } else {\n            // Fallback: use Stripe.js redirect\n            const stripe = await getStripe();\n            const { error } = await stripe.redirectToCheckout({\n                sessionId\n            });\n            if (error) {\n                throw new Error(error.message || 'Failed to redirect to checkout');\n            }\n        }\n    } catch (error) {\n        console.error('[stripeService] Checkout error:', error);\n        throw error;\n    }\n};\n/**\n * Get user's subscription details\n * Returns null if no subscription is found (404), throws error for other failures\n */ const getUserSubscription = async (userId)=>{\n    const response = await callEdgeFunction('get-subscription', {\n        method: 'GET',\n        params: {\n            userId\n        }\n    });\n    if (!response.ok) {\n        // Handle 404 (no subscription found)\n        if (response.status === 404) {\n            // Check if the response includes premium tier info\n            const errorData = await response.json().catch(()=>({}));\n            if (errorData.hasPremiumTier) {\n                // Return a special object to indicate premium tier mismatch\n                return {\n                    _premiumTierMismatch: true,\n                    error: errorData.error || 'No subscription found'\n                };\n            }\n            return null;\n        }\n        // For other errors, parse and throw with proper error message\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to get subscription'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to get subscription';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Cancel subscription with retention offer option\n */ const cancelSubscription = async (userId, acceptOffer)=>{\n    const response = await callEdgeFunction('cancel-subscription', {\n        method: 'POST',\n        body: {\n            userId,\n            action: acceptOffer ? 'accept_offer' : 'cancel'\n        }\n    });\n    if (!response.ok) {\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to cancel subscription'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to cancel subscription';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Apply retention discount to subscription\n */ const applyRetentionDiscount = async (userId)=>{\n    const response = await callEdgeFunction('apply-retention-discount', {\n        method: 'POST',\n        body: {\n            userId\n        }\n    });\n    if (!response.ok) {\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to apply retention discount'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to apply retention discount';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Restore a cancelled subscription\n */ const restoreSubscription = async (userId)=>{\n    const response = await callEdgeFunction('restore-subscription', {\n        method: 'POST',\n        body: {\n            userId\n        }\n    });\n    if (!response.ok) {\n        const errorData = await response.json().catch(()=>({\n                error: 'Failed to restore subscription'\n            }));\n        const errorMessage = errorData.error || errorData.message || 'Failed to restore subscription';\n        throw new Error(errorMessage);\n    }\n    return await response.json();\n};\n/**\n * Upgrade subscription from monthly to annual\n */ const upgradeToAnnual = async (userId)=>{\n    console.log('[stripeService] upgradeToAnnual called for user:', userId);\n    try {\n        const response = await callEdgeFunction('upgrade-subscription', {\n            method: 'POST',\n            body: {\n                userId\n            }\n        });\n        console.log('[stripeService] upgradeToAnnual response status:', response.status, response.statusText);\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>{\n                console.error('[stripeService] Failed to parse error response');\n                return {\n                    error: `Failed to upgrade subscription (${response.status} ${response.statusText})`\n                };\n            });\n            const errorMessage = errorData.error || errorData.message || `Failed to upgrade subscription (${response.status})`;\n            console.error('[stripeService] upgradeToAnnual error:', errorMessage, errorData);\n            throw new Error(errorMessage);\n        }\n        const result = await response.json();\n        console.log('[stripeService] upgradeToAnnual success:', result);\n        return result;\n    } catch (error) {\n        console.error('[stripeService] upgradeToAnnual exception:', error);\n        if (error instanceof Error) {\n            throw error;\n        }\n        throw new Error('Failed to upgrade subscription');\n    }\n};\n/**\n * Create a Stripe Customer Portal session for managing billing\n */ const createBillingPortalSession = async (userId, returnUrl)=>{\n    console.log('[stripeService] createBillingPortalSession called for user:', userId);\n    try {\n        const body = {\n            userId\n        };\n        if (returnUrl) {\n            body.returnUrl = returnUrl;\n        }\n        const response = await callEdgeFunction('create-billing-portal-session', {\n            method: 'POST',\n            body\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({\n                    error: 'Failed to create billing portal session'\n                }));\n            const errorMessage = errorData.error || errorData.message || 'Failed to create billing portal session';\n            throw new Error(errorMessage);\n        }\n        const data = await response.json();\n        if (!data.url) {\n            throw new Error('No portal URL returned from server');\n        }\n        console.log('[stripeService] Billing portal session created successfully');\n        return data.url;\n    } catch (error) {\n        console.error('[stripeService] createBillingPortalSession error:', error);\n        throw error;\n    }\n};\n/**\n * Create a mock subscription (development only)\n * Note: This functionality is no longer supported with Edge Functions.\n * Use real Stripe test mode instead.\n */ const createMockSubscription = async (_userId, _plan)=>{\n    throw new Error('Mock subscriptions are not supported with Edge Functions. ' + 'Please use Stripe test mode with test card numbers instead.');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlsQixNQUFNO1FBQ3BCO1FBRUEwQyxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPb0IsS0FBSzdDLEdBQUc7SUFDbkIsRUFBRSxPQUFPRCxPQUFPO1FBQ1p5QixRQUFRekIsS0FBSyxDQUFDLHFEQUFxREE7UUFDbkUsTUFBTUE7SUFDVjtBQUNKLEVBQUU7QUFFRjs7OztDQUlDLEdBQ00sTUFBTStDLHlCQUF5QixPQUFPQyxTQUFpQkM7SUFDMUQsTUFBTSxJQUFJbEUsTUFDTiwrREFDQTtBQUVSLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL3NlcnZpY2VzL3N0cmlwZVNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9hZFN0cmlwZSB9IGZyb20gJ0BzdHJpcGUvc3RyaXBlLWpzJztcbmltcG9ydCB7IGlzU3VwYWJhc2VDb25maWd1cmVkIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xuaW1wb3J0IHsgZ2V0VmFsaWRBdXRoVG9rZW4gfSBmcm9tICdAL3V0aWxzL3Nlc3Npb25NYW5hZ2VyJztcblxuLy8gR2V0IFN0cmlwZSBwdWJsaXNoYWJsZSBrZXkgZnJvbSBlbnZpcm9ubWVudFxuY29uc3QgZ2V0U3RyaXBlUHVibGlzaGFibGVLZXkgPSAoKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVFJJUEVfUFVCTElTSEFCTEVfS0VZO1xuICAgIGlmICgha2V5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTkVYVF9QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSBpcyBub3Qgc2V0IGluIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xufTtcblxuLy8gSW5pdGlhbGl6ZSBTdHJpcGVcbmxldCBzdHJpcGVQcm9taXNlOiBQcm9taXNlPGFueT4gfCBudWxsID0gbnVsbDtcbmNvbnN0IGdldFN0cmlwZSA9ICgpID0+IHtcbiAgICBpZiAoIXN0cmlwZVByb21pc2UpIHtcbiAgICAgICAgc3RyaXBlUHJvbWlzZSA9IGxvYWRTdHJpcGUoZ2V0U3RyaXBlUHVibGlzaGFibGVLZXkoKSk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpcGVQcm9taXNlO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIFN1cGFiYXNlIEZ1bmN0aW9ucyBVUkwgZnJvbSBlbnZpcm9ubWVudFxuICogVXNlcyBWSVRFX1NVUEFCQVNFX1VSTCB0byBjb25zdHJ1Y3QgdGhlIGZ1bmN0aW9ucyBVUkxcbiAqL1xuY29uc3QgZ2V0RnVuY3Rpb25zVXJsID0gKCk6IHN0cmluZyA9PiB7XG4gICAgLy8gRmlyc3QgY2hlY2sgZm9yIGV4cGxpY2l0IGZ1bmN0aW9ucyBVUkxcbiAgICBjb25zdCBmdW5jdGlvbnNVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9GVU5DVElPTlNfVVJMO1xuICAgIGlmIChmdW5jdGlvbnNVcmwpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uc1VybDtcbiAgICB9XG5cbiAgICAvLyBGYWxsIGJhY2sgdG8gY29uc3RydWN0aW5nIGZyb20gU3VwYWJhc2UgVVJMXG4gICAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG4gICAgaWYgKCFzdXBhYmFzZVVybCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCBpcyBub3Qgc2V0LiBDYW5ub3QgZGV0ZXJtaW5lIEVkZ2UgRnVuY3Rpb25zIFVSTC4nKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGh0dHBzOi8veHh4LnN1cGFiYXNlLmNvIHRvIGh0dHBzOi8veHh4LnN1cGFiYXNlLmNvL2Z1bmN0aW9ucy92MVxuICAgIHJldHVybiBgJHtzdXBhYmFzZVVybH0vZnVuY3Rpb25zL3YxYDtcbn07XG5cbi8qKlxuICogR2V0IHVzZXIncyBKV1QgdG9rZW4gZnJvbSBTdXBhYmFzZSBzZXNzaW9uXG4gKiBUaHJvd3MgZXJyb3IgaWYgbm8gc2Vzc2lvbiBleGlzdHMgKHVzZXIgbXVzdCBiZSBsb2dnZWQgaW4pXG4gKi9cbmNvbnN0IGdldEF1dGhUb2tlbiA9IGFzeW5jICgpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2UgY2hlY2sgeW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZXMuJyk7XG4gICAgfVxuXG4gICAgLy8gVXNlIHNlc3Npb25NYW5hZ2VyIHV0aWxpdHkgd2hpY2ggaGFuZGxlcyB0b2tlbiByZWZyZXNoIGF1dG9tYXRpY2FsbHlcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldFZhbGlkQXV0aFRva2VuKCk7XG4gICAgXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBwZXJmb3JtIHRoaXMgYWN0aW9uLiBQbGVhc2UgbG9nIGluIGFuZCB0cnkgYWdhaW4uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VuO1xufTtcblxuLyoqXG4gKiBNYWtlIGEgcmVxdWVzdCB0byBhIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbiAqIFJlcXVpcmVzIHVzZXIgYXV0aGVudGljYXRpb24gKEpXVCB0b2tlbilcbiAqL1xuY29uc3QgY2FsbEVkZ2VGdW5jdGlvbiA9IGFzeW5jIChcbiAgICBmdW5jdGlvbk5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIG1ldGhvZD86ICdHRVQnIHwgJ1BPU1QnO1xuICAgICAgICBib2R5PzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICAgIHBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgfSA9IHt9XG4pOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgeyBtZXRob2QgPSAnUE9TVCcsIGJvZHksIHBhcmFtcyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBmdW5jdGlvbnNVcmwgPSBnZXRGdW5jdGlvbnNVcmwoKTtcblxuICAgIC8vIEdldCB1c2VyJ3MgSldUIHRva2VuIChyZXF1aXJlcyBhdXRoZW50aWNhdGlvbilcbiAgICBsZXQgYXV0aFRva2VuOiBzdHJpbmc7XG4gICAgdHJ5IHtcbiAgICAgICAgYXV0aFRva2VuID0gYXdhaXQgZ2V0QXV0aFRva2VuKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gUmUtdGhyb3cgd2l0aCBjbGVhciBlcnJvciBtZXNzYWdlXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZC4gUGxlYXNlIGxvZyBpbiBhbmQgdHJ5IGFnYWluLicpO1xuICAgIH1cblxuICAgIGxldCB1cmwgPSBgJHtmdW5jdGlvbnNVcmx9LyR7ZnVuY3Rpb25OYW1lfWA7XG4gICAgXG4gICAgLy8gQWRkIHF1ZXJ5IHBhcmFtcyBmb3IgR0VUIHJlcXVlc3RzXG4gICAgaWYgKHBhcmFtcyAmJiBPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpO1xuICAgICAgICB1cmwgKz0gYD8ke3NlYXJjaFBhcmFtcy50b1N0cmluZygpfWA7XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2hPcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXV0aFRva2VufWAsXG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGlmIChib2R5ICYmIG1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgICAgIGZldGNoT3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZldGNoKHVybCwgZmV0Y2hPcHRpb25zKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgU3RyaXBlIENoZWNrb3V0IFNlc3Npb24gdmlhIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoZWNrb3V0U2Vzc2lvbiA9IGFzeW5jIChcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBwbGFuOiAnbW9udGhseScgfCAnYW5udWFsJyxcbiAgICBlbWFpbD86IHN0cmluZ1xuKTogUHJvbWlzZTx7IHNlc3Npb25JZDogc3RyaW5nOyB1cmw6IHN0cmluZyB9PiA9PiB7XG4gICAgY29uc3QgYm9keTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7IHVzZXJJZCwgcGxhbiB9O1xuICAgIGlmIChlbWFpbCkge1xuICAgICAgICBib2R5LmVtYWlsID0gZW1haWw7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYWxsRWRnZUZ1bmN0aW9uKCdjcmVhdGUtY2hlY2tvdXQtc2Vzc2lvbicsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgY2hlY2tvdXQgc2Vzc2lvbicgfSkpO1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY2hlY2tvdXQgc2Vzc2lvbic7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuXG4vKipcbiAqIFJlZGlyZWN0IHVzZXIgdG8gU3RyaXBlIENoZWNrb3V0XG4gKi9cbmV4cG9ydCBjb25zdCByZWRpcmVjdFRvQ2hlY2tvdXQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHBsYW46ICdtb250aGx5JyB8ICdhbm51YWwnLCBlbWFpbD86IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3RyaXBlU2VydmljZV0gQ3JlYXRpbmcgY2hlY2tvdXQgc2Vzc2lvbiBmb3IgdXNlcjonLCB1c2VySWQsICdwbGFuOicsIHBsYW4sICdlbWFpbDonLCBlbWFpbCk7XG5cbiAgICAgICAgY29uc3QgeyBzZXNzaW9uSWQsIHVybCB9ID0gYXdhaXQgY3JlYXRlQ2hlY2tvdXRTZXNzaW9uKHVzZXJJZCwgcGxhbiwgZW1haWwpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gU3RyaXBlIENoZWNrb3V0XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiB1c2UgU3RyaXBlLmpzIHJlZGlyZWN0XG4gICAgICAgICAgICBjb25zdCBzdHJpcGUgPSBhd2FpdCBnZXRTdHJpcGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN0cmlwZSEucmVkaXJlY3RUb0NoZWNrb3V0KHsgc2Vzc2lvbklkIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHJlZGlyZWN0IHRvIGNoZWNrb3V0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc3RyaXBlU2VydmljZV0gQ2hlY2tvdXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuXG4vKipcbiAqIEdldCB1c2VyJ3Mgc3Vic2NyaXB0aW9uIGRldGFpbHNcbiAqIFJldHVybnMgbnVsbCBpZiBubyBzdWJzY3JpcHRpb24gaXMgZm91bmQgKDQwNCksIHRocm93cyBlcnJvciBmb3Igb3RoZXIgZmFpbHVyZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFVzZXJTdWJzY3JpcHRpb24gPSBhc3luYyAodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueSB8IG51bGw+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxFZGdlRnVuY3Rpb24oJ2dldC1zdWJzY3JpcHRpb24nLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhcmFtczogeyB1c2VySWQgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgLy8gSGFuZGxlIDQwNCAobm8gc3Vic2NyaXB0aW9uIGZvdW5kKVxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSByZXNwb25zZSBpbmNsdWRlcyBwcmVtaXVtIHRpZXIgaW5mb1xuICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgICAgaWYgKGVycm9yRGF0YS5oYXNQcmVtaXVtVGllcikge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBhIHNwZWNpYWwgb2JqZWN0IHRvIGluZGljYXRlIHByZW1pdW0gdGllciBtaXNtYXRjaFxuICAgICAgICAgICAgICAgIHJldHVybiB7IF9wcmVtaXVtVGllck1pc21hdGNoOiB0cnVlLCBlcnJvcjogZXJyb3JEYXRhLmVycm9yIHx8ICdObyBzdWJzY3JpcHRpb24gZm91bmQnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRm9yIG90aGVyIGVycm9ycywgcGFyc2UgYW5kIHRocm93IHdpdGggcHJvcGVyIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnRmFpbGVkIHRvIGdldCBzdWJzY3JpcHRpb24nIH0pKTtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZ2V0IHN1YnNjcmlwdGlvbic7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuXG4vKipcbiAqIENhbmNlbCBzdWJzY3JpcHRpb24gd2l0aCByZXRlbnRpb24gb2ZmZXIgb3B0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBjYW5jZWxTdWJzY3JpcHRpb24gPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGFjY2VwdE9mZmVyOiBib29sZWFuKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxFZGdlRnVuY3Rpb24oJ2NhbmNlbC1zdWJzY3JpcHRpb24nLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICBhY3Rpb246IGFjY2VwdE9mZmVyID8gJ2FjY2VwdF9vZmZlcicgOiAnY2FuY2VsJyxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnRmFpbGVkIHRvIGNhbmNlbCBzdWJzY3JpcHRpb24nIH0pKTtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY2FuY2VsIHN1YnNjcmlwdGlvbic7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuXG4vKipcbiAqIEFwcGx5IHJldGVudGlvbiBkaXNjb3VudCB0byBzdWJzY3JpcHRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGFwcGx5UmV0ZW50aW9uRGlzY291bnQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2FsbEVkZ2VGdW5jdGlvbignYXBwbHktcmV0ZW50aW9uLWRpc2NvdW50Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogeyB1c2VySWQgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnRmFpbGVkIHRvIGFwcGx5IHJldGVudGlvbiBkaXNjb3VudCcgfSkpO1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBhcHBseSByZXRlbnRpb24gZGlzY291bnQnO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xufTtcblxuLyoqXG4gKiBSZXN0b3JlIGEgY2FuY2VsbGVkIHN1YnNjcmlwdGlvblxuICovXG5leHBvcnQgY29uc3QgcmVzdG9yZVN1YnNjcmlwdGlvbiA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYWxsRWRnZUZ1bmN0aW9uKCdyZXN0b3JlLXN1YnNjcmlwdGlvbicsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IHsgdXNlcklkIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ0ZhaWxlZCB0byByZXN0b3JlIHN1YnNjcmlwdGlvbicgfSkpO1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byByZXN0b3JlIHN1YnNjcmlwdGlvbic7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuXG4vKipcbiAqIFVwZ3JhZGUgc3Vic2NyaXB0aW9uIGZyb20gbW9udGhseSB0byBhbm51YWxcbiAqL1xuZXhwb3J0IGNvbnN0IHVwZ3JhZGVUb0FubnVhbCA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tzdHJpcGVTZXJ2aWNlXSB1cGdyYWRlVG9Bbm51YWwgY2FsbGVkIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYWxsRWRnZUZ1bmN0aW9uKCd1cGdyYWRlLXN1YnNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogeyB1c2VySWQgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1tzdHJpcGVTZXJ2aWNlXSB1cGdyYWRlVG9Bbm51YWwgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc3RyaXBlU2VydmljZV0gRmFpbGVkIHRvIHBhcnNlIGVycm9yIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGBGYWlsZWQgdG8gdXBncmFkZSBzdWJzY3JpcHRpb24gKCR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9KWAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8IGBGYWlsZWQgdG8gdXBncmFkZSBzdWJzY3JpcHRpb24gKCR7cmVzcG9uc2Uuc3RhdHVzfSlgO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW3N0cmlwZVNlcnZpY2VdIHVwZ3JhZGVUb0FubnVhbCBlcnJvcjonLCBlcnJvck1lc3NhZ2UsIGVycm9yRGF0YSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tzdHJpcGVTZXJ2aWNlXSB1cGdyYWRlVG9Bbm51YWwgc3VjY2VzczonLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzdHJpcGVTZXJ2aWNlXSB1cGdyYWRlVG9Bbm51YWwgZXhjZXB0aW9uOicsIGVycm9yKTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwZ3JhZGUgc3Vic2NyaXB0aW9uJyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBTdHJpcGUgQ3VzdG9tZXIgUG9ydGFsIHNlc3Npb24gZm9yIG1hbmFnaW5nIGJpbGxpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUJpbGxpbmdQb3J0YWxTZXNzaW9uID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCByZXR1cm5Vcmw/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbc3RyaXBlU2VydmljZV0gY3JlYXRlQmlsbGluZ1BvcnRhbFNlc3Npb24gY2FsbGVkIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYm9keTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7IHVzZXJJZCB9O1xuICAgICAgICBpZiAocmV0dXJuVXJsKSB7XG4gICAgICAgICAgICBib2R5LnJldHVyblVybCA9IHJldHVyblVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2FsbEVkZ2VGdW5jdGlvbignY3JlYXRlLWJpbGxpbmctcG9ydGFsLXNlc3Npb24nLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgYmlsbGluZyBwb3J0YWwgc2Vzc2lvbicgfSkpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGJpbGxpbmcgcG9ydGFsIHNlc3Npb24nO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIWRhdGEudXJsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHBvcnRhbCBVUkwgcmV0dXJuZWQgZnJvbSBzZXJ2ZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3RyaXBlU2VydmljZV0gQmlsbGluZyBwb3J0YWwgc2Vzc2lvbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICByZXR1cm4gZGF0YS51cmw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3N0cmlwZVNlcnZpY2VdIGNyZWF0ZUJpbGxpbmdQb3J0YWxTZXNzaW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBtb2NrIHN1YnNjcmlwdGlvbiAoZGV2ZWxvcG1lbnQgb25seSlcbiAqIE5vdGU6IFRoaXMgZnVuY3Rpb25hbGl0eSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIHdpdGggRWRnZSBGdW5jdGlvbnMuXG4gKiBVc2UgcmVhbCBTdHJpcGUgdGVzdCBtb2RlIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVNb2NrU3Vic2NyaXB0aW9uID0gYXN5bmMgKF91c2VySWQ6IHN0cmluZywgX3BsYW46ICdtb250aGx5JyB8ICdhbm51YWwnKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdNb2NrIHN1YnNjcmlwdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBFZGdlIEZ1bmN0aW9ucy4gJyArXG4gICAgICAgICdQbGVhc2UgdXNlIFN0cmlwZSB0ZXN0IG1vZGUgd2l0aCB0ZXN0IGNhcmQgbnVtYmVycyBpbnN0ZWFkLidcbiAgICApO1xufTtcbiJdLCJuYW1lcyI6WyJsb2FkU3RyaXBlIiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJnZXRWYWxpZEF1dGhUb2tlbiIsImdldFN0cmlwZVB1Ymxpc2hhYmxlS2V5Iiwia2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NUUklQRV9QVUJMSVNIQUJMRV9LRVkiLCJFcnJvciIsInN0cmlwZVByb21pc2UiLCJnZXRTdHJpcGUiLCJnZXRGdW5jdGlvbnNVcmwiLCJmdW5jdGlvbnNVcmwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9GVU5DVElPTlNfVVJMIiwic3VwYWJhc2VVcmwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJnZXRBdXRoVG9rZW4iLCJ0b2tlbiIsImNhbGxFZGdlRnVuY3Rpb24iLCJmdW5jdGlvbk5hbWUiLCJvcHRpb25zIiwibWV0aG9kIiwiYm9keSIsInBhcmFtcyIsImF1dGhUb2tlbiIsImVycm9yIiwidXJsIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiZmV0Y2hPcHRpb25zIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsImNyZWF0ZUNoZWNrb3V0U2Vzc2lvbiIsInVzZXJJZCIsInBsYW4iLCJlbWFpbCIsInJlc3BvbnNlIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwicmVkaXJlY3RUb0NoZWNrb3V0IiwiY29uc29sZSIsImxvZyIsInNlc3Npb25JZCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInN0cmlwZSIsImdldFVzZXJTdWJzY3JpcHRpb24iLCJzdGF0dXMiLCJoYXNQcmVtaXVtVGllciIsIl9wcmVtaXVtVGllck1pc21hdGNoIiwiY2FuY2VsU3Vic2NyaXB0aW9uIiwiYWNjZXB0T2ZmZXIiLCJhY3Rpb24iLCJhcHBseVJldGVudGlvbkRpc2NvdW50IiwicmVzdG9yZVN1YnNjcmlwdGlvbiIsInVwZ3JhZGVUb0FubnVhbCIsInN0YXR1c1RleHQiLCJyZXN1bHQiLCJjcmVhdGVCaWxsaW5nUG9ydGFsU2Vzc2lvbiIsInJldHVyblVybCIsImRhdGEiLCJjcmVhdGVNb2NrU3Vic2NyaXB0aW9uIiwiX3VzZXJJZCIsIl9wbGFuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./services/stripeService.ts\n");

/***/ }),

/***/ "(ssr)/./utils/sessionManager.ts":
/*!*********************************!*\
  !*** ./utils/sessionManager.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoSaveSession: () => (/* binding */ autoSaveSession),\n/* harmony export */   clearAutoSavedSessions: () => (/* binding */ clearAutoSavedSessions),\n/* harmony export */   getAutoSavedSession: () => (/* binding */ getAutoSavedSession),\n/* harmony export */   getValidAuthToken: () => (/* binding */ getValidAuthToken),\n/* harmony export */   isSessionValid: () => (/* binding */ isSessionValid)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/**\n * Session Management Utility\n * \n * Handles token refresh, session expiry detection, and auto-save functionality\n * to prevent data loss during long practice sessions.\n */ \nconst AUTO_SAVE_KEY_PREFIX = 'mi-practice-auto-save-';\nconst AUTO_SAVE_EXPIRY_MS = 24 * 60 * 60 * 1000; // 24 hours\n/**\n * Get a valid auth token, refreshing if necessary\n * Returns null if session is expired and cannot be refreshed\n */ async function getValidAuthToken() {\n    if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n        return null;\n    }\n    try {\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n        if (sessionError || !session) {\n            return null;\n        }\n        if (!session.access_token) {\n            return null;\n        }\n        // Check if token is expired or will expire soon (within 5 minutes)\n        try {\n            const tokenParts = session.access_token.split('.');\n            if (tokenParts.length === 3) {\n                const payload = JSON.parse(atob(tokenParts[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const expiresAt = payload.exp || 0;\n                const timeUntilExpiry = expiresAt - now;\n                // If expired or expires within 5 minutes, refresh\n                if (timeUntilExpiry < 300) {\n                    console.log('[sessionManager] Token expires soon, refreshing...');\n                    if (session.refresh_token) {\n                        const { data: { session: refreshedSession }, error: refreshError } = await supabase.auth.refreshSession(session);\n                        if (refreshError || !refreshedSession?.access_token) {\n                            console.error('[sessionManager] Failed to refresh session:', refreshError);\n                            return null;\n                        }\n                        console.log('[sessionManager] Session refreshed successfully');\n                        return refreshedSession.access_token;\n                    } else {\n                        console.warn('[sessionManager] No refresh token available');\n                        return null;\n                    }\n                }\n            }\n        } catch (parseError) {\n            // If we can't parse the token, use it as-is (server will validate)\n            console.warn('[sessionManager] Could not parse token, using as-is');\n        }\n        return session.access_token;\n    } catch (error) {\n        console.error('[sessionManager] Error getting auth token:', error);\n        return null;\n    }\n}\n/**\n * Check if current session is valid\n */ async function isSessionValid() {\n    const token = await getValidAuthToken();\n    return token !== null;\n}\n/**\n * Auto-save practice session data to localStorage\n */ function autoSaveSession(sessionData) {\n    try {\n        const key = `${AUTO_SAVE_KEY_PREFIX}${Date.now()}`;\n        const data = {\n            ...sessionData,\n            timestamp: Date.now()\n        };\n        localStorage.setItem(key, JSON.stringify(data));\n        // Clean up old auto-saves (older than expiry)\n        cleanupOldAutoSaves();\n        console.log('[sessionManager] Auto-saved session data');\n    } catch (error) {\n        console.error('[sessionManager] Failed to auto-save:', error);\n    }\n}\n/**\n * Get the most recent auto-saved session\n */ function getAutoSavedSession() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        if (keys.length === 0) {\n            return null;\n        }\n        // Get the most recent auto-save\n        const sortedKeys = keys.sort((a, b)=>{\n            const timestampA = parseInt(a.replace(AUTO_SAVE_KEY_PREFIX, ''));\n            const timestampB = parseInt(b.replace(AUTO_SAVE_KEY_PREFIX, ''));\n            return timestampB - timestampA;\n        });\n        const mostRecentKey = sortedKeys[0];\n        const data = localStorage.getItem(mostRecentKey);\n        if (!data) {\n            return null;\n        }\n        const sessionData = JSON.parse(data);\n        // Check if auto-save is still valid (not expired)\n        const age = Date.now() - sessionData.timestamp;\n        if (age > AUTO_SAVE_EXPIRY_MS) {\n            localStorage.removeItem(mostRecentKey);\n            return null;\n        }\n        return {\n            transcript: sessionData.transcript,\n            patient: sessionData.patient,\n            timestamp: sessionData.timestamp\n        };\n    } catch (error) {\n        console.error('[sessionManager] Failed to get auto-saved session:', error);\n        return null;\n    }\n}\n/**\n * Clear all auto-saved sessions\n */ function clearAutoSavedSessions() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        keys.forEach((key)=>localStorage.removeItem(key));\n        console.log('[sessionManager] Cleared all auto-saved sessions');\n    } catch (error) {\n        console.error('[sessionManager] Failed to clear auto-saves:', error);\n    }\n}\n/**\n * Clean up old auto-saves (older than expiry)\n */ function cleanupOldAutoSaves() {\n    try {\n        const keys = Object.keys(localStorage).filter((key)=>key.startsWith(AUTO_SAVE_KEY_PREFIX));\n        const now = Date.now();\n        keys.forEach((key)=>{\n            const data = localStorage.getItem(key);\n            if (data) {\n                try {\n                    const sessionData = JSON.parse(data);\n                    const age = now - sessionData.timestamp;\n                    if (age > AUTO_SAVE_EXPIRY_MS) {\n                        localStorage.removeItem(key);\n                    }\n                } catch  {\n                    // Invalid data, remove it\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    } catch (error) {\n        console.error('[sessionManager] Failed to cleanup old auto-saves:', error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUIsUUFBUW5CLEtBQUssQ0FBQyxnREFBZ0RBO0lBQ2hFO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNELFNBQVNvQztJQUNQLElBQUk7UUFDRixNQUFNRSxPQUFPQyxPQUFPRCxJQUFJLENBQUNMLGNBQWNPLE1BQU0sQ0FBQ1QsQ0FBQUEsTUFDNUNBLElBQUlVLFVBQVUsQ0FBQy9DO1FBR2pCLE1BQU1rQixNQUFNRyxLQUFLSCxHQUFHO1FBQ3BCMEIsS0FBS21CLE9BQU8sQ0FBQzFCLENBQUFBO1lBQ1gsTUFBTWpDLE9BQU9tQyxhQUFha0IsT0FBTyxDQUFDcEI7WUFDbEMsSUFBSWpDLE1BQU07Z0JBQ1IsSUFBSTtvQkFDRixNQUFNZ0MsY0FBY3JCLEtBQUtDLEtBQUssQ0FBQ1o7b0JBQy9CLE1BQU1zRCxNQUFNeEMsTUFBTWtCLFlBQVlFLFNBQVM7b0JBQ3ZDLElBQUlvQixNQUFNekQscUJBQXFCO3dCQUM3QnNDLGFBQWFvQixVQUFVLENBQUN0QjtvQkFDMUI7Z0JBQ0YsRUFBRSxPQUFNO29CQUNOLDBCQUEwQjtvQkFDMUJFLGFBQWFvQixVQUFVLENBQUN0QjtnQkFDMUI7WUFDRjtRQUNGO0lBQ0YsRUFBRSxPQUFPL0IsT0FBTztRQUNkbUIsUUFBUW5CLEtBQUssQ0FBQyxzREFBc0RBO0lBQ3RFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL3V0aWxzL3Nlc3Npb25NYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2Vzc2lvbiBNYW5hZ2VtZW50IFV0aWxpdHlcbiAqIFxuICogSGFuZGxlcyB0b2tlbiByZWZyZXNoLCBzZXNzaW9uIGV4cGlyeSBkZXRlY3Rpb24sIGFuZCBhdXRvLXNhdmUgZnVuY3Rpb25hbGl0eVxuICogdG8gcHJldmVudCBkYXRhIGxvc3MgZHVyaW5nIGxvbmcgcHJhY3RpY2Ugc2Vzc2lvbnMuXG4gKi9cblxuaW1wb3J0IHsgZ2V0U3VwYWJhc2VDbGllbnQsIGlzU3VwYWJhc2VDb25maWd1cmVkIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25EYXRhIHtcbiAgdHJhbnNjcmlwdDogQXJyYXk8eyBhdXRob3I6IHN0cmluZzsgdGV4dDogc3RyaW5nIH0+O1xuICBwYXRpZW50OiBhbnk7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5jb25zdCBBVVRPX1NBVkVfS0VZX1BSRUZJWCA9ICdtaS1wcmFjdGljZS1hdXRvLXNhdmUtJztcbmNvbnN0IEFVVE9fU0FWRV9FWFBJUllfTVMgPSAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyAyNCBob3Vyc1xuXG4vKipcbiAqIEdldCBhIHZhbGlkIGF1dGggdG9rZW4sIHJlZnJlc2hpbmcgaWYgbmVjZXNzYXJ5XG4gKiBSZXR1cm5zIG51bGwgaWYgc2Vzc2lvbiBpcyBleHBpcmVkIGFuZCBjYW5ub3QgYmUgcmVmcmVzaGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRWYWxpZEF1dGhUb2tlbigpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgaWYgKCFpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9LCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcblxuICAgIGlmIChzZXNzaW9uRXJyb3IgfHwgIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghc2Vzc2lvbi5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRva2VuIGlzIGV4cGlyZWQgb3Igd2lsbCBleHBpcmUgc29vbiAod2l0aGluIDUgbWludXRlcylcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW5QYXJ0cyA9IHNlc3Npb24uYWNjZXNzX3Rva2VuLnNwbGl0KCcuJyk7XG4gICAgICBpZiAodG9rZW5QYXJ0cy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoYXRvYih0b2tlblBhcnRzWzFdKSk7XG4gICAgICAgIGNvbnN0IG5vdyA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICBjb25zdCBleHBpcmVzQXQgPSBwYXlsb2FkLmV4cCB8fCAwO1xuICAgICAgICBjb25zdCB0aW1lVW50aWxFeHBpcnkgPSBleHBpcmVzQXQgLSBub3c7XG5cbiAgICAgICAgLy8gSWYgZXhwaXJlZCBvciBleHBpcmVzIHdpdGhpbiA1IG1pbnV0ZXMsIHJlZnJlc2hcbiAgICAgICAgaWYgKHRpbWVVbnRpbEV4cGlyeSA8IDMwMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbc2Vzc2lvbk1hbmFnZXJdIFRva2VuIGV4cGlyZXMgc29vbiwgcmVmcmVzaGluZy4uLicpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChzZXNzaW9uLnJlZnJlc2hfdG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uOiByZWZyZXNoZWRTZXNzaW9uIH0sIGVycm9yOiByZWZyZXNoRXJyb3IgfSA9IFxuICAgICAgICAgICAgICBhd2FpdCBzdXBhYmFzZS5hdXRoLnJlZnJlc2hTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVmcmVzaEVycm9yIHx8ICFyZWZyZXNoZWRTZXNzaW9uPy5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW3Nlc3Npb25NYW5hZ2VyXSBGYWlsZWQgdG8gcmVmcmVzaCBzZXNzaW9uOicsIHJlZnJlc2hFcnJvcik7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW3Nlc3Npb25NYW5hZ2VyXSBTZXNzaW9uIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIHJldHVybiByZWZyZXNoZWRTZXNzaW9uLmFjY2Vzc190b2tlbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbc2Vzc2lvbk1hbmFnZXJdIE5vIHJlZnJlc2ggdG9rZW4gYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICAvLyBJZiB3ZSBjYW4ndCBwYXJzZSB0aGUgdG9rZW4sIHVzZSBpdCBhcy1pcyAoc2VydmVyIHdpbGwgdmFsaWRhdGUpXG4gICAgICBjb25zb2xlLndhcm4oJ1tzZXNzaW9uTWFuYWdlcl0gQ291bGQgbm90IHBhcnNlIHRva2VuLCB1c2luZyBhcy1pcycpO1xuICAgIH1cblxuICAgIHJldHVybiBzZXNzaW9uLmFjY2Vzc190b2tlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEVycm9yIGdldHRpbmcgYXV0aCB0b2tlbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBjdXJyZW50IHNlc3Npb24gaXMgdmFsaWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzU2Vzc2lvblZhbGlkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldFZhbGlkQXV0aFRva2VuKCk7XG4gIHJldHVybiB0b2tlbiAhPT0gbnVsbDtcbn1cblxuLyoqXG4gKiBBdXRvLXNhdmUgcHJhY3RpY2Ugc2Vzc2lvbiBkYXRhIHRvIGxvY2FsU3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0b1NhdmVTZXNzaW9uKHNlc3Npb25EYXRhOiBTZXNzaW9uRGF0YSk6IHZvaWQge1xuICB0cnkge1xuICAgIGNvbnN0IGtleSA9IGAke0FVVE9fU0FWRV9LRVlfUFJFRklYfSR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAuLi5zZXNzaW9uRGF0YSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9O1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIFxuICAgIC8vIENsZWFuIHVwIG9sZCBhdXRvLXNhdmVzIChvbGRlciB0aGFuIGV4cGlyeSlcbiAgICBjbGVhbnVwT2xkQXV0b1NhdmVzKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1tzZXNzaW9uTWFuYWdlcl0gQXV0by1zYXZlZCBzZXNzaW9uIGRhdGEnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byBhdXRvLXNhdmU6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRoZSBtb3N0IHJlY2VudCBhdXRvLXNhdmVkIHNlc3Npb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEF1dG9TYXZlZFNlc3Npb24oKTogU2Vzc2lvbkRhdGEgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5maWx0ZXIoa2V5ID0+IFxuICAgICAga2V5LnN0YXJ0c1dpdGgoQVVUT19TQVZFX0tFWV9QUkVGSVgpXG4gICAgKTtcbiAgICBcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgbW9zdCByZWNlbnQgYXV0by1zYXZlXG4gICAgY29uc3Qgc29ydGVkS2V5cyA9IGtleXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgdGltZXN0YW1wQSA9IHBhcnNlSW50KGEucmVwbGFjZShBVVRPX1NBVkVfS0VZX1BSRUZJWCwgJycpKTtcbiAgICAgIGNvbnN0IHRpbWVzdGFtcEIgPSBwYXJzZUludChiLnJlcGxhY2UoQVVUT19TQVZFX0tFWV9QUkVGSVgsICcnKSk7XG4gICAgICByZXR1cm4gdGltZXN0YW1wQiAtIHRpbWVzdGFtcEE7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtb3N0UmVjZW50S2V5ID0gc29ydGVkS2V5c1swXTtcbiAgICBjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obW9zdFJlY2VudEtleSk7XG4gICAgXG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IEpTT04ucGFyc2UoZGF0YSkgYXMgU2Vzc2lvbkRhdGEgJiB7IHRpbWVzdGFtcDogbnVtYmVyIH07XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgYXV0by1zYXZlIGlzIHN0aWxsIHZhbGlkIChub3QgZXhwaXJlZClcbiAgICBjb25zdCBhZ2UgPSBEYXRlLm5vdygpIC0gc2Vzc2lvbkRhdGEudGltZXN0YW1wO1xuICAgIGlmIChhZ2UgPiBBVVRPX1NBVkVfRVhQSVJZX01TKSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShtb3N0UmVjZW50S2V5KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2NyaXB0OiBzZXNzaW9uRGF0YS50cmFuc2NyaXB0LFxuICAgICAgcGF0aWVudDogc2Vzc2lvbkRhdGEucGF0aWVudCxcbiAgICAgIHRpbWVzdGFtcDogc2Vzc2lvbkRhdGEudGltZXN0YW1wLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW3Nlc3Npb25NYW5hZ2VyXSBGYWlsZWQgdG8gZ2V0IGF1dG8tc2F2ZWQgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhciBhbGwgYXV0by1zYXZlZCBzZXNzaW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBdXRvU2F2ZWRTZXNzaW9ucygpOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5maWx0ZXIoa2V5ID0+IFxuICAgICAga2V5LnN0YXJ0c1dpdGgoQVVUT19TQVZFX0tFWV9QUkVGSVgpXG4gICAgKTtcbiAgICBrZXlzLmZvckVhY2goa2V5ID0+IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSkpO1xuICAgIGNvbnNvbGUubG9nKCdbc2Vzc2lvbk1hbmFnZXJdIENsZWFyZWQgYWxsIGF1dG8tc2F2ZWQgc2Vzc2lvbnMnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbc2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byBjbGVhciBhdXRvLXNhdmVzOicsIGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFuIHVwIG9sZCBhdXRvLXNhdmVzIChvbGRlciB0aGFuIGV4cGlyeSlcbiAqL1xuZnVuY3Rpb24gY2xlYW51cE9sZEF1dG9TYXZlcygpOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5maWx0ZXIoa2V5ID0+IFxuICAgICAga2V5LnN0YXJ0c1dpdGgoQVVUT19TQVZFX0tFWV9QUkVGSVgpXG4gICAgKTtcbiAgICBcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gSlNPTi5wYXJzZShkYXRhKSBhcyB7IHRpbWVzdGFtcDogbnVtYmVyIH07XG4gICAgICAgICAgY29uc3QgYWdlID0gbm93IC0gc2Vzc2lvbkRhdGEudGltZXN0YW1wO1xuICAgICAgICAgIGlmIChhZ2UgPiBBVVRPX1NBVkVfRVhQSVJZX01TKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgLy8gSW52YWxpZCBkYXRhLCByZW1vdmUgaXRcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW3Nlc3Npb25NYW5hZ2VyXSBGYWlsZWQgdG8gY2xlYW51cCBvbGQgYXV0by1zYXZlczonLCBlcnJvcik7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRTdXBhYmFzZUNsaWVudCIsImlzU3VwYWJhc2VDb25maWd1cmVkIiwiQVVUT19TQVZFX0tFWV9QUkVGSVgiLCJBVVRPX1NBVkVfRVhQSVJZX01TIiwiZ2V0VmFsaWRBdXRoVG9rZW4iLCJzdXBhYmFzZSIsImRhdGEiLCJzZXNzaW9uIiwiZXJyb3IiLCJzZXNzaW9uRXJyb3IiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImFjY2Vzc190b2tlbiIsInRva2VuUGFydHMiLCJzcGxpdCIsImxlbmd0aCIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwibm93IiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsImV4cGlyZXNBdCIsImV4cCIsInRpbWVVbnRpbEV4cGlyeSIsImNvbnNvbGUiLCJsb2ciLCJyZWZyZXNoX3Rva2VuIiwicmVmcmVzaGVkU2Vzc2lvbiIsInJlZnJlc2hFcnJvciIsInJlZnJlc2hTZXNzaW9uIiwid2FybiIsInBhcnNlRXJyb3IiLCJpc1Nlc3Npb25WYWxpZCIsInRva2VuIiwiYXV0b1NhdmVTZXNzaW9uIiwic2Vzc2lvbkRhdGEiLCJrZXkiLCJ0aW1lc3RhbXAiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiY2xlYW51cE9sZEF1dG9TYXZlcyIsImdldEF1dG9TYXZlZFNlc3Npb24iLCJrZXlzIiwiT2JqZWN0IiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsInNvcnRlZEtleXMiLCJzb3J0IiwiYSIsImIiLCJ0aW1lc3RhbXBBIiwicGFyc2VJbnQiLCJyZXBsYWNlIiwidGltZXN0YW1wQiIsIm1vc3RSZWNlbnRLZXkiLCJnZXRJdGVtIiwiYWdlIiwicmVtb3ZlSXRlbSIsInRyYW5zY3JpcHQiLCJwYXRpZW50IiwiY2xlYXJBdXRvU2F2ZWRTZXNzaW9ucyIsImZvckVhY2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./utils/sessionManager.ts\n");

/***/ })

};
;