/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"ffa509e2b8c5\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2FwcC9nbG9iYWxzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImZmYTUwOWUyYjhjNVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_weight_400_500_600_700_variable_font_inter_display_swap_variableName_inter___WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"],\"weight\":[\"400\",\"500\",\"600\",\"700\"],\"variable\":\"--font-inter\",\"display\":\"swap\"}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"weight\\\":[\\\"400\\\",\\\"500\\\",\\\"600\\\",\\\"700\\\"],\\\"variable\\\":\\\"--font-inter\\\",\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_weight_400_500_600_700_variable_font_inter_display_swap_variableName_inter___WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_weight_400_500_600_700_variable_font_inter_display_swap_variableName_inter___WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Mulish_arguments_subsets_latin_weight_400_500_600_700_variable_font_mulish_display_swap_variableName_mulish___WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"Mulish\",\"arguments\":[{\"subsets\":[\"latin\"],\"weight\":[\"400\",\"500\",\"600\",\"700\"],\"variable\":\"--font-mulish\",\"display\":\"swap\"}],\"variableName\":\"mulish\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"Mulish\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"weight\\\":[\\\"400\\\",\\\"500\\\",\\\"600\\\",\\\"700\\\"],\\\"variable\\\":\\\"--font-mulish\\\",\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"mulish\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Mulish_arguments_subsets_latin_weight_400_500_600_700_variable_font_mulish_display_swap_variableName_mulish___WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Mulish_arguments_subsets_latin_weight_400_500_600_700_variable_font_mulish_display_swap_variableName_mulish___WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(rsc)/./contexts/AuthContext.tsx\");\n/* harmony import */ var _components_ui_ErrorBoundary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/ErrorBoundary */ \"(rsc)/./components/ui/ErrorBoundary.tsx\");\n/* harmony import */ var _components_ui_OfflineIndicator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/OfflineIndicator */ \"(rsc)/./components/ui/OfflineIndicator.tsx\");\n/* harmony import */ var _components_ui_CookieConsent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/CookieConsent */ \"(rsc)/./components/ui/CookieConsent.tsx\");\n\n\n\n\n\n\n\n\nconst metadata = {\n    title: 'MI Mastery',\n    description: 'Motivational Interviewing training with AI-powered patient simulations'\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: `${(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_weight_400_500_600_700_variable_font_inter_display_swap_variableName_inter___WEBPACK_IMPORTED_MODULE_6___default().variable)} ${(next_font_google_target_css_path_app_layout_tsx_import_Mulish_arguments_subsets_latin_weight_400_500_600_700_variable_font_mulish_display_swap_variableName_mulish___WEBPACK_IMPORTED_MODULE_7___default().variable)} font-sans`,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_ErrorBoundary__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.AuthProvider, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_OfflineIndicator__WEBPACK_IMPORTED_MODULE_4__.OfflineIndicator, {}, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/app/layout.tsx\",\n                            lineNumber: 38,\n                            columnNumber: 13\n                        }, this),\n                        children,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_CookieConsent__WEBPACK_IMPORTED_MODULE_5__.CookieConsent, {}, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/app/layout.tsx\",\n                            lineNumber: 40,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/app/layout.tsx\",\n                    lineNumber: 37,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/layout.tsx\",\n                lineNumber: 36,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/app/layout.tsx\",\n            lineNumber: 35,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/app/layout.tsx\",\n        lineNumber: 34,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQVFNQTtBQU9BQztBQWJpQjtBQUMrQjtBQUNJO0FBQ1U7QUFDTjtBQWdCdkQsTUFBTUssV0FBcUI7SUFDaENDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQ2pDQyxRQUFRLEVBR1Q7SUFDQyxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztrQkFDVCw0RUFBQ0M7WUFBS0MsV0FBVyxHQUFHZCxrTkFBYyxDQUFDLENBQUMsRUFBRUMscU5BQWUsQ0FBQyxVQUFVLENBQUM7c0JBQy9ELDRFQUFDRSxvRUFBYUE7MEJBQ1osNEVBQUNELCtEQUFZQTs7c0NBQ1gsOERBQUNFLDZFQUFnQkE7Ozs7O3dCQUNoQk07c0NBQ0QsOERBQUNMLHVFQUFhQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNMUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2FwcC9sYXlvdXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTWV0YWRhdGEgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IEludGVyLCBNdWxpc2ggfSBmcm9tICduZXh0L2ZvbnQvZ29vZ2xlJztcbmltcG9ydCAnLi9nbG9iYWxzLmNzcyc7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tICdAL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJ0AvY29tcG9uZW50cy91aS9FcnJvckJvdW5kYXJ5JztcbmltcG9ydCB7IE9mZmxpbmVJbmRpY2F0b3IgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvT2ZmbGluZUluZGljYXRvcic7XG5pbXBvcnQgeyBDb29raWVDb25zZW50IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0Nvb2tpZUNvbnNlbnQnO1xuXG5jb25zdCBpbnRlciA9IEludGVyKHsgXG4gIHN1YnNldHM6IFsnbGF0aW4nXSxcbiAgd2VpZ2h0OiBbJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCddLFxuICB2YXJpYWJsZTogJy0tZm9udC1pbnRlcicsXG4gIGRpc3BsYXk6ICdzd2FwJyxcbn0pO1xuXG5jb25zdCBtdWxpc2ggPSBNdWxpc2goe1xuICBzdWJzZXRzOiBbJ2xhdGluJ10sXG4gIHdlaWdodDogWyc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnXSxcbiAgdmFyaWFibGU6ICctLWZvbnQtbXVsaXNoJyxcbiAgZGlzcGxheTogJ3N3YXAnLFxufSk7XG5cbmV4cG9ydCBjb25zdCBtZXRhZGF0YTogTWV0YWRhdGEgPSB7XG4gIHRpdGxlOiAnTUkgTWFzdGVyeScsXG4gIGRlc2NyaXB0aW9uOiAnTW90aXZhdGlvbmFsIEludGVydmlld2luZyB0cmFpbmluZyB3aXRoIEFJLXBvd2VyZWQgcGF0aWVudCBzaW11bGF0aW9ucycsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHtcbiAgY2hpbGRyZW4sXG59OiB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWwgbGFuZz1cImVuXCI+XG4gICAgICA8Ym9keSBjbGFzc05hbWU9e2Ake2ludGVyLnZhcmlhYmxlfSAke211bGlzaC52YXJpYWJsZX0gZm9udC1zYW5zYH0+XG4gICAgICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgICAgIDxBdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICA8T2ZmbGluZUluZGljYXRvciAvPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPENvb2tpZUNvbnNlbnQgLz5cbiAgICAgICAgICA8L0F1dGhQcm92aWRlcj5cbiAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJpbnRlciIsIm11bGlzaCIsIkF1dGhQcm92aWRlciIsIkVycm9yQm91bmRhcnkiLCJPZmZsaW5lSW5kaWNhdG9yIiwiQ29va2llQ29uc2VudCIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSIsImNsYXNzTmFtZSIsInZhcmlhYmxlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js\");\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__);\n// This file is generated by the Webpack next-flight-loader.\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call the default export of \\\"/Users/javi/dev/Main2MI/app/page.tsx\\\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/app/page.tsx\",\n\"default\",\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEiLCJzb3VyY2VzIjpbIl9OX0UvLi9hcHAvcGFnZS50c3gvX19uZXh0anMtaW50ZXJuYWwtcHJveHkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIFdlYnBhY2sgbmV4dC1mbGlnaHQtbG9hZGVyLlxuaW1wb3J0IHsgcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UgfSBmcm9tIFwicmVhY3Qtc2VydmVyLWRvbS13ZWJwYWNrL3NlcnZlclwiO1xuZXhwb3J0IGRlZmF1bHQgcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UoXG5mdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNhbGwgdGhlIGRlZmF1bHQgZXhwb3J0IG9mIFxcXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9hcHAvcGFnZS50c3hcXFwiIGZyb20gdGhlIHNlcnZlciwgYnV0IGl0J3Mgb24gdGhlIGNsaWVudC4gSXQncyBub3QgcG9zc2libGUgdG8gaW52b2tlIGEgY2xpZW50IGZ1bmN0aW9uIGZyb20gdGhlIHNlcnZlciwgaXQgY2FuIG9ubHkgYmUgcmVuZGVyZWQgYXMgYSBDb21wb25lbnQgb3IgcGFzc2VkIHRvIHByb3BzIG9mIGEgQ2xpZW50IENvbXBvbmVudC5cIik7IH0sXG5cIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2FwcC9wYWdlLnRzeFwiLFxuXCJkZWZhdWx0XCIsXG4pO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/page.tsx\n");

/***/ }),

/***/ "(rsc)/./components/ui/CookieConsent.tsx":
/*!*****************************************!*\
  !*** ./components/ui/CookieConsent.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CookieConsent: () => (/* binding */ CookieConsent),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js\");\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__);\n// This file is generated by the Webpack next-flight-loader.\n\nconst CookieConsent = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call CookieConsent() from the server but CookieConsent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n\"CookieConsent\",\n);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call the default export of \\\"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\\\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n\"default\",\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9jb21wb25lbnRzL3VpL0Nvb2tpZUNvbnNlbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSIsInNvdXJjZXMiOlsiX05fRS8uL2NvbXBvbmVudHMvdWkvQ29va2llQ29uc2VudC50c3gvX19uZXh0anMtaW50ZXJuYWwtcHJveHkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIFdlYnBhY2sgbmV4dC1mbGlnaHQtbG9hZGVyLlxuaW1wb3J0IHsgcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UgfSBmcm9tIFwicmVhY3Qtc2VydmVyLWRvbS13ZWJwYWNrL3NlcnZlclwiO1xuZXhwb3J0IGNvbnN0IENvb2tpZUNvbnNlbnQgPSByZWdpc3RlckNsaWVudFJlZmVyZW5jZShcbmZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gY2FsbCBDb29raWVDb25zZW50KCkgZnJvbSB0aGUgc2VydmVyIGJ1dCBDb29raWVDb25zZW50IGlzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0Nvb2tpZUNvbnNlbnQudHN4XCIsXG5cIkNvb2tpZUNvbnNlbnRcIixcbik7ZXhwb3J0IGRlZmF1bHQgcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UoXG5mdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNhbGwgdGhlIGRlZmF1bHQgZXhwb3J0IG9mIFxcXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0Nvb2tpZUNvbnNlbnQudHN4XFxcIiBmcm9tIHRoZSBzZXJ2ZXIsIGJ1dCBpdCdzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0Nvb2tpZUNvbnNlbnQudHN4XCIsXG5cImRlZmF1bHRcIixcbik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./components/ui/CookieConsent.tsx\n");

/***/ }),

/***/ "(rsc)/./components/ui/ErrorBoundary.tsx":
/*!*****************************************!*\
  !*** ./components/ui/ErrorBoundary.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js\");\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__);\n// This file is generated by the Webpack next-flight-loader.\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call the default export of \\\"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\\\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n\"default\",\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9jb21wb25lbnRzL3VpL0Vycm9yQm91bmRhcnkudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBIiwic291cmNlcyI6WyJfTl9FLy4vY29tcG9uZW50cy91aS9FcnJvckJvdW5kYXJ5LnRzeC9fX25leHRqcy1pbnRlcm5hbC1wcm94eS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSB0aGUgV2VicGFjayBuZXh0LWZsaWdodC1sb2FkZXIuXG5pbXBvcnQgeyByZWdpc3RlckNsaWVudFJlZmVyZW5jZSB9IGZyb20gXCJyZWFjdC1zZXJ2ZXItZG9tLXdlYnBhY2svc2VydmVyXCI7XG5leHBvcnQgZGVmYXVsdCByZWdpc3RlckNsaWVudFJlZmVyZW5jZShcbmZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gY2FsbCB0aGUgZGVmYXVsdCBleHBvcnQgb2YgXFxcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvRXJyb3JCb3VuZGFyeS50c3hcXFwiIGZyb20gdGhlIHNlcnZlciwgYnV0IGl0J3Mgb24gdGhlIGNsaWVudC4gSXQncyBub3QgcG9zc2libGUgdG8gaW52b2tlIGEgY2xpZW50IGZ1bmN0aW9uIGZyb20gdGhlIHNlcnZlciwgaXQgY2FuIG9ubHkgYmUgcmVuZGVyZWQgYXMgYSBDb21wb25lbnQgb3IgcGFzc2VkIHRvIHByb3BzIG9mIGEgQ2xpZW50IENvbXBvbmVudC5cIik7IH0sXG5cIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvRXJyb3JCb3VuZGFyeS50c3hcIixcblwiZGVmYXVsdFwiLFxuKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./components/ui/ErrorBoundary.tsx\n");

/***/ }),

/***/ "(rsc)/./components/ui/OfflineIndicator.tsx":
/*!********************************************!*\
  !*** ./components/ui/OfflineIndicator.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OfflineIndicator: () => (/* binding */ OfflineIndicator),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js\");\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__);\n// This file is generated by the Webpack next-flight-loader.\n\nconst OfflineIndicator = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call OfflineIndicator() from the server but OfflineIndicator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n\"OfflineIndicator\",\n);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call the default export of \\\"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\\\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n\"default\",\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9jb21wb25lbnRzL3VpL09mZmxpbmVJbmRpY2F0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSIsInNvdXJjZXMiOlsiX05fRS8uL2NvbXBvbmVudHMvdWkvT2ZmbGluZUluZGljYXRvci50c3gvX19uZXh0anMtaW50ZXJuYWwtcHJveHkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIFdlYnBhY2sgbmV4dC1mbGlnaHQtbG9hZGVyLlxuaW1wb3J0IHsgcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UgfSBmcm9tIFwicmVhY3Qtc2VydmVyLWRvbS13ZWJwYWNrL3NlcnZlclwiO1xuZXhwb3J0IGNvbnN0IE9mZmxpbmVJbmRpY2F0b3IgPSByZWdpc3RlckNsaWVudFJlZmVyZW5jZShcbmZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gY2FsbCBPZmZsaW5lSW5kaWNhdG9yKCkgZnJvbSB0aGUgc2VydmVyIGJ1dCBPZmZsaW5lSW5kaWNhdG9yIGlzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL09mZmxpbmVJbmRpY2F0b3IudHN4XCIsXG5cIk9mZmxpbmVJbmRpY2F0b3JcIixcbik7ZXhwb3J0IGRlZmF1bHQgcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UoXG5mdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNhbGwgdGhlIGRlZmF1bHQgZXhwb3J0IG9mIFxcXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL09mZmxpbmVJbmRpY2F0b3IudHN4XFxcIiBmcm9tIHRoZSBzZXJ2ZXIsIGJ1dCBpdCdzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL09mZmxpbmVJbmRpY2F0b3IudHN4XCIsXG5cImRlZmF1bHRcIixcbik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./components/ui/OfflineIndicator.tsx\n");

/***/ }),

/***/ "(rsc)/./contexts/AuthContext.tsx":
/*!**********************************!*\
  !*** ./contexts/AuthContext.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthContext: () => (/* binding */ AuthContext),\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js\");\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__);\n// This file is generated by the Webpack next-flight-loader.\n\nconst AuthProvider = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/contexts/AuthContext.tsx\",\n\"AuthProvider\",\n);const useAuth = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/contexts/AuthContext.tsx\",\n\"useAuth\",\n);const AuthContext = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call AuthContext() from the server but AuthContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/javi/dev/Main2MI/contexts/AuthContext.tsx\",\n\"AuthContext\",\n);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9jb250ZXh0cy9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSIsInNvdXJjZXMiOlsiX05fRS8uL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeC9fX25leHRqcy1pbnRlcm5hbC1wcm94eS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSB0aGUgV2VicGFjayBuZXh0LWZsaWdodC1sb2FkZXIuXG5pbXBvcnQgeyByZWdpc3RlckNsaWVudFJlZmVyZW5jZSB9IGZyb20gXCJyZWFjdC1zZXJ2ZXItZG9tLXdlYnBhY2svc2VydmVyXCI7XG5leHBvcnQgY29uc3QgQXV0aFByb3ZpZGVyID0gcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UoXG5mdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNhbGwgQXV0aFByb3ZpZGVyKCkgZnJvbSB0aGUgc2VydmVyIGJ1dCBBdXRoUHJvdmlkZXIgaXMgb24gdGhlIGNsaWVudC4gSXQncyBub3QgcG9zc2libGUgdG8gaW52b2tlIGEgY2xpZW50IGZ1bmN0aW9uIGZyb20gdGhlIHNlcnZlciwgaXQgY2FuIG9ubHkgYmUgcmVuZGVyZWQgYXMgYSBDb21wb25lbnQgb3IgcGFzc2VkIHRvIHByb3BzIG9mIGEgQ2xpZW50IENvbXBvbmVudC5cIik7IH0sXG5cIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeFwiLFxuXCJBdXRoUHJvdmlkZXJcIixcbik7ZXhwb3J0IGNvbnN0IHVzZUF1dGggPSByZWdpc3RlckNsaWVudFJlZmVyZW5jZShcbmZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gY2FsbCB1c2VBdXRoKCkgZnJvbSB0aGUgc2VydmVyIGJ1dCB1c2VBdXRoIGlzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb250ZXh0cy9BdXRoQ29udGV4dC50c3hcIixcblwidXNlQXV0aFwiLFxuKTtleHBvcnQgY29uc3QgQXV0aENvbnRleHQgPSByZWdpc3RlckNsaWVudFJlZmVyZW5jZShcbmZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gY2FsbCBBdXRoQ29udGV4dCgpIGZyb20gdGhlIHNlcnZlciBidXQgQXV0aENvbnRleHQgaXMgb24gdGhlIGNsaWVudC4gSXQncyBub3QgcG9zc2libGUgdG8gaW52b2tlIGEgY2xpZW50IGZ1bmN0aW9uIGZyb20gdGhlIHNlcnZlciwgaXQgY2FuIG9ubHkgYmUgcmVuZGVyZWQgYXMgYSBDb21wb25lbnQgb3IgcGFzc2VkIHRvIHByb3BzIG9mIGEgQ2xpZW50IENvbXBvbmVudC5cIik7IH0sXG5cIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeFwiLFxuXCJBdXRoQ29udGV4dFwiLFxuKTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./contexts/AuthContext.tsx\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjavi%2Fdev%2FMain2MI&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjavi%2Fdev%2FMain2MI&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/module.compiled.js?8030\");\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_app_render_interop_default__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/app-render/interop-default */ \"(rsc)/./node_modules/next/dist/server/app-render/interop-default.js\");\n/* harmony import */ var next_dist_server_app_render_strip_flight_headers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/app-render/strip-flight-headers */ \"(rsc)/./node_modules/next/dist/server/app-render/strip-flight-headers.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/lib/experimental/ppr */ \"(rsc)/./node_modules/next/dist/server/lib/experimental/ppr.js\");\n/* harmony import */ var next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/request/fallback-params */ \"(rsc)/./node_modules/next/dist/server/request/fallback-params.js\");\n/* harmony import */ var next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/app-render/manifests-singleton */ \"(rsc)/./node_modules/next/dist/server/app-render/manifests-singleton.js\");\n/* harmony import */ var next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/streaming-metadata */ \"(rsc)/./node_modules/next/dist/server/lib/streaming-metadata.js\");\n/* harmony import */ var next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/server/lib/server-action-request-meta */ \"(rsc)/./node_modules/next/dist/server/lib/server-action-request-meta.js\");\n/* harmony import */ var next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/client/components/app-router-headers */ \"(rsc)/./node_modules/next/dist/client/components/app-router-headers.js\");\n/* harmony import */ var next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/is-bot */ \"next/dist/shared/lib/router/utils/is-bot\");\n/* harmony import */ var next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! next/dist/lib/fallback */ \"(rsc)/./node_modules/next/dist/lib/fallback.js\");\n/* harmony import */ var next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! next/dist/server/render-result */ \"(rsc)/./node_modules/next/dist/server/render-result.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var next_dist_server_stream_utils_encoded_tags__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! next/dist/server/stream-utils/encoded-tags */ \"(rsc)/./node_modules/next/dist/server/stream-utils/encoded-tags.js\");\n/* harmony import */ var next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! next/dist/server/send-payload */ \"(rsc)/./node_modules/next/dist/server/send-payload.js\");\n/* harmony import */ var next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\");\n/* harmony import */ var next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! next/dist/client/components/redirect-status-code */ \"(rsc)/./node_modules/next/dist/client/components/redirect-status-code.js\");\n/* harmony import */ var next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var next_dist_shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! next/dist/shared/lib/invariant-error */ \"next/dist/shared/lib/invariant-error\");\n/* harmony import */ var next_dist_shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var next_dist_lib_scheduler__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! next/dist/lib/scheduler */ \"(rsc)/./node_modules/next/dist/lib/scheduler.js\");\n/* harmony import */ var next_dist_lib_scheduler__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_scheduler__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var next_dist_shared_lib_router_utils_interception_routes__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/interception-routes */ \"next/dist/shared/lib/router/utils/interception-routes\");\n/* harmony import */ var next_dist_shared_lib_router_utils_interception_routes__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_interception_routes__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__) if([\"default\",\"GlobalError\",\"__next_app__\",\"routeModule\",\"handler\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\nconst module0 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\"));\nconst module1 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\nconst module2 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/not-found.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/not-found.js\", 23));\nconst module3 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/forbidden.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/forbidden.js\", 23));\nconst module4 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/unauthorized.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/unauthorized.js\", 23));\nconst page5 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page5, \"/Users/javi/dev/Main2MI/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [module0, \"/Users/javi/dev/Main2MI/app/layout.tsx\"],\n'global-error': [module1, \"next/dist/client/components/builtin/global-error.js\"],\n'not-found': [module2, \"next/dist/client/components/builtin/not-found.js\"],\n'forbidden': [module3, \"next/dist/client/components/builtin/forbidden.js\"],\n'unauthorized': [module4, \"next/dist/client/components/builtin/unauthorized.js\"],\n        \n      }\n      ]\n      }.children;\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n\n\n\n\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    },\n    distDir: \".next/dev\" || 0,\n    relativeProjectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    var _this;\n    if (routeModule.isDev) {\n        (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.addRequestMeta)(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    const isMinimalMode = Boolean( false || (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'minimalMode'));\n    let srcPage = \"/page\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, query, params, pageIsDynamic, buildManifest, nextFontManifest, reactLoadableManifest, serverActionsManifest, clientReferenceManifest, subresourceIntegrityManifest, prerenderManifest, isDraftMode, resolvedPathname, revalidateOnlyGenerated, routerServerContext, nextConfig, parsedUrl, interceptionRoutePatterns, deploymentId } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_13__.normalizeAppPath)(srcPage);\n    let { isOnDemandRevalidate } = prepareResult;\n    // We use the resolvedPathname instead of the parsedUrl.pathname because it\n    // is not rewritten as resolvedPathname is. This will ensure that the correct\n    // prerender info is used instead of using the original pathname as the\n    // source. If however PPR is enabled and cacheComponents is disabled, we\n    // treat the pathname as dynamic. Currently, there's a bug in the PPR\n    // implementation that incorrectly leaves %%drp placeholders in the output of\n    // parallel routes. This is addressed with cacheComponents.\n    const prerenderInfo = nextConfig.experimental.ppr && !nextConfig.cacheComponents && (0,next_dist_shared_lib_router_utils_interception_routes__WEBPACK_IMPORTED_MODULE_29__.isInterceptionRouteAppPath)(resolvedPathname) ? null : routeModule.match(resolvedPathname, prerenderManifest);\n    const isPrerendered = !!prerenderManifest.routes[resolvedPathname];\n    const userAgent = req.headers['user-agent'] || '';\n    const botType = (0,next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16__.getBotType)(userAgent);\n    const isHtmlBot = (0,next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12__.isHtmlBotRequest)(req);\n    /**\n   * If true, this indicates that the request being made is for an app\n   * prefetch request.\n   */ const isPrefetchRSCRequest = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'isPrefetchRSCRequest') ?? req.headers[next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.NEXT_ROUTER_PREFETCH_HEADER] === '1' // exclude runtime prefetches, which use '2'\n    ;\n    // NOTE: Don't delete headers[RSC] yet, it still needs to be used in renderToHTML later\n    const isRSCRequest = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'isRSCRequest') ?? Boolean(req.headers[next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.RSC_HEADER]);\n    const isPossibleServerAction = (0,next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_14__.getIsPossibleServerAction)(req);\n    /**\n   * If the route being rendered is an app page, and the ppr feature has been\n   * enabled, then the given route _could_ support PPR.\n   */ const couldSupportPPR = (0,next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_9__.checkIsAppPPREnabled)(nextConfig.experimental.ppr);\n    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'postponed') && couldSupportPPR && req.headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_RESUME_HEADER] === '1' && req.method === 'POST') {\n        // Decode the postponed state from the request body, it will come as\n        // an array of buffers, so collect them and then concat them to form\n        // the string.\n        const body = [];\n        for await (const chunk of req){\n            body.push(chunk);\n        }\n        const postponed = Buffer.concat(body).toString('utf8');\n        (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.addRequestMeta)(req, 'postponed', postponed);\n    }\n    // When enabled, this will allow the use of the `?__nextppronly` query to\n    // enable debugging of the static shell.\n    const hasDebugStaticShellQuery =  false && 0;\n    // When enabled, this will allow the use of the `?__nextppronly` query\n    // to enable debugging of the fallback shell.\n    const hasDebugFallbackShellQuery = hasDebugStaticShellQuery && query.__nextppronly === 'fallback';\n    // This page supports PPR if it is marked as being `PARTIALLY_STATIC` in the\n    // prerender manifest and this is an app page.\n    const isRoutePPREnabled = couldSupportPPR && (((_this = prerenderManifest.routes[normalizedSrcPage] ?? prerenderManifest.dynamicRoutes[normalizedSrcPage]) == null ? void 0 : _this.renderingMode) === 'PARTIALLY_STATIC' || // Ideally we'd want to check the appConfig to see if this page has PPR\n    // enabled or not, but that would require plumbing the appConfig through\n    // to the server during development. We assume that the page supports it\n    // but only during development.\n    hasDebugStaticShellQuery && (routeModule.isDev === true || (routerServerContext == null ? void 0 : routerServerContext.experimentalTestProxy) === true));\n    const isDebugStaticShell = hasDebugStaticShellQuery && isRoutePPREnabled;\n    // We should enable debugging dynamic accesses when the static shell\n    // debugging has been enabled and we're also in development mode.\n    const isDebugDynamicAccesses = isDebugStaticShell && routeModule.isDev === true;\n    const isDebugFallbackShell = hasDebugFallbackShellQuery && isRoutePPREnabled;\n    // If we're in minimal mode, then try to get the postponed information from\n    // the request metadata. If available, use it for resuming the postponed\n    // render.\n    const minimalPostponed = isRoutePPREnabled ? (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'postponed') : undefined;\n    // If PPR is enabled, and this is a RSC request (but not a prefetch), then\n    // we can use this fact to only generate the flight data for the request\n    // because we can't cache the HTML (as it's also dynamic).\n    let isDynamicRSCRequest = isRoutePPREnabled && isRSCRequest && !isPrefetchRSCRequest;\n    // During a PPR revalidation, the RSC request is not dynamic if we do not have the postponed data.\n    // We only attach the postponed data during a resume. If there's no postponed data, then it must be a revalidation.\n    // This is to ensure that we don't bypass the cache during a revalidation.\n    if (isMinimalMode) {\n        isDynamicRSCRequest = isDynamicRSCRequest && !!minimalPostponed;\n    }\n    // Need to read this before it's stripped by stripFlightHeaders. We don't\n    // need to transfer it to the request meta because it's only read\n    // within this function; the static segment data should have already been\n    // generated, so we will always either return a static response or a 404.\n    const segmentPrefetchHeader = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'segmentPrefetchRSCRequest');\n    // TODO: investigate existing bug with shouldServeStreamingMetadata always\n    // being true for a revalidate due to modifying the base-server this.renderOpts\n    // when fixing this to correct logic it causes hydration issue since we set\n    // serveStreamingMetadata to true during export\n    const serveStreamingMetadata = isHtmlBot && isRoutePPREnabled ? false : !userAgent ? true : (0,next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12__.shouldServeStreamingMetadata)(userAgent, nextConfig.htmlLimitedBots);\n    const isSSG = Boolean((prerenderInfo || isPrerendered || prerenderManifest.routes[normalizedSrcPage]) && // If this is a html bot request and PPR is enabled, then we don't want\n    // to serve a static response.\n    !(isHtmlBot && isRoutePPREnabled));\n    // When a page supports cacheComponents, we can support RDC for Navigations\n    const supportsRDCForNavigations = isRoutePPREnabled && nextConfig.cacheComponents === true;\n    // In development, we always want to generate dynamic HTML.\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML, unless it's\n    // a data request, in which case we only produce static HTML.\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isSSG || // If this request has provided postponed data, it supports dynamic\n    // HTML.\n    typeof minimalPostponed === 'string' || // If this handler supports onCacheEntryV2, then we can only support\n    // dynamic responses if it's a dynamic RSC request and not in minimal mode. If it\n    // doesn't support it we must fallback to the default behavior.\n    (supportsRDCForNavigations && (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'onCacheEntryV2') ? // which will generate the RDC for the route. When resuming a Dynamic\n    // RSC request, we'll pass the minimal postponed data to the render\n    // which will trigger the `supportsDynamicResponse` to be true.\n    isDynamicRSCRequest && !isMinimalMode : isDynamicRSCRequest);\n    // When html bots request PPR page, perform the full dynamic rendering.\n    const shouldWaitOnAllReady = isHtmlBot && isRoutePPREnabled;\n    let ssgCacheKey = null;\n    if (!isDraftMode && isSSG && !supportsDynamicResponse && !isPossibleServerAction && !minimalPostponed && !isDynamicRSCRequest) {\n        ssgCacheKey = resolvedPathname;\n    }\n    // the staticPathKey differs from ssgCacheKey since\n    // ssgCacheKey is null in dev since we're always in \"dynamic\"\n    // mode in dev to bypass the cache, but we still need to honor\n    // dynamicParams = false in dev mode\n    let staticPathKey = ssgCacheKey;\n    if (!staticPathKey && routeModule.isDev) {\n        staticPathKey = resolvedPathname;\n    }\n    // If this is a request for an app path that should be statically generated\n    // and we aren't in the edge runtime, strip the flight headers so it will\n    // generate the static response.\n    if (!routeModule.isDev && !isDraftMode && isSSG && isRSCRequest && !isDynamicRSCRequest) {\n        (0,next_dist_server_app_render_strip_flight_headers__WEBPACK_IMPORTED_MODULE_7__.stripFlightHeaders)(req.headers);\n    }\n    const ComponentMod = {\n        ...next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__,\n        tree,\n        GlobalError: (next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24___default()),\n        handler,\n        routeModule,\n        __next_app__\n    };\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        (0,next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_11__.setManifestsSingleton)({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    try {\n        const varyHeader = routeModule.getVaryHeader(resolvedPathname, interceptionRoutePatterns);\n        res.setHeader('Vary', varyHeader);\n        const invokeRouteModule = async (span, context)=>{\n            const nextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8__.NodeNextRequest(req);\n            const nextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8__.NodeNextResponse(res);\n            return routeModule.render(nextReq, nextRes, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const incrementalCache = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'incrementalCache');\n        const doRender = async ({ span, postponed, fallbackRouteParams, forceStaticRender })=>{\n            const context = {\n                query,\n                params,\n                page: normalizedSrcPage,\n                sharedContext: {\n                    buildId\n                },\n                serverComponentsHmrCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'serverComponentsHmrCache'),\n                fallbackRouteParams,\n                renderOpts: {\n                    App: ()=>null,\n                    Document: ()=>null,\n                    pageConfig: {},\n                    ComponentMod,\n                    Component: (0,next_dist_server_app_render_interop_default__WEBPACK_IMPORTED_MODULE_6__.interopDefault)(ComponentMod),\n                    params,\n                    routeModule,\n                    page: srcPage,\n                    postponed,\n                    shouldWaitOnAllReady,\n                    serveStreamingMetadata,\n                    supportsDynamicResponse: typeof postponed === 'string' || supportsDynamicResponse,\n                    buildManifest,\n                    nextFontManifest,\n                    reactLoadableManifest,\n                    subresourceIntegrityManifest,\n                    setCacheStatus: routerServerContext == null ? void 0 : routerServerContext.setCacheStatus,\n                    setIsrStatus: routerServerContext == null ? void 0 : routerServerContext.setIsrStatus,\n                    setReactDebugChannel: routerServerContext == null ? void 0 : routerServerContext.setReactDebugChannel,\n                    sendErrorsToBrowser: routerServerContext == null ? void 0 : routerServerContext.sendErrorsToBrowser,\n                    dir:  true ? (__webpack_require__(/*! path */ \"path\").join)(/* turbopackIgnore: true */ process.cwd(), routeModule.relativeProjectDir) : 0,\n                    isDraftMode,\n                    botType,\n                    isOnDemandRevalidate,\n                    isPossibleServerAction,\n                    assetPrefix: nextConfig.assetPrefix,\n                    nextConfigOutput: nextConfig.output,\n                    crossOrigin: nextConfig.crossOrigin,\n                    trailingSlash: nextConfig.trailingSlash,\n                    images: nextConfig.images,\n                    previewProps: prerenderManifest.preview,\n                    deploymentId: deploymentId,\n                    enableTainting: nextConfig.experimental.taint,\n                    htmlLimitedBots: nextConfig.htmlLimitedBots,\n                    reactMaxHeadersLength: nextConfig.reactMaxHeadersLength,\n                    multiZoneDraftMode,\n                    incrementalCache,\n                    cacheLifeProfiles: nextConfig.cacheLife,\n                    basePath: nextConfig.basePath,\n                    serverActions: nextConfig.experimental.serverActions,\n                    ...isDebugStaticShell || isDebugDynamicAccesses || isDebugFallbackShell ? {\n                        nextExport: true,\n                        supportsDynamicResponse: false,\n                        isStaticGeneration: true,\n                        isDebugDynamicAccesses: isDebugDynamicAccesses\n                    } : {},\n                    cacheComponents: Boolean(nextConfig.cacheComponents),\n                    experimental: {\n                        isRoutePPREnabled,\n                        expireTime: nextConfig.expireTime,\n                        staleTimes: nextConfig.experimental.staleTimes,\n                        dynamicOnHover: Boolean(nextConfig.experimental.dynamicOnHover),\n                        inlineCss: Boolean(nextConfig.experimental.inlineCss),\n                        authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n                        clientTraceMetadata: nextConfig.experimental.clientTraceMetadata || [],\n                        clientParamParsingOrigins: nextConfig.experimental.clientParamParsingOrigins\n                    },\n                    waitUntil: ctx.waitUntil,\n                    onClose: (cb)=>{\n                        res.on('close', cb);\n                    },\n                    onAfterTaskError: ()=>{},\n                    onInstrumentationRequestError: (error, _request, errorContext, silenceLog)=>routeModule.onRequestError(req, error, errorContext, silenceLog, routerServerContext),\n                    err: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'invokeError'),\n                    dev: routeModule.isDev\n                }\n            };\n            if (isDebugStaticShell || isDebugDynamicAccesses) {\n                context.renderOpts.nextExport = true;\n                context.renderOpts.supportsDynamicResponse = false;\n                context.renderOpts.isDebugDynamicAccesses = isDebugDynamicAccesses;\n            }\n            // When we're revalidating in the background, we should not allow dynamic\n            // responses.\n            if (forceStaticRender) {\n                context.renderOpts.supportsDynamicResponse = false;\n            }\n            const result = await invokeRouteModule(span, context);\n            const { metadata } = result;\n            const { cacheControl, headers = {}, // Add any fetch tags that were on the page to the response headers.\n            fetchTags: cacheTags, fetchMetrics } = metadata;\n            if (cacheTags) {\n                headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n            }\n            // Pull any fetch metrics from the render onto the request.\n            ;\n            req.fetchMetrics = fetchMetrics;\n            // we don't throw static to dynamic errors in dev as isSSG\n            // is a best guess in dev since we don't have the prerender pass\n            // to know whether the path is actually static or not\n            if (isSSG && (cacheControl == null ? void 0 : cacheControl.revalidate) === 0 && !routeModule.isDev && !isRoutePPREnabled) {\n                const staticBailoutInfo = metadata.staticBailoutInfo;\n                const err = Object.defineProperty(new Error(`Page changed from static to dynamic at runtime ${resolvedPathname}${(staticBailoutInfo == null ? void 0 : staticBailoutInfo.description) ? `, reason: ${staticBailoutInfo.description}` : ``}` + `\\nsee more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E132\",\n                    enumerable: false,\n                    configurable: true\n                });\n                if (staticBailoutInfo == null ? void 0 : staticBailoutInfo.stack) {\n                    const stack = staticBailoutInfo.stack;\n                    err.stack = err.message + stack.substring(stack.indexOf('\\n'));\n                }\n                throw err;\n            }\n            return {\n                value: {\n                    kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE,\n                    html: result,\n                    headers,\n                    rscData: metadata.flightData,\n                    postponed: metadata.postponed,\n                    status: metadata.statusCode,\n                    segmentData: metadata.segmentData\n                },\n                cacheControl\n            };\n        };\n        const responseGenerator = async ({ hasResolved, previousCacheEntry: previousIncrementalCacheEntry, isRevalidating, span, forceStaticRender = false })=>{\n            const isProduction = routeModule.isDev === false;\n            const didRespond = hasResolved || res.writableEnded;\n            // skip on-demand revalidate if cache is not present and\n            // revalidate-if-generated is set\n            if (isOnDemandRevalidate && revalidateOnlyGenerated && !previousIncrementalCacheEntry && !isMinimalMode) {\n                if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n                    await routerServerContext.render404(req, res);\n                } else {\n                    res.statusCode = 404;\n                    res.end('This page could not be found');\n                }\n                return null;\n            }\n            let fallbackMode;\n            if (prerenderInfo) {\n                fallbackMode = (0,next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.parseFallbackField)(prerenderInfo.fallback);\n            }\n            // When serving a HTML bot request, we want to serve a blocking render and\n            // not the prerendered page. This ensures that the correct content is served\n            // to the bot in the head.\n            if (fallbackMode === next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.PRERENDER && (0,next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16__.isBot)(userAgent)) {\n                if (!isRoutePPREnabled || isHtmlBot) {\n                    fallbackMode = next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.BLOCKING_STATIC_RENDER;\n                }\n            }\n            if ((previousIncrementalCacheEntry == null ? void 0 : previousIncrementalCacheEntry.isStale) === -1) {\n                isOnDemandRevalidate = true;\n            }\n            // TODO: adapt for PPR\n            // only allow on-demand revalidate for fallback: true/blocking\n            // or for prerendered fallback: false paths\n            if (isOnDemandRevalidate && (fallbackMode !== next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.NOT_FOUND || previousIncrementalCacheEntry)) {\n                fallbackMode = next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.BLOCKING_STATIC_RENDER;\n            }\n            if (!isMinimalMode && fallbackMode !== next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.BLOCKING_STATIC_RENDER && staticPathKey && !didRespond && !isDraftMode && pageIsDynamic && (isProduction || !isPrerendered)) {\n                // if the page has dynamicParams: false and this pathname wasn't\n                // prerendered trigger the no fallback handling\n                if (// In development, fall through to render to handle missing\n                // getStaticPaths.\n                (isProduction || prerenderInfo) && // When fallback isn't present, abort this render so we 404\n                fallbackMode === next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.NOT_FOUND) {\n                    if (nextConfig.experimental.adapterPath) {\n                        return await render404();\n                    }\n                    throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23__.NoFallbackError();\n                }\n                // When cacheComponents is enabled, we can use the fallback\n                // response if the request is not a dynamic RSC request because the\n                // RSC data when this feature flag is enabled does not contain any\n                // param references. Without this feature flag enabled, the RSC data\n                // contains param references, and therefore we can't use the fallback.\n                if (isRoutePPREnabled && (nextConfig.cacheComponents ? !isDynamicRSCRequest : !isRSCRequest)) {\n                    const cacheKey = isProduction && typeof (prerenderInfo == null ? void 0 : prerenderInfo.fallback) === 'string' ? prerenderInfo.fallback : normalizedSrcPage;\n                    const fallbackRouteParams = // If we're in production and we have fallback route params, then we\n                    // can use the manifest fallback route params.\n                    isProduction && (prerenderInfo == null ? void 0 : prerenderInfo.fallbackRouteParams) ? (0,next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__.createOpaqueFallbackRouteParams)(prerenderInfo.fallbackRouteParams) : // have to manually generate the fallback route params.\n                    isDebugFallbackShell ? (0,next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__.getFallbackRouteParams)(normalizedSrcPage, routeModule) : null;\n                    // We use the response cache here to handle the revalidation and\n                    // management of the fallback shell.\n                    const fallbackResponse = await routeModule.handleResponse({\n                        cacheKey,\n                        req,\n                        nextConfig,\n                        routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n                        isFallback: true,\n                        prerenderManifest,\n                        isRoutePPREnabled,\n                        responseGenerator: async ()=>doRender({\n                                span,\n                                // We pass `undefined` as rendering a fallback isn't resumed\n                                // here.\n                                postponed: undefined,\n                                fallbackRouteParams,\n                                forceStaticRender: false\n                            }),\n                        waitUntil: ctx.waitUntil,\n                        isMinimalMode\n                    });\n                    // If the fallback response was set to null, then we should return null.\n                    if (fallbackResponse === null) return null;\n                    // Otherwise, if we did get a fallback response, we should return it.\n                    if (fallbackResponse) {\n                        // Remove the cache control from the response to prevent it from being\n                        // used in the surrounding cache.\n                        delete fallbackResponse.cacheControl;\n                        return fallbackResponse;\n                    }\n                }\n            }\n            // Only requests that aren't revalidating can be resumed. If we have the\n            // minimal postponed data, then we should resume the render with it.\n            let postponed = !isOnDemandRevalidate && !isRevalidating && minimalPostponed ? minimalPostponed : undefined;\n            // If this is a dynamic RSC request, we should use the postponed data from\n            // the static render (if available). This ensures that we can utilize the\n            // resume data cache (RDC) from the static render to ensure that the data\n            // is consistent between the static and dynamic renders.\n            if (// Only enable RDC for Navigations if the feature is enabled.\n            supportsRDCForNavigations && \"nodejs\" !== 'edge' && !isMinimalMode && incrementalCache && isDynamicRSCRequest && // We don't typically trigger an on-demand revalidation for dynamic RSC\n            // requests, as we're typically revalidating the page in the background\n            // instead. However, if the cache entry is stale, we should trigger a\n            // background revalidation on dynamic RSC requests. This prevents us\n            // from entering an infinite loop of revalidations.\n            !forceStaticRender) {\n                const incrementalCacheEntry = await incrementalCache.get(resolvedPathname, {\n                    kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.IncrementalCacheKind.APP_PAGE,\n                    isRoutePPREnabled: true,\n                    isFallback: false\n                });\n                // If the cache entry is found, we should use the postponed data from\n                // the cache.\n                if (incrementalCacheEntry && incrementalCacheEntry.value && incrementalCacheEntry.value.kind === next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE) {\n                    // CRITICAL: we're assigning the postponed data from the cache entry\n                    // here as we're using the RDC to resume the render.\n                    postponed = incrementalCacheEntry.value.postponed;\n                    // If the cache entry is stale, we should trigger a background\n                    // revalidation so that subsequent requests will get a fresh response.\n                    if (incrementalCacheEntry && // We want to trigger this flow if the cache entry is stale and if\n                    // the requested revalidation flow is either foreground or\n                    // background.\n                    (incrementalCacheEntry.isStale === -1 || incrementalCacheEntry.isStale === true)) {\n                        // We want to schedule this on the next tick to ensure that the\n                        // render is not blocked on it.\n                        (0,next_dist_lib_scheduler__WEBPACK_IMPORTED_MODULE_28__.scheduleOnNextTick)(async ()=>{\n                            const responseCache = routeModule.getResponseCache(req);\n                            try {\n                                await responseCache.revalidate(resolvedPathname, incrementalCache, isRoutePPREnabled, false, (c)=>responseGenerator({\n                                        ...c,\n                                        // CRITICAL: we need to set this to true as we're\n                                        // revalidating in the background and typically this dynamic\n                                        // RSC request is not treated as static.\n                                        forceStaticRender: true\n                                    }), // CRITICAL: we need to pass null here because passing the\n                                // previous cache entry here (which is stale) will switch on\n                                // isOnDemandRevalidate and break the prerendering.\n                                null, hasResolved, ctx.waitUntil);\n                            } catch (err) {\n                                console.error('Error revalidating the page in the background', err);\n                            }\n                        });\n                    }\n                }\n            }\n            // When we're in minimal mode, if we're trying to debug the static shell,\n            // we should just return nothing instead of resuming the dynamic render.\n            if ((isDebugStaticShell || isDebugDynamicAccesses) && typeof postponed !== 'undefined') {\n                return {\n                    cacheControl: {\n                        revalidate: 1,\n                        expire: undefined\n                    },\n                    value: {\n                        kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.PAGES,\n                        html: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].EMPTY,\n                        pageData: {},\n                        headers: undefined,\n                        status: undefined\n                    }\n                };\n            }\n            const fallbackRouteParams = // If we're in production and we have fallback route params, then we\n            // can use the manifest fallback route params if we need to render the\n            // fallback shell.\n            isProduction && (prerenderInfo == null ? void 0 : prerenderInfo.fallbackRouteParams) && (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'renderFallbackShell') ? (0,next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__.createOpaqueFallbackRouteParams)(prerenderInfo.fallbackRouteParams) : // manually generate the fallback route params.\n            isDebugFallbackShell ? (0,next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__.getFallbackRouteParams)(normalizedSrcPage, routeModule) : null;\n            // Perform the render.\n            return doRender({\n                span,\n                postponed,\n                fallbackRouteParams,\n                forceStaticRender\n            });\n        };\n        const handleResponse = async (span)=>{\n            var _cacheEntry_value, _cachedData_headers;\n            const cacheEntry = await routeModule.handleResponse({\n                cacheKey: ssgCacheKey,\n                responseGenerator: (c)=>responseGenerator({\n                        span,\n                        ...c\n                    }),\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n                isOnDemandRevalidate,\n                isRoutePPREnabled,\n                req,\n                nextConfig,\n                prerenderManifest,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            // In dev, we should not cache pages for any reason.\n            if (routeModule.isDev) {\n                res.setHeader('Cache-Control', 'no-store, must-revalidate');\n            }\n            if (!cacheEntry) {\n                if (ssgCacheKey) {\n                    // A cache entry might not be generated if a response is written\n                    // in `getInitialProps` or `getServerSideProps`, but those shouldn't\n                    // have a cache key. If we do have a cache key but we don't end up\n                    // with a cache entry, then either Next.js or the application has a\n                    // bug that needs fixing.\n                    throw Object.defineProperty(new Error('invariant: cache entry required but not generated'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E62\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                return null;\n            }\n            if (((_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant app-page handler received invalid cache entry ${(_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E707\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            const didPostpone = typeof cacheEntry.value.postponed === 'string';\n            if (isSSG && // We don't want to send a cache header for requests that contain dynamic\n            // data. If this is a Dynamic RSC request or wasn't a Prefetch RSC\n            // request, then we should set the cache header.\n            !isDynamicRSCRequest && (!didPostpone || isPrefetchRSCRequest)) {\n                if (!isMinimalMode) {\n                    // set x-nextjs-cache header to match the header\n                    // we set for the image-optimizer\n                    res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n                }\n                // Set a header used by the client router to signal the response is static\n                // and should respect the `static` cache staleTime value.\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.NEXT_IS_PRERENDER_HEADER, '1');\n            }\n            const { value: cachedData } = cacheEntry;\n            // Coerce the cache control parameter from the render.\n            let cacheControl;\n            // If this is a resume request in minimal mode it is streamed with dynamic\n            // content and should not be cached.\n            if (minimalPostponed) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (isDynamicRSCRequest) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (!routeModule.isDev) {\n                // If this is a preview mode request, we shouldn't cache it\n                if (isDraftMode) {\n                    cacheControl = {\n                        revalidate: 0,\n                        expire: undefined\n                    };\n                } else if (!isSSG) {\n                    if (!res.getHeader('Cache-Control')) {\n                        cacheControl = {\n                            revalidate: 0,\n                            expire: undefined\n                        };\n                    }\n                } else if (cacheEntry.cacheControl) {\n                    // If the cache entry has a cache control with a revalidate value that's\n                    // a number, use it.\n                    if (typeof cacheEntry.cacheControl.revalidate === 'number') {\n                        var _cacheEntry_cacheControl;\n                        if (cacheEntry.cacheControl.revalidate < 1) {\n                            throw Object.defineProperty(new Error(`Invalid revalidate configuration provided: ${cacheEntry.cacheControl.revalidate} < 1`), \"__NEXT_ERROR_CODE\", {\n                                value: \"E22\",\n                                enumerable: false,\n                                configurable: true\n                            });\n                        }\n                        cacheControl = {\n                            revalidate: cacheEntry.cacheControl.revalidate,\n                            expire: ((_cacheEntry_cacheControl = cacheEntry.cacheControl) == null ? void 0 : _cacheEntry_cacheControl.expire) ?? nextConfig.expireTime\n                        };\n                    } else {\n                        cacheControl = {\n                            revalidate: next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.CACHE_ONE_YEAR,\n                            expire: undefined\n                        };\n                    }\n                }\n            }\n            cacheEntry.cacheControl = cacheControl;\n            if (typeof segmentPrefetchHeader === 'string' && (cachedData == null ? void 0 : cachedData.kind) === next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE && cachedData.segmentData) {\n                var _cachedData_headers1;\n                // This is a prefetch request issued by the client Segment Cache. These\n                // should never reach the application layer (lambda). We should either\n                // respond from the cache (HIT) or respond with 204 No Content (MISS).\n                // Set a header to indicate that PPR is enabled for this route. This\n                // lets the client distinguish between a regular cache miss and a cache\n                // miss due to PPR being disabled. In other contexts this header is used\n                // to indicate that the response contains dynamic data, but here we're\n                // only using it to indicate that the feature is enabled  the segment\n                // response itself contains whether the data is dynamic.\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.NEXT_DID_POSTPONE_HEADER, '2');\n                // Add the cache tags header to the response if it exists and we're in\n                // minimal mode while rendering a static page.\n                const tags = (_cachedData_headers1 = cachedData.headers) == null ? void 0 : _cachedData_headers1[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER];\n                if (isMinimalMode && isSSG && tags && typeof tags === 'string') {\n                    res.setHeader(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER, tags);\n                }\n                const matchedSegment = cachedData.segmentData.get(segmentPrefetchHeader);\n                if (matchedSegment !== undefined) {\n                    // Cache hit\n                    return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                        req,\n                        res,\n                        generateEtags: nextConfig.generateEtags,\n                        poweredByHeader: nextConfig.poweredByHeader,\n                        result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].fromStatic(matchedSegment, next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.RSC_CONTENT_TYPE_HEADER),\n                        cacheControl: cacheEntry.cacheControl\n                    });\n                }\n                // Cache miss. Either a cache entry for this route has not been generated\n                // (which technically should not be possible when PPR is enabled, because\n                // at a minimum there should always be a fallback entry) or there's no\n                // match for the requested segment. Respond with a 204 No Content. We\n                // don't bother to respond with 404, because these requests are only\n                // issued as part of a prefetch.\n                res.statusCode = 204;\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].EMPTY,\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // If there's a callback for `onCacheEntry`, call it with the cache entry\n            // and the revalidate options. If we support RDC for Navigations, we\n            // prefer the `onCacheEntryV2` callback. Once RDC for Navigations is the\n            // default, we can remove the fallback to `onCacheEntry` as\n            // `onCacheEntryV2` is now fully supported.\n            const onCacheEntry = supportsRDCForNavigations ? (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'onCacheEntryV2') ?? (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'onCacheEntry') : (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'onCacheEntry');\n            if (onCacheEntry) {\n                const finished = await onCacheEntry(cacheEntry, {\n                    url: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'initURL') ?? req.url\n                });\n                if (finished) return null;\n            }\n            if (cachedData.headers) {\n                const headers = {\n                    ...cachedData.headers\n                };\n                if (!isMinimalMode || !isSSG) {\n                    delete headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER];\n                }\n                for (let [key, value] of Object.entries(headers)){\n                    if (typeof value === 'undefined') continue;\n                    if (Array.isArray(value)) {\n                        for (const v of value){\n                            res.appendHeader(key, v);\n                        }\n                    } else if (typeof value === 'number') {\n                        value = value.toString();\n                        res.appendHeader(key, value);\n                    } else {\n                        res.appendHeader(key, value);\n                    }\n                }\n            }\n            // Add the cache tags header to the response if it exists and we're in\n            // minimal mode while rendering a static page.\n            const tags = (_cachedData_headers = cachedData.headers) == null ? void 0 : _cachedData_headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER];\n            if (isMinimalMode && isSSG && tags && typeof tags === 'string') {\n                res.setHeader(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER, tags);\n            }\n            // If the request is a data request, then we shouldn't set the status code\n            // from the response because it should always be 200. This should be gated\n            // behind the experimental PPR flag.\n            if (cachedData.status && (!isRSCRequest || !isRoutePPREnabled)) {\n                res.statusCode = cachedData.status;\n            }\n            // Redirect information is encoded in RSC payload, so we don't need to use redirect status codes\n            if (!isMinimalMode && cachedData.status && next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_26__.RedirectStatusCode[cachedData.status] && isRSCRequest) {\n                res.statusCode = 200;\n            }\n            // Mark that the request did postpone.\n            if (didPostpone && !isDynamicRSCRequest) {\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.NEXT_DID_POSTPONE_HEADER, '1');\n            }\n            // we don't go through this block when preview mode is true\n            // as preview mode is a dynamic request (bypasses cache) and doesn't\n            // generate both HTML and payloads in the same request so continue to just\n            // return the generated payload\n            if (isRSCRequest && !isDraftMode) {\n                // If this is a dynamic RSC request, then stream the response.\n                if (typeof cachedData.rscData === 'undefined') {\n                    // If the response is not an RSC response, then we can't serve it.\n                    if (cachedData.html.contentType !== next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.RSC_CONTENT_TYPE_HEADER) {\n                        if (nextConfig.cacheComponents) {\n                            res.statusCode = 404;\n                            return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                                req,\n                                res,\n                                generateEtags: nextConfig.generateEtags,\n                                poweredByHeader: nextConfig.poweredByHeader,\n                                result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].EMPTY,\n                                cacheControl: cacheEntry.cacheControl\n                            });\n                        } else {\n                            // Otherwise this case is not expected.\n                            throw Object.defineProperty(new next_dist_shared_lib_invariant_error__WEBPACK_IMPORTED_MODULE_27__.InvariantError(`Expected RSC response, got ${cachedData.html.contentType}`), \"__NEXT_ERROR_CODE\", {\n                                value: \"E789\",\n                                enumerable: false,\n                                configurable: true\n                            });\n                        }\n                    }\n                    return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                        req,\n                        res,\n                        generateEtags: nextConfig.generateEtags,\n                        poweredByHeader: nextConfig.poweredByHeader,\n                        result: cachedData.html,\n                        cacheControl: cacheEntry.cacheControl\n                    });\n                }\n                // As this isn't a prefetch request, we should serve the static flight\n                // data.\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].fromStatic(cachedData.rscData, next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.RSC_CONTENT_TYPE_HEADER),\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // This is a request for HTML data.\n            const body = cachedData.html;\n            // If there's no postponed state, we should just serve the HTML. This\n            // should also be the case for a resume request because it's completed\n            // as a server render (rather than a static render).\n            if (!didPostpone || isMinimalMode || isRSCRequest) {\n                // If we're in test mode, we should add a sentinel chunk to the response\n                // that's between the static and dynamic parts so we can compare the\n                // chunks and add assertions.\n                if (false) {}\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: body,\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // If we're debugging the static shell or the dynamic API accesses, we\n            // should just serve the HTML without resuming the render. The returned\n            // HTML will be the static shell so all the Dynamic API's will be used\n            // during static generation.\n            if (isDebugStaticShell || isDebugDynamicAccesses) {\n                // Since we're not resuming the render, we need to at least add the\n                // closing body and html tags to create valid HTML.\n                body.push(new ReadableStream({\n                    start (controller) {\n                        controller.enqueue(next_dist_server_stream_utils_encoded_tags__WEBPACK_IMPORTED_MODULE_21__.ENCODED_TAGS.CLOSED.BODY_AND_HTML);\n                        controller.close();\n                    }\n                }));\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: body,\n                    cacheControl: {\n                        revalidate: 0,\n                        expire: undefined\n                    }\n                });\n            }\n            // If we're in test mode, we should add a sentinel chunk to the response\n            // that's between the static and dynamic parts so we can compare the\n            // chunks and add assertions.\n            if (false) {}\n            // This request has postponed, so let's create a new transformer that the\n            // dynamic data can pipe to that will attach the dynamic data to the end\n            // of the response.\n            const transformer = new TransformStream();\n            body.push(transformer.readable);\n            // Perform the render again, but this time, provide the postponed state.\n            // We don't await because we want the result to start streaming now, and\n            // we've already chained the transformer's readable to the render result.\n            doRender({\n                span,\n                postponed: cachedData.postponed,\n                // This is a resume render, not a fallback render, so we don't need to\n                // set this.\n                fallbackRouteParams: null,\n                forceStaticRender: false\n            }).then(async (result)=>{\n                var _result_value;\n                if (!result) {\n                    throw Object.defineProperty(new Error('Invariant: expected a result to be returned'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E463\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                if (((_result_value = result.value) == null ? void 0 : _result_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE) {\n                    var _result_value1;\n                    throw Object.defineProperty(new Error(`Invariant: expected a page response, got ${(_result_value1 = result.value) == null ? void 0 : _result_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E305\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                // Pipe the resume result to the transformer.\n                await result.value.html.pipeTo(transformer.writable);\n            }).catch((err)=>{\n                // An error occurred during piping or preparing the render, abort\n                // the transformers writer so we can terminate the stream.\n                transformer.writable.abort(err).catch((e)=>{\n                    console.error(\"couldn't abort transformer\", e);\n                });\n            });\n            return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                req,\n                res,\n                generateEtags: nextConfig.generateEtags,\n                poweredByHeader: nextConfig.poweredByHeader,\n                result: body,\n                // We don't want to cache the response if it has postponed data because\n                // the response being sent to the client it's dynamic parts are streamed\n                // to the client on the same request.\n                cacheControl: {\n                    revalidate: 0,\n                    expire: undefined\n                }\n            });\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            return await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23__.NoFallbackError)) {\n            const silenceLog = false;\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: srcPage,\n                routeType: 'render',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_2__.getRevalidateReason)({\n                    isStaticGeneration: isSSG,\n                    isOnDemandRevalidate\n                })\n            }, silenceLog, routerServerContext);\n        }\n        // rethrow so that we can handle serving error page\n        throw err;\n    }\n}\n// TODO: omit this from production builds, only test builds should include it\n/**\n * Creates a readable stream that emits a PPR boundary sentinel.\n *\n * @returns A readable stream that emits a PPR boundary sentinel.\n */ function createPPRBoundarySentinel() {\n    return new ReadableStream({\n        start (controller) {\n            controller.enqueue(new TextEncoder().encode('<!-- PPR_BOUNDARY_SENTINEL -->'));\n            controller.close();\n        }\n    });\n}\n\n//# sourceMappingURL=app-page.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPSUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9JmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzQkFBc0IsNElBQTJFO0FBQ2pHLHNCQUFzQix1T0FBd0Y7QUFDOUcsc0JBQXNCLGlPQUFxRjtBQUMzRyxzQkFBc0IsaU9BQXFGO0FBQzNHLHNCQUFzQix1T0FBd0Y7QUFDOUcsb0JBQW9CLHdJQUF5RTtBQUczRjtBQUdBO0FBQzJFO0FBQ0w7QUFDTztBQUNUO0FBQ087QUFDUztBQUNGO0FBQ1A7QUFDc0M7QUFDM0I7QUFDaUI7QUFDMUI7QUFDYTtBQUMwRjtBQUN6RztBQUNXO0FBQ2Q7QUFDaEI7QUFDcUU7QUFDckQ7QUFDVDtBQUNpQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7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QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsS0FBNEIsRUFBRSxFQUVqQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSwrRkFBK0YsNkVBQWU7QUFDOUc7QUFDQSxzR0FBc0csdUVBQXVFO0FBQzdLO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLG1CQUFtQixnRkFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysb0ZBQW9GLGdGQUFjO0FBQ2xHLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ04sNkJBQTZCLDZGQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9kdWxlMCA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvYXBwL2xheW91dC50c3hcIik7XG5jb25zdCBtb2R1bGUxID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9nbG9iYWwtZXJyb3IuanNcIik7XG5jb25zdCBtb2R1bGUyID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9ub3QtZm91bmQuanNcIik7XG5jb25zdCBtb2R1bGUzID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9mb3JiaWRkZW4uanNcIik7XG5jb25zdCBtb2R1bGU0ID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi91bmF1dGhvcml6ZWQuanNcIik7XG5jb25zdCBwYWdlNSA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvYXBwL3BhZ2UudHN4XCIpO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcGFnZS9tb2R1bGUuY29tcGlsZWRcIiB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zc3InXG59O1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNlcnZlci11dGlsaXR5J1xufTtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBhZGRSZXF1ZXN0TWV0YSwgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgaW50ZXJvcERlZmF1bHQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2ludGVyb3AtZGVmYXVsdFwiO1xuaW1wb3J0IHsgc3RyaXBGbGlnaHRIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9zdHJpcC1mbGlnaHQtaGVhZGVyc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IGNoZWNrSXNBcHBQUFJFbmFibGVkIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2V4cGVyaW1lbnRhbC9wcHJcIjtcbmltcG9ydCB7IGdldEZhbGxiYWNrUm91dGVQYXJhbXMsIGNyZWF0ZU9wYXF1ZUZhbGxiYWNrUm91dGVQYXJhbXMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0L2ZhbGxiYWNrLXBhcmFtc1wiO1xuaW1wb3J0IHsgc2V0TWFuaWZlc3RzU2luZ2xldG9uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9tYW5pZmVzdHMtc2luZ2xldG9uXCI7XG5pbXBvcnQgeyBpc0h0bWxCb3RSZXF1ZXN0LCBzaG91bGRTZXJ2ZVN0cmVhbWluZ01ldGFkYXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3N0cmVhbWluZy1tZXRhZGF0YVwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBnZXRJc1Bvc3NpYmxlU2VydmVyQWN0aW9uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3NlcnZlci1hY3Rpb24tcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBSU0NfSEVBREVSLCBORVhUX1JPVVRFUl9QUkVGRVRDSF9IRUFERVIsIE5FWFRfSVNfUFJFUkVOREVSX0hFQURFUiwgTkVYVF9ESURfUE9TVFBPTkVfSEVBREVSLCBSU0NfQ09OVEVOVF9UWVBFX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci1oZWFkZXJzXCI7XG5pbXBvcnQgeyBnZXRCb3RUeXBlLCBpc0JvdCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvaXMtYm90XCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQsIEluY3JlbWVudGFsQ2FjaGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCB7IEZhbGxiYWNrTW9kZSwgcGFyc2VGYWxsYmFja0ZpZWxkIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvZmFsbGJhY2tcIjtcbmltcG9ydCBSZW5kZXJSZXN1bHQgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVuZGVyLXJlc3VsdFwiO1xuaW1wb3J0IHsgQ0FDSEVfT05FX1lFQVIsIEhUTUxfQ09OVEVOVF9UWVBFX0hFQURFUiwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiwgTkVYVF9SRVNVTUVfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBFTkNPREVEX1RBR1MgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zdHJlYW0tdXRpbHMvZW5jb2RlZC10YWdzXCI7XG5pbXBvcnQgeyBzZW5kUmVuZGVyUmVzdWx0IH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1wYXlsb2FkXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbJ19fUEFHRV9fJywge30sIHtcbiAgICAgICAgICBwYWdlOiBbcGFnZTUsIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvYXBwL3BhZ2UudHN4XCJdLFxuICAgICAgICAgIFxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogW21vZHVsZTAsIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvYXBwL2xheW91dC50c3hcIl0sXG4nZ2xvYmFsLWVycm9yJzogW21vZHVsZTEsIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vZ2xvYmFsLWVycm9yLmpzXCJdLFxuJ25vdC1mb3VuZCc6IFttb2R1bGUyLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9idWlsdGluL25vdC1mb3VuZC5qc1wiXSxcbidmb3JiaWRkZW4nOiBbbW9kdWxlMywgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9mb3JiaWRkZW4uanNcIl0sXG4ndW5hdXRob3JpemVkJzogW21vZHVsZTQsIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vdW5hdXRob3JpemVkLmpzXCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0uY2hpbGRyZW47XG5pbXBvcnQgR2xvYmFsRXJyb3IgZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9idWlsdGluL2dsb2JhbC1lcnJvci5qc1wiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNlcnZlci11dGlsaXR5J1xufTtcbmV4cG9ydCB7IEdsb2JhbEVycm9yIH07XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmltcG9ydCAqIGFzIGVudHJ5QmFzZSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2VudHJ5LWJhc2VcIiB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zZXJ2ZXItdXRpbGl0eSdcbn07XG5pbXBvcnQgeyBSZWRpcmVjdFN0YXR1c0NvZGUgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlZGlyZWN0LXN0YXR1cy1jb2RlXCI7XG5pbXBvcnQgeyBJbnZhcmlhbnRFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9pbnZhcmlhbnQtZXJyb3JcIjtcbmltcG9ydCB7IHNjaGVkdWxlT25OZXh0VGljayB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL3NjaGVkdWxlclwiO1xuaW1wb3J0IHsgaXNJbnRlcmNlcHRpb25Sb3V0ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2ludGVyY2VwdGlvbi1yb3V0ZXNcIjtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNlcnZlci11dGlsaXR5J1xufTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJycsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnXG59KTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgaWYgKHJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgIGFkZFJlcXVlc3RNZXRhKHJlcSwgJ2RldlJlcXVlc3RUaW1pbmdJbnRlcm5hbHNFbmQnLCBwcm9jZXNzLmhydGltZS5iaWdpbnQoKSk7XG4gICAgfVxuICAgIGNvbnN0IGlzTWluaW1hbE1vZGUgPSBCb29sZWFuKHByb2Nlc3MuZW52Lk1JTklNQUxfTU9ERSB8fCBnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKTtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL3BhZ2VcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcXVlcnksIHBhcmFtcywgcGFnZUlzRHluYW1pYywgYnVpbGRNYW5pZmVzdCwgbmV4dEZvbnRNYW5pZmVzdCwgcmVhY3RMb2FkYWJsZU1hbmlmZXN0LCBzZXJ2ZXJBY3Rpb25zTWFuaWZlc3QsIGNsaWVudFJlZmVyZW5jZU1hbmlmZXN0LCBzdWJyZXNvdXJjZUludGVncml0eU1hbmlmZXN0LCBwcmVyZW5kZXJNYW5pZmVzdCwgaXNEcmFmdE1vZGUsIHJlc29sdmVkUGF0aG5hbWUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBuZXh0Q29uZmlnLCBwYXJzZWRVcmwsIGludGVyY2VwdGlvblJvdXRlUGF0dGVybnMsIGRlcGxveW1lbnRJZCB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IHsgaXNPbkRlbWFuZFJldmFsaWRhdGUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgLy8gV2UgdXNlIHRoZSByZXNvbHZlZFBhdGhuYW1lIGluc3RlYWQgb2YgdGhlIHBhcnNlZFVybC5wYXRobmFtZSBiZWNhdXNlIGl0XG4gICAgLy8gaXMgbm90IHJld3JpdHRlbiBhcyByZXNvbHZlZFBhdGhuYW1lIGlzLiBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgdGhlIGNvcnJlY3RcbiAgICAvLyBwcmVyZW5kZXIgaW5mbyBpcyB1c2VkIGluc3RlYWQgb2YgdXNpbmcgdGhlIG9yaWdpbmFsIHBhdGhuYW1lIGFzIHRoZVxuICAgIC8vIHNvdXJjZS4gSWYgaG93ZXZlciBQUFIgaXMgZW5hYmxlZCBhbmQgY2FjaGVDb21wb25lbnRzIGlzIGRpc2FibGVkLCB3ZVxuICAgIC8vIHRyZWF0IHRoZSBwYXRobmFtZSBhcyBkeW5hbWljLiBDdXJyZW50bHksIHRoZXJlJ3MgYSBidWcgaW4gdGhlIFBQUlxuICAgIC8vIGltcGxlbWVudGF0aW9uIHRoYXQgaW5jb3JyZWN0bHkgbGVhdmVzICUlZHJwIHBsYWNlaG9sZGVycyBpbiB0aGUgb3V0cHV0IG9mXG4gICAgLy8gcGFyYWxsZWwgcm91dGVzLiBUaGlzIGlzIGFkZHJlc3NlZCB3aXRoIGNhY2hlQ29tcG9uZW50cy5cbiAgICBjb25zdCBwcmVyZW5kZXJJbmZvID0gbmV4dENvbmZpZy5leHBlcmltZW50YWwucHByICYmICFuZXh0Q29uZmlnLmNhY2hlQ29tcG9uZW50cyAmJiBpc0ludGVyY2VwdGlvblJvdXRlQXBwUGF0aChyZXNvbHZlZFBhdGhuYW1lKSA/IG51bGwgOiByb3V0ZU1vZHVsZS5tYXRjaChyZXNvbHZlZFBhdGhuYW1lLCBwcmVyZW5kZXJNYW5pZmVzdCk7XG4gICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9ICEhcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdO1xuICAgIGNvbnN0IHVzZXJBZ2VudCA9IHJlcS5oZWFkZXJzWyd1c2VyLWFnZW50J10gfHwgJyc7XG4gICAgY29uc3QgYm90VHlwZSA9IGdldEJvdFR5cGUodXNlckFnZW50KTtcbiAgICBjb25zdCBpc0h0bWxCb3QgPSBpc0h0bWxCb3RSZXF1ZXN0KHJlcSk7XG4gICAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgaW5kaWNhdGVzIHRoYXQgdGhlIHJlcXVlc3QgYmVpbmcgbWFkZSBpcyBmb3IgYW4gYXBwXG4gICAqIHByZWZldGNoIHJlcXVlc3QuXG4gICAqLyBjb25zdCBpc1ByZWZldGNoUlNDUmVxdWVzdCA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2lzUHJlZmV0Y2hSU0NSZXF1ZXN0JykgPz8gcmVxLmhlYWRlcnNbTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSXSA9PT0gJzEnIC8vIGV4Y2x1ZGUgcnVudGltZSBwcmVmZXRjaGVzLCB3aGljaCB1c2UgJzInXG4gICAgO1xuICAgIC8vIE5PVEU6IERvbid0IGRlbGV0ZSBoZWFkZXJzW1JTQ10geWV0LCBpdCBzdGlsbCBuZWVkcyB0byBiZSB1c2VkIGluIHJlbmRlclRvSFRNTCBsYXRlclxuICAgIGNvbnN0IGlzUlNDUmVxdWVzdCA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2lzUlNDUmVxdWVzdCcpID8/IEJvb2xlYW4ocmVxLmhlYWRlcnNbUlNDX0hFQURFUl0pO1xuICAgIGNvbnN0IGlzUG9zc2libGVTZXJ2ZXJBY3Rpb24gPSBnZXRJc1Bvc3NpYmxlU2VydmVyQWN0aW9uKHJlcSk7XG4gICAgLyoqXG4gICAqIElmIHRoZSByb3V0ZSBiZWluZyByZW5kZXJlZCBpcyBhbiBhcHAgcGFnZSwgYW5kIHRoZSBwcHIgZmVhdHVyZSBoYXMgYmVlblxuICAgKiBlbmFibGVkLCB0aGVuIHRoZSBnaXZlbiByb3V0ZSBfY291bGRfIHN1cHBvcnQgUFBSLlxuICAgKi8gY29uc3QgY291bGRTdXBwb3J0UFBSID0gY2hlY2tJc0FwcFBQUkVuYWJsZWQobmV4dENvbmZpZy5leHBlcmltZW50YWwucHByKTtcbiAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ3Bvc3Rwb25lZCcpICYmIGNvdWxkU3VwcG9ydFBQUiAmJiByZXEuaGVhZGVyc1tORVhUX1JFU1VNRV9IRUFERVJdID09PSAnMScgJiYgcmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgICAgIC8vIERlY29kZSB0aGUgcG9zdHBvbmVkIHN0YXRlIGZyb20gdGhlIHJlcXVlc3QgYm9keSwgaXQgd2lsbCBjb21lIGFzXG4gICAgICAgIC8vIGFuIGFycmF5IG9mIGJ1ZmZlcnMsIHNvIGNvbGxlY3QgdGhlbSBhbmQgdGhlbiBjb25jYXQgdGhlbSB0byBmb3JtXG4gICAgICAgIC8vIHRoZSBzdHJpbmcuXG4gICAgICAgIGNvbnN0IGJvZHkgPSBbXTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZXEpe1xuICAgICAgICAgICAgYm9keS5wdXNoKGNodW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3N0cG9uZWQgPSBCdWZmZXIuY29uY2F0KGJvZHkpLnRvU3RyaW5nKCd1dGY4Jyk7XG4gICAgICAgIGFkZFJlcXVlc3RNZXRhKHJlcSwgJ3Bvc3Rwb25lZCcsIHBvc3Rwb25lZCk7XG4gICAgfVxuICAgIC8vIFdoZW4gZW5hYmxlZCwgdGhpcyB3aWxsIGFsbG93IHRoZSB1c2Ugb2YgdGhlIGA/X19uZXh0cHByb25seWAgcXVlcnkgdG9cbiAgICAvLyBlbmFibGUgZGVidWdnaW5nIG9mIHRoZSBzdGF0aWMgc2hlbGwuXG4gICAgY29uc3QgaGFzRGVidWdTdGF0aWNTaGVsbFF1ZXJ5ID0gcHJvY2Vzcy5lbnYuX19ORVhUX0VYUEVSSU1FTlRBTF9TVEFUSUNfU0hFTExfREVCVUdHSU5HID09PSAnMScgJiYgdHlwZW9mIHF1ZXJ5Ll9fbmV4dHBwcm9ubHkgIT09ICd1bmRlZmluZWQnICYmIGNvdWxkU3VwcG9ydFBQUjtcbiAgICAvLyBXaGVuIGVuYWJsZWQsIHRoaXMgd2lsbCBhbGxvdyB0aGUgdXNlIG9mIHRoZSBgP19fbmV4dHBwcm9ubHlgIHF1ZXJ5XG4gICAgLy8gdG8gZW5hYmxlIGRlYnVnZ2luZyBvZiB0aGUgZmFsbGJhY2sgc2hlbGwuXG4gICAgY29uc3QgaGFzRGVidWdGYWxsYmFja1NoZWxsUXVlcnkgPSBoYXNEZWJ1Z1N0YXRpY1NoZWxsUXVlcnkgJiYgcXVlcnkuX19uZXh0cHByb25seSA9PT0gJ2ZhbGxiYWNrJztcbiAgICAvLyBUaGlzIHBhZ2Ugc3VwcG9ydHMgUFBSIGlmIGl0IGlzIG1hcmtlZCBhcyBiZWluZyBgUEFSVElBTExZX1NUQVRJQ2AgaW4gdGhlXG4gICAgLy8gcHJlcmVuZGVyIG1hbmlmZXN0IGFuZCB0aGlzIGlzIGFuIGFwcCBwYWdlLlxuICAgIGNvbnN0IGlzUm91dGVQUFJFbmFibGVkID0gY291bGRTdXBwb3J0UFBSICYmICgoKF90aGlzID0gcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSA/PyBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzLnJlbmRlcmluZ01vZGUpID09PSAnUEFSVElBTExZX1NUQVRJQycgfHwgLy8gSWRlYWxseSB3ZSdkIHdhbnQgdG8gY2hlY2sgdGhlIGFwcENvbmZpZyB0byBzZWUgaWYgdGhpcyBwYWdlIGhhcyBQUFJcbiAgICAvLyBlbmFibGVkIG9yIG5vdCwgYnV0IHRoYXQgd291bGQgcmVxdWlyZSBwbHVtYmluZyB0aGUgYXBwQ29uZmlnIHRocm91Z2hcbiAgICAvLyB0byB0aGUgc2VydmVyIGR1cmluZyBkZXZlbG9wbWVudC4gV2UgYXNzdW1lIHRoYXQgdGhlIHBhZ2Ugc3VwcG9ydHMgaXRcbiAgICAvLyBidXQgb25seSBkdXJpbmcgZGV2ZWxvcG1lbnQuXG4gICAgaGFzRGVidWdTdGF0aWNTaGVsbFF1ZXJ5ICYmIChyb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAocm91dGVyU2VydmVyQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogcm91dGVyU2VydmVyQ29udGV4dC5leHBlcmltZW50YWxUZXN0UHJveHkpID09PSB0cnVlKSk7XG4gICAgY29uc3QgaXNEZWJ1Z1N0YXRpY1NoZWxsID0gaGFzRGVidWdTdGF0aWNTaGVsbFF1ZXJ5ICYmIGlzUm91dGVQUFJFbmFibGVkO1xuICAgIC8vIFdlIHNob3VsZCBlbmFibGUgZGVidWdnaW5nIGR5bmFtaWMgYWNjZXNzZXMgd2hlbiB0aGUgc3RhdGljIHNoZWxsXG4gICAgLy8gZGVidWdnaW5nIGhhcyBiZWVuIGVuYWJsZWQgYW5kIHdlJ3JlIGFsc28gaW4gZGV2ZWxvcG1lbnQgbW9kZS5cbiAgICBjb25zdCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzID0gaXNEZWJ1Z1N0YXRpY1NoZWxsICYmIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlO1xuICAgIGNvbnN0IGlzRGVidWdGYWxsYmFja1NoZWxsID0gaGFzRGVidWdGYWxsYmFja1NoZWxsUXVlcnkgJiYgaXNSb3V0ZVBQUkVuYWJsZWQ7XG4gICAgLy8gSWYgd2UncmUgaW4gbWluaW1hbCBtb2RlLCB0aGVuIHRyeSB0byBnZXQgdGhlIHBvc3Rwb25lZCBpbmZvcm1hdGlvbiBmcm9tXG4gICAgLy8gdGhlIHJlcXVlc3QgbWV0YWRhdGEuIElmIGF2YWlsYWJsZSwgdXNlIGl0IGZvciByZXN1bWluZyB0aGUgcG9zdHBvbmVkXG4gICAgLy8gcmVuZGVyLlxuICAgIGNvbnN0IG1pbmltYWxQb3N0cG9uZWQgPSBpc1JvdXRlUFBSRW5hYmxlZCA/IGdldFJlcXVlc3RNZXRhKHJlcSwgJ3Bvc3Rwb25lZCcpIDogdW5kZWZpbmVkO1xuICAgIC8vIElmIFBQUiBpcyBlbmFibGVkLCBhbmQgdGhpcyBpcyBhIFJTQyByZXF1ZXN0IChidXQgbm90IGEgcHJlZmV0Y2gpLCB0aGVuXG4gICAgLy8gd2UgY2FuIHVzZSB0aGlzIGZhY3QgdG8gb25seSBnZW5lcmF0ZSB0aGUgZmxpZ2h0IGRhdGEgZm9yIHRoZSByZXF1ZXN0XG4gICAgLy8gYmVjYXVzZSB3ZSBjYW4ndCBjYWNoZSB0aGUgSFRNTCAoYXMgaXQncyBhbHNvIGR5bmFtaWMpLlxuICAgIGxldCBpc0R5bmFtaWNSU0NSZXF1ZXN0ID0gaXNSb3V0ZVBQUkVuYWJsZWQgJiYgaXNSU0NSZXF1ZXN0ICYmICFpc1ByZWZldGNoUlNDUmVxdWVzdDtcbiAgICAvLyBEdXJpbmcgYSBQUFIgcmV2YWxpZGF0aW9uLCB0aGUgUlNDIHJlcXVlc3QgaXMgbm90IGR5bmFtaWMgaWYgd2UgZG8gbm90IGhhdmUgdGhlIHBvc3Rwb25lZCBkYXRhLlxuICAgIC8vIFdlIG9ubHkgYXR0YWNoIHRoZSBwb3N0cG9uZWQgZGF0YSBkdXJpbmcgYSByZXN1bWUuIElmIHRoZXJlJ3Mgbm8gcG9zdHBvbmVkIGRhdGEsIHRoZW4gaXQgbXVzdCBiZSBhIHJldmFsaWRhdGlvbi5cbiAgICAvLyBUaGlzIGlzIHRvIGVuc3VyZSB0aGF0IHdlIGRvbid0IGJ5cGFzcyB0aGUgY2FjaGUgZHVyaW5nIGEgcmV2YWxpZGF0aW9uLlxuICAgIGlmIChpc01pbmltYWxNb2RlKSB7XG4gICAgICAgIGlzRHluYW1pY1JTQ1JlcXVlc3QgPSBpc0R5bmFtaWNSU0NSZXF1ZXN0ICYmICEhbWluaW1hbFBvc3Rwb25lZDtcbiAgICB9XG4gICAgLy8gTmVlZCB0byByZWFkIHRoaXMgYmVmb3JlIGl0J3Mgc3RyaXBwZWQgYnkgc3RyaXBGbGlnaHRIZWFkZXJzLiBXZSBkb24ndFxuICAgIC8vIG5lZWQgdG8gdHJhbnNmZXIgaXQgdG8gdGhlIHJlcXVlc3QgbWV0YSBiZWNhdXNlIGl0J3Mgb25seSByZWFkXG4gICAgLy8gd2l0aGluIHRoaXMgZnVuY3Rpb247IHRoZSBzdGF0aWMgc2VnbWVudCBkYXRhIHNob3VsZCBoYXZlIGFscmVhZHkgYmVlblxuICAgIC8vIGdlbmVyYXRlZCwgc28gd2Ugd2lsbCBhbHdheXMgZWl0aGVyIHJldHVybiBhIHN0YXRpYyByZXNwb25zZSBvciBhIDQwNC5cbiAgICBjb25zdCBzZWdtZW50UHJlZmV0Y2hIZWFkZXIgPSBnZXRSZXF1ZXN0TWV0YShyZXEsICdzZWdtZW50UHJlZmV0Y2hSU0NSZXF1ZXN0Jyk7XG4gICAgLy8gVE9ETzogaW52ZXN0aWdhdGUgZXhpc3RpbmcgYnVnIHdpdGggc2hvdWxkU2VydmVTdHJlYW1pbmdNZXRhZGF0YSBhbHdheXNcbiAgICAvLyBiZWluZyB0cnVlIGZvciBhIHJldmFsaWRhdGUgZHVlIHRvIG1vZGlmeWluZyB0aGUgYmFzZS1zZXJ2ZXIgdGhpcy5yZW5kZXJPcHRzXG4gICAgLy8gd2hlbiBmaXhpbmcgdGhpcyB0byBjb3JyZWN0IGxvZ2ljIGl0IGNhdXNlcyBoeWRyYXRpb24gaXNzdWUgc2luY2Ugd2Ugc2V0XG4gICAgLy8gc2VydmVTdHJlYW1pbmdNZXRhZGF0YSB0byB0cnVlIGR1cmluZyBleHBvcnRcbiAgICBjb25zdCBzZXJ2ZVN0cmVhbWluZ01ldGFkYXRhID0gaXNIdG1sQm90ICYmIGlzUm91dGVQUFJFbmFibGVkID8gZmFsc2UgOiAhdXNlckFnZW50ID8gdHJ1ZSA6IHNob3VsZFNlcnZlU3RyZWFtaW5nTWV0YWRhdGEodXNlckFnZW50LCBuZXh0Q29uZmlnLmh0bWxMaW1pdGVkQm90cyk7XG4gICAgY29uc3QgaXNTU0cgPSBCb29sZWFuKChwcmVyZW5kZXJJbmZvIHx8IGlzUHJlcmVuZGVyZWQgfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSkgJiYgLy8gSWYgdGhpcyBpcyBhIGh0bWwgYm90IHJlcXVlc3QgYW5kIFBQUiBpcyBlbmFibGVkLCB0aGVuIHdlIGRvbid0IHdhbnRcbiAgICAvLyB0byBzZXJ2ZSBhIHN0YXRpYyByZXNwb25zZS5cbiAgICAhKGlzSHRtbEJvdCAmJiBpc1JvdXRlUFBSRW5hYmxlZCkpO1xuICAgIC8vIFdoZW4gYSBwYWdlIHN1cHBvcnRzIGNhY2hlQ29tcG9uZW50cywgd2UgY2FuIHN1cHBvcnQgUkRDIGZvciBOYXZpZ2F0aW9uc1xuICAgIGNvbnN0IHN1cHBvcnRzUkRDRm9yTmF2aWdhdGlvbnMgPSBpc1JvdXRlUFBSRW5hYmxlZCAmJiBuZXh0Q29uZmlnLmNhY2hlQ29tcG9uZW50cyA9PT0gdHJ1ZTtcbiAgICAvLyBJbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHdhbnQgdG8gZ2VuZXJhdGUgZHluYW1pYyBIVE1MLlxuICAgIGNvbnN0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTCwgdW5sZXNzIGl0J3NcbiAgICAvLyBhIGRhdGEgcmVxdWVzdCwgaW4gd2hpY2ggY2FzZSB3ZSBvbmx5IHByb2R1Y2Ugc3RhdGljIEhUTUwuXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc1NTRyB8fCAvLyBJZiB0aGlzIHJlcXVlc3QgaGFzIHByb3ZpZGVkIHBvc3Rwb25lZCBkYXRhLCBpdCBzdXBwb3J0cyBkeW5hbWljXG4gICAgLy8gSFRNTC5cbiAgICB0eXBlb2YgbWluaW1hbFBvc3Rwb25lZCA9PT0gJ3N0cmluZycgfHwgLy8gSWYgdGhpcyBoYW5kbGVyIHN1cHBvcnRzIG9uQ2FjaGVFbnRyeVYyLCB0aGVuIHdlIGNhbiBvbmx5IHN1cHBvcnRcbiAgICAvLyBkeW5hbWljIHJlc3BvbnNlcyBpZiBpdCdzIGEgZHluYW1pYyBSU0MgcmVxdWVzdCBhbmQgbm90IGluIG1pbmltYWwgbW9kZS4gSWYgaXRcbiAgICAvLyBkb2Vzbid0IHN1cHBvcnQgaXQgd2UgbXVzdCBmYWxsYmFjayB0byB0aGUgZGVmYXVsdCBiZWhhdmlvci5cbiAgICAoc3VwcG9ydHNSRENGb3JOYXZpZ2F0aW9ucyAmJiBnZXRSZXF1ZXN0TWV0YShyZXEsICdvbkNhY2hlRW50cnlWMicpID8gLy8gd2hpY2ggd2lsbCBnZW5lcmF0ZSB0aGUgUkRDIGZvciB0aGUgcm91dGUuIFdoZW4gcmVzdW1pbmcgYSBEeW5hbWljXG4gICAgLy8gUlNDIHJlcXVlc3QsIHdlJ2xsIHBhc3MgdGhlIG1pbmltYWwgcG9zdHBvbmVkIGRhdGEgdG8gdGhlIHJlbmRlclxuICAgIC8vIHdoaWNoIHdpbGwgdHJpZ2dlciB0aGUgYHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlYCB0byBiZSB0cnVlLlxuICAgIGlzRHluYW1pY1JTQ1JlcXVlc3QgJiYgIWlzTWluaW1hbE1vZGUgOiBpc0R5bmFtaWNSU0NSZXF1ZXN0KTtcbiAgICAvLyBXaGVuIGh0bWwgYm90cyByZXF1ZXN0IFBQUiBwYWdlLCBwZXJmb3JtIHRoZSBmdWxsIGR5bmFtaWMgcmVuZGVyaW5nLlxuICAgIGNvbnN0IHNob3VsZFdhaXRPbkFsbFJlYWR5ID0gaXNIdG1sQm90ICYmIGlzUm91dGVQUFJFbmFibGVkO1xuICAgIGxldCBzc2dDYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKCFpc0RyYWZ0TW9kZSAmJiBpc1NTRyAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgJiYgIWlzUG9zc2libGVTZXJ2ZXJBY3Rpb24gJiYgIW1pbmltYWxQb3N0cG9uZWQgJiYgIWlzRHluYW1pY1JTQ1JlcXVlc3QpIHtcbiAgICAgICAgc3NnQ2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgIH1cbiAgICAvLyB0aGUgc3RhdGljUGF0aEtleSBkaWZmZXJzIGZyb20gc3NnQ2FjaGVLZXkgc2luY2VcbiAgICAvLyBzc2dDYWNoZUtleSBpcyBudWxsIGluIGRldiBzaW5jZSB3ZSdyZSBhbHdheXMgaW4gXCJkeW5hbWljXCJcbiAgICAvLyBtb2RlIGluIGRldiB0byBieXBhc3MgdGhlIGNhY2hlLCBidXQgd2Ugc3RpbGwgbmVlZCB0byBob25vclxuICAgIC8vIGR5bmFtaWNQYXJhbXMgPSBmYWxzZSBpbiBkZXYgbW9kZVxuICAgIGxldCBzdGF0aWNQYXRoS2V5ID0gc3NnQ2FjaGVLZXk7XG4gICAgaWYgKCFzdGF0aWNQYXRoS2V5ICYmIHJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgIHN0YXRpY1BhdGhLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgIH1cbiAgICAvLyBJZiB0aGlzIGlzIGEgcmVxdWVzdCBmb3IgYW4gYXBwIHBhdGggdGhhdCBzaG91bGQgYmUgc3RhdGljYWxseSBnZW5lcmF0ZWRcbiAgICAvLyBhbmQgd2UgYXJlbid0IGluIHRoZSBlZGdlIHJ1bnRpbWUsIHN0cmlwIHRoZSBmbGlnaHQgaGVhZGVycyBzbyBpdCB3aWxsXG4gICAgLy8gZ2VuZXJhdGUgdGhlIHN0YXRpYyByZXNwb25zZS5cbiAgICBpZiAoIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSAmJiBpc1NTRyAmJiBpc1JTQ1JlcXVlc3QgJiYgIWlzRHluYW1pY1JTQ1JlcXVlc3QpIHtcbiAgICAgICAgc3RyaXBGbGlnaHRIZWFkZXJzKHJlcS5oZWFkZXJzKTtcbiAgICB9XG4gICAgY29uc3QgQ29tcG9uZW50TW9kID0ge1xuICAgICAgICAuLi5lbnRyeUJhc2UsXG4gICAgICAgIHRyZWUsXG4gICAgICAgIEdsb2JhbEVycm9yLFxuICAgICAgICBoYW5kbGVyLFxuICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgX19uZXh0X2FwcF9fXG4gICAgfTtcbiAgICAvLyBCZWZvcmUgcmVuZGVyaW5nICh3aGljaCBpbml0aWFsaXplcyBjb21wb25lbnQgdHJlZSBtb2R1bGVzKSwgd2UgaGF2ZSB0b1xuICAgIC8vIHNldCB0aGUgcmVmZXJlbmNlIG1hbmlmZXN0cyB0byBvdXIgZ2xvYmFsIHN0b3JlIHNvIFNlcnZlciBBY3Rpb24nc1xuICAgIC8vIGVuY3J5cHRpb24gdXRpbCBjYW4gYWNjZXNzIHRvIHRoZW0gYXQgdGhlIHRvcCBsZXZlbCBvZiB0aGUgcGFnZSBtb2R1bGUuXG4gICAgaWYgKHNlcnZlckFjdGlvbnNNYW5pZmVzdCAmJiBjbGllbnRSZWZlcmVuY2VNYW5pZmVzdCkge1xuICAgICAgICBzZXRNYW5pZmVzdHNTaW5nbGV0b24oe1xuICAgICAgICAgICAgcGFnZTogc3JjUGFnZSxcbiAgICAgICAgICAgIGNsaWVudFJlZmVyZW5jZU1hbmlmZXN0LFxuICAgICAgICAgICAgc2VydmVyQWN0aW9uc01hbmlmZXN0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgcmVuZGVyNDA0ID0gYXN5bmMgKCk9PntcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHJvdXRlLW1vZHVsZSBpdHNlbGYgaGFuZGxlIHJlbmRlcmluZyB0aGUgNDA0XG4gICAgICAgIGlmIChyb3V0ZXJTZXJ2ZXJDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiByb3V0ZXJTZXJ2ZXJDb250ZXh0LnJlbmRlcjQwNCkge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVyU2VydmVyQ29udGV4dC5yZW5kZXI0MDQocmVxLCByZXMsIHBhcnNlZFVybCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmFyeUhlYWRlciA9IHJvdXRlTW9kdWxlLmdldFZhcnlIZWFkZXIocmVzb2x2ZWRQYXRobmFtZSwgaW50ZXJjZXB0aW9uUm91dGVQYXR0ZXJucyk7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ1ZhcnknLCB2YXJ5SGVhZGVyKTtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3BhbiwgY29udGV4dCk9PntcbiAgICAgICAgICAgIGNvbnN0IG5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5yZW5kZXIobmV4dFJlcSwgbmV4dFJlcywgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtzcmNQYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbmNyZW1lbnRhbENhY2hlID0gZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpO1xuICAgICAgICBjb25zdCBkb1JlbmRlciA9IGFzeW5jICh7IHNwYW4sIHBvc3Rwb25lZCwgZmFsbGJhY2tSb3V0ZVBhcmFtcywgZm9yY2VTdGF0aWNSZW5kZXIgfSk9PntcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIHBhZ2U6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50c0htckNhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdzZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGUnKSxcbiAgICAgICAgICAgICAgICBmYWxsYmFja1JvdXRlUGFyYW1zLFxuICAgICAgICAgICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgQXBwOiAoKT0+bnVsbCxcbiAgICAgICAgICAgICAgICAgICAgRG9jdW1lbnQ6ICgpPT5udWxsLFxuICAgICAgICAgICAgICAgICAgICBwYWdlQ29uZmlnOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgQ29tcG9uZW50TW9kLFxuICAgICAgICAgICAgICAgICAgICBDb21wb25lbnQ6IGludGVyb3BEZWZhdWx0KENvbXBvbmVudE1vZCksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBvc3Rwb25lZCxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkV2FpdE9uQWxsUmVhZHksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlU3RyZWFtaW5nTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlOiB0eXBlb2YgcG9zdHBvbmVkID09PSAnc3RyaW5nJyB8fCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEZvbnRNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RMb2FkYWJsZU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICBzdWJyZXNvdXJjZUludGVncml0eU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICBzZXRDYWNoZVN0YXR1czogcm91dGVyU2VydmVyQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogcm91dGVyU2VydmVyQ29udGV4dC5zZXRDYWNoZVN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNyU3RhdHVzOiByb3V0ZXJTZXJ2ZXJDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiByb3V0ZXJTZXJ2ZXJDb250ZXh0LnNldElzclN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVhY3REZWJ1Z0NoYW5uZWw6IHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQuc2V0UmVhY3REZWJ1Z0NoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgIHNlbmRFcnJvcnNUb0Jyb3dzZXI6IHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQuc2VuZEVycm9yc1RvQnJvd3NlcixcbiAgICAgICAgICAgICAgICAgICAgZGlyOiBwcm9jZXNzLmVudi5ORVhUX1JVTlRJTUUgPT09ICdub2RlanMnID8gcmVxdWlyZSgncGF0aCcpLmpvaW4oLyogdHVyYm9wYWNrSWdub3JlOiB0cnVlICovIHByb2Nlc3MuY3dkKCksIHJvdXRlTW9kdWxlLnJlbGF0aXZlUHJvamVjdERpcikgOiBgJHtwcm9jZXNzLmN3ZCgpfS8ke3JvdXRlTW9kdWxlLnJlbGF0aXZlUHJvamVjdERpcn1gLFxuICAgICAgICAgICAgICAgICAgICBpc0RyYWZ0TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgYm90VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlzUG9zc2libGVTZXJ2ZXJBY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0UHJlZml4OiBuZXh0Q29uZmlnLmFzc2V0UHJlZml4LFxuICAgICAgICAgICAgICAgICAgICBuZXh0Q29uZmlnT3V0cHV0OiBuZXh0Q29uZmlnLm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IG5leHRDb25maWcuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgIHRyYWlsaW5nU2xhc2g6IG5leHRDb25maWcudHJhaWxpbmdTbGFzaCxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiBuZXh0Q29uZmlnLmltYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlld1Byb3BzOiBwcmVyZW5kZXJNYW5pZmVzdC5wcmV2aWV3LFxuICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50SWQ6IGRlcGxveW1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlVGFpbnRpbmc6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLnRhaW50LFxuICAgICAgICAgICAgICAgICAgICBodG1sTGltaXRlZEJvdHM6IG5leHRDb25maWcuaHRtbExpbWl0ZWRCb3RzLFxuICAgICAgICAgICAgICAgICAgICByZWFjdE1heEhlYWRlcnNMZW5ndGg6IG5leHRDb25maWcucmVhY3RNYXhIZWFkZXJzTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGUsXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiBuZXh0Q29uZmlnLmNhY2hlTGlmZSxcbiAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGg6IG5leHRDb25maWcuYmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckFjdGlvbnM6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLnNlcnZlckFjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLmlzRGVidWdTdGF0aWNTaGVsbCB8fCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzIHx8IGlzRGVidWdGYWxsYmFja1NoZWxsID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEV4cG9ydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RhdGljR2VuZXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVidWdEeW5hbWljQWNjZXNzZXM6IGlzRGVidWdEeW5hbWljQWNjZXNzZXNcbiAgICAgICAgICAgICAgICAgICAgfSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbXBvbmVudHM6IEJvb2xlYW4obmV4dENvbmZpZy5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlVGltZTogbmV4dENvbmZpZy5leHBpcmVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbGVUaW1lczogbmV4dENvbmZpZy5leHBlcmltZW50YWwuc3RhbGVUaW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNPbkhvdmVyOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmR5bmFtaWNPbkhvdmVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZUNzczogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5pbmxpbmVDc3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VHJhY2VNZXRhZGF0YTogbmV4dENvbmZpZy5leHBlcmltZW50YWwuY2xpZW50VHJhY2VNZXRhZGF0YSB8fCBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhcmFtUGFyc2luZ09yaWdpbnM6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNsaWVudFBhcmFtUGFyc2luZ09yaWdpbnNcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiAoKT0+e30sXG4gICAgICAgICAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQsIHNpbGVuY2VMb2cpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHNpbGVuY2VMb2csIHJvdXRlclNlcnZlckNvbnRleHQpLFxuICAgICAgICAgICAgICAgICAgICBlcnI6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2ludm9rZUVycm9yJyksXG4gICAgICAgICAgICAgICAgICAgIGRldjogcm91dGVNb2R1bGUuaXNEZXZcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGlzRGVidWdTdGF0aWNTaGVsbCB8fCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZW5kZXJPcHRzLm5leHRFeHBvcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVuZGVyT3B0cy5zdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVuZGVyT3B0cy5pc0RlYnVnRHluYW1pY0FjY2Vzc2VzID0gaXNEZWJ1Z0R5bmFtaWNBY2Nlc3NlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdoZW4gd2UncmUgcmV2YWxpZGF0aW5nIGluIHRoZSBiYWNrZ3JvdW5kLCB3ZSBzaG91bGQgbm90IGFsbG93IGR5bmFtaWNcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlcy5cbiAgICAgICAgICAgIGlmIChmb3JjZVN0YXRpY1JlbmRlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVuZGVyT3B0cy5zdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoc3BhbiwgY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCB7IG1ldGFkYXRhIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICBjb25zdCB7IGNhY2hlQ29udHJvbCwgaGVhZGVycyA9IHt9LCAvLyBBZGQgYW55IGZldGNoIHRhZ3MgdGhhdCB3ZXJlIG9uIHRoZSBwYWdlIHRvIHRoZSByZXNwb25zZSBoZWFkZXJzLlxuICAgICAgICAgICAgZmV0Y2hUYWdzOiBjYWNoZVRhZ3MsIGZldGNoTWV0cmljcyB9ID0gbWV0YWRhdGE7XG4gICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFB1bGwgYW55IGZldGNoIG1ldHJpY3MgZnJvbSB0aGUgcmVuZGVyIG9udG8gdGhlIHJlcXVlc3QuXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgdGhyb3cgc3RhdGljIHRvIGR5bmFtaWMgZXJyb3JzIGluIGRldiBhcyBpc1NTR1xuICAgICAgICAgICAgLy8gaXMgYSBiZXN0IGd1ZXNzIGluIGRldiBzaW5jZSB3ZSBkb24ndCBoYXZlIHRoZSBwcmVyZW5kZXIgcGFzc1xuICAgICAgICAgICAgLy8gdG8ga25vdyB3aGV0aGVyIHRoZSBwYXRoIGlzIGFjdHVhbGx5IHN0YXRpYyBvciBub3RcbiAgICAgICAgICAgIGlmIChpc1NTRyAmJiAoY2FjaGVDb250cm9sID09IG51bGwgPyB2b2lkIDAgOiBjYWNoZUNvbnRyb2wucmV2YWxpZGF0ZSkgPT09IDAgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc1JvdXRlUFBSRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRpY0JhaWxvdXRJbmZvID0gbWV0YWRhdGEuc3RhdGljQmFpbG91dEluZm87XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgUGFnZSBjaGFuZ2VkIGZyb20gc3RhdGljIHRvIGR5bmFtaWMgYXQgcnVudGltZSAke3Jlc29sdmVkUGF0aG5hbWV9JHsoc3RhdGljQmFpbG91dEluZm8gPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRpY0JhaWxvdXRJbmZvLmRlc2NyaXB0aW9uKSA/IGAsIHJlYXNvbjogJHtzdGF0aWNCYWlsb3V0SW5mby5kZXNjcmlwdGlvbn1gIDogYGB9YCArIGBcXG5zZWUgbW9yZSBoZXJlIGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL2FwcC1zdGF0aWMtdG8tZHluYW1pYy1lcnJvcmApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTEzMlwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpY0JhaWxvdXRJbmZvID09IG51bGwgPyB2b2lkIDAgOiBzdGF0aWNCYWlsb3V0SW5mby5zdGFjaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IHN0YXRpY0JhaWxvdXRJbmZvLnN0YWNrO1xuICAgICAgICAgICAgICAgICAgICBlcnIuc3RhY2sgPSBlcnIubWVzc2FnZSArIHN0YWNrLnN1YnN0cmluZyhzdGFjay5pbmRleE9mKCdcXG4nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICAgICAgICAgICAgICBodG1sOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHJzY0RhdGE6IG1ldGFkYXRhLmZsaWdodERhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBvc3Rwb25lZDogbWV0YWRhdGEucG9zdHBvbmVkLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IG1ldGFkYXRhLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnREYXRhOiBtZXRhZGF0YS5zZWdtZW50RGF0YVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FjaGVDb250cm9sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IGhhc1Jlc29sdmVkLCBwcmV2aW91c0NhY2hlRW50cnk6IHByZXZpb3VzSW5jcmVtZW50YWxDYWNoZUVudHJ5LCBpc1JldmFsaWRhdGluZywgc3BhbiwgZm9yY2VTdGF0aWNSZW5kZXIgPSBmYWxzZSB9KT0+e1xuICAgICAgICAgICAgY29uc3QgaXNQcm9kdWN0aW9uID0gcm91dGVNb2R1bGUuaXNEZXYgPT09IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZGlkUmVzcG9uZCA9IGhhc1Jlc29sdmVkIHx8IHJlcy53cml0YWJsZUVuZGVkO1xuICAgICAgICAgICAgLy8gc2tpcCBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBpZiBjYWNoZSBpcyBub3QgcHJlc2VudCBhbmRcbiAgICAgICAgICAgIC8vIHJldmFsaWRhdGUtaWYtZ2VuZXJhdGVkIGlzIHNldFxuICAgICAgICAgICAgaWYgKGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0luY3JlbWVudGFsQ2FjaGVFbnRyeSAmJiAhaXNNaW5pbWFsTW9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZXJTZXJ2ZXJDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiByb3V0ZXJTZXJ2ZXJDb250ZXh0LnJlbmRlcjQwNCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZXJTZXJ2ZXJDb250ZXh0LnJlbmRlcjQwNChyZXEsIHJlcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZmFsbGJhY2tNb2RlO1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgICAgICBmYWxsYmFja01vZGUgPSBwYXJzZUZhbGxiYWNrRmllbGQocHJlcmVuZGVySW5mby5mYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXaGVuIHNlcnZpbmcgYSBIVE1MIGJvdCByZXF1ZXN0LCB3ZSB3YW50IHRvIHNlcnZlIGEgYmxvY2tpbmcgcmVuZGVyIGFuZFxuICAgICAgICAgICAgLy8gbm90IHRoZSBwcmVyZW5kZXJlZCBwYWdlLiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgY29ycmVjdCBjb250ZW50IGlzIHNlcnZlZFxuICAgICAgICAgICAgLy8gdG8gdGhlIGJvdCBpbiB0aGUgaGVhZC5cbiAgICAgICAgICAgIGlmIChmYWxsYmFja01vZGUgPT09IEZhbGxiYWNrTW9kZS5QUkVSRU5ERVIgJiYgaXNCb3QodXNlckFnZW50KSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNSb3V0ZVBQUkVuYWJsZWQgfHwgaXNIdG1sQm90KSB7XG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrTW9kZSA9IEZhbGxiYWNrTW9kZS5CTE9DS0lOR19TVEFUSUNfUkVOREVSO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJldmlvdXNJbmNyZW1lbnRhbENhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzSW5jcmVtZW50YWxDYWNoZUVudHJ5LmlzU3RhbGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IGFkYXB0IGZvciBQUFJcbiAgICAgICAgICAgIC8vIG9ubHkgYWxsb3cgb24tZGVtYW5kIHJldmFsaWRhdGUgZm9yIGZhbGxiYWNrOiB0cnVlL2Jsb2NraW5nXG4gICAgICAgICAgICAvLyBvciBmb3IgcHJlcmVuZGVyZWQgZmFsbGJhY2s6IGZhbHNlIHBhdGhzXG4gICAgICAgICAgICBpZiAoaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgKGZhbGxiYWNrTW9kZSAhPT0gRmFsbGJhY2tNb2RlLk5PVF9GT1VORCB8fCBwcmV2aW91c0luY3JlbWVudGFsQ2FjaGVFbnRyeSkpIHtcbiAgICAgICAgICAgICAgICBmYWxsYmFja01vZGUgPSBGYWxsYmFja01vZGUuQkxPQ0tJTkdfU1RBVElDX1JFTkRFUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNNaW5pbWFsTW9kZSAmJiBmYWxsYmFja01vZGUgIT09IEZhbGxiYWNrTW9kZS5CTE9DS0lOR19TVEFUSUNfUkVOREVSICYmIHN0YXRpY1BhdGhLZXkgJiYgIWRpZFJlc3BvbmQgJiYgIWlzRHJhZnRNb2RlICYmIHBhZ2VJc0R5bmFtaWMgJiYgKGlzUHJvZHVjdGlvbiB8fCAhaXNQcmVyZW5kZXJlZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGFnZSBoYXMgZHluYW1pY1BhcmFtczogZmFsc2UgYW5kIHRoaXMgcGF0aG5hbWUgd2Fzbid0XG4gICAgICAgICAgICAgICAgLy8gcHJlcmVuZGVyZWQgdHJpZ2dlciB0aGUgbm8gZmFsbGJhY2sgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICBpZiAoLy8gSW4gZGV2ZWxvcG1lbnQsIGZhbGwgdGhyb3VnaCB0byByZW5kZXIgdG8gaGFuZGxlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAvLyBnZXRTdGF0aWNQYXRocy5cbiAgICAgICAgICAgICAgICAoaXNQcm9kdWN0aW9uIHx8IHByZXJlbmRlckluZm8pICYmIC8vIFdoZW4gZmFsbGJhY2sgaXNuJ3QgcHJlc2VudCwgYWJvcnQgdGhpcyByZW5kZXIgc28gd2UgNDA0XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tNb2RlID09PSBGYWxsYmFja01vZGUuTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hZGFwdGVyUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlbmRlcjQwNCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBjYWNoZUNvbXBvbmVudHMgaXMgZW5hYmxlZCwgd2UgY2FuIHVzZSB0aGUgZmFsbGJhY2tcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZSBpZiB0aGUgcmVxdWVzdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IGJlY2F1c2UgdGhlXG4gICAgICAgICAgICAgICAgLy8gUlNDIGRhdGEgd2hlbiB0aGlzIGZlYXR1cmUgZmxhZyBpcyBlbmFibGVkIGRvZXMgbm90IGNvbnRhaW4gYW55XG4gICAgICAgICAgICAgICAgLy8gcGFyYW0gcmVmZXJlbmNlcy4gV2l0aG91dCB0aGlzIGZlYXR1cmUgZmxhZyBlbmFibGVkLCB0aGUgUlNDIGRhdGFcbiAgICAgICAgICAgICAgICAvLyBjb250YWlucyBwYXJhbSByZWZlcmVuY2VzLCBhbmQgdGhlcmVmb3JlIHdlIGNhbid0IHVzZSB0aGUgZmFsbGJhY2suXG4gICAgICAgICAgICAgICAgaWYgKGlzUm91dGVQUFJFbmFibGVkICYmIChuZXh0Q29uZmlnLmNhY2hlQ29tcG9uZW50cyA/ICFpc0R5bmFtaWNSU0NSZXF1ZXN0IDogIWlzUlNDUmVxdWVzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBpc1Byb2R1Y3Rpb24gJiYgdHlwZW9mIChwcmVyZW5kZXJJbmZvID09IG51bGwgPyB2b2lkIDAgOiBwcmVyZW5kZXJJbmZvLmZhbGxiYWNrKSA9PT0gJ3N0cmluZycgPyBwcmVyZW5kZXJJbmZvLmZhbGxiYWNrIDogbm9ybWFsaXplZFNyY1BhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrUm91dGVQYXJhbXMgPSAvLyBJZiB3ZSdyZSBpbiBwcm9kdWN0aW9uIGFuZCB3ZSBoYXZlIGZhbGxiYWNrIHJvdXRlIHBhcmFtcywgdGhlbiB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBjYW4gdXNlIHRoZSBtYW5pZmVzdCBmYWxsYmFjayByb3V0ZSBwYXJhbXMuXG4gICAgICAgICAgICAgICAgICAgIGlzUHJvZHVjdGlvbiAmJiAocHJlcmVuZGVySW5mbyA9PSBudWxsID8gdm9pZCAwIDogcHJlcmVuZGVySW5mby5mYWxsYmFja1JvdXRlUGFyYW1zKSA/IGNyZWF0ZU9wYXF1ZUZhbGxiYWNrUm91dGVQYXJhbXMocHJlcmVuZGVySW5mby5mYWxsYmFja1JvdXRlUGFyYW1zKSA6IC8vIGhhdmUgdG8gbWFudWFsbHkgZ2VuZXJhdGUgdGhlIGZhbGxiYWNrIHJvdXRlIHBhcmFtcy5cbiAgICAgICAgICAgICAgICAgICAgaXNEZWJ1Z0ZhbGxiYWNrU2hlbGwgPyBnZXRGYWxsYmFja1JvdXRlUGFyYW1zKG5vcm1hbGl6ZWRTcmNQYWdlLCByb3V0ZU1vZHVsZSkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdGhlIHJlc3BvbnNlIGNhY2hlIGhlcmUgdG8gaGFuZGxlIHRoZSByZXZhbGlkYXRpb24gYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hbmFnZW1lbnQgb2YgdGhlIGZhbGxiYWNrIHNoZWxsLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yOiBhc3luYyAoKT0+ZG9SZW5kZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBwYXNzIGB1bmRlZmluZWRgIGFzIHJlbmRlcmluZyBhIGZhbGxiYWNrIGlzbid0IHJlc3VtZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHBvbmVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrUm91dGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlU3RhdGljUmVuZGVyOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNaW5pbWFsTW9kZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGZhbGxiYWNrIHJlc3BvbnNlIHdhcyBzZXQgdG8gbnVsbCwgdGhlbiB3ZSBzaG91bGQgcmV0dXJuIG51bGwuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsYmFja1Jlc3BvbnNlID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpZiB3ZSBkaWQgZ2V0IGEgZmFsbGJhY2sgcmVzcG9uc2UsIHdlIHNob3VsZCByZXR1cm4gaXQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsYmFja1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGNhY2hlIGNvbnRyb2wgZnJvbSB0aGUgcmVzcG9uc2UgdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VkIGluIHRoZSBzdXJyb3VuZGluZyBjYWNoZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmYWxsYmFja1Jlc3BvbnNlLmNhY2hlQ29udHJvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxsYmFja1Jlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25seSByZXF1ZXN0cyB0aGF0IGFyZW4ndCByZXZhbGlkYXRpbmcgY2FuIGJlIHJlc3VtZWQuIElmIHdlIGhhdmUgdGhlXG4gICAgICAgICAgICAvLyBtaW5pbWFsIHBvc3Rwb25lZCBkYXRhLCB0aGVuIHdlIHNob3VsZCByZXN1bWUgdGhlIHJlbmRlciB3aXRoIGl0LlxuICAgICAgICAgICAgbGV0IHBvc3Rwb25lZCA9ICFpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiAhaXNSZXZhbGlkYXRpbmcgJiYgbWluaW1hbFBvc3Rwb25lZCA/IG1pbmltYWxQb3N0cG9uZWQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgZHluYW1pYyBSU0MgcmVxdWVzdCwgd2Ugc2hvdWxkIHVzZSB0aGUgcG9zdHBvbmVkIGRhdGEgZnJvbVxuICAgICAgICAgICAgLy8gdGhlIHN0YXRpYyByZW5kZXIgKGlmIGF2YWlsYWJsZSkuIFRoaXMgZW5zdXJlcyB0aGF0IHdlIGNhbiB1dGlsaXplIHRoZVxuICAgICAgICAgICAgLy8gcmVzdW1lIGRhdGEgY2FjaGUgKFJEQykgZnJvbSB0aGUgc3RhdGljIHJlbmRlciB0byBlbnN1cmUgdGhhdCB0aGUgZGF0YVxuICAgICAgICAgICAgLy8gaXMgY29uc2lzdGVudCBiZXR3ZWVuIHRoZSBzdGF0aWMgYW5kIGR5bmFtaWMgcmVuZGVycy5cbiAgICAgICAgICAgIGlmICgvLyBPbmx5IGVuYWJsZSBSREMgZm9yIE5hdmlnYXRpb25zIGlmIHRoZSBmZWF0dXJlIGlzIGVuYWJsZWQuXG4gICAgICAgICAgICBzdXBwb3J0c1JEQ0Zvck5hdmlnYXRpb25zICYmIHByb2Nlc3MuZW52Lk5FWFRfUlVOVElNRSAhPT0gJ2VkZ2UnICYmICFpc01pbmltYWxNb2RlICYmIGluY3JlbWVudGFsQ2FjaGUgJiYgaXNEeW5hbWljUlNDUmVxdWVzdCAmJiAvLyBXZSBkb24ndCB0eXBpY2FsbHkgdHJpZ2dlciBhbiBvbi1kZW1hbmQgcmV2YWxpZGF0aW9uIGZvciBkeW5hbWljIFJTQ1xuICAgICAgICAgICAgLy8gcmVxdWVzdHMsIGFzIHdlJ3JlIHR5cGljYWxseSByZXZhbGlkYXRpbmcgdGhlIHBhZ2UgaW4gdGhlIGJhY2tncm91bmRcbiAgICAgICAgICAgIC8vIGluc3RlYWQuIEhvd2V2ZXIsIGlmIHRoZSBjYWNoZSBlbnRyeSBpcyBzdGFsZSwgd2Ugc2hvdWxkIHRyaWdnZXIgYVxuICAgICAgICAgICAgLy8gYmFja2dyb3VuZCByZXZhbGlkYXRpb24gb24gZHluYW1pYyBSU0MgcmVxdWVzdHMuIFRoaXMgcHJldmVudHMgdXNcbiAgICAgICAgICAgIC8vIGZyb20gZW50ZXJpbmcgYW4gaW5maW5pdGUgbG9vcCBvZiByZXZhbGlkYXRpb25zLlxuICAgICAgICAgICAgIWZvcmNlU3RhdGljUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5jcmVtZW50YWxDYWNoZUVudHJ5ID0gYXdhaXQgaW5jcmVtZW50YWxDYWNoZS5nZXQocmVzb2x2ZWRQYXRobmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBJbmNyZW1lbnRhbENhY2hlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNhY2hlIGVudHJ5IGlzIGZvdW5kLCB3ZSBzaG91bGQgdXNlIHRoZSBwb3N0cG9uZWQgZGF0YSBmcm9tXG4gICAgICAgICAgICAgICAgLy8gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgIGlmIChpbmNyZW1lbnRhbENhY2hlRW50cnkgJiYgaW5jcmVtZW50YWxDYWNoZUVudHJ5LnZhbHVlICYmIGluY3JlbWVudGFsQ2FjaGVFbnRyeS52YWx1ZS5raW5kID09PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1BBR0UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ1JJVElDQUw6IHdlJ3JlIGFzc2lnbmluZyB0aGUgcG9zdHBvbmVkIGRhdGEgZnJvbSB0aGUgY2FjaGUgZW50cnlcbiAgICAgICAgICAgICAgICAgICAgLy8gaGVyZSBhcyB3ZSdyZSB1c2luZyB0aGUgUkRDIHRvIHJlc3VtZSB0aGUgcmVuZGVyLlxuICAgICAgICAgICAgICAgICAgICBwb3N0cG9uZWQgPSBpbmNyZW1lbnRhbENhY2hlRW50cnkudmFsdWUucG9zdHBvbmVkO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2FjaGUgZW50cnkgaXMgc3RhbGUsIHdlIHNob3VsZCB0cmlnZ2VyIGEgYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICAvLyByZXZhbGlkYXRpb24gc28gdGhhdCBzdWJzZXF1ZW50IHJlcXVlc3RzIHdpbGwgZ2V0IGEgZnJlc2ggcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmNyZW1lbnRhbENhY2hlRW50cnkgJiYgLy8gV2Ugd2FudCB0byB0cmlnZ2VyIHRoaXMgZmxvdyBpZiB0aGUgY2FjaGUgZW50cnkgaXMgc3RhbGUgYW5kIGlmXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0ZWQgcmV2YWxpZGF0aW9uIGZsb3cgaXMgZWl0aGVyIGZvcmVncm91bmQgb3JcbiAgICAgICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZC5cbiAgICAgICAgICAgICAgICAgICAgKGluY3JlbWVudGFsQ2FjaGVFbnRyeS5pc1N0YWxlID09PSAtMSB8fCBpbmNyZW1lbnRhbENhY2hlRW50cnkuaXNTdGFsZSA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gc2NoZWR1bGUgdGhpcyBvbiB0aGUgbmV4dCB0aWNrIHRvIGVuc3VyZSB0aGF0IHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVuZGVyIGlzIG5vdCBibG9ja2VkIG9uIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVPbk5leHRUaWNrKGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VDYWNoZSA9IHJvdXRlTW9kdWxlLmdldFJlc3BvbnNlQ2FjaGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXNwb25zZUNhY2hlLnJldmFsaWRhdGUocmVzb2x2ZWRQYXRobmFtZSwgaW5jcmVtZW50YWxDYWNoZSwgaXNSb3V0ZVBQUkVuYWJsZWQsIGZhbHNlLCAoYyk9PnJlc3BvbnNlR2VuZXJhdG9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENSSVRJQ0FMOiB3ZSBuZWVkIHRvIHNldCB0aGlzIHRvIHRydWUgYXMgd2UncmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXZhbGlkYXRpbmcgaW4gdGhlIGJhY2tncm91bmQgYW5kIHR5cGljYWxseSB0aGlzIGR5bmFtaWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSU0MgcmVxdWVzdCBpcyBub3QgdHJlYXRlZCBhcyBzdGF0aWMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VTdGF0aWNSZW5kZXI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAvLyBDUklUSUNBTDogd2UgbmVlZCB0byBwYXNzIG51bGwgaGVyZSBiZWNhdXNlIHBhc3NpbmcgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZpb3VzIGNhY2hlIGVudHJ5IGhlcmUgKHdoaWNoIGlzIHN0YWxlKSB3aWxsIHN3aXRjaCBvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc09uRGVtYW5kUmV2YWxpZGF0ZSBhbmQgYnJlYWsgdGhlIHByZXJlbmRlcmluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgaGFzUmVzb2x2ZWQsIGN0eC53YWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXZhbGlkYXRpbmcgdGhlIHBhZ2UgaW4gdGhlIGJhY2tncm91bmQnLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2hlbiB3ZSdyZSBpbiBtaW5pbWFsIG1vZGUsIGlmIHdlJ3JlIHRyeWluZyB0byBkZWJ1ZyB0aGUgc3RhdGljIHNoZWxsLFxuICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIGp1c3QgcmV0dXJuIG5vdGhpbmcgaW5zdGVhZCBvZiByZXN1bWluZyB0aGUgZHluYW1pYyByZW5kZXIuXG4gICAgICAgICAgICBpZiAoKGlzRGVidWdTdGF0aWNTaGVsbCB8fCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzKSAmJiB0eXBlb2YgcG9zdHBvbmVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBSZW5kZXJSZXN1bHQuRU1QVFksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YToge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrUm91dGVQYXJhbXMgPSAvLyBJZiB3ZSdyZSBpbiBwcm9kdWN0aW9uIGFuZCB3ZSBoYXZlIGZhbGxiYWNrIHJvdXRlIHBhcmFtcywgdGhlbiB3ZVxuICAgICAgICAgICAgLy8gY2FuIHVzZSB0aGUgbWFuaWZlc3QgZmFsbGJhY2sgcm91dGUgcGFyYW1zIGlmIHdlIG5lZWQgdG8gcmVuZGVyIHRoZVxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgc2hlbGwuXG4gICAgICAgICAgICBpc1Byb2R1Y3Rpb24gJiYgKHByZXJlbmRlckluZm8gPT0gbnVsbCA/IHZvaWQgMCA6IHByZXJlbmRlckluZm8uZmFsbGJhY2tSb3V0ZVBhcmFtcykgJiYgZ2V0UmVxdWVzdE1ldGEocmVxLCAncmVuZGVyRmFsbGJhY2tTaGVsbCcpID8gY3JlYXRlT3BhcXVlRmFsbGJhY2tSb3V0ZVBhcmFtcyhwcmVyZW5kZXJJbmZvLmZhbGxiYWNrUm91dGVQYXJhbXMpIDogLy8gbWFudWFsbHkgZ2VuZXJhdGUgdGhlIGZhbGxiYWNrIHJvdXRlIHBhcmFtcy5cbiAgICAgICAgICAgIGlzRGVidWdGYWxsYmFja1NoZWxsID8gZ2V0RmFsbGJhY2tSb3V0ZVBhcmFtcyhub3JtYWxpemVkU3JjUGFnZSwgcm91dGVNb2R1bGUpIDogbnVsbDtcbiAgICAgICAgICAgIC8vIFBlcmZvcm0gdGhlIHJlbmRlci5cbiAgICAgICAgICAgIHJldHVybiBkb1JlbmRlcih7XG4gICAgICAgICAgICAgICAgc3BhbixcbiAgICAgICAgICAgICAgICBwb3N0cG9uZWQsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tSb3V0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICBmb3JjZVN0YXRpY1JlbmRlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKHNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUsIF9jYWNoZWREYXRhX2hlYWRlcnM7XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIGNhY2hlS2V5OiBzc2dDYWNoZUtleSxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcjogKGMpPT5yZXNwb25zZUdlbmVyYXRvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZCxcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICAgICAgaXNNaW5pbWFsTW9kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEluIGRldiwgd2Ugc2hvdWxkIG5vdCBjYWNoZSBwYWdlcyBmb3IgYW55IHJlYXNvbi5cbiAgICAgICAgICAgIGlmIChyb3V0ZU1vZHVsZS5pc0Rldikge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNzZ0NhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgY2FjaGUgZW50cnkgbWlnaHQgbm90IGJlIGdlbmVyYXRlZCBpZiBhIHJlc3BvbnNlIGlzIHdyaXR0ZW5cbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gYGdldEluaXRpYWxQcm9wc2Agb3IgYGdldFNlcnZlclNpZGVQcm9wc2AsIGJ1dCB0aG9zZSBzaG91bGRuJ3RcbiAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGNhY2hlIGtleS4gSWYgd2UgZG8gaGF2ZSBhIGNhY2hlIGtleSBidXQgd2UgZG9uJ3QgZW5kIHVwXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpdGggYSBjYWNoZSBlbnRyeSwgdGhlbiBlaXRoZXIgTmV4dC5qcyBvciB0aGUgYXBwbGljYXRpb24gaGFzIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gYnVnIHRoYXQgbmVlZHMgZml4aW5nLlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdpbnZhcmlhbnQ6IGNhY2hlIGVudHJ5IHJlcXVpcmVkIGJ1dCBub3QgZ2VuZXJhdGVkJyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTYyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9QQUdFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQgYXBwLXBhZ2UgaGFuZGxlciByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7KF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDdcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGlkUG9zdHBvbmUgPSB0eXBlb2YgY2FjaGVFbnRyeS52YWx1ZS5wb3N0cG9uZWQgPT09ICdzdHJpbmcnO1xuICAgICAgICAgICAgaWYgKGlzU1NHICYmIC8vIFdlIGRvbid0IHdhbnQgdG8gc2VuZCBhIGNhY2hlIGhlYWRlciBmb3IgcmVxdWVzdHMgdGhhdCBjb250YWluIGR5bmFtaWNcbiAgICAgICAgICAgIC8vIGRhdGEuIElmIHRoaXMgaXMgYSBEeW5hbWljIFJTQyByZXF1ZXN0IG9yIHdhc24ndCBhIFByZWZldGNoIFJTQ1xuICAgICAgICAgICAgLy8gcmVxdWVzdCwgdGhlbiB3ZSBzaG91bGQgc2V0IHRoZSBjYWNoZSBoZWFkZXIuXG4gICAgICAgICAgICAhaXNEeW5hbWljUlNDUmVxdWVzdCAmJiAoIWRpZFBvc3Rwb25lIHx8IGlzUHJlZmV0Y2hSU0NSZXF1ZXN0KSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNNaW5pbWFsTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgeC1uZXh0anMtY2FjaGUgaGVhZGVyIHRvIG1hdGNoIHRoZSBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc2V0IGZvciB0aGUgaW1hZ2Utb3B0aW1pemVyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgYSBoZWFkZXIgdXNlZCBieSB0aGUgY2xpZW50IHJvdXRlciB0byBzaWduYWwgdGhlIHJlc3BvbnNlIGlzIHN0YXRpY1xuICAgICAgICAgICAgICAgIC8vIGFuZCBzaG91bGQgcmVzcGVjdCB0aGUgYHN0YXRpY2AgY2FjaGUgc3RhbGVUaW1lIHZhbHVlLlxuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoTkVYVF9JU19QUkVSRU5ERVJfSEVBREVSLCAnMScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogY2FjaGVkRGF0YSB9ID0gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgIC8vIENvZXJjZSB0aGUgY2FjaGUgY29udHJvbCBwYXJhbWV0ZXIgZnJvbSB0aGUgcmVuZGVyLlxuICAgICAgICAgICAgbGV0IGNhY2hlQ29udHJvbDtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSByZXN1bWUgcmVxdWVzdCBpbiBtaW5pbWFsIG1vZGUgaXQgaXMgc3RyZWFtZWQgd2l0aCBkeW5hbWljXG4gICAgICAgICAgICAvLyBjb250ZW50IGFuZCBzaG91bGQgbm90IGJlIGNhY2hlZC5cbiAgICAgICAgICAgIGlmIChtaW5pbWFsUG9zdHBvbmVkKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVDb250cm9sID0ge1xuICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRHluYW1pY1JTQ1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZXZpZXcgbW9kZSByZXF1ZXN0LCB3ZSBzaG91bGRuJ3QgY2FjaGUgaXRcbiAgICAgICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNTU0cpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2FjaGUgZW50cnkgaGFzIGEgY2FjaGUgY29udHJvbCB3aXRoIGEgcmV2YWxpZGF0ZSB2YWx1ZSB0aGF0J3NcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBudW1iZXIsIHVzZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWNoZUVudHJ5LmNhY2hlQ29udHJvbC5yZXZhbGlkYXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X2NhY2hlQ29udHJvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbC5yZXZhbGlkYXRlIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFsaWQgcmV2YWxpZGF0ZSBjb25maWd1cmF0aW9uIHByb3ZpZGVkOiAke2NhY2hlRW50cnkuY2FjaGVDb250cm9sLnJldmFsaWRhdGV9IDwgMWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTIyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiBjYWNoZUVudHJ5LmNhY2hlQ29udHJvbC5yZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogKChfY2FjaGVFbnRyeV9jYWNoZUNvbnRyb2wgPSBjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X2NhY2hlQ29udHJvbC5leHBpcmUpID8/IG5leHRDb25maWcuZXhwaXJlVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiBDQUNIRV9PTkVfWUVBUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlRW50cnkuY2FjaGVDb250cm9sID0gY2FjaGVDb250cm9sO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWdtZW50UHJlZmV0Y2hIZWFkZXIgPT09ICdzdHJpbmcnICYmIChjYWNoZWREYXRhID09IG51bGwgPyB2b2lkIDAgOiBjYWNoZWREYXRhLmtpbmQpID09PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1BBR0UgJiYgY2FjaGVkRGF0YS5zZWdtZW50RGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVkRGF0YV9oZWFkZXJzMTtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgcHJlZmV0Y2ggcmVxdWVzdCBpc3N1ZWQgYnkgdGhlIGNsaWVudCBTZWdtZW50IENhY2hlLiBUaGVzZVxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBuZXZlciByZWFjaCB0aGUgYXBwbGljYXRpb24gbGF5ZXIgKGxhbWJkYSkuIFdlIHNob3VsZCBlaXRoZXJcbiAgICAgICAgICAgICAgICAvLyByZXNwb25kIGZyb20gdGhlIGNhY2hlIChISVQpIG9yIHJlc3BvbmQgd2l0aCAyMDQgTm8gQ29udGVudCAoTUlTUykuXG4gICAgICAgICAgICAgICAgLy8gU2V0IGEgaGVhZGVyIHRvIGluZGljYXRlIHRoYXQgUFBSIGlzIGVuYWJsZWQgZm9yIHRoaXMgcm91dGUuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyBsZXRzIHRoZSBjbGllbnQgZGlzdGluZ3Vpc2ggYmV0d2VlbiBhIHJlZ3VsYXIgY2FjaGUgbWlzcyBhbmQgYSBjYWNoZVxuICAgICAgICAgICAgICAgIC8vIG1pc3MgZHVlIHRvIFBQUiBiZWluZyBkaXNhYmxlZC4gSW4gb3RoZXIgY29udGV4dHMgdGhpcyBoZWFkZXIgaXMgdXNlZFxuICAgICAgICAgICAgICAgIC8vIHRvIGluZGljYXRlIHRoYXQgdGhlIHJlc3BvbnNlIGNvbnRhaW5zIGR5bmFtaWMgZGF0YSwgYnV0IGhlcmUgd2UncmVcbiAgICAgICAgICAgICAgICAvLyBvbmx5IHVzaW5nIGl0IHRvIGluZGljYXRlIHRoYXQgdGhlIGZlYXR1cmUgaXMgZW5hYmxlZCDigJQgdGhlIHNlZ21lbnRcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZSBpdHNlbGYgY29udGFpbnMgd2hldGhlciB0aGUgZGF0YSBpcyBkeW5hbWljLlxuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoTkVYVF9ESURfUE9TVFBPTkVfSEVBREVSLCAnMicpO1xuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY2FjaGUgdGFncyBoZWFkZXIgdG8gdGhlIHJlc3BvbnNlIGlmIGl0IGV4aXN0cyBhbmQgd2UncmUgaW5cbiAgICAgICAgICAgICAgICAvLyBtaW5pbWFsIG1vZGUgd2hpbGUgcmVuZGVyaW5nIGEgc3RhdGljIHBhZ2UuXG4gICAgICAgICAgICAgICAgY29uc3QgdGFncyA9IChfY2FjaGVkRGF0YV9oZWFkZXJzMSA9IGNhY2hlZERhdGEuaGVhZGVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZWREYXRhX2hlYWRlcnMxW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdO1xuICAgICAgICAgICAgICAgIGlmIChpc01pbmltYWxNb2RlICYmIGlzU1NHICYmIHRhZ3MgJiYgdHlwZW9mIHRhZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoTkVYVF9DQUNIRV9UQUdTX0hFQURFUiwgdGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRTZWdtZW50ID0gY2FjaGVkRGF0YS5zZWdtZW50RGF0YS5nZXQoc2VnbWVudFByZWZldGNoSGVhZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZFNlZ21lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSBoaXRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRSZW5kZXJSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVFdGFnczogbmV4dENvbmZpZy5nZW5lcmF0ZUV0YWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG93ZXJlZEJ5SGVhZGVyOiBuZXh0Q29uZmlnLnBvd2VyZWRCeUhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogUmVuZGVyUmVzdWx0LmZyb21TdGF0aWMobWF0Y2hlZFNlZ21lbnQsIFJTQ19DT05URU5UX1RZUEVfSEVBREVSKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhY2hlIG1pc3MuIEVpdGhlciBhIGNhY2hlIGVudHJ5IGZvciB0aGlzIHJvdXRlIGhhcyBub3QgYmVlbiBnZW5lcmF0ZWRcbiAgICAgICAgICAgICAgICAvLyAod2hpY2ggdGVjaG5pY2FsbHkgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSB3aGVuIFBQUiBpcyBlbmFibGVkLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gYXQgYSBtaW5pbXVtIHRoZXJlIHNob3VsZCBhbHdheXMgYmUgYSBmYWxsYmFjayBlbnRyeSkgb3IgdGhlcmUncyBub1xuICAgICAgICAgICAgICAgIC8vIG1hdGNoIGZvciB0aGUgcmVxdWVzdGVkIHNlZ21lbnQuIFJlc3BvbmQgd2l0aCBhIDIwNCBObyBDb250ZW50LiBXZVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGJvdGhlciB0byByZXNwb25kIHdpdGggNDA0LCBiZWNhdXNlIHRoZXNlIHJlcXVlc3RzIGFyZSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gaXNzdWVkIGFzIHBhcnQgb2YgYSBwcmVmZXRjaC5cbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDIwNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgICAgIHBvd2VyZWRCeUhlYWRlcjogbmV4dENvbmZpZy5wb3dlcmVkQnlIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogUmVuZGVyUmVzdWx0LkVNUFRZLFxuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IGNhY2hlRW50cnkuY2FjaGVDb250cm9sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgY2FsbGJhY2sgZm9yIGBvbkNhY2hlRW50cnlgLCBjYWxsIGl0IHdpdGggdGhlIGNhY2hlIGVudHJ5XG4gICAgICAgICAgICAvLyBhbmQgdGhlIHJldmFsaWRhdGUgb3B0aW9ucy4gSWYgd2Ugc3VwcG9ydCBSREMgZm9yIE5hdmlnYXRpb25zLCB3ZVxuICAgICAgICAgICAgLy8gcHJlZmVyIHRoZSBgb25DYWNoZUVudHJ5VjJgIGNhbGxiYWNrLiBPbmNlIFJEQyBmb3IgTmF2aWdhdGlvbnMgaXMgdGhlXG4gICAgICAgICAgICAvLyBkZWZhdWx0LCB3ZSBjYW4gcmVtb3ZlIHRoZSBmYWxsYmFjayB0byBgb25DYWNoZUVudHJ5YCBhc1xuICAgICAgICAgICAgLy8gYG9uQ2FjaGVFbnRyeVYyYCBpcyBub3cgZnVsbHkgc3VwcG9ydGVkLlxuICAgICAgICAgICAgY29uc3Qgb25DYWNoZUVudHJ5ID0gc3VwcG9ydHNSRENGb3JOYXZpZ2F0aW9ucyA/IGdldFJlcXVlc3RNZXRhKHJlcSwgJ29uQ2FjaGVFbnRyeVYyJykgPz8gZ2V0UmVxdWVzdE1ldGEocmVxLCAnb25DYWNoZUVudHJ5JykgOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdvbkNhY2hlRW50cnknKTtcbiAgICAgICAgICAgIGlmIChvbkNhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5pc2hlZCA9IGF3YWl0IG9uQ2FjaGVFbnRyeShjYWNoZUVudHJ5LCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5pdFVSTCcpID8/IHJlcS51cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZmluaXNoZWQpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhY2hlZERhdGEuaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNhY2hlZERhdGEuaGVhZGVyc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCFpc01pbmltYWxNb2RlIHx8ICFpc1NTRykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmFwcGVuZEhlYWRlcihrZXksIHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5hcHBlbmRIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuYXBwZW5kSGVhZGVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIHRoZSBjYWNoZSB0YWdzIGhlYWRlciB0byB0aGUgcmVzcG9uc2UgaWYgaXQgZXhpc3RzIGFuZCB3ZSdyZSBpblxuICAgICAgICAgICAgLy8gbWluaW1hbCBtb2RlIHdoaWxlIHJlbmRlcmluZyBhIHN0YXRpYyBwYWdlLlxuICAgICAgICAgICAgY29uc3QgdGFncyA9IChfY2FjaGVkRGF0YV9oZWFkZXJzID0gY2FjaGVkRGF0YS5oZWFkZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlZERhdGFfaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXTtcbiAgICAgICAgICAgIGlmIChpc01pbmltYWxNb2RlICYmIGlzU1NHICYmIHRhZ3MgJiYgdHlwZW9mIHRhZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcihORVhUX0NBQ0hFX1RBR1NfSEVBREVSLCB0YWdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGEgZGF0YSByZXF1ZXN0LCB0aGVuIHdlIHNob3VsZG4ndCBzZXQgdGhlIHN0YXR1cyBjb2RlXG4gICAgICAgICAgICAvLyBmcm9tIHRoZSByZXNwb25zZSBiZWNhdXNlIGl0IHNob3VsZCBhbHdheXMgYmUgMjAwLiBUaGlzIHNob3VsZCBiZSBnYXRlZFxuICAgICAgICAgICAgLy8gYmVoaW5kIHRoZSBleHBlcmltZW50YWwgUFBSIGZsYWcuXG4gICAgICAgICAgICBpZiAoY2FjaGVkRGF0YS5zdGF0dXMgJiYgKCFpc1JTQ1JlcXVlc3QgfHwgIWlzUm91dGVQUFJFbmFibGVkKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gY2FjaGVkRGF0YS5zdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWRpcmVjdCBpbmZvcm1hdGlvbiBpcyBlbmNvZGVkIGluIFJTQyBwYXlsb2FkLCBzbyB3ZSBkb24ndCBuZWVkIHRvIHVzZSByZWRpcmVjdCBzdGF0dXMgY29kZXNcbiAgICAgICAgICAgIGlmICghaXNNaW5pbWFsTW9kZSAmJiBjYWNoZWREYXRhLnN0YXR1cyAmJiBSZWRpcmVjdFN0YXR1c0NvZGVbY2FjaGVkRGF0YS5zdGF0dXNdICYmIGlzUlNDUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFyayB0aGF0IHRoZSByZXF1ZXN0IGRpZCBwb3N0cG9uZS5cbiAgICAgICAgICAgIGlmIChkaWRQb3N0cG9uZSAmJiAhaXNEeW5hbWljUlNDUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoTkVYVF9ESURfUE9TVFBPTkVfSEVBREVSLCAnMScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgZ28gdGhyb3VnaCB0aGlzIGJsb2NrIHdoZW4gcHJldmlldyBtb2RlIGlzIHRydWVcbiAgICAgICAgICAgIC8vIGFzIHByZXZpZXcgbW9kZSBpcyBhIGR5bmFtaWMgcmVxdWVzdCAoYnlwYXNzZXMgY2FjaGUpIGFuZCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSBib3RoIEhUTUwgYW5kIHBheWxvYWRzIGluIHRoZSBzYW1lIHJlcXVlc3Qgc28gY29udGludWUgdG8ganVzdFxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBnZW5lcmF0ZWQgcGF5bG9hZFxuICAgICAgICAgICAgaWYgKGlzUlNDUmVxdWVzdCAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgZHluYW1pYyBSU0MgcmVxdWVzdCwgdGhlbiBzdHJlYW0gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FjaGVkRGF0YS5yc2NEYXRhID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVzcG9uc2UgaXMgbm90IGFuIFJTQyByZXNwb25zZSwgdGhlbiB3ZSBjYW4ndCBzZXJ2ZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlZERhdGEuaHRtbC5jb250ZW50VHlwZSAhPT0gUlNDX0NPTlRFTlRfVFlQRV9IRUFERVIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Q29uZmlnLmNhY2hlQ29tcG9uZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5kUmVuZGVyUmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRXRhZ3M6IG5leHRDb25maWcuZ2VuZXJhdGVFdGFncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG93ZXJlZEJ5SGVhZGVyOiBuZXh0Q29uZmlnLnBvd2VyZWRCeUhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBSZW5kZXJSZXN1bHQuRU1QVFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoaXMgY2FzZSBpcyBub3QgZXhwZWN0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBJbnZhcmlhbnRFcnJvcihgRXhwZWN0ZWQgUlNDIHJlc3BvbnNlLCBnb3QgJHtjYWNoZWREYXRhLmh0bWwuY29udGVudFR5cGV9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzg5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBjYWNoZWREYXRhLmh0bWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IGNhY2hlRW50cnkuY2FjaGVDb250cm9sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBcyB0aGlzIGlzbid0IGEgcHJlZmV0Y2ggcmVxdWVzdCwgd2Ugc2hvdWxkIHNlcnZlIHRoZSBzdGF0aWMgZmxpZ2h0XG4gICAgICAgICAgICAgICAgLy8gZGF0YS5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgICAgIHBvd2VyZWRCeUhlYWRlcjogbmV4dENvbmZpZy5wb3dlcmVkQnlIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogUmVuZGVyUmVzdWx0LmZyb21TdGF0aWMoY2FjaGVkRGF0YS5yc2NEYXRhLCBSU0NfQ09OVEVOVF9UWVBFX0hFQURFUiksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSByZXF1ZXN0IGZvciBIVE1MIGRhdGEuXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gY2FjaGVkRGF0YS5odG1sO1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyBwb3N0cG9uZWQgc3RhdGUsIHdlIHNob3VsZCBqdXN0IHNlcnZlIHRoZSBIVE1MLiBUaGlzXG4gICAgICAgICAgICAvLyBzaG91bGQgYWxzbyBiZSB0aGUgY2FzZSBmb3IgYSByZXN1bWUgcmVxdWVzdCBiZWNhdXNlIGl0J3MgY29tcGxldGVkXG4gICAgICAgICAgICAvLyBhcyBhIHNlcnZlciByZW5kZXIgKHJhdGhlciB0aGFuIGEgc3RhdGljIHJlbmRlcikuXG4gICAgICAgICAgICBpZiAoIWRpZFBvc3Rwb25lIHx8IGlzTWluaW1hbE1vZGUgfHwgaXNSU0NSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgaW4gdGVzdCBtb2RlLCB3ZSBzaG91bGQgYWRkIGEgc2VudGluZWwgY2h1bmsgdG8gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gdGhhdCdzIGJldHdlZW4gdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBwYXJ0cyBzbyB3ZSBjYW4gY29tcGFyZSB0aGVcbiAgICAgICAgICAgICAgICAvLyBjaHVua3MgYW5kIGFkZCBhc3NlcnRpb25zLlxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5fX05FWFRfVEVTVF9NT0RFICYmIGlzTWluaW1hbE1vZGUgJiYgaXNSb3V0ZVBQUkVuYWJsZWQgJiYgYm9keS5jb250ZW50VHlwZSA9PT0gSFRNTF9DT05URU5UX1RZUEVfSEVBREVSKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzIHdlJ3JlIGluIG1pbmltYWwgbW9kZSwgdGhlIHN0YXRpYyBwYXJ0IHdvdWxkIGhhdmUgYWxyZWFkeSBiZWVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmVhbWVkIGZpcnN0LiBUaGUgb25seSBwYXJ0IHRoYXQgdGhpcyBzdHJlYW1zIGlzIHRoZSBkeW5hbWljIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIEZJUlNUIHN0cmVhbSB0aGUgc2VudGluZWwgYW5kIFRIRU4gdGhlIGR5bmFtaWMgcGFydC5cbiAgICAgICAgICAgICAgICAgICAgYm9keS51bnNoaWZ0KGNyZWF0ZVBQUkJvdW5kYXJ5U2VudGluZWwoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kUmVuZGVyUmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgICAgICByZXMsXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRXRhZ3M6IG5leHRDb25maWcuZ2VuZXJhdGVFdGFncyxcbiAgICAgICAgICAgICAgICAgICAgcG93ZXJlZEJ5SGVhZGVyOiBuZXh0Q29uZmlnLnBvd2VyZWRCeUhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBib2R5LFxuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IGNhY2hlRW50cnkuY2FjaGVDb250cm9sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBkZWJ1Z2dpbmcgdGhlIHN0YXRpYyBzaGVsbCBvciB0aGUgZHluYW1pYyBBUEkgYWNjZXNzZXMsIHdlXG4gICAgICAgICAgICAvLyBzaG91bGQganVzdCBzZXJ2ZSB0aGUgSFRNTCB3aXRob3V0IHJlc3VtaW5nIHRoZSByZW5kZXIuIFRoZSByZXR1cm5lZFxuICAgICAgICAgICAgLy8gSFRNTCB3aWxsIGJlIHRoZSBzdGF0aWMgc2hlbGwgc28gYWxsIHRoZSBEeW5hbWljIEFQSSdzIHdpbGwgYmUgdXNlZFxuICAgICAgICAgICAgLy8gZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLlxuICAgICAgICAgICAgaWYgKGlzRGVidWdTdGF0aWNTaGVsbCB8fCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gU2luY2Ugd2UncmUgbm90IHJlc3VtaW5nIHRoZSByZW5kZXIsIHdlIG5lZWQgdG8gYXQgbGVhc3QgYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNsb3NpbmcgYm9keSBhbmQgaHRtbCB0YWdzIHRvIGNyZWF0ZSB2YWxpZCBIVE1MLlxuICAgICAgICAgICAgICAgIGJvZHkucHVzaChuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgICAgICAgICBzdGFydCAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKEVOQ09ERURfVEFHUy5DTE9TRUQuQk9EWV9BTkRfSFRNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRSZW5kZXJSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVFdGFnczogbmV4dENvbmZpZy5nZW5lcmF0ZUV0YWdzLFxuICAgICAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGluIHRlc3QgbW9kZSwgd2Ugc2hvdWxkIGFkZCBhIHNlbnRpbmVsIGNodW5rIHRvIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgLy8gdGhhdCdzIGJldHdlZW4gdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBwYXJ0cyBzbyB3ZSBjYW4gY29tcGFyZSB0aGVcbiAgICAgICAgICAgIC8vIGNodW5rcyBhbmQgYWRkIGFzc2VydGlvbnMuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuX19ORVhUX1RFU1RfTU9ERSkge1xuICAgICAgICAgICAgICAgIGJvZHkucHVzaChjcmVhdGVQUFJCb3VuZGFyeVNlbnRpbmVsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyByZXF1ZXN0IGhhcyBwb3N0cG9uZWQsIHNvIGxldCdzIGNyZWF0ZSBhIG5ldyB0cmFuc2Zvcm1lciB0aGF0IHRoZVxuICAgICAgICAgICAgLy8gZHluYW1pYyBkYXRhIGNhbiBwaXBlIHRvIHRoYXQgd2lsbCBhdHRhY2ggdGhlIGR5bmFtaWMgZGF0YSB0byB0aGUgZW5kXG4gICAgICAgICAgICAvLyBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcbiAgICAgICAgICAgIGJvZHkucHVzaCh0cmFuc2Zvcm1lci5yZWFkYWJsZSk7XG4gICAgICAgICAgICAvLyBQZXJmb3JtIHRoZSByZW5kZXIgYWdhaW4sIGJ1dCB0aGlzIHRpbWUsIHByb3ZpZGUgdGhlIHBvc3Rwb25lZCBzdGF0ZS5cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IGF3YWl0IGJlY2F1c2Ugd2Ugd2FudCB0aGUgcmVzdWx0IHRvIHN0YXJ0IHN0cmVhbWluZyBub3csIGFuZFxuICAgICAgICAgICAgLy8gd2UndmUgYWxyZWFkeSBjaGFpbmVkIHRoZSB0cmFuc2Zvcm1lcidzIHJlYWRhYmxlIHRvIHRoZSByZW5kZXIgcmVzdWx0LlxuICAgICAgICAgICAgZG9SZW5kZXIoe1xuICAgICAgICAgICAgICAgIHNwYW4sXG4gICAgICAgICAgICAgICAgcG9zdHBvbmVkOiBjYWNoZWREYXRhLnBvc3Rwb25lZCxcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgcmVzdW1lIHJlbmRlciwgbm90IGEgZmFsbGJhY2sgcmVuZGVyLCBzbyB3ZSBkb24ndCBuZWVkIHRvXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoaXMuXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tSb3V0ZVBhcmFtczogbnVsbCxcbiAgICAgICAgICAgICAgICBmb3JjZVN0YXRpY1JlbmRlcjogZmFsc2VcbiAgICAgICAgICAgIH0pLnRoZW4oYXN5bmMgKHJlc3VsdCk9PntcbiAgICAgICAgICAgICAgICB2YXIgX3Jlc3VsdF92YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdJbnZhcmlhbnQ6IGV4cGVjdGVkIGEgcmVzdWx0IHRvIGJlIHJldHVybmVkJyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTQ2M1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoKF9yZXN1bHRfdmFsdWUgPSByZXN1bHQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfcmVzdWx0X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1BBR0UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXN1bHRfdmFsdWUxO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGV4cGVjdGVkIGEgcGFnZSByZXNwb25zZSwgZ290ICR7KF9yZXN1bHRfdmFsdWUxID0gcmVzdWx0LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX3Jlc3VsdF92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMzA1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUGlwZSB0aGUgcmVzdW1lIHJlc3VsdCB0byB0aGUgdHJhbnNmb3JtZXIuXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0LnZhbHVlLmh0bWwucGlwZVRvKHRyYW5zZm9ybWVyLndyaXRhYmxlKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpPT57XG4gICAgICAgICAgICAgICAgLy8gQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHBpcGluZyBvciBwcmVwYXJpbmcgdGhlIHJlbmRlciwgYWJvcnRcbiAgICAgICAgICAgICAgICAvLyB0aGUgdHJhbnNmb3JtZXJzIHdyaXRlciBzbyB3ZSBjYW4gdGVybWluYXRlIHRoZSBzdHJlYW0uXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtZXIud3JpdGFibGUuYWJvcnQoZXJyKS5jYXRjaCgoZSk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImNvdWxkbid0IGFib3J0IHRyYW5zZm9ybWVyXCIsIGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgcG93ZXJlZEJ5SGVhZGVyOiBuZXh0Q29uZmlnLnBvd2VyZWRCeUhlYWRlcixcbiAgICAgICAgICAgICAgICByZXN1bHQ6IGJvZHksXG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBjYWNoZSB0aGUgcmVzcG9uc2UgaWYgaXQgaGFzIHBvc3Rwb25lZCBkYXRhIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVzcG9uc2UgYmVpbmcgc2VudCB0byB0aGUgY2xpZW50IGl0J3MgZHluYW1pYyBwYXJ0cyBhcmUgc3RyZWFtZWRcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgY2xpZW50IG9uIHRoZSBzYW1lIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtzcmNQYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBjb25zdCBzaWxlbmNlTG9nID0gZmFsc2U7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncmVuZGVyJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNTdGF0aWNHZW5lcmF0aW9uOiBpc1NTRyxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSwgc2lsZW5jZUxvZywgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG59XG4vLyBUT0RPOiBvbWl0IHRoaXMgZnJvbSBwcm9kdWN0aW9uIGJ1aWxkcywgb25seSB0ZXN0IGJ1aWxkcyBzaG91bGQgaW5jbHVkZSBpdFxuLyoqXG4gKiBDcmVhdGVzIGEgcmVhZGFibGUgc3RyZWFtIHRoYXQgZW1pdHMgYSBQUFIgYm91bmRhcnkgc2VudGluZWwuXG4gKlxuICogQHJldHVybnMgQSByZWFkYWJsZSBzdHJlYW0gdGhhdCBlbWl0cyBhIFBQUiBib3VuZGFyeSBzZW50aW5lbC5cbiAqLyBmdW5jdGlvbiBjcmVhdGVQUFJCb3VuZGFyeVNlbnRpbmVsKCkge1xuICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICBzdGFydCAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSgnPCEtLSBQUFJfQk9VTkRBUllfU0VOVElORUwgLS0+JykpO1xuICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjavi%2Fdev%2FMain2MI&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FCookieConsent.tsx%22%2C%22ids%22%3A%5B%22CookieConsent%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FErrorBoundary.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FOfflineIndicator.tsx%22%2C%22ids%22%3A%5B%22OfflineIndicator%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcontexts%2FAuthContext.tsx%22%2C%22ids%22%3A%5B%22AuthProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Mulish%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-mulish%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22mulish%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FCookieConsent.tsx%22%2C%22ids%22%3A%5B%22CookieConsent%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FErrorBoundary.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FOfflineIndicator.tsx%22%2C%22ids%22%3A%5B%22OfflineIndicator%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcontexts%2FAuthContext.tsx%22%2C%22ids%22%3A%5B%22AuthProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Mulish%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-mulish%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22mulish%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/CookieConsent.tsx */ \"(rsc)/./components/ui/CookieConsent.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/ErrorBoundary.tsx */ \"(rsc)/./components/ui/ErrorBoundary.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/OfflineIndicator.tsx */ \"(rsc)/./components/ui/OfflineIndicator.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./contexts/AuthContext.tsx */ \"(rsc)/./contexts/AuthContext.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZhcHAlMkZnbG9iYWxzLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmphdmklMkZkZXYlMkZNYWluMk1JJTJGY29tcG9uZW50cyUyRnVpJTJGQ29va2llQ29uc2VudC50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJDb29raWVDb25zZW50JTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZjb21wb25lbnRzJTJGdWklMkZFcnJvckJvdW5kYXJ5LnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRmNvbXBvbmVudHMlMkZ1aSUyRk9mZmxpbmVJbmRpY2F0b3IudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyT2ZmbGluZUluZGljYXRvciUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmphdmklMkZkZXYlMkZNYWluMk1JJTJGY29udGV4dHMlMkZBdXRoQ29udGV4dC50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJBdXRoUHJvdmlkZXIlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZmb250JTJGZ29vZ2xlJTJGdGFyZ2V0LmNzcyUzRiU3QiU1QyUyMnBhdGglNUMlMjIlM0ElNUMlMjJhcHAlMkZsYXlvdXQudHN4JTVDJTIyJTJDJTVDJTIyaW1wb3J0JTVDJTIyJTNBJTVDJTIySW50ZXIlNUMlMjIlMkMlNUMlMjJhcmd1bWVudHMlNUMlMjIlM0ElNUIlN0IlNUMlMjJzdWJzZXRzJTVDJTIyJTNBJTVCJTVDJTIybGF0aW4lNUMlMjIlNUQlMkMlNUMlMjJ3ZWlnaHQlNUMlMjIlM0ElNUIlNUMlMjI0MDAlNUMlMjIlMkMlNUMlMjI1MDAlNUMlMjIlMkMlNUMlMjI2MDAlNUMlMjIlMkMlNUMlMjI3MDAlNUMlMjIlNUQlMkMlNUMlMjJ2YXJpYWJsZSU1QyUyMiUzQSU1QyUyMi0tZm9udC1pbnRlciU1QyUyMiUyQyU1QyUyMmRpc3BsYXklNUMlMjIlM0ElNUMlMjJzd2FwJTVDJTIyJTdEJTVEJTJDJTVDJTIydmFyaWFibGVOYW1lJTVDJTIyJTNBJTVDJTIyaW50ZXIlNUMlMjIlN0QlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZmb250JTJGZ29vZ2xlJTJGdGFyZ2V0LmNzcyUzRiU3QiU1QyUyMnBhdGglNUMlMjIlM0ElNUMlMjJhcHAlMkZsYXlvdXQudHN4JTVDJTIyJTJDJTVDJTIyaW1wb3J0JTVDJTIyJTNBJTVDJTIyTXVsaXNoJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTJDJTVDJTIyd2VpZ2h0JTVDJTIyJTNBJTVCJTVDJTIyNDAwJTVDJTIyJTJDJTVDJTIyNTAwJTVDJTIyJTJDJTVDJTIyNjAwJTVDJTIyJTJDJTVDJTIyNzAwJTVDJTIyJTVEJTJDJTVDJTIydmFyaWFibGUlNUMlMjIlM0ElNUMlMjItLWZvbnQtbXVsaXNoJTVDJTIyJTJDJTVDJTIyZGlzcGxheSU1QyUyMiUzQSU1QyUyMnN3YXAlNUMlMjIlN0QlNUQlMkMlNUMlMjJ2YXJpYWJsZU5hbWUlNUMlMjIlM0ElNUMlMjJtdWxpc2glNUMlMjIlN0QlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLDhLQUErSDtBQUMvSDtBQUNBLDhLQUF5SDtBQUN6SDtBQUNBLG9MQUFxSTtBQUNySTtBQUNBLGdLQUF1SCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQ29va2llQ29uc2VudFwiXSAqLyBcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvQ29va2llQ29uc2VudC50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0Vycm9yQm91bmRhcnkudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJPZmZsaW5lSW5kaWNhdG9yXCJdICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29tcG9uZW50cy91aS9PZmZsaW5lSW5kaWNhdG9yLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQXV0aFByb3ZpZGVyXCJdICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29udGV4dHMvQXV0aENvbnRleHQudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FCookieConsent.tsx%22%2C%22ids%22%3A%5B%22CookieConsent%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FErrorBoundary.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FOfflineIndicator.tsx%22%2C%22ids%22%3A%5B%22OfflineIndicator%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcontexts%2FAuthContext.tsx%22%2C%22ids%22%3A%5B%22AuthProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Mulish%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-mulish%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22mulish%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZhcHAlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsd0lBQXlFIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9hcHAvcGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fframework%2Fboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fmetadata%2Fgenerate%2Ficon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fnext-devtools%2Fuserspace%2Fapp%2Fsegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fframework%2Fboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fmetadata%2Fgenerate%2Ficon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fnext-devtools%2Fuserspace%2Fapp%2Fsegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(rsc)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-segment.js */ \"(rsc)/./node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(rsc)/./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(rsc)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(rsc)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/framework/boundary-components.js */ \"(rsc)/./node_modules/next/dist/lib/framework/boundary-components.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/metadata/generate/icon-mark.js */ \"(rsc)/./node_modules/next/dist/lib/metadata/generate/icon-mark.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js */ \"(rsc)/./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZidWlsdGluJTJGZ2xvYmFsLWVycm9yLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmphdmklMkZkZXYlMkZNYWluMk1JJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmh0dHAtYWNjZXNzLWZhbGxiYWNrJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRnJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGbGliJTJGZnJhbWV3b3JrJTJGYm91bmRhcnktY29tcG9uZW50cy5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmphdmklMkZkZXYlMkZNYWluMk1JJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZsaWIlMkZtZXRhZGF0YSUyRmdlbmVyYXRlJTJGaWNvbi1tYXJrLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRm5leHQtZGV2dG9vbHMlMkZ1c2Vyc3BhY2UlMkZhcHAlMkZzZWdtZW50LWV4cGxvcmVyLW5vZGUuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNQQUE2SDtBQUM3SDtBQUNBLG9PQUFvSDtBQUNwSDtBQUNBLDBPQUF1SDtBQUN2SDtBQUNBLG9SQUE0STtBQUM1STtBQUNBLHdPQUFzSDtBQUN0SDtBQUNBLHNRQUFxSTtBQUNySTtBQUNBLDRPQUF3SDtBQUN4SDtBQUNBLHdPQUFzSDtBQUN0SDtBQUNBLDRRQUF3SSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9idWlsdGluL2dsb2JhbC1lcnJvci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtc2VnbWVudC5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9odHRwLWFjY2Vzcy1mYWxsYmFjay9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvbGliL2ZyYW1ld29yay9ib3VuZGFyeS1jb21wb25lbnRzLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2xpYi9tZXRhZGF0YS9nZW5lcmF0ZS9pY29uLW1hcmsuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvbmV4dC1kZXZ0b29scy91c2Vyc3BhY2UvYXBwL3NlZ21lbnQtZXhwbG9yZXItbm9kZS5qc1wiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fframework%2Fboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fmetadata%2Fgenerate%2Ficon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fnext-devtools%2Fuserspace%2Fapp%2Fsegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZidWlsdGluJTJGZ2xvYmFsLWVycm9yLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxzUEFBNkgiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9nbG9iYWwtZXJyb3IuanNcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AppPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _services_patientService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/patientService */ \"(ssr)/./services/patientService.ts\");\n/* harmony import */ var _services_subscriptionService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/subscriptionService */ \"(ssr)/./services/subscriptionService.ts\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(ssr)/./contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _components_ui_LoadingSpinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/LoadingSpinner */ \"(ssr)/./components/ui/LoadingSpinner.tsx\");\n/* harmony import */ var _components_ui_BottomNavBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/BottomNavBar */ \"(ssr)/./components/ui/BottomNavBar.tsx\");\n/* harmony import */ var _components_ui_ReviewPrompt__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/ReviewPrompt */ \"(ssr)/./components/ui/ReviewPrompt.tsx\");\n/* harmony import */ var _components_views_ViewRenderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/views/ViewRenderer */ \"(ssr)/./components/views/ViewRenderer.tsx\");\n/* harmony import */ var _components_gamification_BadgeUnlockToast__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/gamification/BadgeUnlockToast */ \"(ssr)/./components/gamification/BadgeUnlockToast.tsx\");\n/* harmony import */ var _hooks_useAppState__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/hooks/useAppState */ \"(ssr)/./hooks/useAppState.ts\");\n/* harmony import */ var _hooks_useTierManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/hooks/useTierManager */ \"(ssr)/./hooks/useTierManager.ts\");\n/* harmony import */ var _hooks_useSessionManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/hooks/useSessionManager */ \"(ssr)/./hooks/useSessionManager.ts\");\n/* harmony import */ var _hooks_useStreak__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/hooks/useStreak */ \"(ssr)/./hooks/useStreak.ts\");\n/* harmony import */ var _hooks_useXP__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/hooks/useXP */ \"(ssr)/./hooks/useXP.ts\");\n/* harmony import */ var _hooks_useBadges__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/hooks/useBadges */ \"(ssr)/./hooks/useBadges.ts\");\n/* harmony import */ var _hooks_useAuthCallback__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/hooks/useAuthCallback */ \"(ssr)/./hooks/useAuthCallback.ts\");\n/* harmony import */ var _hooks_useStripeCallback__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/hooks/useStripeCallback */ \"(ssr)/./hooks/useStripeCallback.ts\");\n/* harmony import */ var _hooks_useAppRouter__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/hooks/useAppRouter */ \"(ssr)/./hooks/useAppRouter.ts\");\n/* harmony import */ var _hooks_useOnlineSync__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @/hooks/useOnlineSync */ \"(ssr)/./hooks/useOnlineSync.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n// Core components (always loaded)\n\n\n\n\n// Lazy-loaded components\nconst Onboarding = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_Onboarding_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! @/components/views/Onboarding */ \"(ssr)/./components/views/Onboarding.tsx\")));\n// Gamification components\n\n// Custom hooks\n\n\n\n\n\n\n\n\n\n\nfunction AppPage() {\n    const { user, loading: authLoading, signOut } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    // Use consolidated app state hook\n    const appState = (0,_hooks_useAppState__WEBPACK_IMPORTED_MODULE_12__.useAppState)();\n    const { view, setView, sessions, setSessions, sessionsLoading, setSessionsLoading, remainingFreeSessions, setRemainingFreeSessions, currentPatient, setCurrentPatient, currentSession, setCurrentSession, showOnboarding, setShowOnboarding, coachingSummary, setCoachingSummary, coachingSummaryError, setCoachingSummaryError, isGeneratingSummary, setIsGeneratingSummary, showReviewPrompt, setShowReviewPrompt, confirmationEmail, setConfirmationEmail, loggingOut, setLoggingOut } = appState;\n    // Use tier manager hook with server-side premium verification\n    const { userTier, setUserTier, refreshTier, isPremiumVerified, isVerifying: isTierVerifying } = (0,_hooks_useTierManager__WEBPACK_IMPORTED_MODULE_13__.useTierManager)();\n    // Use streak hook for gamification\n    const { currentStreak, updateStreak, processQueue: processStreakQueue } = (0,_hooks_useStreak__WEBPACK_IMPORTED_MODULE_15__.useStreak)();\n    // Use XP hook for gamification\n    const { addXP, processQueue: processXPQueue } = (0,_hooks_useXP__WEBPACK_IMPORTED_MODULE_16__.useXP)();\n    // Use badges hook for gamification\n    const { checkAndUnlockBadges, newlyUnlockedBadges, markBadgeAsSeen } = (0,_hooks_useBadges__WEBPACK_IMPORTED_MODULE_17__.useBadges)();\n    // Use online sync hook to process queued operations when connectivity is restored\n    (0,_hooks_useOnlineSync__WEBPACK_IMPORTED_MODULE_21__.useOnlineSync)({\n        processStreakQueue,\n        processXPQueue,\n        isAuthenticated: !!user\n    });\n    // Track which badge to show in toast (one at a time)\n    const [badgeToastQueue, setBadgeToastQueue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // When new badges are unlocked, add them to the toast queue - FIXED: Use ref to prevent loops\n    const previousBadgesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AppPage.useEffect\": ()=>{\n            const currentBadgeIds = newlyUnlockedBadges.map({\n                \"AppPage.useEffect.currentBadgeIds\": (b)=>b.id\n            }[\"AppPage.useEffect.currentBadgeIds\"]);\n            const previousBadgeIds = previousBadgesRef.current;\n            // Only process if badges actually changed\n            if (currentBadgeIds.length > 0 && JSON.stringify(currentBadgeIds) !== JSON.stringify(previousBadgeIds)) {\n                setBadgeToastQueue({\n                    \"AppPage.useEffect\": (prev)=>{\n                        // Add only badges not already in queue\n                        const existingIds = new Set(prev);\n                        const toAdd = currentBadgeIds.filter({\n                            \"AppPage.useEffect.toAdd\": (id)=>!existingIds.has(id)\n                        }[\"AppPage.useEffect.toAdd\"]);\n                        return [\n                            ...prev,\n                            ...toAdd\n                        ];\n                    }\n                }[\"AppPage.useEffect\"]);\n                previousBadgesRef.current = currentBadgeIds;\n            }\n        }\n    }[\"AppPage.useEffect\"], [\n        newlyUnlockedBadges\n    ]);\n    // Handle dismissing a badge toast\n    const handleBadgeToastClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleBadgeToastClose]\": async ()=>{\n            if (badgeToastQueue.length > 0) {\n                const dismissedBadgeId = badgeToastQueue[0];\n                await markBadgeAsSeen(dismissedBadgeId);\n                setBadgeToastQueue({\n                    \"AppPage.useCallback[handleBadgeToastClose]\": (prev)=>prev.slice(1)\n                }[\"AppPage.useCallback[handleBadgeToastClose]\"]);\n            }\n        }\n    }[\"AppPage.useCallback[handleBadgeToastClose]\"], [\n        badgeToastQueue,\n        markBadgeAsSeen\n    ]);\n    // Get the current badge to show\n    const currentBadgeToShow = newlyUnlockedBadges.find((b)=>b.id === badgeToastQueue[0]);\n    // Use session manager hook\n    const { saveNewSession } = (0,_hooks_useSessionManager__WEBPACK_IMPORTED_MODULE_14__.useSessionManager)({\n        user,\n        authLoading,\n        userTier,\n        setSessions,\n        setSessionsLoading,\n        setRemainingFreeSessions,\n        updateStreak,\n        addXP,\n        checkAndUnlockBadges,\n        currentStreak\n    });\n    // Use auth callback hook\n    (0,_hooks_useAuthCallback__WEBPACK_IMPORTED_MODULE_18__.useAuthCallback)({\n        setView\n    });\n    // Use Stripe callback hook\n    (0,_hooks_useStripeCallback__WEBPACK_IMPORTED_MODULE_19__.useStripeCallback)({\n        user,\n        authLoading,\n        setUserTier,\n        setRemainingFreeSessions,\n        setView\n    });\n    // Use app router hook\n    (0,_hooks_useAppRouter__WEBPACK_IMPORTED_MODULE_20__.useAppRouter)({\n        user,\n        authLoading,\n        view,\n        setView\n    });\n    // Load onboarding state - FIXED: Only run once on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AppPage.useEffect\": ()=>{\n            const onboardingComplete = localStorage.getItem('mi-coach-onboarding-complete');\n            setShowOnboarding(onboardingComplete !== 'true');\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"AppPage.useEffect\"], []); // Empty deps - only run once on mount\n    const handleOnboardingFinish = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleOnboardingFinish]\": ()=>{\n            localStorage.setItem('mi-coach-onboarding-complete', 'true');\n            setShowOnboarding(false);\n            // After onboarding, go to Dashboard (anonymous users can access it)\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard);\n        }\n    }[\"AppPage.useCallback[handleOnboardingFinish]\"], [\n        setShowOnboarding,\n        setView\n    ]);\n    const handleStartPractice = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleStartPractice]\": async ()=>{\n            // Require authentication to start practice\n            if (!user) {\n                console.log('[App] User not authenticated, redirecting to login');\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n                return;\n            }\n            // Guard: wait until userTier is loaded and verification is complete\n            if (!userTier || userTier === '' || isTierVerifying) {\n                console.warn('[App] User tier not yet loaded or still verifying, waiting...');\n                return;\n            }\n            // Check if user can start a new session\n            const canStart = await (0,_services_subscriptionService__WEBPACK_IMPORTED_MODULE_4__.canStartSession)(user.id, userTier);\n            if (!canStart) {\n                console.log('[App] User cannot start session (limit reached), showing paywall');\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall);\n                return;\n            }\n            if (userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium) {\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.ScenarioSelection);\n            } else {\n                const patient = (0,_services_patientService__WEBPACK_IMPORTED_MODULE_3__.generatePatientProfile)();\n                setCurrentPatient(patient);\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Practice);\n            }\n        }\n    }[\"AppPage.useCallback[handleStartPractice]\"], [\n        user,\n        userTier,\n        isTierVerifying,\n        setView,\n        setCurrentPatient\n    ]);\n    const handleStartFilteredPractice = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleStartFilteredPractice]\": (filters)=>{\n            // Require authentication to start practice\n            if (!user) {\n                console.log('[App] User not authenticated, redirecting to login');\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n                return;\n            }\n            const patient = (0,_services_patientService__WEBPACK_IMPORTED_MODULE_3__.generatePatientProfile)(filters);\n            setCurrentPatient(patient);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Practice);\n        }\n    }[\"AppPage.useCallback[handleStartFilteredPractice]\"], [\n        user,\n        setCurrentPatient,\n        setView\n    ]);\n    // Save the new session when practice is finished\n    const handleFinishPractice = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleFinishPractice]\": async (transcript, feedback)=>{\n            if (!currentPatient) {\n                console.error(\"[App] Cannot save session: missing patient\");\n                return;\n            }\n            const newSession = await saveNewSession(transcript, feedback, currentPatient, sessions, userTier);\n            setCurrentSession(newSession);\n            setCoachingSummary(null); // Invalidate old summary\n            setCoachingSummaryError(null);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Feedback);\n        }\n    }[\"AppPage.useCallback[handleFinishPractice]\"], [\n        currentPatient,\n        sessions,\n        userTier,\n        saveNewSession,\n        setCurrentSession,\n        setCoachingSummary,\n        setCoachingSummaryError,\n        setView\n    ]);\n    const handleDoneFromFeedback = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleDoneFromFeedback]\": ()=>{\n            const sessionCount = parseInt(localStorage.getItem('mi-coach-session-count') || '0', 10);\n            const reviewDismissed = localStorage.getItem('mi-coach-review-dismissed') === 'true';\n            const remindAfterCount = parseInt(localStorage.getItem('mi-coach-review-remind-after') || '0', 10);\n            if (!reviewDismissed && sessionCount >= 3 && sessionCount >= remindAfterCount) {\n                setShowReviewPrompt(true);\n            } else {\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard);\n            }\n        }\n    }[\"AppPage.useCallback[handleDoneFromFeedback]\"], [\n        setShowReviewPrompt,\n        setView\n    ]);\n    const handleReviewPromptClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleReviewPromptClose]\": (choice)=>{\n            setShowReviewPrompt(false);\n            if (choice === 'rate' || choice === 'no') {\n                localStorage.setItem('mi-coach-review-dismissed', 'true');\n                if (choice === 'rate') {\n                    // In a real app, you'd link to the store.\n                    alert(\"Thank you for your feedback! You will now be redirected to the app store.\");\n                }\n            } else if (choice === 'later') {\n                const sessionCount = parseInt(localStorage.getItem('mi-coach-session-count') || '0', 10);\n                // Remind again after 3 more sessions\n                localStorage.setItem('mi-coach-review-remind-after', (sessionCount + 3).toString());\n            }\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard);\n        }\n    }[\"AppPage.useCallback[handleReviewPromptClose]\"], [\n        setShowReviewPrompt,\n        setView\n    ]);\n    const generateCoachingSummaryFromEdgeFunction = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[generateCoachingSummaryFromEdgeFunction]\": async (sessions)=>{\n            // Get Supabase URL and construct Edge Function URL\n            const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n            if (!supabaseUrl) {\n                throw new Error('Supabase URL not configured');\n            }\n            // Use dual-run wrapper for Strangler Fig migration tracking\n            // Calls both legacy and v2 functions, compares outputs, tracks matches\n            const functionsUrl = `${supabaseUrl}/functions/v1/dual-run-coaching-summary`;\n            // Require authentication - get JWT token from session\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_6__.getSupabaseClient)();\n            let authToken;\n            try {\n                const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n                if (sessionError || !session || !session.access_token) {\n                    throw new Error('Your session has expired. Please refresh the page and log in again.');\n                }\n                authToken = session.access_token;\n            } catch (error) {\n                console.error('[App] Failed to get auth token:', error);\n                throw new Error('Failed to authenticate. Please refresh the page and try again.');\n            }\n            // Prepare request with required Authorization header\n            const headers = {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${authToken}`\n            };\n            // Make request to Edge Function\n            const response = await fetch(functionsUrl, {\n                method: 'POST',\n                headers,\n                body: JSON.stringify({\n                    sessions\n                })\n            });\n            // Handle errors\n            if (!response.ok) {\n                const errorData = await response.json().catch({\n                    \"AppPage.useCallback[generateCoachingSummaryFromEdgeFunction]\": ()=>({\n                            error: 'Unknown error'\n                        })\n                }[\"AppPage.useCallback[generateCoachingSummaryFromEdgeFunction]\"]);\n                const errorMessage = errorData.error || `Failed to generate coaching summary (${response.status})`;\n                // Map HTTP status codes to user-friendly messages\n                if (response.status === 401) {\n                    throw new Error('Your session has expired. Please refresh the page and log in again.');\n                } else if (response.status === 429) {\n                    throw new Error('AI service is busy. Please try again in a moment.');\n                } else if (response.status === 504) {\n                    throw new Error('Coaching summary generation timed out. Please try again.');\n                } else if (response.status === 500) {\n                    throw new Error('AI service error. Please try again later.');\n                } else {\n                    throw new Error(errorMessage);\n                }\n            }\n            // Parse and return response\n            const data = await response.json();\n            return data;\n        }\n    }[\"AppPage.useCallback[generateCoachingSummaryFromEdgeFunction]\"], []);\n    const handleGenerateCoachingSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleGenerateCoachingSummary]\": async ()=>{\n            if (coachingSummary && !isGeneratingSummary) {\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.CoachingSummary);\n                return;\n            }\n            if (userTier !== _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium) {\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall);\n                return;\n            }\n            setCoachingSummaryError(null);\n            setIsGeneratingSummary(true);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.CoachingSummary);\n            try {\n                const premiumSessions = sessions.filter({\n                    \"AppPage.useCallback[handleGenerateCoachingSummary].premiumSessions\": (s)=>s.tier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium\n                }[\"AppPage.useCallback[handleGenerateCoachingSummary].premiumSessions\"]);\n                if (premiumSessions.length === 0) {\n                    setCoachingSummaryError(\"You need to complete at least one Premium session to generate a summary.\");\n                    setIsGeneratingSummary(false);\n                    return;\n                }\n                const reportObject = await generateCoachingSummaryFromEdgeFunction(premiumSessions);\n                setCoachingSummary(reportObject);\n            } catch (error) {\n                console.error(\"Failed to generate coaching summary:\", error);\n                const errorMessage = error instanceof Error ? error.message : \"Sorry, we couldn't generate your summary at this time. Please try again later.\";\n                setCoachingSummaryError(errorMessage);\n            } finally{\n                setIsGeneratingSummary(false);\n            }\n        }\n    }[\"AppPage.useCallback[handleGenerateCoachingSummary]\"], [\n        coachingSummary,\n        isGeneratingSummary,\n        userTier,\n        sessions,\n        setView,\n        setCoachingSummaryError,\n        setIsGeneratingSummary,\n        setCoachingSummary,\n        generateCoachingSummaryFromEdgeFunction\n    ]);\n    const handleNavigate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleNavigate]\": (targetView)=>setView(targetView)\n    }[\"AppPage.useCallback[handleNavigate]\"], [\n        setView\n    ]);\n    const handleEmailConfirmation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleEmailConfirmation]\": (email)=>{\n            setConfirmationEmail(email);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.EmailConfirmation);\n        }\n    }[\"AppPage.useCallback[handleEmailConfirmation]\"], [\n        setConfirmationEmail,\n        setView\n    ]);\n    const handleLogout = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleLogout]\": async ()=>{\n            if (loggingOut) {\n                return;\n            }\n            setLoggingOut(true);\n            // Reset app state\n            setUserTier(_types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Free);\n            localStorage.removeItem('mi-coach-tier');\n            setSessions([]);\n            setRemainingFreeSessions(null);\n            setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n            let logoutError = null;\n            try {\n                await signOut();\n            } catch (error) {\n                const err = error instanceof Error ? error : new Error('Logout failed');\n                console.error('[App] Logout failed:', err);\n                logoutError = err;\n            } finally{\n                setLoggingOut(false);\n            }\n            if (logoutError) {\n                throw logoutError;\n            }\n        }\n    }[\"AppPage.useCallback[handleLogout]\"], [\n        loggingOut,\n        setLoggingOut,\n        setUserTier,\n        setSessions,\n        setRemainingFreeSessions,\n        setView,\n        signOut\n    ]);\n    // Save the new user tier to localStorage and Supabase upon upgrade.\n    const handleUpgrade = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleUpgrade]\": async ()=>{\n            if (!user) {\n                console.error('[App] Cannot upgrade: user not authenticated');\n                return;\n            }\n            try {\n                const newTier = _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium;\n                // Update in Supabase\n                console.log('[App] Upgrading user tier to Premium');\n                // Note: updateUserTier is called internally by the payment processor\n                // For now, just update locally and in localStorage\n                setUserTier(newTier);\n                // Reload tier from Supabase to confirm\n                const updatedTier = await refreshTier();\n                if (updatedTier) {\n                    setUserTier(updatedTier);\n                }\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard); // Go back to dashboard after upgrading\n            } catch (error) {\n                console.error('[App] Failed to upgrade tier:', error);\n                // Still navigate to dashboard even if refresh fails\n                setView(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard);\n            }\n        }\n    }[\"AppPage.useCallback[handleUpgrade]\"], [\n        user,\n        setUserTier,\n        refreshTier,\n        setView\n    ]);\n    const handleTierUpdated = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AppPage.useCallback[handleTierUpdated]\": async ()=>{\n            // Reload tier from Supabase after subscription change\n            if (user) {\n                const updatedTier = await refreshTier();\n                if (updatedTier) {\n                    setUserTier(updatedTier);\n                }\n            }\n        }\n    }[\"AppPage.useCallback[handleTierUpdated]\"], [\n        user,\n        refreshTier,\n        setUserTier\n    ]);\n    // Show loading state while auth is initializing\n    if (authLoading || showOnboarding === null) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_LoadingSpinner__WEBPACK_IMPORTED_MODULE_7__.PageLoader, {\n            message: \"Initializing...\"\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n            lineNumber: 430,\n            columnNumber: 12\n        }, this);\n    }\n    // Show onboarding if not completed\n    if (showOnboarding) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n            fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_LoadingSpinner__WEBPACK_IMPORTED_MODULE_7__.PageLoader, {\n                message: \"Loading onboarding...\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 436,\n                columnNumber: 27\n            }, void 0),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Onboarding, {\n                onFinish: handleOnboardingFinish\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 437,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n            lineNumber: 436,\n            columnNumber: 7\n        }, this);\n    }\n    // Show login/auth screens when on those views (allow anonymous access to other views)\n    const isAuthView = view === _types__WEBPACK_IMPORTED_MODULE_2__.View.Login || view === _types__WEBPACK_IMPORTED_MODULE_2__.View.ForgotPassword || view === _types__WEBPACK_IMPORTED_MODULE_2__.View.EmailConfirmation || view === _types__WEBPACK_IMPORTED_MODULE_2__.View.ResetPassword;\n    const shouldRenderAuthViews = !user && !authLoading && isAuthView;\n    const viewsWithNavBar = [\n        _types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard,\n        _types__WEBPACK_IMPORTED_MODULE_2__.View.ResourceLibrary,\n        _types__WEBPACK_IMPORTED_MODULE_2__.View.Settings,\n        _types__WEBPACK_IMPORTED_MODULE_2__.View.Calendar\n    ];\n    const isPremiumFeedback = view === _types__WEBPACK_IMPORTED_MODULE_2__.View.Feedback && userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium;\n    const shouldShowNavBar = viewsWithNavBar.includes(view) || isPremiumFeedback;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-transparent text-[var(--color-text-primary)]\",\n        id: \"main-content\",\n        children: [\n            shouldShowNavBar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col\",\n                style: {\n                    height: '100vh'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"flex-1 overflow-y-auto pb-20\",\n                        role: \"main\",\n                        \"aria-label\": \"Main content\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_views_ViewRenderer__WEBPACK_IMPORTED_MODULE_10__.ViewRenderer, {\n                            view: view,\n                            userTier: userTier,\n                            user: user,\n                            sessions: sessions,\n                            remainingFreeSessions: remainingFreeSessions,\n                            currentPatient: currentPatient,\n                            currentSession: currentSession,\n                            coachingSummary: coachingSummary,\n                            coachingSummaryError: coachingSummaryError,\n                            isGeneratingSummary: isGeneratingSummary,\n                            confirmationEmail: confirmationEmail,\n                            isPremiumVerified: isPremiumVerified,\n                            isTierVerifying: isTierVerifying,\n                            onNavigate: handleNavigate,\n                            onStartPractice: handleStartPractice,\n                            onStartFilteredPractice: handleStartFilteredPractice,\n                            onFinishPractice: handleFinishPractice,\n                            onDoneFromFeedback: handleDoneFromFeedback,\n                            onUpgrade: handleUpgrade,\n                            onLogout: handleLogout,\n                            onGenerateCoachingSummary: handleGenerateCoachingSummary,\n                            onEmailConfirmation: handleEmailConfirmation,\n                            onTierUpdated: handleTierUpdated\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                            lineNumber: 455,\n                            columnNumber: 19\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                        lineNumber: 454,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_BottomNavBar__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        currentView: view,\n                        onNavigate: handleNavigate,\n                        userTier: userTier\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                        lineNumber: 481,\n                        columnNumber: 15\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 453,\n                columnNumber: 11\n            }, this) : // Views without the main nav bar (e.g., practice, feedback, paywall)\n            // These components manage their own full-screen layout.\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_views_ViewRenderer__WEBPACK_IMPORTED_MODULE_10__.ViewRenderer, {\n                view: view,\n                userTier: userTier,\n                user: user,\n                sessions: sessions,\n                remainingFreeSessions: remainingFreeSessions,\n                currentPatient: currentPatient,\n                currentSession: currentSession,\n                coachingSummary: coachingSummary,\n                coachingSummaryError: coachingSummaryError,\n                isGeneratingSummary: isGeneratingSummary,\n                confirmationEmail: confirmationEmail,\n                isPremiumVerified: isPremiumVerified,\n                isTierVerifying: isTierVerifying,\n                onNavigate: handleNavigate,\n                onStartPractice: handleStartPractice,\n                onStartFilteredPractice: handleStartFilteredPractice,\n                onFinishPractice: handleFinishPractice,\n                onDoneFromFeedback: handleDoneFromFeedback,\n                onUpgrade: handleUpgrade,\n                onLogout: handleLogout,\n                onGenerateCoachingSummary: handleGenerateCoachingSummary,\n                onEmailConfirmation: handleEmailConfirmation,\n                onTierUpdated: handleTierUpdated\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 486,\n                columnNumber: 11\n            }, this),\n            showReviewPrompt && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_ReviewPrompt__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                onClose: handleReviewPromptClose\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 513,\n                columnNumber: 11\n            }, this),\n            currentBadgeToShow && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gamification_BadgeUnlockToast__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                badge: currentBadgeToShow,\n                onClose: handleBadgeToastClose\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 517,\n                columnNumber: 11\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"aria-live-region\",\n                \"aria-live\": \"polite\",\n                \"aria-atomic\": \"true\",\n                className: \"sr-only\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n                lineNumber: 523,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/app/page.tsx\",\n        lineNumber: 451,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUVBQVlBO2dCQUFDc00sU0FBU2xGOzs7Ozs7WUFHMUJqQyxvQ0FDRyw4REFBQ2hGLGtGQUFnQkE7Z0JBQ2ZvTSxPQUFPcEg7Z0JBQ1BtSCxTQUFTdEg7Ozs7OzswQkFJZiw4REFBQ29HO2dCQUFJaEgsSUFBRztnQkFBbUJvSSxhQUFVO2dCQUFTQyxlQUFZO2dCQUFPcEIsV0FBVTs7Ozs7Ozs7Ozs7O0FBR2pGIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9hcHAvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgU3VzcGVuc2UsIGxhenkgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVc2VyVGllciwgVmlldywgUGF0aWVudFByb2ZpbGUsIFNlc3Npb24sIEZlZWRiYWNrLCBDaGF0TWVzc2FnZSwgUGF0aWVudFByb2ZpbGVGaWx0ZXJzLCBDb2FjaGluZ1N1bW1hcnkgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IGdlbmVyYXRlUGF0aWVudFByb2ZpbGUgfSBmcm9tICdAL3NlcnZpY2VzL3BhdGllbnRTZXJ2aWNlJztcbmltcG9ydCB7IGNhblN0YXJ0U2Vzc2lvbiB9IGZyb20gJ0Avc2VydmljZXMvc3Vic2NyaXB0aW9uU2VydmljZSc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5pbXBvcnQgeyBnZXRTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcblxuLy8gQ29yZSBjb21wb25lbnRzIChhbHdheXMgbG9hZGVkKVxuaW1wb3J0IHsgUGFnZUxvYWRlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9Mb2FkaW5nU3Bpbm5lcic7XG5pbXBvcnQgQm90dG9tTmF2QmFyIGZyb20gJ0AvY29tcG9uZW50cy91aS9Cb3R0b21OYXZCYXInO1xuaW1wb3J0IFJldmlld1Byb21wdCBmcm9tICdAL2NvbXBvbmVudHMvdWkvUmV2aWV3UHJvbXB0JztcbmltcG9ydCB7IFZpZXdSZW5kZXJlciB9IGZyb20gJ0AvY29tcG9uZW50cy92aWV3cy9WaWV3UmVuZGVyZXInO1xuXG4vLyBMYXp5LWxvYWRlZCBjb21wb25lbnRzXG5jb25zdCBPbmJvYXJkaW5nID0gbGF6eSgoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy92aWV3cy9PbmJvYXJkaW5nJykpO1xuXG4vLyBHYW1pZmljYXRpb24gY29tcG9uZW50c1xuaW1wb3J0IEJhZGdlVW5sb2NrVG9hc3QgZnJvbSAnQC9jb21wb25lbnRzL2dhbWlmaWNhdGlvbi9CYWRnZVVubG9ja1RvYXN0JztcblxuLy8gQ3VzdG9tIGhvb2tzXG5pbXBvcnQgeyB1c2VBcHBTdGF0ZSB9IGZyb20gJ0AvaG9va3MvdXNlQXBwU3RhdGUnO1xuaW1wb3J0IHsgdXNlVGllck1hbmFnZXIgfSBmcm9tICdAL2hvb2tzL3VzZVRpZXJNYW5hZ2VyJztcbmltcG9ydCB7IHVzZVNlc3Npb25NYW5hZ2VyIH0gZnJvbSAnQC9ob29rcy91c2VTZXNzaW9uTWFuYWdlcic7XG5pbXBvcnQgeyB1c2VTdHJlYWsgfSBmcm9tICdAL2hvb2tzL3VzZVN0cmVhayc7XG5pbXBvcnQgeyB1c2VYUCB9IGZyb20gJ0AvaG9va3MvdXNlWFAnO1xuaW1wb3J0IHsgdXNlQmFkZ2VzIH0gZnJvbSAnQC9ob29rcy91c2VCYWRnZXMnO1xuaW1wb3J0IHsgdXNlQXV0aENhbGxiYWNrIH0gZnJvbSAnQC9ob29rcy91c2VBdXRoQ2FsbGJhY2snO1xuaW1wb3J0IHsgdXNlU3RyaXBlQ2FsbGJhY2sgfSBmcm9tICdAL2hvb2tzL3VzZVN0cmlwZUNhbGxiYWNrJztcbmltcG9ydCB7IHVzZUFwcFJvdXRlciB9IGZyb20gJ0AvaG9va3MvdXNlQXBwUm91dGVyJztcbmltcG9ydCB7IHVzZU9ubGluZVN5bmMgfSBmcm9tICdAL2hvb2tzL3VzZU9ubGluZVN5bmMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHBQYWdlKCkge1xuICBjb25zdCB7IHVzZXIsIGxvYWRpbmc6IGF1dGhMb2FkaW5nLCBzaWduT3V0IH0gPSB1c2VBdXRoKCk7XG4gIFxuICAvLyBVc2UgY29uc29saWRhdGVkIGFwcCBzdGF0ZSBob29rXG4gIGNvbnN0IGFwcFN0YXRlID0gdXNlQXBwU3RhdGUoKTtcbiAgY29uc3Qge1xuICAgIHZpZXcsXG4gICAgc2V0VmlldyxcbiAgICBzZXNzaW9ucyxcbiAgICBzZXRTZXNzaW9ucyxcbiAgICBzZXNzaW9uc0xvYWRpbmcsXG4gICAgc2V0U2Vzc2lvbnNMb2FkaW5nLFxuICAgIHJlbWFpbmluZ0ZyZWVTZXNzaW9ucyxcbiAgICBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMsXG4gICAgY3VycmVudFBhdGllbnQsXG4gICAgc2V0Q3VycmVudFBhdGllbnQsXG4gICAgY3VycmVudFNlc3Npb24sXG4gICAgc2V0Q3VycmVudFNlc3Npb24sXG4gICAgc2hvd09uYm9hcmRpbmcsXG4gICAgc2V0U2hvd09uYm9hcmRpbmcsXG4gICAgY29hY2hpbmdTdW1tYXJ5LFxuICAgIHNldENvYWNoaW5nU3VtbWFyeSxcbiAgICBjb2FjaGluZ1N1bW1hcnlFcnJvcixcbiAgICBzZXRDb2FjaGluZ1N1bW1hcnlFcnJvcixcbiAgICBpc0dlbmVyYXRpbmdTdW1tYXJ5LFxuICAgIHNldElzR2VuZXJhdGluZ1N1bW1hcnksXG4gICAgc2hvd1Jldmlld1Byb21wdCxcbiAgICBzZXRTaG93UmV2aWV3UHJvbXB0LFxuICAgIGNvbmZpcm1hdGlvbkVtYWlsLFxuICAgIHNldENvbmZpcm1hdGlvbkVtYWlsLFxuICAgIGxvZ2dpbmdPdXQsXG4gICAgc2V0TG9nZ2luZ091dCxcbiAgfSA9IGFwcFN0YXRlO1xuXG4gIC8vIFVzZSB0aWVyIG1hbmFnZXIgaG9vayB3aXRoIHNlcnZlci1zaWRlIHByZW1pdW0gdmVyaWZpY2F0aW9uXG4gIGNvbnN0IHsgdXNlclRpZXIsIHNldFVzZXJUaWVyLCByZWZyZXNoVGllciwgaXNQcmVtaXVtVmVyaWZpZWQsIGlzVmVyaWZ5aW5nOiBpc1RpZXJWZXJpZnlpbmcgfSA9IHVzZVRpZXJNYW5hZ2VyKCk7XG5cbiAgLy8gVXNlIHN0cmVhayBob29rIGZvciBnYW1pZmljYXRpb25cbiAgY29uc3QgeyBjdXJyZW50U3RyZWFrLCB1cGRhdGVTdHJlYWssIHByb2Nlc3NRdWV1ZTogcHJvY2Vzc1N0cmVha1F1ZXVlIH0gPSB1c2VTdHJlYWsoKTtcblxuICAvLyBVc2UgWFAgaG9vayBmb3IgZ2FtaWZpY2F0aW9uXG4gIGNvbnN0IHsgYWRkWFAsIHByb2Nlc3NRdWV1ZTogcHJvY2Vzc1hQUXVldWUgfSA9IHVzZVhQKCk7XG5cbiAgLy8gVXNlIGJhZGdlcyBob29rIGZvciBnYW1pZmljYXRpb25cbiAgY29uc3QgeyBjaGVja0FuZFVubG9ja0JhZGdlcywgbmV3bHlVbmxvY2tlZEJhZGdlcywgbWFya0JhZGdlQXNTZWVuIH0gPSB1c2VCYWRnZXMoKTtcblxuICAvLyBVc2Ugb25saW5lIHN5bmMgaG9vayB0byBwcm9jZXNzIHF1ZXVlZCBvcGVyYXRpb25zIHdoZW4gY29ubmVjdGl2aXR5IGlzIHJlc3RvcmVkXG4gIHVzZU9ubGluZVN5bmMoe1xuICAgIHByb2Nlc3NTdHJlYWtRdWV1ZSxcbiAgICBwcm9jZXNzWFBRdWV1ZSxcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6ICEhdXNlcixcbiAgfSk7XG5cbiAgLy8gVHJhY2sgd2hpY2ggYmFkZ2UgdG8gc2hvdyBpbiB0b2FzdCAob25lIGF0IGEgdGltZSlcbiAgY29uc3QgW2JhZGdlVG9hc3RRdWV1ZSwgc2V0QmFkZ2VUb2FzdFF1ZXVlXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG5cbiAgLy8gV2hlbiBuZXcgYmFkZ2VzIGFyZSB1bmxvY2tlZCwgYWRkIHRoZW0gdG8gdGhlIHRvYXN0IHF1ZXVlIC0gRklYRUQ6IFVzZSByZWYgdG8gcHJldmVudCBsb29wc1xuICBjb25zdCBwcmV2aW91c0JhZGdlc1JlZiA9IHVzZVJlZjxzdHJpbmdbXT4oW10pO1xuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50QmFkZ2VJZHMgPSBuZXdseVVubG9ja2VkQmFkZ2VzLm1hcChiID0+IGIuaWQpO1xuICAgIGNvbnN0IHByZXZpb3VzQmFkZ2VJZHMgPSBwcmV2aW91c0JhZGdlc1JlZi5jdXJyZW50O1xuICAgIFxuICAgIC8vIE9ubHkgcHJvY2VzcyBpZiBiYWRnZXMgYWN0dWFsbHkgY2hhbmdlZFxuICAgIGlmIChjdXJyZW50QmFkZ2VJZHMubGVuZ3RoID4gMCAmJiBKU09OLnN0cmluZ2lmeShjdXJyZW50QmFkZ2VJZHMpICE9PSBKU09OLnN0cmluZ2lmeShwcmV2aW91c0JhZGdlSWRzKSkge1xuICAgICAgc2V0QmFkZ2VUb2FzdFF1ZXVlKHByZXYgPT4ge1xuICAgICAgICAvLyBBZGQgb25seSBiYWRnZXMgbm90IGFscmVhZHkgaW4gcXVldWVcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJZHMgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgICBjb25zdCB0b0FkZCA9IGN1cnJlbnRCYWRnZUlkcy5maWx0ZXIoaWQgPT4gIWV4aXN0aW5nSWRzLmhhcyhpZCkpO1xuICAgICAgICByZXR1cm4gWy4uLnByZXYsIC4uLnRvQWRkXTtcbiAgICAgIH0pO1xuICAgICAgcHJldmlvdXNCYWRnZXNSZWYuY3VycmVudCA9IGN1cnJlbnRCYWRnZUlkcztcbiAgICB9XG4gIH0sIFtuZXdseVVubG9ja2VkQmFkZ2VzXSk7XG5cbiAgLy8gSGFuZGxlIGRpc21pc3NpbmcgYSBiYWRnZSB0b2FzdFxuICBjb25zdCBoYW5kbGVCYWRnZVRvYXN0Q2xvc2UgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKGJhZGdlVG9hc3RRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBkaXNtaXNzZWRCYWRnZUlkID0gYmFkZ2VUb2FzdFF1ZXVlWzBdO1xuICAgICAgYXdhaXQgbWFya0JhZGdlQXNTZWVuKGRpc21pc3NlZEJhZGdlSWQpO1xuICAgICAgc2V0QmFkZ2VUb2FzdFF1ZXVlKHByZXYgPT4gcHJldi5zbGljZSgxKSk7XG4gICAgfVxuICB9LCBbYmFkZ2VUb2FzdFF1ZXVlLCBtYXJrQmFkZ2VBc1NlZW5dKTtcblxuICAvLyBHZXQgdGhlIGN1cnJlbnQgYmFkZ2UgdG8gc2hvd1xuICBjb25zdCBjdXJyZW50QmFkZ2VUb1Nob3cgPSBuZXdseVVubG9ja2VkQmFkZ2VzLmZpbmQoYiA9PiBiLmlkID09PSBiYWRnZVRvYXN0UXVldWVbMF0pO1xuXG4gIC8vIFVzZSBzZXNzaW9uIG1hbmFnZXIgaG9va1xuICBjb25zdCB7IHNhdmVOZXdTZXNzaW9uIH0gPSB1c2VTZXNzaW9uTWFuYWdlcih7XG4gICAgdXNlcixcbiAgICBhdXRoTG9hZGluZyxcbiAgICB1c2VyVGllcixcbiAgICBzZXRTZXNzaW9ucyxcbiAgICBzZXRTZXNzaW9uc0xvYWRpbmcsXG4gICAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zLFxuICAgIHVwZGF0ZVN0cmVhayxcbiAgICBhZGRYUCxcbiAgICBjaGVja0FuZFVubG9ja0JhZGdlcyxcbiAgICBjdXJyZW50U3RyZWFrLFxuICB9KTtcblxuICAvLyBVc2UgYXV0aCBjYWxsYmFjayBob29rXG4gIHVzZUF1dGhDYWxsYmFjayh7IHNldFZpZXcgfSk7XG5cbiAgLy8gVXNlIFN0cmlwZSBjYWxsYmFjayBob29rXG4gIHVzZVN0cmlwZUNhbGxiYWNrKHtcbiAgICB1c2VyLFxuICAgIGF1dGhMb2FkaW5nLFxuICAgIHNldFVzZXJUaWVyLFxuICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyxcbiAgICBzZXRWaWV3LFxuICB9KTtcblxuICAvLyBVc2UgYXBwIHJvdXRlciBob29rXG4gIHVzZUFwcFJvdXRlcih7IHVzZXIsIGF1dGhMb2FkaW5nLCB2aWV3LCBzZXRWaWV3IH0pO1xuXG4gIC8vIExvYWQgb25ib2FyZGluZyBzdGF0ZSAtIEZJWEVEOiBPbmx5IHJ1biBvbmNlIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25ib2FyZGluZ0NvbXBsZXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21pLWNvYWNoLW9uYm9hcmRpbmctY29tcGxldGUnKTtcbiAgICBzZXRTaG93T25ib2FyZGluZyhvbmJvYXJkaW5nQ29tcGxldGUgIT09ICd0cnVlJyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7IC8vIEVtcHR5IGRlcHMgLSBvbmx5IHJ1biBvbmNlIG9uIG1vdW50XG5cbiAgY29uc3QgaGFuZGxlT25ib2FyZGluZ0ZpbmlzaCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWktY29hY2gtb25ib2FyZGluZy1jb21wbGV0ZScsICd0cnVlJyk7XG4gICAgc2V0U2hvd09uYm9hcmRpbmcoZmFsc2UpO1xuICAgIC8vIEFmdGVyIG9uYm9hcmRpbmcsIGdvIHRvIERhc2hib2FyZCAoYW5vbnltb3VzIHVzZXJzIGNhbiBhY2Nlc3MgaXQpXG4gICAgc2V0VmlldyhWaWV3LkRhc2hib2FyZCk7XG4gIH0sIFtzZXRTaG93T25ib2FyZGluZywgc2V0Vmlld10pO1xuXG4gIGNvbnN0IGhhbmRsZVN0YXJ0UHJhY3RpY2UgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgLy8gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiB0byBzdGFydCBwcmFjdGljZVxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5sb2coJ1tBcHBdIFVzZXIgbm90IGF1dGhlbnRpY2F0ZWQsIHJlZGlyZWN0aW5nIHRvIGxvZ2luJyk7XG4gICAgICBzZXRWaWV3KFZpZXcuTG9naW4pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEd1YXJkOiB3YWl0IHVudGlsIHVzZXJUaWVyIGlzIGxvYWRlZCBhbmQgdmVyaWZpY2F0aW9uIGlzIGNvbXBsZXRlXG4gICAgaWYgKCF1c2VyVGllciB8fCB1c2VyVGllciA9PT0gJycgfHwgaXNUaWVyVmVyaWZ5aW5nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tBcHBdIFVzZXIgdGllciBub3QgeWV0IGxvYWRlZCBvciBzdGlsbCB2ZXJpZnlpbmcsIHdhaXRpbmcuLi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGNhbiBzdGFydCBhIG5ldyBzZXNzaW9uXG4gICAgY29uc3QgY2FuU3RhcnQgPSBhd2FpdCBjYW5TdGFydFNlc3Npb24odXNlci5pZCwgdXNlclRpZXIpO1xuICAgIGlmICghY2FuU3RhcnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQXBwXSBVc2VyIGNhbm5vdCBzdGFydCBzZXNzaW9uIChsaW1pdCByZWFjaGVkKSwgc2hvd2luZyBwYXl3YWxsJyk7XG4gICAgICBzZXRWaWV3KFZpZXcuUGF5d2FsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHVzZXJUaWVyID09PSBVc2VyVGllci5QcmVtaXVtKSB7XG4gICAgICBzZXRWaWV3KFZpZXcuU2NlbmFyaW9TZWxlY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYXRpZW50ID0gZ2VuZXJhdGVQYXRpZW50UHJvZmlsZSgpO1xuICAgICAgc2V0Q3VycmVudFBhdGllbnQocGF0aWVudCk7XG4gICAgICBzZXRWaWV3KFZpZXcuUHJhY3RpY2UpO1xuICAgIH1cbiAgfSwgW3VzZXIsIHVzZXJUaWVyLCBpc1RpZXJWZXJpZnlpbmcsIHNldFZpZXcsIHNldEN1cnJlbnRQYXRpZW50XSk7XG4gIFxuICBjb25zdCBoYW5kbGVTdGFydEZpbHRlcmVkUHJhY3RpY2UgPSB1c2VDYWxsYmFjaygoZmlsdGVyczogUGF0aWVudFByb2ZpbGVGaWx0ZXJzKSA9PiB7XG4gICAgLy8gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiB0byBzdGFydCBwcmFjdGljZVxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5sb2coJ1tBcHBdIFVzZXIgbm90IGF1dGhlbnRpY2F0ZWQsIHJlZGlyZWN0aW5nIHRvIGxvZ2luJyk7XG4gICAgICBzZXRWaWV3KFZpZXcuTG9naW4pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhdGllbnQgPSBnZW5lcmF0ZVBhdGllbnRQcm9maWxlKGZpbHRlcnMpO1xuICAgIHNldEN1cnJlbnRQYXRpZW50KHBhdGllbnQpO1xuICAgIHNldFZpZXcoVmlldy5QcmFjdGljZSk7XG4gIH0sIFt1c2VyLCBzZXRDdXJyZW50UGF0aWVudCwgc2V0Vmlld10pO1xuXG4gIC8vIFNhdmUgdGhlIG5ldyBzZXNzaW9uIHdoZW4gcHJhY3RpY2UgaXMgZmluaXNoZWRcbiAgY29uc3QgaGFuZGxlRmluaXNoUHJhY3RpY2UgPSB1c2VDYWxsYmFjayhhc3luYyAodHJhbnNjcmlwdDogQ2hhdE1lc3NhZ2VbXSwgZmVlZGJhY2s6IEZlZWRiYWNrKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50UGF0aWVudCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIltBcHBdIENhbm5vdCBzYXZlIHNlc3Npb246IG1pc3NpbmcgcGF0aWVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdTZXNzaW9uID0gYXdhaXQgc2F2ZU5ld1Nlc3Npb24odHJhbnNjcmlwdCwgZmVlZGJhY2ssIGN1cnJlbnRQYXRpZW50LCBzZXNzaW9ucywgdXNlclRpZXIpO1xuICAgIFxuICAgIHNldEN1cnJlbnRTZXNzaW9uKG5ld1Nlc3Npb24pO1xuICAgIHNldENvYWNoaW5nU3VtbWFyeShudWxsKTsgLy8gSW52YWxpZGF0ZSBvbGQgc3VtbWFyeVxuICAgIHNldENvYWNoaW5nU3VtbWFyeUVycm9yKG51bGwpO1xuICAgIHNldFZpZXcoVmlldy5GZWVkYmFjayk7XG4gIH0sIFtjdXJyZW50UGF0aWVudCwgc2Vzc2lvbnMsIHVzZXJUaWVyLCBzYXZlTmV3U2Vzc2lvbiwgc2V0Q3VycmVudFNlc3Npb24sIHNldENvYWNoaW5nU3VtbWFyeSwgc2V0Q29hY2hpbmdTdW1tYXJ5RXJyb3IsIHNldFZpZXddKTtcbiAgXG4gIGNvbnN0IGhhbmRsZURvbmVGcm9tRmVlZGJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbkNvdW50ID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21pLWNvYWNoLXNlc3Npb24tY291bnQnKSB8fCAnMCcsIDEwKTtcbiAgICBjb25zdCByZXZpZXdEaXNtaXNzZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWktY29hY2gtcmV2aWV3LWRpc21pc3NlZCcpID09PSAndHJ1ZSc7XG4gICAgY29uc3QgcmVtaW5kQWZ0ZXJDb3VudCA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaS1jb2FjaC1yZXZpZXctcmVtaW5kLWFmdGVyJykgfHwgJzAnLCAxMCk7XG5cbiAgICBpZiAoIXJldmlld0Rpc21pc3NlZCAmJiBzZXNzaW9uQ291bnQgPj0gMyAmJiBzZXNzaW9uQ291bnQgPj0gcmVtaW5kQWZ0ZXJDb3VudCkge1xuICAgICAgICBzZXRTaG93UmV2aWV3UHJvbXB0KHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFZpZXcoVmlldy5EYXNoYm9hcmQpO1xuICAgIH1cbiAgfSwgW3NldFNob3dSZXZpZXdQcm9tcHQsIHNldFZpZXddKTtcbiAgXG4gIGNvbnN0IGhhbmRsZVJldmlld1Byb21wdENsb3NlID0gdXNlQ2FsbGJhY2soKGNob2ljZTogJ3JhdGUnIHwgJ2xhdGVyJyB8ICdubycpID0+IHtcbiAgICBzZXRTaG93UmV2aWV3UHJvbXB0KGZhbHNlKTtcbiAgICBcbiAgICBpZiAoY2hvaWNlID09PSAncmF0ZScgfHwgY2hvaWNlID09PSAnbm8nKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaS1jb2FjaC1yZXZpZXctZGlzbWlzc2VkJywgJ3RydWUnKTtcbiAgICAgICAgaWYgKGNob2ljZSA9PT0gJ3JhdGUnKSB7XG4gICAgICAgICAgICAgLy8gSW4gYSByZWFsIGFwcCwgeW91J2QgbGluayB0byB0aGUgc3RvcmUuXG4gICAgICAgICAgICAgYWxlcnQoXCJUaGFuayB5b3UgZm9yIHlvdXIgZmVlZGJhY2shIFlvdSB3aWxsIG5vdyBiZSByZWRpcmVjdGVkIHRvIHRoZSBhcHAgc3RvcmUuXCIpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChjaG9pY2UgPT09ICdsYXRlcicpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkNvdW50ID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21pLWNvYWNoLXNlc3Npb24tY291bnQnKSB8fCAnMCcsIDEwKTtcbiAgICAgICAgLy8gUmVtaW5kIGFnYWluIGFmdGVyIDMgbW9yZSBzZXNzaW9uc1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWktY29hY2gtcmV2aWV3LXJlbWluZC1hZnRlcicsIChzZXNzaW9uQ291bnQgKyAzKS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgXG4gICAgc2V0VmlldyhWaWV3LkRhc2hib2FyZCk7XG4gIH0sIFtzZXRTaG93UmV2aWV3UHJvbXB0LCBzZXRWaWV3XSk7XG5cbiAgY29uc3QgZ2VuZXJhdGVDb2FjaGluZ1N1bW1hcnlGcm9tRWRnZUZ1bmN0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlc3Npb25zOiBTZXNzaW9uW10pOiBQcm9taXNlPENvYWNoaW5nU3VtbWFyeT4gPT4ge1xuICAgIC8vIEdldCBTdXBhYmFzZSBVUkwgYW5kIGNvbnN0cnVjdCBFZGdlIEZ1bmN0aW9uIFVSTFxuICAgIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuICAgIGlmICghc3VwYWJhc2VVcmwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgVVJMIG5vdCBjb25maWd1cmVkJyk7XG4gICAgfVxuXG4gICAgLy8gVXNlIGR1YWwtcnVuIHdyYXBwZXIgZm9yIFN0cmFuZ2xlciBGaWcgbWlncmF0aW9uIHRyYWNraW5nXG4gICAgLy8gQ2FsbHMgYm90aCBsZWdhY3kgYW5kIHYyIGZ1bmN0aW9ucywgY29tcGFyZXMgb3V0cHV0cywgdHJhY2tzIG1hdGNoZXNcbiAgICBjb25zdCBmdW5jdGlvbnNVcmwgPSBgJHtzdXBhYmFzZVVybH0vZnVuY3Rpb25zL3YxL2R1YWwtcnVuLWNvYWNoaW5nLXN1bW1hcnlgO1xuXG4gICAgLy8gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiAtIGdldCBKV1QgdG9rZW4gZnJvbSBzZXNzaW9uXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgIGxldCBhdXRoVG9rZW46IHN0cmluZztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgZXJyb3I6IHNlc3Npb25FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICBcbiAgICAgIGlmIChzZXNzaW9uRXJyb3IgfHwgIXNlc3Npb24gfHwgIXNlc3Npb24uYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBzZXNzaW9uIGhhcyBleHBpcmVkLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBhbmQgbG9nIGluIGFnYWluLicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhdXRoVG9rZW4gPSBzZXNzaW9uLmFjY2Vzc190b2tlbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FwcF0gRmFpbGVkIHRvIGdldCBhdXRoIHRva2VuOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZS4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIHJlcXVlc3Qgd2l0aCByZXF1aXJlZCBBdXRob3JpemF0aW9uIGhlYWRlclxuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXV0aFRva2VufWAsXG4gICAgfTtcblxuICAgIC8vIE1ha2UgcmVxdWVzdCB0byBFZGdlIEZ1bmN0aW9uXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChmdW5jdGlvbnNVcmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2Vzc2lvbnMgfSksXG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgZXJyb3JzXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGVycm9yOiAnVW5rbm93biBlcnJvcicgfSkpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGBGYWlsZWQgdG8gZ2VuZXJhdGUgY29hY2hpbmcgc3VtbWFyeSAoJHtyZXNwb25zZS5zdGF0dXN9KWA7XG5cbiAgICAgIC8vIE1hcCBIVFRQIHN0YXR1cyBjb2RlcyB0byB1c2VyLWZyaWVuZGx5IG1lc3NhZ2VzXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIHNlc3Npb24gaGFzIGV4cGlyZWQuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGFuZCBsb2cgaW4gYWdhaW4uJyk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQUkgc2VydmljZSBpcyBidXN5LiBQbGVhc2UgdHJ5IGFnYWluIGluIGEgbW9tZW50LicpO1xuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDUwNCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvYWNoaW5nIHN1bW1hcnkgZ2VuZXJhdGlvbiB0aW1lZCBvdXQuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQUkgc2VydmljZSBlcnJvci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBhcnNlIGFuZCByZXR1cm4gcmVzcG9uc2VcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhIGFzIENvYWNoaW5nU3VtbWFyeTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoY29hY2hpbmdTdW1tYXJ5ICYmICFpc0dlbmVyYXRpbmdTdW1tYXJ5KSB7XG4gICAgICAgICAgICBzZXRWaWV3KFZpZXcuQ29hY2hpbmdTdW1tYXJ5KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VyVGllciAhPT0gVXNlclRpZXIuUHJlbWl1bSkge1xuICAgICAgICAgICAgc2V0VmlldyhWaWV3LlBheXdhbGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRDb2FjaGluZ1N1bW1hcnlFcnJvcihudWxsKTtcbiAgICAgICAgc2V0SXNHZW5lcmF0aW5nU3VtbWFyeSh0cnVlKTtcbiAgICAgICAgc2V0VmlldyhWaWV3LkNvYWNoaW5nU3VtbWFyeSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHByZW1pdW1TZXNzaW9ucyA9IHNlc3Npb25zLmZpbHRlcihzID0+IHMudGllciA9PT0gVXNlclRpZXIuUHJlbWl1bSk7XG4gICAgICAgICAgICBpZiAocHJlbWl1bVNlc3Npb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICBzZXRDb2FjaGluZ1N1bW1hcnlFcnJvcihcIllvdSBuZWVkIHRvIGNvbXBsZXRlIGF0IGxlYXN0IG9uZSBQcmVtaXVtIHNlc3Npb24gdG8gZ2VuZXJhdGUgYSBzdW1tYXJ5LlwiKTtcbiAgICAgICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nU3VtbWFyeShmYWxzZSk7XG4gICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlcG9ydE9iamVjdCA9IGF3YWl0IGdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5RnJvbUVkZ2VGdW5jdGlvbihwcmVtaXVtU2Vzc2lvbnMpO1xuICAgICAgICAgICAgc2V0Q29hY2hpbmdTdW1tYXJ5KHJlcG9ydE9iamVjdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNvYWNoaW5nIHN1bW1hcnk6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJTb3JyeSwgd2UgY291bGRuJ3QgZ2VuZXJhdGUgeW91ciBzdW1tYXJ5IGF0IHRoaXMgdGltZS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIjtcbiAgICAgICAgICAgIHNldENvYWNoaW5nU3VtbWFyeUVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmdTdW1tYXJ5KGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjb2FjaGluZ1N1bW1hcnksIGlzR2VuZXJhdGluZ1N1bW1hcnksIHVzZXJUaWVyLCBzZXNzaW9ucywgc2V0Vmlldywgc2V0Q29hY2hpbmdTdW1tYXJ5RXJyb3IsIHNldElzR2VuZXJhdGluZ1N1bW1hcnksIHNldENvYWNoaW5nU3VtbWFyeSwgZ2VuZXJhdGVDb2FjaGluZ1N1bW1hcnlGcm9tRWRnZUZ1bmN0aW9uXSk7XG5cbiAgY29uc3QgaGFuZGxlTmF2aWdhdGUgPSB1c2VDYWxsYmFjaygodGFyZ2V0VmlldzogVmlldykgPT4gc2V0Vmlldyh0YXJnZXRWaWV3KSwgW3NldFZpZXddKTtcbiAgXG4gIGNvbnN0IGhhbmRsZUVtYWlsQ29uZmlybWF0aW9uID0gdXNlQ2FsbGJhY2soKGVtYWlsOiBzdHJpbmcpID0+IHtcbiAgICBzZXRDb25maXJtYXRpb25FbWFpbChlbWFpbCk7XG4gICAgc2V0VmlldyhWaWV3LkVtYWlsQ29uZmlybWF0aW9uKTtcbiAgfSwgW3NldENvbmZpcm1hdGlvbkVtYWlsLCBzZXRWaWV3XSk7XG5cbiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChsb2dnaW5nT3V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TG9nZ2luZ091dCh0cnVlKTtcbiAgICBcbiAgICAvLyBSZXNldCBhcHAgc3RhdGVcbiAgICBzZXRVc2VyVGllcihVc2VyVGllci5GcmVlKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbWktY29hY2gtdGllcicpO1xuICAgIHNldFNlc3Npb25zKFtdKTtcbiAgICBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMobnVsbCk7XG4gICAgc2V0VmlldyhWaWV3LkxvZ2luKTtcblxuICAgIGxldCBsb2dvdXRFcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2lnbk91dCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnIgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoJ0xvZ291dCBmYWlsZWQnKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBcHBdIExvZ291dCBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIGxvZ291dEVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2dnaW5nT3V0KGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAobG9nb3V0RXJyb3IpIHtcbiAgICAgIHRocm93IGxvZ291dEVycm9yO1xuICAgIH1cbiAgfSwgW2xvZ2dpbmdPdXQsIHNldExvZ2dpbmdPdXQsIHNldFVzZXJUaWVyLCBzZXRTZXNzaW9ucywgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zLCBzZXRWaWV3LCBzaWduT3V0XSk7XG5cbiAgLy8gU2F2ZSB0aGUgbmV3IHVzZXIgdGllciB0byBsb2NhbFN0b3JhZ2UgYW5kIFN1cGFiYXNlIHVwb24gdXBncmFkZS5cbiAgY29uc3QgaGFuZGxlVXBncmFkZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBcHBdIENhbm5vdCB1cGdyYWRlOiB1c2VyIG5vdCBhdXRoZW50aWNhdGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5ld1RpZXIgPSBVc2VyVGllci5QcmVtaXVtO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgaW4gU3VwYWJhc2VcbiAgICAgIGNvbnNvbGUubG9nKCdbQXBwXSBVcGdyYWRpbmcgdXNlciB0aWVyIHRvIFByZW1pdW0nKTtcbiAgICAgIC8vIE5vdGU6IHVwZGF0ZVVzZXJUaWVyIGlzIGNhbGxlZCBpbnRlcm5hbGx5IGJ5IHRoZSBwYXltZW50IHByb2Nlc3NvclxuICAgICAgLy8gRm9yIG5vdywganVzdCB1cGRhdGUgbG9jYWxseSBhbmQgaW4gbG9jYWxTdG9yYWdlXG4gICAgICBzZXRVc2VyVGllcihuZXdUaWVyKTtcbiAgICAgIFxuICAgICAgLy8gUmVsb2FkIHRpZXIgZnJvbSBTdXBhYmFzZSB0byBjb25maXJtXG4gICAgICBjb25zdCB1cGRhdGVkVGllciA9IGF3YWl0IHJlZnJlc2hUaWVyKCk7XG4gICAgICBpZiAodXBkYXRlZFRpZXIpIHtcbiAgICAgICAgc2V0VXNlclRpZXIodXBkYXRlZFRpZXIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRWaWV3KFZpZXcuRGFzaGJvYXJkKTsgLy8gR28gYmFjayB0byBkYXNoYm9hcmQgYWZ0ZXIgdXBncmFkaW5nXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBcHBdIEZhaWxlZCB0byB1cGdyYWRlIHRpZXI6JywgZXJyb3IpO1xuICAgICAgLy8gU3RpbGwgbmF2aWdhdGUgdG8gZGFzaGJvYXJkIGV2ZW4gaWYgcmVmcmVzaCBmYWlsc1xuICAgICAgc2V0VmlldyhWaWV3LkRhc2hib2FyZCk7XG4gICAgfVxuICB9LCBbdXNlciwgc2V0VXNlclRpZXIsIHJlZnJlc2hUaWVyLCBzZXRWaWV3XSk7XG5cbiAgY29uc3QgaGFuZGxlVGllclVwZGF0ZWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgLy8gUmVsb2FkIHRpZXIgZnJvbSBTdXBhYmFzZSBhZnRlciBzdWJzY3JpcHRpb24gY2hhbmdlXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRUaWVyID0gYXdhaXQgcmVmcmVzaFRpZXIoKTtcbiAgICAgIGlmICh1cGRhdGVkVGllcikge1xuICAgICAgICBzZXRVc2VyVGllcih1cGRhdGVkVGllcik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbdXNlciwgcmVmcmVzaFRpZXIsIHNldFVzZXJUaWVyXSk7XG4gIFxuICAvLyBTaG93IGxvYWRpbmcgc3RhdGUgd2hpbGUgYXV0aCBpcyBpbml0aWFsaXppbmdcbiAgaWYgKGF1dGhMb2FkaW5nIHx8IHNob3dPbmJvYXJkaW5nID09PSBudWxsKSB7XG4gICAgcmV0dXJuIDxQYWdlTG9hZGVyIG1lc3NhZ2U9XCJJbml0aWFsaXppbmcuLi5cIiAvPjtcbiAgfVxuXG4gIC8vIFNob3cgb25ib2FyZGluZyBpZiBub3QgY29tcGxldGVkXG4gIGlmIChzaG93T25ib2FyZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxQYWdlTG9hZGVyIG1lc3NhZ2U9XCJMb2FkaW5nIG9uYm9hcmRpbmcuLi5cIiAvPn0+XG4gICAgICAgIDxPbmJvYXJkaW5nIG9uRmluaXNoPXtoYW5kbGVPbmJvYXJkaW5nRmluaXNofSAvPlxuICAgICAgPC9TdXNwZW5zZT5cbiAgICApO1xuICB9XG5cbiAgLy8gU2hvdyBsb2dpbi9hdXRoIHNjcmVlbnMgd2hlbiBvbiB0aG9zZSB2aWV3cyAoYWxsb3cgYW5vbnltb3VzIGFjY2VzcyB0byBvdGhlciB2aWV3cylcbiAgY29uc3QgaXNBdXRoVmlldyA9IHZpZXcgPT09IFZpZXcuTG9naW4gfHwgdmlldyA9PT0gVmlldy5Gb3Jnb3RQYXNzd29yZCB8fCB2aWV3ID09PSBWaWV3LkVtYWlsQ29uZmlybWF0aW9uIHx8IHZpZXcgPT09IFZpZXcuUmVzZXRQYXNzd29yZDtcbiAgY29uc3Qgc2hvdWxkUmVuZGVyQXV0aFZpZXdzID0gIXVzZXIgJiYgIWF1dGhMb2FkaW5nICYmIGlzQXV0aFZpZXc7XG5cbiAgY29uc3Qgdmlld3NXaXRoTmF2QmFyID0gW1ZpZXcuRGFzaGJvYXJkLCBWaWV3LlJlc291cmNlTGlicmFyeSwgVmlldy5TZXR0aW5ncywgVmlldy5DYWxlbmRhcl07XG4gIGNvbnN0IGlzUHJlbWl1bUZlZWRiYWNrID0gdmlldyA9PT0gVmlldy5GZWVkYmFjayAmJiB1c2VyVGllciA9PT0gVXNlclRpZXIuUHJlbWl1bTtcbiAgY29uc3Qgc2hvdWxkU2hvd05hdkJhciA9IHZpZXdzV2l0aE5hdkJhci5pbmNsdWRlcyh2aWV3KSB8fCBpc1ByZW1pdW1GZWVkYmFjaztcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXRyYW5zcGFyZW50IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCIgaWQ9XCJtYWluLWNvbnRlbnRcIj5cbiAgICAgIHtzaG91bGRTaG93TmF2QmFyID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiIHN0eWxlPXt7IGhlaWdodDogJzEwMHZoJyB9fT5cbiAgICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwYi0yMFwiIHJvbGU9XCJtYWluXCIgYXJpYS1sYWJlbD1cIk1haW4gY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgPFZpZXdSZW5kZXJlclxuICAgICAgICAgICAgICAgICAgICB2aWV3PXt2aWV3fVxuICAgICAgICAgICAgICAgICAgICB1c2VyVGllcj17dXNlclRpZXJ9XG4gICAgICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25zPXtzZXNzaW9uc31cbiAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nRnJlZVNlc3Npb25zPXtyZW1haW5pbmdGcmVlU2Vzc2lvbnN9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRpZW50PXtjdXJyZW50UGF0aWVudH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlc3Npb249e2N1cnJlbnRTZXNzaW9ufVxuICAgICAgICAgICAgICAgICAgICBjb2FjaGluZ1N1bW1hcnk9e2NvYWNoaW5nU3VtbWFyeX1cbiAgICAgICAgICAgICAgICAgICAgY29hY2hpbmdTdW1tYXJ5RXJyb3I9e2NvYWNoaW5nU3VtbWFyeUVycm9yfVxuICAgICAgICAgICAgICAgICAgICBpc0dlbmVyYXRpbmdTdW1tYXJ5PXtpc0dlbmVyYXRpbmdTdW1tYXJ5fVxuICAgICAgICAgICAgICAgICAgICBjb25maXJtYXRpb25FbWFpbD17Y29uZmlybWF0aW9uRW1haWx9XG4gICAgICAgICAgICAgICAgICAgIGlzUHJlbWl1bVZlcmlmaWVkPXtpc1ByZW1pdW1WZXJpZmllZH1cbiAgICAgICAgICAgICAgICAgICAgaXNUaWVyVmVyaWZ5aW5nPXtpc1RpZXJWZXJpZnlpbmd9XG4gICAgICAgICAgICAgICAgICAgIG9uTmF2aWdhdGU9e2hhbmRsZU5hdmlnYXRlfVxuICAgICAgICAgICAgICAgICAgICBvblN0YXJ0UHJhY3RpY2U9e2hhbmRsZVN0YXJ0UHJhY3RpY2V9XG4gICAgICAgICAgICAgICAgICAgIG9uU3RhcnRGaWx0ZXJlZFByYWN0aWNlPXtoYW5kbGVTdGFydEZpbHRlcmVkUHJhY3RpY2V9XG4gICAgICAgICAgICAgICAgICAgIG9uRmluaXNoUHJhY3RpY2U9e2hhbmRsZUZpbmlzaFByYWN0aWNlfVxuICAgICAgICAgICAgICAgICAgICBvbkRvbmVGcm9tRmVlZGJhY2s9e2hhbmRsZURvbmVGcm9tRmVlZGJhY2t9XG4gICAgICAgICAgICAgICAgICAgIG9uVXBncmFkZT17aGFuZGxlVXBncmFkZX1cbiAgICAgICAgICAgICAgICAgICAgb25Mb2dvdXQ9e2hhbmRsZUxvZ291dH1cbiAgICAgICAgICAgICAgICAgICAgb25HZW5lcmF0ZUNvYWNoaW5nU3VtbWFyeT17aGFuZGxlR2VuZXJhdGVDb2FjaGluZ1N1bW1hcnl9XG4gICAgICAgICAgICAgICAgICAgIG9uRW1haWxDb25maXJtYXRpb249e2hhbmRsZUVtYWlsQ29uZmlybWF0aW9ufVxuICAgICAgICAgICAgICAgICAgICBvblRpZXJVcGRhdGVkPXtoYW5kbGVUaWVyVXBkYXRlZH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgICAgICAgPEJvdHRvbU5hdkJhciBjdXJyZW50Vmlldz17dmlld30gb25OYXZpZ2F0ZT17aGFuZGxlTmF2aWdhdGV9IHVzZXJUaWVyPXt1c2VyVGllcn0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgICAgLy8gVmlld3Mgd2l0aG91dCB0aGUgbWFpbiBuYXYgYmFyIChlLmcuLCBwcmFjdGljZSwgZmVlZGJhY2ssIHBheXdhbGwpXG4gICAgICAgICAgLy8gVGhlc2UgY29tcG9uZW50cyBtYW5hZ2UgdGhlaXIgb3duIGZ1bGwtc2NyZWVuIGxheW91dC5cbiAgICAgICAgICA8Vmlld1JlbmRlcmVyXG4gICAgICAgICAgICB2aWV3PXt2aWV3fVxuICAgICAgICAgICAgdXNlclRpZXI9e3VzZXJUaWVyfVxuICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgIHNlc3Npb25zPXtzZXNzaW9uc31cbiAgICAgICAgICAgIHJlbWFpbmluZ0ZyZWVTZXNzaW9ucz17cmVtYWluaW5nRnJlZVNlc3Npb25zfVxuICAgICAgICAgICAgY3VycmVudFBhdGllbnQ9e2N1cnJlbnRQYXRpZW50fVxuICAgICAgICAgICAgY3VycmVudFNlc3Npb249e2N1cnJlbnRTZXNzaW9ufVxuICAgICAgICAgICAgY29hY2hpbmdTdW1tYXJ5PXtjb2FjaGluZ1N1bW1hcnl9XG4gICAgICAgICAgICBjb2FjaGluZ1N1bW1hcnlFcnJvcj17Y29hY2hpbmdTdW1tYXJ5RXJyb3J9XG4gICAgICAgICAgICBpc0dlbmVyYXRpbmdTdW1tYXJ5PXtpc0dlbmVyYXRpbmdTdW1tYXJ5fVxuICAgICAgICAgICAgY29uZmlybWF0aW9uRW1haWw9e2NvbmZpcm1hdGlvbkVtYWlsfVxuICAgICAgICAgICAgaXNQcmVtaXVtVmVyaWZpZWQ9e2lzUHJlbWl1bVZlcmlmaWVkfVxuICAgICAgICAgICAgaXNUaWVyVmVyaWZ5aW5nPXtpc1RpZXJWZXJpZnlpbmd9XG4gICAgICAgICAgICBvbk5hdmlnYXRlPXtoYW5kbGVOYXZpZ2F0ZX1cbiAgICAgICAgICAgIG9uU3RhcnRQcmFjdGljZT17aGFuZGxlU3RhcnRQcmFjdGljZX1cbiAgICAgICAgICAgIG9uU3RhcnRGaWx0ZXJlZFByYWN0aWNlPXtoYW5kbGVTdGFydEZpbHRlcmVkUHJhY3RpY2V9XG4gICAgICAgICAgICBvbkZpbmlzaFByYWN0aWNlPXtoYW5kbGVGaW5pc2hQcmFjdGljZX1cbiAgICAgICAgICAgIG9uRG9uZUZyb21GZWVkYmFjaz17aGFuZGxlRG9uZUZyb21GZWVkYmFja31cbiAgICAgICAgICAgIG9uVXBncmFkZT17aGFuZGxlVXBncmFkZX1cbiAgICAgICAgICAgIG9uTG9nb3V0PXtoYW5kbGVMb2dvdXR9XG4gICAgICAgICAgICBvbkdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5PXtoYW5kbGVHZW5lcmF0ZUNvYWNoaW5nU3VtbWFyeX1cbiAgICAgICAgICAgIG9uRW1haWxDb25maXJtYXRpb249e2hhbmRsZUVtYWlsQ29uZmlybWF0aW9ufVxuICAgICAgICAgICAgb25UaWVyVXBkYXRlZD17aGFuZGxlVGllclVwZGF0ZWR9XG4gICAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7c2hvd1Jldmlld1Byb21wdCAmJiAoXG4gICAgICAgICAgPFJldmlld1Byb21wdCBvbkNsb3NlPXtoYW5kbGVSZXZpZXdQcm9tcHRDbG9zZX0gLz5cbiAgICAgICl9XG4gICAgICB7LyogQmFkZ2UgdW5sb2NrIGNlbGVicmF0aW9uIHRvYXN0ICovfVxuICAgICAge2N1cnJlbnRCYWRnZVRvU2hvdyAmJiAoXG4gICAgICAgICAgPEJhZGdlVW5sb2NrVG9hc3RcbiAgICAgICAgICAgIGJhZGdlPXtjdXJyZW50QmFkZ2VUb1Nob3d9XG4gICAgICAgICAgICBvbkNsb3NlPXtoYW5kbGVCYWRnZVRvYXN0Q2xvc2V9XG4gICAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7LyogQXJpYSBsaXZlIHJlZ2lvbiBmb3IgYXN5bmMgZmVlZGJhY2sgKi99XG4gICAgICA8ZGl2IGlkPVwiYXJpYS1saXZlLXJlZ2lvblwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiIGFyaWEtYXRvbWljPVwidHJ1ZVwiIGNsYXNzTmFtZT1cInNyLW9ubHlcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJTdXNwZW5zZSIsImxhenkiLCJVc2VyVGllciIsIlZpZXciLCJnZW5lcmF0ZVBhdGllbnRQcm9maWxlIiwiY2FuU3RhcnRTZXNzaW9uIiwidXNlQXV0aCIsImdldFN1cGFiYXNlQ2xpZW50IiwiUGFnZUxvYWRlciIsIkJvdHRvbU5hdkJhciIsIlJldmlld1Byb21wdCIsIlZpZXdSZW5kZXJlciIsIk9uYm9hcmRpbmciLCJCYWRnZVVubG9ja1RvYXN0IiwidXNlQXBwU3RhdGUiLCJ1c2VUaWVyTWFuYWdlciIsInVzZVNlc3Npb25NYW5hZ2VyIiwidXNlU3RyZWFrIiwidXNlWFAiLCJ1c2VCYWRnZXMiLCJ1c2VBdXRoQ2FsbGJhY2siLCJ1c2VTdHJpcGVDYWxsYmFjayIsInVzZUFwcFJvdXRlciIsInVzZU9ubGluZVN5bmMiLCJBcHBQYWdlIiwidXNlciIsImxvYWRpbmciLCJhdXRoTG9hZGluZyIsInNpZ25PdXQiLCJhcHBTdGF0ZSIsInZpZXciLCJzZXRWaWV3Iiwic2Vzc2lvbnMiLCJzZXRTZXNzaW9ucyIsInNlc3Npb25zTG9hZGluZyIsInNldFNlc3Npb25zTG9hZGluZyIsInJlbWFpbmluZ0ZyZWVTZXNzaW9ucyIsInNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyIsImN1cnJlbnRQYXRpZW50Iiwic2V0Q3VycmVudFBhdGllbnQiLCJjdXJyZW50U2Vzc2lvbiIsInNldEN1cnJlbnRTZXNzaW9uIiwic2hvd09uYm9hcmRpbmciLCJzZXRTaG93T25ib2FyZGluZyIsImNvYWNoaW5nU3VtbWFyeSIsInNldENvYWNoaW5nU3VtbWFyeSIsImNvYWNoaW5nU3VtbWFyeUVycm9yIiwic2V0Q29hY2hpbmdTdW1tYXJ5RXJyb3IiLCJpc0dlbmVyYXRpbmdTdW1tYXJ5Iiwic2V0SXNHZW5lcmF0aW5nU3VtbWFyeSIsInNob3dSZXZpZXdQcm9tcHQiLCJzZXRTaG93UmV2aWV3UHJvbXB0IiwiY29uZmlybWF0aW9uRW1haWwiLCJzZXRDb25maXJtYXRpb25FbWFpbCIsImxvZ2dpbmdPdXQiLCJzZXRMb2dnaW5nT3V0IiwidXNlclRpZXIiLCJzZXRVc2VyVGllciIsInJlZnJlc2hUaWVyIiwiaXNQcmVtaXVtVmVyaWZpZWQiLCJpc1ZlcmlmeWluZyIsImlzVGllclZlcmlmeWluZyIsImN1cnJlbnRTdHJlYWsiLCJ1cGRhdGVTdHJlYWsiLCJwcm9jZXNzUXVldWUiLCJwcm9jZXNzU3RyZWFrUXVldWUiLCJhZGRYUCIsInByb2Nlc3NYUFF1ZXVlIiwiY2hlY2tBbmRVbmxvY2tCYWRnZXMiLCJuZXdseVVubG9ja2VkQmFkZ2VzIiwibWFya0JhZGdlQXNTZWVuIiwiaXNBdXRoZW50aWNhdGVkIiwiYmFkZ2VUb2FzdFF1ZXVlIiwic2V0QmFkZ2VUb2FzdFF1ZXVlIiwicHJldmlvdXNCYWRnZXNSZWYiLCJjdXJyZW50QmFkZ2VJZHMiLCJtYXAiLCJiIiwiaWQiLCJwcmV2aW91c0JhZGdlSWRzIiwiY3VycmVudCIsImxlbmd0aCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcmV2IiwiZXhpc3RpbmdJZHMiLCJTZXQiLCJ0b0FkZCIsImZpbHRlciIsImhhcyIsImhhbmRsZUJhZGdlVG9hc3RDbG9zZSIsImRpc21pc3NlZEJhZGdlSWQiLCJzbGljZSIsImN1cnJlbnRCYWRnZVRvU2hvdyIsImZpbmQiLCJzYXZlTmV3U2Vzc2lvbiIsIm9uYm9hcmRpbmdDb21wbGV0ZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJoYW5kbGVPbmJvYXJkaW5nRmluaXNoIiwic2V0SXRlbSIsIkRhc2hib2FyZCIsImhhbmRsZVN0YXJ0UHJhY3RpY2UiLCJjb25zb2xlIiwibG9nIiwiTG9naW4iLCJ3YXJuIiwiY2FuU3RhcnQiLCJQYXl3YWxsIiwiUHJlbWl1bSIsIlNjZW5hcmlvU2VsZWN0aW9uIiwicGF0aWVudCIsIlByYWN0aWNlIiwiaGFuZGxlU3RhcnRGaWx0ZXJlZFByYWN0aWNlIiwiZmlsdGVycyIsImhhbmRsZUZpbmlzaFByYWN0aWNlIiwidHJhbnNjcmlwdCIsImZlZWRiYWNrIiwiZXJyb3IiLCJuZXdTZXNzaW9uIiwiRmVlZGJhY2siLCJoYW5kbGVEb25lRnJvbUZlZWRiYWNrIiwic2Vzc2lvbkNvdW50IiwicGFyc2VJbnQiLCJyZXZpZXdEaXNtaXNzZWQiLCJyZW1pbmRBZnRlckNvdW50IiwiaGFuZGxlUmV2aWV3UHJvbXB0Q2xvc2UiLCJjaG9pY2UiLCJhbGVydCIsInRvU3RyaW5nIiwiZ2VuZXJhdGVDb2FjaGluZ1N1bW1hcnlGcm9tRWRnZUZ1bmN0aW9uIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiRXJyb3IiLCJmdW5jdGlvbnNVcmwiLCJzdXBhYmFzZSIsImF1dGhUb2tlbiIsImRhdGEiLCJzZXNzaW9uIiwic2Vzc2lvbkVycm9yIiwiYXV0aCIsImdldFNlc3Npb24iLCJhY2Nlc3NfdG9rZW4iLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJjYXRjaCIsImVycm9yTWVzc2FnZSIsInN0YXR1cyIsImhhbmRsZUdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5IiwiQ29hY2hpbmdTdW1tYXJ5IiwicHJlbWl1bVNlc3Npb25zIiwicyIsInRpZXIiLCJyZXBvcnRPYmplY3QiLCJtZXNzYWdlIiwiaGFuZGxlTmF2aWdhdGUiLCJ0YXJnZXRWaWV3IiwiaGFuZGxlRW1haWxDb25maXJtYXRpb24iLCJlbWFpbCIsIkVtYWlsQ29uZmlybWF0aW9uIiwiaGFuZGxlTG9nb3V0IiwiRnJlZSIsInJlbW92ZUl0ZW0iLCJsb2dvdXRFcnJvciIsImVyciIsImhhbmRsZVVwZ3JhZGUiLCJuZXdUaWVyIiwidXBkYXRlZFRpZXIiLCJoYW5kbGVUaWVyVXBkYXRlZCIsImZhbGxiYWNrIiwib25GaW5pc2giLCJpc0F1dGhWaWV3IiwiRm9yZ290UGFzc3dvcmQiLCJSZXNldFBhc3N3b3JkIiwic2hvdWxkUmVuZGVyQXV0aFZpZXdzIiwidmlld3NXaXRoTmF2QmFyIiwiUmVzb3VyY2VMaWJyYXJ5IiwiU2V0dGluZ3MiLCJDYWxlbmRhciIsImlzUHJlbWl1bUZlZWRiYWNrIiwic2hvdWxkU2hvd05hdkJhciIsImluY2x1ZGVzIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJoZWlnaHQiLCJtYWluIiwicm9sZSIsImFyaWEtbGFiZWwiLCJvbk5hdmlnYXRlIiwib25TdGFydFByYWN0aWNlIiwib25TdGFydEZpbHRlcmVkUHJhY3RpY2UiLCJvbkZpbmlzaFByYWN0aWNlIiwib25Eb25lRnJvbUZlZWRiYWNrIiwib25VcGdyYWRlIiwib25Mb2dvdXQiLCJvbkdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5Iiwib25FbWFpbENvbmZpcm1hdGlvbiIsIm9uVGllclVwZGF0ZWQiLCJjdXJyZW50VmlldyIsIm9uQ2xvc2UiLCJiYWRnZSIsImFyaWEtbGl2ZSIsImFyaWEtYXRvbWljIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./assets/animations/loading.json":
/*!****************************************!*\
  !*** ./assets/animations/loading.json ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"v":"5.7.4","fr":30,"ip":0,"op":60,"w":100,"h":100,"nm":"Loading Spinner","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"t":60,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[40,40],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.2,0.56,0.91,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}],"markers":[]}');

/***/ }),

/***/ "(ssr)/./components/gamification/BadgeUnlockToast.tsx":
/*!******************************************************!*\
  !*** ./components/gamification/BadgeUnlockToast.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n/**\n * Celebration toast shown when a user unlocks a new badge\n * Features animation and auto-dismiss\n */ const BadgeUnlockToast = ({ badge, onClose, duration = 5000 })=>{\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isExiting, setIsExiting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BadgeUnlockToast.useEffect\": ()=>{\n            // Trigger entrance animation\n            requestAnimationFrame({\n                \"BadgeUnlockToast.useEffect\": ()=>setIsVisible(true)\n            }[\"BadgeUnlockToast.useEffect\"]);\n            // Auto-dismiss after duration\n            const timer = setTimeout({\n                \"BadgeUnlockToast.useEffect.timer\": ()=>{\n                    setIsExiting(true);\n                    setTimeout(onClose, 300); // Wait for exit animation\n                }\n            }[\"BadgeUnlockToast.useEffect.timer\"], duration);\n            return ({\n                \"BadgeUnlockToast.useEffect\": ()=>clearTimeout(timer)\n            })[\"BadgeUnlockToast.useEffect\"];\n        }\n    }[\"BadgeUnlockToast.useEffect\"], [\n        duration,\n        onClose\n    ]);\n    const handleClose = ()=>{\n        setIsExiting(true);\n        setTimeout(onClose, 300);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `\n        fixed top-4 left-1/2 -translate-x-1/2 z-50\n        transition-all duration-300 ease-out\n        ${isVisible && !isExiting ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4'}\n      `,\n        role: \"alert\",\n        \"aria-live\": \"polite\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \" flex items-center gap-4 px-6 py-4 rounded-2xl shadow-xl border-2 \",\n                style: {\n                    backgroundColor: 'var(--color-bg-card, #ffffff)',\n                    borderColor: 'var(--color-primary)',\n                    boxShadow: '0 8px 32px rgba(127, 212, 193, 0.3)'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \" w-16 h-16 rounded-full flex items-center justify-center text-3xl animate-bounce-once \",\n                        style: {\n                            backgroundColor: 'var(--color-primary-lighter)'\n                        },\n                        children: badge.emoji\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                        lineNumber: 64,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs font-semibold uppercase tracking-wide mb-1\",\n                                style: {\n                                    color: 'var(--color-primary-dark)'\n                                },\n                                children: \"Badge Unlocked!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-lg font-bold\",\n                                style: {\n                                    color: 'var(--color-text-primary)'\n                                },\n                                children: badge.name\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm\",\n                                style: {\n                                    color: 'var(--color-text-secondary)'\n                                },\n                                children: badge.description\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                        lineNumber: 77,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleClose,\n                        className: \" w-8 h-8 rounded-full flex items-center justify-center hover:bg-[var(--color-neutral-100)] transition-colors \",\n                        \"aria-label\": \"Close\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"fa-solid fa-times text-sm\",\n                            style: {\n                                color: 'var(--color-text-muted)'\n                            },\n                            \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                            lineNumber: 107,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                        lineNumber: 99,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                lineNumber: 52,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: `\n        @keyframes bounce-once {\n          0%, 100% { transform: scale(1); }\n          25% { transform: scale(1.2); }\n          50% { transform: scale(0.95); }\n          75% { transform: scale(1.05); }\n        }\n        .animate-bounce-once {\n          animation: bounce-once 0.6s ease-out;\n        }\n      `\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n                lineNumber: 116,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/gamification/BadgeUnlockToast.tsx\",\n        lineNumber: 43,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BadgeUnlockToast);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2dhbWlmaWNhdGlvbi9CYWRnZVVubG9ja1RvYXN0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFbUQ7QUFTbkQ7OztDQUdDLEdBQ0QsTUFBTUcsbUJBQW9ELENBQUMsRUFDekRDLEtBQUssRUFDTEMsT0FBTyxFQUNQQyxXQUFXLElBQUksRUFDaEI7SUFDQyxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR04sK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDTyxXQUFXQyxhQUFhLEdBQUdSLCtDQUFRQSxDQUFDO0lBRTNDRCxnREFBU0E7c0NBQUM7WUFDUiw2QkFBNkI7WUFDN0JVOzhDQUFzQixJQUFNSCxhQUFhOztZQUV6Qyw4QkFBOEI7WUFDOUIsTUFBTUksUUFBUUM7b0RBQVc7b0JBQ3ZCSCxhQUFhO29CQUNiRyxXQUFXUixTQUFTLE1BQU0sMEJBQTBCO2dCQUN0RDttREFBR0M7WUFFSDs4Q0FBTyxJQUFNUSxhQUFhRjs7UUFDNUI7cUNBQUc7UUFBQ047UUFBVUQ7S0FBUTtJQUV0QixNQUFNVSxjQUFjO1FBQ2xCTCxhQUFhO1FBQ2JHLFdBQVdSLFNBQVM7SUFDdEI7SUFFQSxxQkFDRSw4REFBQ1c7UUFDQ0MsV0FBVyxDQUFDOzs7UUFHVixFQUFFVixhQUFhLENBQUNFLFlBQVksOEJBQThCLDJCQUEyQjtNQUN2RixDQUFDO1FBQ0RTLE1BQUs7UUFDTEMsYUFBVTs7MEJBRVYsOERBQUNIO2dCQUNDQyxXQUFVO2dCQUlWRyxPQUFPO29CQUNMQyxpQkFBaUI7b0JBQ2pCQyxhQUFhO29CQUNiQyxXQUFXO2dCQUNiOztrQ0FHQSw4REFBQ1A7d0JBQ0NDLFdBQVU7d0JBSVZHLE9BQU87NEJBQ0xDLGlCQUFpQjt3QkFDbkI7a0NBRUNqQixNQUFNb0IsS0FBSzs7Ozs7O2tDQUlkLDhEQUFDUjt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNRO2dDQUNDUixXQUFVO2dDQUNWRyxPQUFPO29DQUFFTSxPQUFPO2dDQUE0QjswQ0FDN0M7Ozs7OzswQ0FHRCw4REFBQ0Q7Z0NBQ0NSLFdBQVU7Z0NBQ1ZHLE9BQU87b0NBQUVNLE9BQU87Z0NBQTRCOzBDQUUzQ3RCLE1BQU11QixJQUFJOzs7Ozs7MENBRWIsOERBQUNGO2dDQUNDUixXQUFVO2dDQUNWRyxPQUFPO29DQUFFTSxPQUFPO2dDQUE4QjswQ0FFN0N0QixNQUFNd0IsV0FBVzs7Ozs7Ozs7Ozs7O2tDQUt0Qiw4REFBQ0M7d0JBQ0NDLFNBQVNmO3dCQUNURSxXQUFVO3dCQUlWYyxjQUFXO2tDQUVYLDRFQUFDQzs0QkFDQ2YsV0FBVTs0QkFDVkcsT0FBTztnQ0FBRU0sT0FBTzs0QkFBMEI7NEJBQzFDTyxlQUFZOzs7Ozs7Ozs7Ozs7Ozs7OzswQkFNbEIsOERBQUNiOzBCQUFPLENBQUM7Ozs7Ozs7Ozs7TUFVVCxDQUFDOzs7Ozs7Ozs7Ozs7QUFHUDtBQUVBLGlFQUFlakIsZ0JBQWdCQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL2dhbWlmaWNhdGlvbi9CYWRnZVVubG9ja1RvYXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQmFkZ2VEZWZpbml0aW9uIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcblxuaW50ZXJmYWNlIEJhZGdlVW5sb2NrVG9hc3RQcm9wcyB7XG4gIGJhZGdlOiBCYWRnZURlZmluaXRpb247XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIGR1cmF0aW9uPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIENlbGVicmF0aW9uIHRvYXN0IHNob3duIHdoZW4gYSB1c2VyIHVubG9ja3MgYSBuZXcgYmFkZ2VcbiAqIEZlYXR1cmVzIGFuaW1hdGlvbiBhbmQgYXV0by1kaXNtaXNzXG4gKi9cbmNvbnN0IEJhZGdlVW5sb2NrVG9hc3Q6IFJlYWN0LkZDPEJhZGdlVW5sb2NrVG9hc3RQcm9wcz4gPSAoe1xuICBiYWRnZSxcbiAgb25DbG9zZSxcbiAgZHVyYXRpb24gPSA1MDAwLFxufSkgPT4ge1xuICBjb25zdCBbaXNWaXNpYmxlLCBzZXRJc1Zpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNFeGl0aW5nLCBzZXRJc0V4aXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gVHJpZ2dlciBlbnRyYW5jZSBhbmltYXRpb25cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gc2V0SXNWaXNpYmxlKHRydWUpKTtcblxuICAgIC8vIEF1dG8tZGlzbWlzcyBhZnRlciBkdXJhdGlvblxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRJc0V4aXRpbmcodHJ1ZSk7XG4gICAgICBzZXRUaW1lb3V0KG9uQ2xvc2UsIDMwMCk7IC8vIFdhaXQgZm9yIGV4aXQgYW5pbWF0aW9uXG4gICAgfSwgZHVyYXRpb24pO1xuXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gIH0sIFtkdXJhdGlvbiwgb25DbG9zZV0pO1xuXG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgIHNldElzRXhpdGluZyh0cnVlKTtcbiAgICBzZXRUaW1lb3V0KG9uQ2xvc2UsIDMwMCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgZml4ZWQgdG9wLTQgbGVmdC0xLzIgLXRyYW5zbGF0ZS14LTEvMiB6LTUwXG4gICAgICAgIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBlYXNlLW91dFxuICAgICAgICAke2lzVmlzaWJsZSAmJiAhaXNFeGl0aW5nID8gJ29wYWNpdHktMTAwIHRyYW5zbGF0ZS15LTAnIDogJ29wYWNpdHktMCAtdHJhbnNsYXRlLXktNCd9XG4gICAgICBgfVxuICAgICAgcm9sZT1cImFsZXJ0XCJcbiAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiXG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJcbiAgICAgICAgICBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBweC02IHB5LTQgcm91bmRlZC0yeGwgc2hhZG93LXhsXG4gICAgICAgICAgYm9yZGVyLTJcbiAgICAgICAgXCJcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1jb2xvci1iZy1jYXJkLCAjZmZmZmZmKScsXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScsXG4gICAgICAgICAgYm94U2hhZG93OiAnMCA4cHggMzJweCByZ2JhKDEyNywgMjEyLCAxOTMsIDAuMyknLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7LyogQmFkZ2UgSWNvbiB3aXRoIGJvdW5jZSBhbmltYXRpb24gKi99XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJcbiAgICAgICAgICAgIHctMTYgaC0xNiByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0zeGxcbiAgICAgICAgICAgIGFuaW1hdGUtYm91bmNlLW9uY2VcbiAgICAgICAgICBcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5LWxpZ2h0ZXIpJyxcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2JhZGdlLmVtb2ppfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogVGV4dCBjb250ZW50ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgIDxwXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgbWItMVwiXG4gICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayknIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQmFkZ2UgVW5sb2NrZWQhXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZFwiXG4gICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSknIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2JhZGdlLm5hbWV9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpJyB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtiYWRnZS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBDbG9zZSBidXR0b24gKi99XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbG9zZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJcbiAgICAgICAgICAgIHctOCBoLTggcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXG4gICAgICAgICAgICBob3ZlcjpiZy1bdmFyKC0tY29sb3ItbmV1dHJhbC0xMDApXSB0cmFuc2l0aW9uLWNvbG9yc1xuICAgICAgICAgIFwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxpIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtdGltZXMgdGV4dC1zbVwiXG4gICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpJyB9fVxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQ1NTIGZvciBib3VuY2UgYW5pbWF0aW9uICovfVxuICAgICAgPHN0eWxlPntgXG4gICAgICAgIEBrZXlmcmFtZXMgYm91bmNlLW9uY2Uge1xuICAgICAgICAgIDAlLCAxMDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfVxuICAgICAgICAgIDI1JSB7IHRyYW5zZm9ybTogc2NhbGUoMS4yKTsgfVxuICAgICAgICAgIDUwJSB7IHRyYW5zZm9ybTogc2NhbGUoMC45NSk7IH1cbiAgICAgICAgICA3NSUgeyB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOyB9XG4gICAgICAgIH1cbiAgICAgICAgLmFuaW1hdGUtYm91bmNlLW9uY2Uge1xuICAgICAgICAgIGFuaW1hdGlvbjogYm91bmNlLW9uY2UgMC42cyBlYXNlLW91dDtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQmFkZ2VVbmxvY2tUb2FzdDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiQmFkZ2VVbmxvY2tUb2FzdCIsImJhZGdlIiwib25DbG9zZSIsImR1cmF0aW9uIiwiaXNWaXNpYmxlIiwic2V0SXNWaXNpYmxlIiwiaXNFeGl0aW5nIiwic2V0SXNFeGl0aW5nIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlQ2xvc2UiLCJkaXYiLCJjbGFzc05hbWUiLCJyb2xlIiwiYXJpYS1saXZlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsImJveFNoYWRvdyIsImVtb2ppIiwicCIsImNvbG9yIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJpIiwiYXJpYS1oaWRkZW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/gamification/BadgeUnlockToast.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/BackButton.tsx":
/*!**************************************!*\
  !*** ./components/ui/BackButton.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackButton: () => (/* binding */ BackButton),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ BackButton,default auto */ \n\nconst BackButton = ({ onClick, label = 'Back', className = '', icon })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        onClick: onClick,\n        \"aria-label\": \"Go back\",\n        className: `inline-flex items-center gap-2 px-4 min-h-[var(--touch-target-min)] bg-white border border-[var(--color-neutral-300)] rounded-lg shadow-md hover:bg-[var(--color-bg-accent)] hover:shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:ring-offset-2 text-[var(--color-text-primary)] font-semibold text-sm ${className}`,\n        children: [\n            icon ?? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                className: \"fa fa-arrow-left text-[var(--color-text-primary)]\",\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/BackButton.tsx\",\n                lineNumber: 20,\n                columnNumber: 22\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/BackButton.tsx\",\n                lineNumber: 21,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/BackButton.tsx\",\n        lineNumber: 14,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BackButton);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL0JhY2tCdXR0b24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFMEI7QUFTbkIsTUFBTUMsYUFBd0MsQ0FBQyxFQUFFQyxPQUFPLEVBQUVDLFFBQVEsTUFBTSxFQUFFQyxZQUFZLEVBQUUsRUFBRUMsSUFBSSxFQUFFO0lBQ25HLHFCQUNJLDhEQUFDQztRQUNHQyxNQUFLO1FBQ0xMLFNBQVNBO1FBQ1RNLGNBQVc7UUFDWEosV0FBVyxDQUFDLHNXQUFzVyxFQUFFQSxXQUFXOztZQUU5WEMsc0JBQVEsOERBQUNJO2dCQUFFTCxXQUFVO2dCQUFvRE0sZUFBWTs7Ozs7OzBCQUN0Riw4REFBQ0M7MEJBQU1SOzs7Ozs7Ozs7Ozs7QUFHbkIsRUFBRTtBQUVGLGlFQUFlRixVQUFVQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0JhY2tCdXR0b24udHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIEJhY2tCdXR0b25Qcm9wcyB7XG4gICAgb25DbGljazogKCkgPT4gdm9pZDtcbiAgICBsYWJlbD86IHN0cmluZztcbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gICAgaWNvbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGNvbnN0IEJhY2tCdXR0b246IFJlYWN0LkZDPEJhY2tCdXR0b25Qcm9wcz4gPSAoeyBvbkNsaWNrLCBsYWJlbCA9ICdCYWNrJywgY2xhc3NOYW1lID0gJycsIGljb24gfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJHbyBiYWNrXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IG1pbi1oLVt2YXIoLS10b3VjaC10YXJnZXQtbWluKV0gYmctd2hpdGUgYm9yZGVyIGJvcmRlci1bdmFyKC0tY29sb3ItbmV1dHJhbC0zMDApXSByb3VuZGVkLWxnIHNoYWRvdy1tZCBob3ZlcjpiZy1bdmFyKC0tY29sb3ItYmctYWNjZW50KV0gaG92ZXI6c2hhZG93LWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXSBmb2N1czpyaW5nLW9mZnNldC0yIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGZvbnQtc2VtaWJvbGQgdGV4dC1zbSAke2NsYXNzTmFtZX1gfVxuICAgICAgICA+XG4gICAgICAgICAgICB7aWNvbiA/PyA8aSBjbGFzc05hbWU9XCJmYSBmYS1hcnJvdy1sZWZ0IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPn1cbiAgICAgICAgICAgIDxzcGFuPntsYWJlbH08L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCYWNrQnV0dG9uO1xuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJCYWNrQnV0dG9uIiwib25DbGljayIsImxhYmVsIiwiY2xhc3NOYW1lIiwiaWNvbiIsImJ1dHRvbiIsInR5cGUiLCJhcmlhLWxhYmVsIiwiaSIsImFyaWEtaGlkZGVuIiwic3BhbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/BackButton.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/BottomNavBar.tsx":
/*!****************************************!*\
  !*** ./components/ui/BottomNavBar.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ \"(ssr)/./types.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst NavItem = ({ label, icon, isActive, onClick, isLocked = false })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: onClick,\n        className: \"flex flex-1 flex-col items-center justify-center transition-all duration-200 min-h-[var(--touch-target-min)] min-w-[var(--touch-target-min)] touch-manipulation focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2 rounded-lg\",\n        \"aria-label\": isLocked ? `${label} (Premium feature)` : label,\n        \"aria-current\": isActive ? 'page' : undefined,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative flex flex-col items-center\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: `${icon} ${isActive ? 'text-zinc-900' : 'text-zinc-400'} text-3xl transition-colors`,\n                            \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                            lineNumber: 31,\n                            columnNumber: 21\n                        }, undefined),\n                        isLocked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute -top-1 -right-2 bg-zinc-800 text-white w-3.5 h-3.5 rounded-full flex items-center justify-center border border-white\",\n                            title: \"Premium Feature\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"fa-solid fa-lock\",\n                                style: {\n                                    fontSize: '7px'\n                                },\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                                lineNumber: 34,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                            lineNumber: 33,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                    lineNumber: 30,\n                    columnNumber: 17\n                }, undefined),\n                isActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-zinc-900 rounded-full\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                    lineNumber: 41,\n                    columnNumber: 21\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: `text-xs mt-1.5 transition-colors tracking-wide ${isActive ? 'text-zinc-900 font-semibold' : 'text-zinc-400 font-normal'}`,\n                    children: label\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n            lineNumber: 28,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n        lineNumber: 22,\n        columnNumber: 9\n    }, undefined);\n};\nconst BottomNavBar = ({ currentView, onNavigate, userTier })=>{\n    const isPremium = userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium;\n    const handleCalendarClick = ()=>{\n        if (isPremium) {\n            onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Calendar);\n        } else {\n            onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n        className: \"sticky bottom-0 bg-white/98 backdrop-blur-md p-1 border-t border-zinc-200/60 shadow-[0_-2px_10px_rgba(0,0,0,0.04)]\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n            className: \"flex justify-around items-center max-w-lg mx-auto\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavItem, {\n                    label: \"Home\",\n                    icon: \"fa-solid fa-house\",\n                    isActive: currentView === _types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard,\n                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                    lineNumber: 67,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavItem, {\n                    label: \"Reports\",\n                    icon: \"fa-solid fa-chart-line\",\n                    isActive: currentView === _types__WEBPACK_IMPORTED_MODULE_2__.View.Reports,\n                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Reports)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavItem, {\n                    label: \"Library\",\n                    icon: \"fa-solid fa-book-open\",\n                    isActive: currentView === _types__WEBPACK_IMPORTED_MODULE_2__.View.ResourceLibrary,\n                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.ResourceLibrary)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                    lineNumber: 79,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavItem, {\n                    label: \"Calendar\",\n                    icon: \"fa-solid fa-calendar\",\n                    isActive: currentView === _types__WEBPACK_IMPORTED_MODULE_2__.View.Calendar,\n                    onClick: handleCalendarClick,\n                    isLocked: !isPremium\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                    lineNumber: 85,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavItem, {\n                    label: \"Settings\",\n                    icon: \"fa-solid fa-gear\",\n                    isActive: currentView === _types__WEBPACK_IMPORTED_MODULE_2__.View.Settings,\n                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Settings)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n                    lineNumber: 92,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n            lineNumber: 66,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/BottomNavBar.tsx\",\n        lineNumber: 65,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BottomNavBar);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL0JvdHRvbU5hdkJhci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUUwQjtBQUNtQjtBQWdCN0MsTUFBTUcsVUFBa0MsQ0FBQyxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLFdBQVcsS0FBSyxFQUFFO0lBQ3pGLHFCQUNJLDhEQUFDQztRQUNHRixTQUFTQTtRQUNURyxXQUFVO1FBQ1ZDLGNBQVlILFdBQVcsR0FBR0osTUFBTSxrQkFBa0IsQ0FBQyxHQUFHQTtRQUN0RFEsZ0JBQWNOLFdBQVcsU0FBU087a0JBRWxDLDRFQUFDQztZQUFJSixXQUFVOzs4QkFFWCw4REFBQ0k7b0JBQUlKLFdBQVU7O3NDQUNYLDhEQUFDSzs0QkFBRUwsV0FBVyxHQUFHTCxLQUFLLENBQUMsRUFBRUMsV0FBVyxrQkFBa0IsZ0JBQWdCLDJCQUEyQixDQUFDOzRCQUFFVSxlQUFZOzs7Ozs7d0JBQy9HUiwwQkFDRyw4REFBQ007NEJBQUlKLFdBQVU7NEJBQWdJTyxPQUFNO3NDQUNqSiw0RUFBQ0Y7Z0NBQUVMLFdBQVU7Z0NBQW1CUSxPQUFPO29DQUFFQyxVQUFVO2dDQUFNO2dDQUFHSCxlQUFZOzs7Ozs7Ozs7Ozs7Ozs7OztnQkFNbkZWLDBCQUNHLDhEQUFDUTtvQkFBSUosV0FBVTs7Ozs7OzhCQUluQiw4REFBQ1U7b0JBQUtWLFdBQVcsQ0FBQywrQ0FBK0MsRUFBRUosV0FBVyxnQ0FBZ0MsNkJBQTZCOzhCQUN0SUY7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS3JCO0FBRUEsTUFBTWlCLGVBQTRDLENBQUMsRUFBRUMsV0FBVyxFQUFFQyxVQUFVLEVBQUVDLFFBQVEsRUFBRTtJQUNwRixNQUFNQyxZQUFZRCxhQUFhdEIsNENBQVFBLENBQUN3QixPQUFPO0lBRS9DLE1BQU1DLHNCQUFzQjtRQUN4QixJQUFJRixXQUFXO1lBQ1hGLFdBQVd0Qix3Q0FBSUEsQ0FBQzJCLFFBQVE7UUFDNUIsT0FBTztZQUNITCxXQUFXdEIsd0NBQUlBLENBQUM0QixPQUFPO1FBQzNCO0lBQ0o7SUFFQSxxQkFDSSw4REFBQ0M7UUFBT3BCLFdBQVU7a0JBQ2QsNEVBQUNxQjtZQUFJckIsV0FBVTs7OEJBQ1gsOERBQUNQO29CQUNHQyxPQUFNO29CQUNOQyxNQUFLO29CQUNMQyxVQUFVZ0IsZ0JBQWdCckIsd0NBQUlBLENBQUMrQixTQUFTO29CQUN4Q3pCLFNBQVMsSUFBTWdCLFdBQVd0Qix3Q0FBSUEsQ0FBQytCLFNBQVM7Ozs7Ozs4QkFFNUMsOERBQUM3QjtvQkFDR0MsT0FBTTtvQkFDTkMsTUFBSztvQkFDTEMsVUFBVWdCLGdCQUFnQnJCLHdDQUFJQSxDQUFDZ0MsT0FBTztvQkFDdEMxQixTQUFTLElBQU1nQixXQUFXdEIsd0NBQUlBLENBQUNnQyxPQUFPOzs7Ozs7OEJBRTFDLDhEQUFDOUI7b0JBQ0dDLE9BQU07b0JBQ05DLE1BQUs7b0JBQ0xDLFVBQVVnQixnQkFBZ0JyQix3Q0FBSUEsQ0FBQ2lDLGVBQWU7b0JBQzlDM0IsU0FBUyxJQUFNZ0IsV0FBV3RCLHdDQUFJQSxDQUFDaUMsZUFBZTs7Ozs7OzhCQUVsRCw4REFBQy9CO29CQUNHQyxPQUFNO29CQUNOQyxNQUFLO29CQUNMQyxVQUFVZ0IsZ0JBQWdCckIsd0NBQUlBLENBQUMyQixRQUFRO29CQUN2Q3JCLFNBQVNvQjtvQkFDVG5CLFVBQVUsQ0FBQ2lCOzs7Ozs7OEJBRWYsOERBQUN0QjtvQkFDR0MsT0FBTTtvQkFDTkMsTUFBSztvQkFDTEMsVUFBVWdCLGdCQUFnQnJCLHdDQUFJQSxDQUFDa0MsUUFBUTtvQkFDdkM1QixTQUFTLElBQU1nQixXQUFXdEIsd0NBQUlBLENBQUNrQyxRQUFROzs7Ozs7Ozs7Ozs7Ozs7OztBQUszRDtBQUVBLGlFQUFlZCxZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0JvdHRvbU5hdkJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVmlldywgVXNlclRpZXIgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmludGVyZmFjZSBCb3R0b21OYXZCYXJQcm9wcyB7XG4gICAgY3VycmVudFZpZXc6IFZpZXc7XG4gICAgb25OYXZpZ2F0ZTogKHZpZXc6IFZpZXcpID0+IHZvaWQ7XG4gICAgdXNlclRpZXI6IFVzZXJUaWVyO1xufVxuXG5pbnRlcmZhY2UgTmF2SXRlbVByb3BzIHtcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIGljb246IHN0cmluZztcbiAgICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xuICAgIGlzTG9ja2VkPzogYm9vbGVhbjtcbn1cblxuY29uc3QgTmF2SXRlbTogUmVhY3QuRkM8TmF2SXRlbVByb3BzPiA9ICh7IGxhYmVsLCBpY29uLCBpc0FjdGl2ZSwgb25DbGljaywgaXNMb2NrZWQgPSBmYWxzZSB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC0xIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgbWluLWgtW3ZhcigtLXRvdWNoLXRhcmdldC1taW4pXSBtaW4tdy1bdmFyKC0tdG91Y2gtdGFyZ2V0LW1pbildIHRvdWNoLW1hbmlwdWxhdGlvbiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD17aXNMb2NrZWQgPyBgJHtsYWJlbH0gKFByZW1pdW0gZmVhdHVyZSlgIDogbGFiZWx9XG4gICAgICAgICAgICBhcmlhLWN1cnJlbnQ9e2lzQWN0aXZlID8gJ3BhZ2UnIDogdW5kZWZpbmVkfVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgey8qIEljb24gd2l0aCBtaW5pbWFsaXN0IHN0eWxpbmcgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2Ake2ljb259ICR7aXNBY3RpdmUgPyAndGV4dC16aW5jLTkwMCcgOiAndGV4dC16aW5jLTQwMCd9IHRleHQtM3hsIHRyYW5zaXRpb24tY29sb3JzYH0gYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICB7aXNMb2NrZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTEgLXJpZ2h0LTIgYmctemluYy04MDAgdGV4dC13aGl0ZSB3LTMuNSBoLTMuNSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYm9yZGVyIGJvcmRlci13aGl0ZVwiIHRpdGxlPVwiUHJlbWl1bSBGZWF0dXJlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtbG9ja1wiIHN0eWxlPXt7IGZvbnRTaXplOiAnN3B4JyB9fSBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogSmFwYW5lc2UtaW5zcGlyZWQgYWNjZW50IGRvdCBmb3IgYWN0aXZlIHN0YXRlICovfVxuICAgICAgICAgICAgICAgIHtpc0FjdGl2ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLWJvdHRvbS0xIGxlZnQtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXgtMS8yIHctMSBoLTEgYmctemluYy05MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogTGFiZWwgd2l0aCBtaW5pbWFsaXN0IHR5cG9ncmFwaHkgKi99XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC14cyBtdC0xLjUgdHJhbnNpdGlvbi1jb2xvcnMgdHJhY2tpbmctd2lkZSAke2lzQWN0aXZlID8gJ3RleHQtemluYy05MDAgZm9udC1zZW1pYm9sZCcgOiAndGV4dC16aW5jLTQwMCBmb250LW5vcm1hbCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgKTtcbn07XG5cbmNvbnN0IEJvdHRvbU5hdkJhcjogUmVhY3QuRkM8Qm90dG9tTmF2QmFyUHJvcHM+ID0gKHsgY3VycmVudFZpZXcsIG9uTmF2aWdhdGUsIHVzZXJUaWVyIH0pID0+IHtcbiAgICBjb25zdCBpc1ByZW1pdW0gPSB1c2VyVGllciA9PT0gVXNlclRpZXIuUHJlbWl1bTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbGVuZGFyQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpc1ByZW1pdW0pIHtcbiAgICAgICAgICAgIG9uTmF2aWdhdGUoVmlldy5DYWxlbmRhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbk5hdmlnYXRlKFZpZXcuUGF5d2FsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwic3RpY2t5IGJvdHRvbS0wIGJnLXdoaXRlLzk4IGJhY2tkcm9wLWJsdXItbWQgcC0xIGJvcmRlci10IGJvcmRlci16aW5jLTIwMC82MCBzaGFkb3ctWzBfLTJweF8xMHB4X3JnYmEoMCwwLDAsMC4wNCldXCI+XG4gICAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1hcm91bmQgaXRlbXMtY2VudGVyIG1heC13LWxnIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICA8TmF2SXRlbVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkhvbWVcIlxuICAgICAgICAgICAgICAgICAgICBpY29uPVwiZmEtc29saWQgZmEtaG91c2VcIlxuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZT17Y3VycmVudFZpZXcgPT09IFZpZXcuRGFzaGJvYXJkfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuRGFzaGJvYXJkKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxOYXZJdGVtXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiUmVwb3J0c1wiXG4gICAgICAgICAgICAgICAgICAgIGljb249XCJmYS1zb2xpZCBmYS1jaGFydC1saW5lXCJcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU9e2N1cnJlbnRWaWV3ID09PSBWaWV3LlJlcG9ydHN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5SZXBvcnRzKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxOYXZJdGVtXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiTGlicmFyeVwiXG4gICAgICAgICAgICAgICAgICAgIGljb249XCJmYS1zb2xpZCBmYS1ib29rLW9wZW5cIlxuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZT17Y3VycmVudFZpZXcgPT09IFZpZXcuUmVzb3VyY2VMaWJyYXJ5fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuUmVzb3VyY2VMaWJyYXJ5KX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxOYXZJdGVtXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQ2FsZW5kYXJcIlxuICAgICAgICAgICAgICAgICAgICBpY29uPVwiZmEtc29saWQgZmEtY2FsZW5kYXJcIlxuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZT17Y3VycmVudFZpZXcgPT09IFZpZXcuQ2FsZW5kYXJ9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNhbGVuZGFyQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgIGlzTG9ja2VkPXshaXNQcmVtaXVtfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPE5hdkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJTZXR0aW5nc1wiXG4gICAgICAgICAgICAgICAgICAgIGljb249XCJmYS1zb2xpZCBmYS1nZWFyXCJcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU9e2N1cnJlbnRWaWV3ID09PSBWaWV3LlNldHRpbmdzfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuU2V0dGluZ3MpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L25hdj5cbiAgICAgICAgPC9mb290ZXI+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJvdHRvbU5hdkJhcjtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlZpZXciLCJVc2VyVGllciIsIk5hdkl0ZW0iLCJsYWJlbCIsImljb24iLCJpc0FjdGl2ZSIsIm9uQ2xpY2siLCJpc0xvY2tlZCIsImJ1dHRvbiIsImNsYXNzTmFtZSIsImFyaWEtbGFiZWwiLCJhcmlhLWN1cnJlbnQiLCJ1bmRlZmluZWQiLCJkaXYiLCJpIiwiYXJpYS1oaWRkZW4iLCJ0aXRsZSIsInN0eWxlIiwiZm9udFNpemUiLCJzcGFuIiwiQm90dG9tTmF2QmFyIiwiY3VycmVudFZpZXciLCJvbk5hdmlnYXRlIiwidXNlclRpZXIiLCJpc1ByZW1pdW0iLCJQcmVtaXVtIiwiaGFuZGxlQ2FsZW5kYXJDbGljayIsIkNhbGVuZGFyIiwiUGF5d2FsbCIsImZvb3RlciIsIm5hdiIsIkRhc2hib2FyZCIsIlJlcG9ydHMiLCJSZXNvdXJjZUxpYnJhcnkiLCJTZXR0aW5ncyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/BottomNavBar.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/Button.tsx":
/*!**********************************!*\
  !*** ./components/ui/Button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ Button,default auto */ \n\nconst Button = ({ children, onClick, variant = 'primary', size = 'md', fullWidth = false, disabled = false, loading = false, icon, iconPosition = 'left', className = '', type = 'button', 'aria-label': ariaLabel })=>{\n    const baseClasses = 'inline-flex items-center justify-center font-semibold rounded-none transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]';\n    const variantClasses = {\n        primary: 'bg-[var(--color-primary)] text-[var(--color-text-primary)] border-2 border-black hover:bg-[var(--color-primary-dark)] hover:border-black focus:ring-[var(--color-primary)] shadow-sm hover:shadow-md',\n        secondary: 'bg-[var(--color-bg-accent)] text-[var(--color-text-primary)] border-2 border-black hover:bg-[var(--color-primary-lighter)] focus:ring-[var(--color-primary)]',\n        ghost: 'bg-transparent text-[var(--color-text-primary)] hover:bg-[var(--color-bg-accent)] border border-transparent hover:border-[var(--color-primary-light)] focus:ring-[var(--color-primary)]',\n        danger: 'bg-[var(--color-error)] text-white border-2 border-black hover:bg-[var(--color-error-dark)] focus:ring-[var(--color-error)] shadow-sm hover:shadow-md',\n        success: 'bg-[var(--color-success)] text-white border-2 border-black hover:bg-[var(--color-success-dark)] focus:ring-[var(--color-success)] shadow-sm hover:shadow-md'\n    };\n    const sizeClasses = {\n        sm: 'h-[var(--button-height-sm)] px-4 text-sm gap-2',\n        md: 'h-[var(--button-height-md)] px-6 text-base gap-2',\n        lg: 'h-[var(--button-height-lg)] px-8 text-xl gap-3'\n    };\n    const widthClass = fullWidth ? 'w-full' : '';\n    const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${widthClass} ${className}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: type,\n        onClick: onClick,\n        disabled: disabled || loading,\n        className: classes,\n        \"aria-label\": ariaLabel,\n        \"aria-busy\": loading,\n        children: [\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin\",\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 64,\n                columnNumber: 9\n            }, undefined),\n            !loading && icon && iconPosition === 'left' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-shrink-0\",\n                \"aria-hidden\": \"true\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 67,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 69,\n                columnNumber: 7\n            }, undefined),\n            !loading && icon && iconPosition === 'right' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex-shrink-0\",\n                \"aria-hidden\": \"true\",\n                children: icon\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n                lineNumber: 71,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Button.tsx\",\n        lineNumber: 55,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Button);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL0J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUUwQjtBQWlCbkIsTUFBTUMsU0FBZ0MsQ0FBQyxFQUM1Q0MsUUFBUSxFQUNSQyxPQUFPLEVBQ1BDLFVBQVUsU0FBUyxFQUNuQkMsT0FBTyxJQUFJLEVBQ1hDLFlBQVksS0FBSyxFQUNqQkMsV0FBVyxLQUFLLEVBQ2hCQyxVQUFVLEtBQUssRUFDZkMsSUFBSSxFQUNKQyxlQUFlLE1BQU0sRUFDckJDLFlBQVksRUFBRSxFQUNkQyxPQUFPLFFBQVEsRUFDZixjQUFjQyxTQUFTLEVBQ3hCO0lBQ0MsTUFBTUMsY0FBYztJQUVwQixNQUFNQyxpQkFBaUI7UUFDckJDLFNBQVM7UUFDVEMsV0FBVztRQUNYQyxPQUFPO1FBQ1BDLFFBQVE7UUFDUkMsU0FBUztJQUNYO0lBRUEsTUFBTUMsY0FBYztRQUNsQkMsSUFBSTtRQUNKQyxJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUVBLE1BQU1DLGFBQWFuQixZQUFZLFdBQVc7SUFFMUMsTUFBTW9CLFVBQVUsR0FBR1osWUFBWSxDQUFDLEVBQUVDLGNBQWMsQ0FBQ1gsUUFBUSxDQUFDLENBQUMsRUFBRWlCLFdBQVcsQ0FBQ2hCLEtBQUssQ0FBQyxDQUFDLEVBQUVvQixXQUFXLENBQUMsRUFBRWQsV0FBVztJQUUzRyxxQkFDRSw4REFBQ2dCO1FBQ0NmLE1BQU1BO1FBQ05ULFNBQVNBO1FBQ1RJLFVBQVVBLFlBQVlDO1FBQ3RCRyxXQUFXZTtRQUNYRSxjQUFZZjtRQUNaZ0IsYUFBV3JCOztZQUVWQSx5QkFDQyw4REFBQ3NCO2dCQUFJbkIsV0FBVTtnQkFBaUZvQixlQUFZOzs7Ozs7WUFFN0csQ0FBQ3ZCLFdBQVdDLFFBQVFDLGlCQUFpQix3QkFDcEMsOERBQUNzQjtnQkFBS3JCLFdBQVU7Z0JBQWdCb0IsZUFBWTswQkFBUXRCOzs7Ozs7MEJBRXRELDhEQUFDdUI7MEJBQU05Qjs7Ozs7O1lBQ04sQ0FBQ00sV0FBV0MsUUFBUUMsaUJBQWlCLHlCQUNwQyw4REFBQ3NCO2dCQUFLckIsV0FBVTtnQkFBZ0JvQixlQUFZOzBCQUFRdEI7Ozs7Ozs7Ozs7OztBQUk1RCxFQUFFO0FBRUYsaUVBQWVSLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvQnV0dG9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBCdXR0b25Qcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gIG9uQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICB2YXJpYW50PzogJ3ByaW1hcnknIHwgJ3NlY29uZGFyeScgfCAnZ2hvc3QnIHwgJ2RhbmdlcicgfCAnc3VjY2Vzcyc7XG4gIHNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7XG4gIGZ1bGxXaWR0aD86IGJvb2xlYW47XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgbG9hZGluZz86IGJvb2xlYW47XG4gIGljb24/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGljb25Qb3NpdGlvbj86ICdsZWZ0JyB8ICdyaWdodCc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgdHlwZT86ICdidXR0b24nIHwgJ3N1Ym1pdCcgfCAncmVzZXQnO1xuICAnYXJpYS1sYWJlbCc/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBCdXR0b246IFJlYWN0LkZDPEJ1dHRvblByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBvbkNsaWNrLFxuICB2YXJpYW50ID0gJ3ByaW1hcnknLFxuICBzaXplID0gJ21kJyxcbiAgZnVsbFdpZHRoID0gZmFsc2UsXG4gIGRpc2FibGVkID0gZmFsc2UsXG4gIGxvYWRpbmcgPSBmYWxzZSxcbiAgaWNvbixcbiAgaWNvblBvc2l0aW9uID0gJ2xlZnQnLFxuICBjbGFzc05hbWUgPSAnJyxcbiAgdHlwZSA9ICdidXR0b24nLFxuICAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCxcbn0pID0+IHtcbiAgY29uc3QgYmFzZUNsYXNzZXMgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZvbnQtc2VtaWJvbGQgcm91bmRlZC1ub25lIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgYWN0aXZlOnNjYWxlLVswLjk4XSc7XG4gIFxuICBjb25zdCB2YXJpYW50Q2xhc3NlcyA9IHtcbiAgICBwcmltYXJ5OiAnYmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBib3JkZXItMiBib3JkZXItYmxhY2sgaG92ZXI6YmctW3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayldIGhvdmVyOmJvcmRlci1ibGFjayBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gc2hhZG93LXNtIGhvdmVyOnNoYWRvdy1tZCcsXG4gICAgc2Vjb25kYXJ5OiAnYmctW3ZhcigtLWNvbG9yLWJnLWFjY2VudCldIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGJvcmRlci0yIGJvcmRlci1ibGFjayBob3ZlcjpiZy1bdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodGVyKV0gZm9jdXM6cmluZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldJyxcbiAgICBnaG9zdDogJ2JnLXRyYW5zcGFyZW50IHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1iZy1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IGhvdmVyOmJvcmRlci1bdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodCldIGZvY3VzOnJpbmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXScsXG4gICAgZGFuZ2VyOiAnYmctW3ZhcigtLWNvbG9yLWVycm9yKV0gdGV4dC13aGl0ZSBib3JkZXItMiBib3JkZXItYmxhY2sgaG92ZXI6YmctW3ZhcigtLWNvbG9yLWVycm9yLWRhcmspXSBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1lcnJvcildIHNoYWRvdy1zbSBob3ZlcjpzaGFkb3ctbWQnLFxuICAgIHN1Y2Nlc3M6ICdiZy1bdmFyKC0tY29sb3Itc3VjY2VzcyldIHRleHQtd2hpdGUgYm9yZGVyLTIgYm9yZGVyLWJsYWNrIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1zdWNjZXNzLWRhcmspXSBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1zdWNjZXNzKV0gc2hhZG93LXNtIGhvdmVyOnNoYWRvdy1tZCcsXG4gIH07XG4gIFxuICBjb25zdCBzaXplQ2xhc3NlcyA9IHtcbiAgICBzbTogJ2gtW3ZhcigtLWJ1dHRvbi1oZWlnaHQtc20pXSBweC00IHRleHQtc20gZ2FwLTInLFxuICAgIG1kOiAnaC1bdmFyKC0tYnV0dG9uLWhlaWdodC1tZCldIHB4LTYgdGV4dC1iYXNlIGdhcC0yJyxcbiAgICBsZzogJ2gtW3ZhcigtLWJ1dHRvbi1oZWlnaHQtbGcpXSBweC04IHRleHQteGwgZ2FwLTMnLFxuICB9O1xuICBcbiAgY29uc3Qgd2lkdGhDbGFzcyA9IGZ1bGxXaWR0aCA/ICd3LWZ1bGwnIDogJyc7XG4gIFxuICBjb25zdCBjbGFzc2VzID0gYCR7YmFzZUNsYXNzZXN9ICR7dmFyaWFudENsYXNzZXNbdmFyaWFudF19ICR7c2l6ZUNsYXNzZXNbc2l6ZV19ICR7d2lkdGhDbGFzc30gJHtjbGFzc05hbWV9YDtcbiAgXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgdHlwZT17dHlwZX1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWQgfHwgbG9hZGluZ31cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlc31cbiAgICAgIGFyaWEtbGFiZWw9e2FyaWFMYWJlbH1cbiAgICAgIGFyaWEtYnVzeT17bG9hZGluZ31cbiAgICA+XG4gICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBib3JkZXItMiBib3JkZXItY3VycmVudCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICl9XG4gICAgICB7IWxvYWRpbmcgJiYgaWNvbiAmJiBpY29uUG9zaXRpb24gPT09ICdsZWZ0JyAmJiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj57aWNvbn08L3NwYW4+XG4gICAgICApfVxuICAgICAgPHNwYW4+e2NoaWxkcmVufTwvc3Bhbj5cbiAgICAgIHshbG9hZGluZyAmJiBpY29uICYmIGljb25Qb3NpdGlvbiA9PT0gJ3JpZ2h0JyAmJiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj57aWNvbn08L3NwYW4+XG4gICAgICApfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uO1xuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJCdXR0b24iLCJjaGlsZHJlbiIsIm9uQ2xpY2siLCJ2YXJpYW50Iiwic2l6ZSIsImZ1bGxXaWR0aCIsImRpc2FibGVkIiwibG9hZGluZyIsImljb24iLCJpY29uUG9zaXRpb24iLCJjbGFzc05hbWUiLCJ0eXBlIiwiYXJpYUxhYmVsIiwiYmFzZUNsYXNzZXMiLCJ2YXJpYW50Q2xhc3NlcyIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJnaG9zdCIsImRhbmdlciIsInN1Y2Nlc3MiLCJzaXplQ2xhc3NlcyIsInNtIiwibWQiLCJsZyIsIndpZHRoQ2xhc3MiLCJjbGFzc2VzIiwiYnV0dG9uIiwiYXJpYS1sYWJlbCIsImFyaWEtYnVzeSIsImRpdiIsImFyaWEtaGlkZGVuIiwic3BhbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/Button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/Card.tsx":
/*!********************************!*\
  !*** ./components/ui/Card.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Card: () => (/* binding */ Card),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ Card,default auto */ \n\nconst Card = ({ children, variant = 'default', padding = 'md', hoverable = false, onClick, className = '' })=>{\n    // Base classes - bg-white only for non-glass variants\n    const baseClasses = variant === 'glass' ? 'rounded-[var(--radius-lg)] transition-all duration-200' : 'bg-white rounded-[var(--radius-lg)] transition-all duration-200';\n    const variantClasses = {\n        default: 'shadow-sm border border-white/10 dark:border-slate-800/30',\n        elevated: 'shadow-md border border-white/10 dark:border-slate-800/30',\n        outlined: 'border border-white/20 dark:border-slate-800/40',\n        accent: 'bg-[var(--color-bg-accent)] border border-white/10 dark:border-slate-800/30 shadow-sm',\n        glass: 'backdrop-blur-md bg-white/5 dark:bg-slate-800/5 border border-white/10 dark:border-slate-800/30 shadow-2xl'\n    };\n    const paddingClasses = {\n        none: '',\n        sm: 'p-4',\n        md: 'p-6',\n        lg: 'p-8'\n    };\n    const hoverClasses = hoverable || onClick ? 'cursor-pointer tile-hover active:scale-[0.98]' : '';\n    const classes = `${baseClasses} ${variantClasses[variant]} ${paddingClasses[padding]} ${hoverClasses} ${className}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: classes,\n        onClick: onClick,\n        role: onClick ? 'button' : undefined,\n        tabIndex: onClick ? 0 : undefined,\n        onKeyDown: onClick ? (e)=>{\n            if (e.key === 'Enter' || e.key === ' ') {\n                e.preventDefault();\n                onClick();\n            }\n        } : undefined,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/Card.tsx\",\n        lineNumber: 47,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Card);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL0NhcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFMEI7QUFXbkIsTUFBTUMsT0FBNEIsQ0FBQyxFQUN4Q0MsUUFBUSxFQUNSQyxVQUFVLFNBQVMsRUFDbkJDLFVBQVUsSUFBSSxFQUNkQyxZQUFZLEtBQUssRUFDakJDLE9BQU8sRUFDUEMsWUFBWSxFQUFFLEVBQ2Y7SUFDQyxzREFBc0Q7SUFDdEQsTUFBTUMsY0FBY0wsWUFBWSxVQUM1QiwyREFDQTtJQUVKLE1BQU1NLGlCQUFpQjtRQUNyQkMsU0FBUztRQUNUQyxVQUFVO1FBQ1ZDLFVBQVU7UUFDVkMsUUFBUTtRQUNSQyxPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxpQkFBaUI7UUFDckJDLE1BQU07UUFDTkMsSUFBSTtRQUNKQyxJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUVBLE1BQU1DLGVBQWVmLGFBQWFDLFVBQVUsa0RBQWtEO0lBRTlGLE1BQU1lLFVBQVUsR0FBR2IsWUFBWSxDQUFDLEVBQUVDLGNBQWMsQ0FBQ04sUUFBUSxDQUFDLENBQUMsRUFBRVksY0FBYyxDQUFDWCxRQUFRLENBQUMsQ0FBQyxFQUFFZ0IsYUFBYSxDQUFDLEVBQUViLFdBQVc7SUFFbkgscUJBQ0UsOERBQUNlO1FBQ0NmLFdBQVdjO1FBQ1hmLFNBQVNBO1FBQ1RpQixNQUFNakIsVUFBVSxXQUFXa0I7UUFDM0JDLFVBQVVuQixVQUFVLElBQUlrQjtRQUN4QkUsV0FBV3BCLFVBQVUsQ0FBQ3FCO1lBQ3BCLElBQUlBLEVBQUVDLEdBQUcsS0FBSyxXQUFXRCxFQUFFQyxHQUFHLEtBQUssS0FBSztnQkFDdENELEVBQUVFLGNBQWM7Z0JBQ2hCdkI7WUFDRjtRQUNGLElBQUlrQjtrQkFFSHRCOzs7Ozs7QUFHUCxFQUFFO0FBRUYsaUVBQWVELElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvQ2FyZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgQ2FyZFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgdmFyaWFudD86ICdkZWZhdWx0JyB8ICdlbGV2YXRlZCcgfCAnb3V0bGluZWQnIHwgJ2FjY2VudCcgfCAnZ2xhc3MnO1xuICBwYWRkaW5nPzogJ25vbmUnIHwgJ3NtJyB8ICdtZCcgfCAnbGcnO1xuICBob3ZlcmFibGU/OiBib29sZWFuO1xuICBvbkNsaWNrPzogKCkgPT4gdm9pZDtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgQ2FyZDogUmVhY3QuRkM8Q2FyZFByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICB2YXJpYW50ID0gJ2RlZmF1bHQnLFxuICBwYWRkaW5nID0gJ21kJyxcbiAgaG92ZXJhYmxlID0gZmFsc2UsXG4gIG9uQ2xpY2ssXG4gIGNsYXNzTmFtZSA9ICcnLFxufSkgPT4ge1xuICAvLyBCYXNlIGNsYXNzZXMgLSBiZy13aGl0ZSBvbmx5IGZvciBub24tZ2xhc3MgdmFyaWFudHNcbiAgY29uc3QgYmFzZUNsYXNzZXMgPSB2YXJpYW50ID09PSAnZ2xhc3MnIFxuICAgID8gJ3JvdW5kZWQtW3ZhcigtLXJhZGl1cy1sZyldIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCdcbiAgICA6ICdiZy13aGl0ZSByb3VuZGVkLVt2YXIoLS1yYWRpdXMtbGcpXSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAnO1xuICBcbiAgY29uc3QgdmFyaWFudENsYXNzZXMgPSB7XG4gICAgZGVmYXVsdDogJ3NoYWRvdy1zbSBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGRhcms6Ym9yZGVyLXNsYXRlLTgwMC8zMCcsXG4gICAgZWxldmF0ZWQ6ICdzaGFkb3ctbWQgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBkYXJrOmJvcmRlci1zbGF0ZS04MDAvMzAnLFxuICAgIG91dGxpbmVkOiAnYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBkYXJrOmJvcmRlci1zbGF0ZS04MDAvNDAnLFxuICAgIGFjY2VudDogJ2JnLVt2YXIoLS1jb2xvci1iZy1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGRhcms6Ym9yZGVyLXNsYXRlLTgwMC8zMCBzaGFkb3ctc20nLFxuICAgIGdsYXNzOiAnYmFja2Ryb3AtYmx1ci1tZCBiZy13aGl0ZS81IGRhcms6Ymctc2xhdGUtODAwLzUgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBkYXJrOmJvcmRlci1zbGF0ZS04MDAvMzAgc2hhZG93LTJ4bCcsIC8vIE5FVzogR2xhc3Ntb3JwaGlzbSB2YXJpYW50XG4gIH07XG4gIFxuICBjb25zdCBwYWRkaW5nQ2xhc3NlcyA9IHtcbiAgICBub25lOiAnJyxcbiAgICBzbTogJ3AtNCcsXG4gICAgbWQ6ICdwLTYnLFxuICAgIGxnOiAncC04JyxcbiAgfTtcbiAgXG4gIGNvbnN0IGhvdmVyQ2xhc3NlcyA9IGhvdmVyYWJsZSB8fCBvbkNsaWNrID8gJ2N1cnNvci1wb2ludGVyIHRpbGUtaG92ZXIgYWN0aXZlOnNjYWxlLVswLjk4XScgOiAnJztcbiAgXG4gIGNvbnN0IGNsYXNzZXMgPSBgJHtiYXNlQ2xhc3Nlc30gJHt2YXJpYW50Q2xhc3Nlc1t2YXJpYW50XX0gJHtwYWRkaW5nQ2xhc3Nlc1twYWRkaW5nXX0gJHtob3ZlckNsYXNzZXN9ICR7Y2xhc3NOYW1lfWA7XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlc31cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICByb2xlPXtvbkNsaWNrID8gJ2J1dHRvbicgOiB1bmRlZmluZWR9XG4gICAgICB0YWJJbmRleD17b25DbGljayA/IDAgOiB1bmRlZmluZWR9XG4gICAgICBvbktleURvd249e29uQ2xpY2sgPyAoZSkgPT4ge1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBvbkNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0gOiB1bmRlZmluZWR9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiQ2FyZCIsImNoaWxkcmVuIiwidmFyaWFudCIsInBhZGRpbmciLCJob3ZlcmFibGUiLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwiYmFzZUNsYXNzZXMiLCJ2YXJpYW50Q2xhc3NlcyIsImRlZmF1bHQiLCJlbGV2YXRlZCIsIm91dGxpbmVkIiwiYWNjZW50IiwiZ2xhc3MiLCJwYWRkaW5nQ2xhc3NlcyIsIm5vbmUiLCJzbSIsIm1kIiwibGciLCJob3ZlckNsYXNzZXMiLCJjbGFzc2VzIiwiZGl2Iiwicm9sZSIsInVuZGVmaW5lZCIsInRhYkluZGV4Iiwib25LZXlEb3duIiwiZSIsImtleSIsInByZXZlbnREZWZhdWx0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/Card.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/CookieConsent.tsx":
/*!*****************************************!*\
  !*** ./components/ui/CookieConsent.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CookieConsent: () => (/* binding */ CookieConsent),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Button */ \"(ssr)/./components/ui/Button.tsx\");\n/* __next_internal_client_entry_do_not_use__ CookieConsent,default auto */ \n\n\nconst CookieConsent = ({ onConsent })=>{\n    const [showBanner, setShowBanner] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showDetails, setShowDetails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [preferences, setPreferences] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        essential: true,\n        functional: false,\n        analytics: false,\n        marketing: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CookieConsent.useEffect\": ()=>{\n            // Check if user has already made a choice\n            const storedConsent = localStorage.getItem('mi-coach-cookie-consent');\n            if (!storedConsent) {\n                // No prior consent, show banner\n                setShowBanner(true);\n            }\n        }\n    }[\"CookieConsent.useEffect\"], []);\n    const handleAcceptAll = ()=>{\n        const allConsent = {\n            essential: true,\n            functional: true,\n            analytics: true,\n            marketing: true\n        };\n        saveCookiePreferences(allConsent);\n    };\n    const handleRejectNonEssential = ()=>{\n        const minimalConsent = {\n            essential: true,\n            functional: false,\n            analytics: false,\n            marketing: false\n        };\n        saveCookiePreferences(minimalConsent);\n    };\n    const handleCustomize = ()=>{\n        setPreferences({\n            ...preferences,\n            essential: true\n        });\n        setShowDetails(true);\n    };\n    const handleSavePreferences = ()=>{\n        saveCookiePreferences(preferences);\n    };\n    const saveCookiePreferences = (prefs)=>{\n        localStorage.setItem('mi-coach-cookie-consent', JSON.stringify(prefs));\n        localStorage.setItem('mi-coach-cookie-consent-date', new Date().toISOString());\n        setShowBanner(false);\n        setShowDetails(false);\n        if (onConsent) {\n            onConsent(prefs);\n        }\n    // In production, integrate with analytics/tracking services here\n    };\n    const handleTogglePreference = (key)=>{\n        if (key === 'essential') {\n            // Essential cannot be disabled\n            return;\n        }\n        setPreferences({\n            ...preferences,\n            [key]: !preferences[key]\n        });\n    };\n    if (!showBanner && !showDetails) {\n        return null;\n    }\n    if (showDetails) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white w-full sm:max-w-2xl rounded-[var(--radius-lg)] p-6 space-y-6 animate-slide-up shadow-[var(--shadow-xl)] max-h-[90vh] overflow-hidden flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-2xl font-bold text-[var(--color-text-primary)] mb-2\",\n                                children: \"Cookie Preferences\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 99,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-[var(--color-text-secondary)]\",\n                                children: \"Manage your cookie and tracking preferences below.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 100,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                        lineNumber: 98,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4 overflow-y-auto pr-2 flex-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start p-4 bg-[var(--color-bg-main)] rounded-[var(--radius-md)] border border-[var(--color-primary-lighter)]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: preferences.essential,\n                                        disabled: true,\n                                        className: \"mt-1 mr-4 w-5 h-5 text-[var(--color-primary)] rounded border-gray-300 focus:ring-[var(--color-primary)] cursor-not-allowed accent-[var(--color-primary)]\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                        lineNumber: 106,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"font-semibold text-[var(--color-text-primary)] block\",\n                                                children: \"Essential Cookies\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                                lineNumber: 113,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-[var(--color-text-secondary)] mt-1\",\n                                                children: \"Required for login, security, and basic functionality. Cannot be disabled.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                                lineNumber: 114,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 105,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start p-4 bg-white rounded-[var(--radius-md)] border border-[var(--color-neutral-200)] hover:border-[var(--color-primary)] cursor-pointer transition-colors shadow-sm\",\n                                onClick: ()=>handleTogglePreference('functional'),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: preferences.functional,\n                                        onChange: ()=>handleTogglePreference('functional'),\n                                        className: \"mt-1 mr-4 w-5 h-5 text-[var(--color-primary)] rounded border-gray-300 focus:ring-[var(--color-primary)] cursor-pointer accent-[var(--color-primary)]\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                        lineNumber: 123,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"font-semibold text-[var(--color-text-primary)] block cursor-pointer\",\n                                                children: \"Functional Cookies\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                                lineNumber: 130,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-[var(--color-text-secondary)] mt-1\",\n                                                children: \"Remember your preferences, language, and settings across sessions.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                                lineNumber: 131,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                        lineNumber: 129,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start p-4 bg-white rounded-[var(--radius-md)] border border-[var(--color-neutral-200)] hover:border-[var(--color-primary)] cursor-pointer transition-colors shadow-sm\",\n                                onClick: ()=>handleTogglePreference('analytics'),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: preferences.analytics,\n                                        onChange: ()=>handleTogglePreference('analytics'),\n                                        className: \"mt-1 mr-4 w-5 h-5 text-[var(--color-primary)] rounded border-gray-300 focus:ring-[var(--color-primary)] cursor-pointer accent-[var(--color-primary)]\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                        lineNumber: 140,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"font-semibold text-[var(--color-text-primary)] block cursor-pointer\",\n                                                children: \"Analytics Cookies\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                                lineNumber: 147,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-[var(--color-text-secondary)] mt-1\",\n                                                children: \"Help us understand how you use the app to improve features and performance.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                                lineNumber: 148,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                        lineNumber: 146,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 138,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start p-4 bg-white rounded-[var(--radius-md)] border border-[var(--color-neutral-200)] hover:border-[var(--color-primary)] cursor-pointer transition-colors shadow-sm\",\n                                onClick: ()=>handleTogglePreference('marketing'),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: preferences.marketing,\n                                        onChange: ()=>handleTogglePreference('marketing'),\n                                        className: \"mt-1 mr-4 w-5 h-5 text-[var(--color-primary)] rounded border-gray-300 focus:ring-[var(--color-primary)] cursor-pointer accent-[var(--color-primary)]\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                        lineNumber: 157,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"font-semibold text-[var(--color-text-primary)] block cursor-pointer\",\n                                                children: \"Marketing Cookies\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                                lineNumber: 164,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-[var(--color-text-secondary)] mt-1\",\n                                                children: \"Track your interests to show relevant content and ads. You can opt-out anytime.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                                lineNumber: 165,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                        lineNumber: 163,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 155,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                        lineNumber: 103,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-3 justify-end pt-4 border-t border-[var(--color-neutral-200)]\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                onClick: ()=>setShowDetails(false),\n                                variant: \"ghost\",\n                                children: \"Back\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 173,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                onClick: handleSavePreferences,\n                                variant: \"primary\",\n                                children: \"Save Preferences\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 179,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                        lineNumber: 172,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                lineNumber: 97,\n                columnNumber: 17\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n            lineNumber: 96,\n            columnNumber: 13\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed left-0 right-0 bg-white/95 backdrop-blur-md border-t border-[var(--color-primary-lighter)] shadow-[0_-4px_20px_rgba(0,0,0,0.05)] z-50 p-6 sm:p-8 bottom-20 sm:bottom-0\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-bold text-[var(--color-text-primary)] mb-2\",\n                                children: \"Cookie Preferences\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 196,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-[var(--color-text-secondary)] text-sm leading-relaxed\",\n                                children: \"We use cookies to enhance your experience. By continuing, you accept our use of essential cookies. You can customize your preferences anytime.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 197,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                        lineNumber: 195,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-3 flex-wrap sm:flex-nowrap\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                onClick: handleRejectNonEssential,\n                                variant: \"ghost\",\n                                className: \"flex-1 sm:flex-none whitespace-nowrap\",\n                                children: \"Essential Only\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 203,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                onClick: handleCustomize,\n                                variant: \"secondary\",\n                                className: \"flex-1 sm:flex-none whitespace-nowrap\",\n                                children: \"Customize\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 210,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                onClick: handleAcceptAll,\n                                variant: \"primary\",\n                                className: \"flex-1 sm:flex-none whitespace-nowrap\",\n                                children: \"Accept All\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                                lineNumber: 217,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                        lineNumber: 202,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n                lineNumber: 194,\n                columnNumber: 17\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n            lineNumber: 193,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/CookieConsent.tsx\",\n        lineNumber: 192,\n        columnNumber: 9\n    }, undefined);\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CookieConsent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdYLFdBQVU7MENBQTBEOzs7Ozs7MENBQ3hFLDhEQUFDRTtnQ0FBRUYsV0FBVTswQ0FBNkQ7Ozs7Ozs7Ozs7OztrQ0FLOUUsOERBQUNEO3dCQUFJQyxXQUFVOzswQ0FDWCw4REFBQ2hDLDJDQUFNQTtnQ0FDSHdDLFNBQVNyQjtnQ0FDVHVCLFNBQVE7Z0NBQ1JWLFdBQVU7MENBQ2I7Ozs7OzswQ0FHRCw4REFBQ2hDLDJDQUFNQTtnQ0FDSHdDLFNBQVNuQjtnQ0FDVHFCLFNBQVE7Z0NBQ1JWLFdBQVU7MENBQ2I7Ozs7OzswQ0FHRCw4REFBQ2hDLDJDQUFNQTtnQ0FDSHdDLFNBQVN4QjtnQ0FDVDBCLFNBQVE7Z0NBQ1JWLFdBQVU7MENBQ2I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRekI7QUFFeUI7QUFDekIsaUVBQWUvQixhQUFhQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0Nvb2tpZUNvbnNlbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL0J1dHRvbic7XG5cbmludGVyZmFjZSBDb29raWVQcmVmZXJlbmNlcyB7XG4gICAgZXNzZW50aWFsOiBib29sZWFuOyAvLyBBbHdheXMgdHJ1ZSwgY2Fubm90IGRpc2FibGVcbiAgICBmdW5jdGlvbmFsOiBib29sZWFuO1xuICAgIGFuYWx5dGljczogYm9vbGVhbjtcbiAgICBtYXJrZXRpbmc6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBDb29raWVDb25zZW50UHJvcHMge1xuICAgIG9uQ29uc2VudD86IChwcmVmZXJlbmNlczogQ29va2llUHJlZmVyZW5jZXMpID0+IHZvaWQ7XG59XG5cbmNvbnN0IENvb2tpZUNvbnNlbnQ6IFJlYWN0LkZDPENvb2tpZUNvbnNlbnRQcm9wcz4gPSAoeyBvbkNvbnNlbnQgfSkgPT4ge1xuICAgIGNvbnN0IFtzaG93QmFubmVyLCBzZXRTaG93QmFubmVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc2hvd0RldGFpbHMsIHNldFNob3dEZXRhaWxzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbcHJlZmVyZW5jZXMsIHNldFByZWZlcmVuY2VzXSA9IHVzZVN0YXRlPENvb2tpZVByZWZlcmVuY2VzPih7XG4gICAgICAgIGVzc2VudGlhbDogdHJ1ZSxcbiAgICAgICAgZnVuY3Rpb25hbDogZmFsc2UsXG4gICAgICAgIGFuYWx5dGljczogZmFsc2UsXG4gICAgICAgIG1hcmtldGluZzogZmFsc2UsXG4gICAgfSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGhhcyBhbHJlYWR5IG1hZGUgYSBjaG9pY2VcbiAgICAgICAgY29uc3Qgc3RvcmVkQ29uc2VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaS1jb2FjaC1jb29raWUtY29uc2VudCcpO1xuICAgICAgICBpZiAoIXN0b3JlZENvbnNlbnQpIHtcbiAgICAgICAgICAgIC8vIE5vIHByaW9yIGNvbnNlbnQsIHNob3cgYmFubmVyXG4gICAgICAgICAgICBzZXRTaG93QmFubmVyKHRydWUpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlQWNjZXB0QWxsID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBhbGxDb25zZW50OiBDb29raWVQcmVmZXJlbmNlcyA9IHtcbiAgICAgICAgICAgIGVzc2VudGlhbDogdHJ1ZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uYWw6IHRydWUsXG4gICAgICAgICAgICBhbmFseXRpY3M6IHRydWUsXG4gICAgICAgICAgICBtYXJrZXRpbmc6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHNhdmVDb29raWVQcmVmZXJlbmNlcyhhbGxDb25zZW50KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUmVqZWN0Tm9uRXNzZW50aWFsID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBtaW5pbWFsQ29uc2VudDogQ29va2llUHJlZmVyZW5jZXMgPSB7XG4gICAgICAgICAgICBlc3NlbnRpYWw6IHRydWUsXG4gICAgICAgICAgICBmdW5jdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgICAgIGFuYWx5dGljczogZmFsc2UsXG4gICAgICAgICAgICBtYXJrZXRpbmc6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBzYXZlQ29va2llUHJlZmVyZW5jZXMobWluaW1hbENvbnNlbnQpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDdXN0b21pemUgPSAoKSA9PiB7XG4gICAgICAgIHNldFByZWZlcmVuY2VzKHtcbiAgICAgICAgICAgIC4uLnByZWZlcmVuY2VzLFxuICAgICAgICAgICAgZXNzZW50aWFsOiB0cnVlLCAvLyBFc3NlbnRpYWwgYWx3YXlzIHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFNob3dEZXRhaWxzKHRydWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTYXZlUHJlZmVyZW5jZXMgPSAoKSA9PiB7XG4gICAgICAgIHNhdmVDb29raWVQcmVmZXJlbmNlcyhwcmVmZXJlbmNlcyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNhdmVDb29raWVQcmVmZXJlbmNlcyA9IChwcmVmczogQ29va2llUHJlZmVyZW5jZXMpID0+IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pLWNvYWNoLWNvb2tpZS1jb25zZW50JywgSlNPTi5zdHJpbmdpZnkocHJlZnMpKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pLWNvYWNoLWNvb2tpZS1jb25zZW50LWRhdGUnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICBzZXRTaG93QmFubmVyKGZhbHNlKTtcbiAgICAgICAgc2V0U2hvd0RldGFpbHMoZmFsc2UpO1xuICAgICAgICBpZiAob25Db25zZW50KSB7XG4gICAgICAgICAgICBvbkNvbnNlbnQocHJlZnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluIHByb2R1Y3Rpb24sIGludGVncmF0ZSB3aXRoIGFuYWx5dGljcy90cmFja2luZyBzZXJ2aWNlcyBoZXJlXG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVByZWZlcmVuY2UgPSAoa2V5OiBrZXlvZiBDb29raWVQcmVmZXJlbmNlcykgPT4ge1xuICAgICAgICBpZiAoa2V5ID09PSAnZXNzZW50aWFsJykge1xuICAgICAgICAgICAgLy8gRXNzZW50aWFsIGNhbm5vdCBiZSBkaXNhYmxlZFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFByZWZlcmVuY2VzKHtcbiAgICAgICAgICAgIC4uLnByZWZlcmVuY2VzLFxuICAgICAgICAgICAgW2tleV06ICFwcmVmZXJlbmNlc1trZXldLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKCFzaG93QmFubmVyICYmICFzaG93RGV0YWlscykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoc2hvd0RldGFpbHMpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIGZsZXggaXRlbXMtZW5kIHNtOml0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgdy1mdWxsIHNtOm1heC13LTJ4bCByb3VuZGVkLVt2YXIoLS1yYWRpdXMtbGcpXSBwLTYgc3BhY2UteS02IGFuaW1hdGUtc2xpZGUtdXAgc2hhZG93LVt2YXIoLS1zaGFkb3cteGwpXSBtYXgtaC1bOTB2aF0gb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gbWItMlwiPkNvb2tpZSBQcmVmZXJlbmNlczwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSldXCI+TWFuYWdlIHlvdXIgY29va2llIGFuZCB0cmFja2luZyBwcmVmZXJlbmNlcyBiZWxvdy48L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IG92ZXJmbG93LXktYXV0byBwci0yIGZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEVzc2VudGlhbCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBwLTQgYmctW3ZhcigtLWNvbG9yLWJnLW1haW4pXSByb3VuZGVkLVt2YXIoLS1yYWRpdXMtbWQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1jb2xvci1wcmltYXJ5LWxpZ2h0ZXIpXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtwcmVmZXJlbmNlcy5lc3NlbnRpYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgbXItNCB3LTUgaC01IHRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnkpXSByb3VuZGVkIGJvcmRlci1ncmF5LTMwMCBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gY3Vyc29yLW5vdC1hbGxvd2VkIGFjY2VudC1bdmFyKC0tY29sb3ItcHJpbWFyeSldXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGJsb2NrXCI+RXNzZW50aWFsIENvb2tpZXM8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KV0gbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWQgZm9yIGxvZ2luLCBzZWN1cml0eSwgYW5kIGJhc2ljIGZ1bmN0aW9uYWxpdHkuIENhbm5vdCBiZSBkaXNhYmxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBGdW5jdGlvbmFsICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHAtNCBiZy13aGl0ZSByb3VuZGVkLVt2YXIoLS1yYWRpdXMtbWQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1jb2xvci1uZXV0cmFsLTIwMCldIGhvdmVyOmJvcmRlci1bdmFyKC0tY29sb3ItcHJpbWFyeSldIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHNoYWRvdy1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVRvZ2dsZVByZWZlcmVuY2UoJ2Z1bmN0aW9uYWwnKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ByZWZlcmVuY2VzLmZ1bmN0aW9uYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBoYW5kbGVUb2dnbGVQcmVmZXJlbmNlKCdmdW5jdGlvbmFsJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgbXItNCB3LTUgaC01IHRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnkpXSByb3VuZGVkIGJvcmRlci1ncmF5LTMwMCBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gY3Vyc29yLXBvaW50ZXIgYWNjZW50LVt2YXIoLS1jb2xvci1wcmltYXJ5KV1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gYmxvY2sgY3Vyc29yLXBvaW50ZXJcIj5GdW5jdGlvbmFsIENvb2tpZXM8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KV0gbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVtZW1iZXIgeW91ciBwcmVmZXJlbmNlcywgbGFuZ3VhZ2UsIGFuZCBzZXR0aW5ncyBhY3Jvc3Mgc2Vzc2lvbnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQW5hbHl0aWNzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHAtNCBiZy13aGl0ZSByb3VuZGVkLVt2YXIoLS1yYWRpdXMtbWQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1jb2xvci1uZXV0cmFsLTIwMCldIGhvdmVyOmJvcmRlci1bdmFyKC0tY29sb3ItcHJpbWFyeSldIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHNoYWRvdy1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVRvZ2dsZVByZWZlcmVuY2UoJ2FuYWx5dGljcycpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cHJlZmVyZW5jZXMuYW5hbHl0aWNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gaGFuZGxlVG9nZ2xlUHJlZmVyZW5jZSgnYW5hbHl0aWNzJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgbXItNCB3LTUgaC01IHRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnkpXSByb3VuZGVkIGJvcmRlci1ncmF5LTMwMCBmb2N1czpyaW5nLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gY3Vyc29yLXBvaW50ZXIgYWNjZW50LVt2YXIoLS1jb2xvci1wcmltYXJ5KV1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gYmxvY2sgY3Vyc29yLXBvaW50ZXJcIj5BbmFseXRpY3MgQ29va2llczwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpXSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwIHVzIHVuZGVyc3RhbmQgaG93IHlvdSB1c2UgdGhlIGFwcCB0byBpbXByb3ZlIGZlYXR1cmVzIGFuZCBwZXJmb3JtYW5jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBNYXJrZXRpbmcgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgcC00IGJnLXdoaXRlIHJvdW5kZWQtW3ZhcigtLXJhZGl1cy1tZCldIGJvcmRlciBib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtMjAwKV0gaG92ZXI6Ym9yZGVyLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgc2hhZG93LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVG9nZ2xlUHJlZmVyZW5jZSgnbWFya2V0aW5nJyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtwcmVmZXJlbmNlcy5tYXJrZXRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBoYW5kbGVUb2dnbGVQcmVmZXJlbmNlKCdtYXJrZXRpbmcnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBtci00IHctNSBoLTUgdGV4dC1bdmFyKC0tY29sb3ItcHJpbWFyeSldIHJvdW5kZWQgYm9yZGVyLWdyYXktMzAwIGZvY3VzOnJpbmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXSBjdXJzb3ItcG9pbnRlciBhY2NlbnQtW3ZhcigtLWNvbG9yLXByaW1hcnkpXVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBibG9jayBjdXJzb3ItcG9pbnRlclwiPk1hcmtldGluZyBDb29raWVzPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSldIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYWNrIHlvdXIgaW50ZXJlc3RzIHRvIHNob3cgcmVsZXZhbnQgY29udGVudCBhbmQgYWRzLiBZb3UgY2FuIG9wdC1vdXQgYW55dGltZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBqdXN0aWZ5LWVuZCBwdC00IGJvcmRlci10IGJvcmRlci1bdmFyKC0tY29sb3ItbmV1dHJhbC0yMDApXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dEZXRhaWxzKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmVQcmVmZXJlbmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZSBQcmVmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBsZWZ0LTAgcmlnaHQtMCBiZy13aGl0ZS85NSBiYWNrZHJvcC1ibHVyLW1kIGJvcmRlci10IGJvcmRlci1bdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodGVyKV0gc2hhZG93LVswXy00cHhfMjBweF9yZ2JhKDAsMCwwLDAuMDUpXSB6LTUwIHAtNiBzbTpwLTggYm90dG9tLTIwIHNtOmJvdHRvbS0wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IHNtOml0ZW1zLWNlbnRlciBzbTpqdXN0aWZ5LWJldHdlZW4gZ2FwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBtYi0yXCI+Q29va2llIFByZWZlcmVuY2VzPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KV0gdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXZSB1c2UgY29va2llcyB0byBlbmhhbmNlIHlvdXIgZXhwZXJpZW5jZS4gQnkgY29udGludWluZywgeW91IGFjY2VwdCBvdXIgdXNlIG9mIGVzc2VudGlhbCBjb29raWVzLiBZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIHByZWZlcmVuY2VzIGFueXRpbWUuXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBmbGV4LXdyYXAgc206ZmxleC1ub3dyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWplY3ROb25Fc3NlbnRpYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgc206ZmxleC1ub25lIHdoaXRlc3BhY2Utbm93cmFwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFc3NlbnRpYWwgT25seVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3VzdG9taXplfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBzbTpmbGV4LW5vbmUgd2hpdGVzcGFjZS1ub3dyYXBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1c3RvbWl6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWNjZXB0QWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgc206ZmxleC1ub25lIHdoaXRlc3BhY2Utbm93cmFwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBY2NlcHQgQWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCB7IENvb2tpZUNvbnNlbnQgfTtcbmV4cG9ydCBkZWZhdWx0IENvb2tpZUNvbnNlbnQ7XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQnV0dG9uIiwiQ29va2llQ29uc2VudCIsIm9uQ29uc2VudCIsInNob3dCYW5uZXIiLCJzZXRTaG93QmFubmVyIiwic2hvd0RldGFpbHMiLCJzZXRTaG93RGV0YWlscyIsInByZWZlcmVuY2VzIiwic2V0UHJlZmVyZW5jZXMiLCJlc3NlbnRpYWwiLCJmdW5jdGlvbmFsIiwiYW5hbHl0aWNzIiwibWFya2V0aW5nIiwic3RvcmVkQ29uc2VudCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJoYW5kbGVBY2NlcHRBbGwiLCJhbGxDb25zZW50Iiwic2F2ZUNvb2tpZVByZWZlcmVuY2VzIiwiaGFuZGxlUmVqZWN0Tm9uRXNzZW50aWFsIiwibWluaW1hbENvbnNlbnQiLCJoYW5kbGVDdXN0b21pemUiLCJoYW5kbGVTYXZlUHJlZmVyZW5jZXMiLCJwcmVmcyIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaGFuZGxlVG9nZ2xlUHJlZmVyZW5jZSIsImtleSIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwicCIsImlucHV0IiwidHlwZSIsImNoZWNrZWQiLCJkaXNhYmxlZCIsImxhYmVsIiwib25DbGljayIsIm9uQ2hhbmdlIiwidmFyaWFudCIsImgzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/CookieConsent.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/ErrorBoundary.tsx":
/*!*****************************************!*\
  !*** ./components/ui/ErrorBoundary.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/errorHandler */ \"(ssr)/./utils/errorHandler.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n/**\n * Error Boundary Component\n * \n * Catches JavaScript errors anywhere in the child component tree,\n * logs those errors, and displays a fallback UI instead of crashing.\n * \n * @example\n * <ErrorBoundary>\n *   <MyComponent />\n * </ErrorBoundary>\n */ class ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n    constructor(props){\n        super(props), this.handleReload = ()=>{\n            window.location.reload();\n        }, this.handleGoHome = ()=>{\n            window.location.href = '/';\n        }, this.handleRetry = ()=>{\n            this.setState({\n                hasError: false,\n                error: null,\n                errorInfo: null\n            });\n        };\n        this.state = {\n            hasError: false,\n            error: null,\n            errorInfo: null\n        };\n    }\n    static getDerivedStateFromError(error) {\n        // Update state so the next render shows the fallback UI\n        return {\n            hasError: true,\n            error\n        };\n    }\n    componentDidCatch(error, errorInfo) {\n        // Use standardized error handler for logging\n        _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n            action: 'error-boundary',\n            level: 'error'\n        });\n        // Log component stack separately\n        if (errorInfo.componentStack) {\n            _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(_utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.createError('Component stack trace', 'COMPONENT_STACK', errorInfo.componentStack), {\n                action: 'error-boundary',\n                level: 'debug'\n            });\n        }\n        this.setState({\n            errorInfo\n        });\n    // In production, you could send this to an error reporting service\n    // Example: logErrorToService(error, errorInfo);\n    }\n    render() {\n        if (this.state.hasError) {\n            // Custom fallback UI if provided\n            if (this.props.fallback) {\n                return this.props.fallback;\n            }\n            // Default error UI\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-screen bg-gradient-to-br from-slate-50 to-sky-50 flex items-center justify-center p-4\",\n                role: \"alert\",\n                \"aria-live\": \"assertive\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mx-auto w-16 h-16 bg-error-light rounded-full flex items-center justify-center mb-6\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                className: \"w-8 h-8 text-error\",\n                                fill: \"none\",\n                                stroke: \"currentColor\",\n                                viewBox: \"0 0 24 24\",\n                                \"aria-hidden\": \"true\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                    lineNumber: 100,\n                                    columnNumber: 33\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                lineNumber: 93,\n                                columnNumber: 29\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                            lineNumber: 92,\n                            columnNumber: 25\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-2xl font-bold text-neutral-800 mb-2\",\n                            children: \"Oops! Something went wrong\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                            lineNumber: 110,\n                            columnNumber: 25\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-neutral-600 mb-6\",\n                            children: \"We're sorry, but something unexpected happened. Don't worry, your data is safe.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                            lineNumber: 113,\n                            columnNumber: 25\n                        }, this),\n                         true && this.state.error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                            className: \"mb-6 text-left\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                                    className: \"cursor-pointer text-sm text-neutral-500 hover:text-neutral-700\",\n                                    children: \"Technical Details (Development Only)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                    lineNumber: 120,\n                                    columnNumber: 33\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2 p-4 bg-neutral-100 rounded-lg text-xs font-mono overflow-auto max-h-48\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-error font-semibold mb-2\",\n                                            children: [\n                                                this.state.error.name,\n                                                \": \",\n                                                this.state.error.message\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                            lineNumber: 124,\n                                            columnNumber: 37\n                                        }, this),\n                                        this.state.errorInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                            className: \"text-neutral-600 whitespace-pre-wrap\",\n                                            children: this.state.errorInfo.componentStack\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                            lineNumber: 128,\n                                            columnNumber: 41\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                    lineNumber: 123,\n                                    columnNumber: 33\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                            lineNumber: 119,\n                            columnNumber: 29\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: this.handleRetry,\n                                    className: \"w-full bg-sky-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-sky-600 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2\",\n                                    \"aria-label\": \"Try again\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center justify-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                \"aria-hidden\": \"true\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                                    lineNumber: 145,\n                                                    columnNumber: 41\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                                lineNumber: 144,\n                                                columnNumber: 37\n                                            }, this),\n                                            \"Try Again\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                        lineNumber: 143,\n                                        columnNumber: 33\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                    lineNumber: 138,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: this.handleReload,\n                                    className: \"w-full bg-neutral-100 text-neutral-700 font-semibold py-3 px-6 rounded-xl hover:bg-neutral-200 transition-colors focus:outline-none focus:ring-2 focus:ring-neutral-500 focus:ring-offset-2\",\n                                    \"aria-label\": \"Reload the page\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center justify-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                \"aria-hidden\": \"true\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                                    lineNumber: 158,\n                                                    columnNumber: 41\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                                lineNumber: 157,\n                                                columnNumber: 37\n                                            }, this),\n                                            \"Reload Page\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                        lineNumber: 156,\n                                        columnNumber: 33\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                    lineNumber: 151,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: this.handleGoHome,\n                                    className: \"w-full text-neutral-500 text-sm py-2 hover:text-neutral-700 transition-colors focus:outline-none focus:underline\",\n                                    \"aria-label\": \"Go back to home page\",\n                                    children: \"Return to Home\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                                    lineNumber: 164,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                            lineNumber: 137,\n                            columnNumber: 25\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-6 text-xs text-neutral-400\",\n                            children: \"If this problem persists, please contact support.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                            lineNumber: 174,\n                            columnNumber: 25\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                    lineNumber: 90,\n                    columnNumber: 21\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/ErrorBoundary.tsx\",\n                lineNumber: 85,\n                columnNumber: 17\n            }, this);\n        }\n        return this.props.children;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ErrorBoundary);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDR0MsU0FBUyxJQUFJLENBQUNyQyxXQUFXO29DQUN6QmdCLFdBQVU7b0NBQ1ZzQixjQUFXOzhDQUVYLDRFQUFDQzt3Q0FBS3ZCLFdBQVU7OzBEQUNaLDhEQUFDRztnREFBSUgsV0FBVTtnREFBVUksTUFBSztnREFBT0MsUUFBTztnREFBZUMsU0FBUTtnREFBWUMsZUFBWTswREFDdkYsNEVBQUNDO29EQUFLQyxlQUFjO29EQUFRQyxnQkFBZTtvREFBUUMsYUFBYTtvREFBR0MsR0FBRTs7Ozs7Ozs7Ozs7NENBQ25FOzs7Ozs7Ozs7Ozs7OENBS2QsOERBQUNRO29DQUNHQyxTQUFTLElBQUksQ0FBQzNDLFlBQVk7b0NBQzFCc0IsV0FBVTtvQ0FDVnNCLGNBQVc7OENBRVgsNEVBQUNDO3dDQUFLdkIsV0FBVTs7MERBQ1osOERBQUNHO2dEQUFJSCxXQUFVO2dEQUFVSSxNQUFLO2dEQUFPQyxRQUFPO2dEQUFlQyxTQUFRO2dEQUFZQyxlQUFZOzBEQUN2Riw0RUFBQ0M7b0RBQUtDLGVBQWM7b0RBQVFDLGdCQUFlO29EQUFRQyxhQUFhO29EQUFHQyxHQUFFOzs7Ozs7Ozs7Ozs0Q0FDbkU7Ozs7Ozs7Ozs7Ozs4Q0FLZCw4REFBQ1E7b0NBQ0dDLFNBQVMsSUFBSSxDQUFDdkMsWUFBWTtvQ0FDMUJrQixXQUFVO29DQUNWc0IsY0FBVzs4Q0FDZDs7Ozs7Ozs7Ozs7O3NDQU1MLDhEQUFDUjs0QkFBRWQsV0FBVTtzQ0FBZ0M7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBTTdEO1FBRUEsT0FBTyxJQUFJLENBQUN2QixLQUFLLENBQUMrQyxRQUFRO0lBQzlCO0FBQ0o7QUFFQSxpRUFBZWhELGFBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvRXJyb3JCb3VuZGFyeS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCBFcnJvckluZm8sIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9ySGFuZGxlcic7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gICAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbiAgICBmYWxsYmFjaz86IFJlYWN0Tm9kZTtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgICBoYXNFcnJvcjogYm9vbGVhbjtcbiAgICBlcnJvcjogRXJyb3IgfCBudWxsO1xuICAgIGVycm9ySW5mbzogRXJyb3JJbmZvIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBFcnJvciBCb3VuZGFyeSBDb21wb25lbnRcbiAqIFxuICogQ2F0Y2hlcyBKYXZhU2NyaXB0IGVycm9ycyBhbnl3aGVyZSBpbiB0aGUgY2hpbGQgY29tcG9uZW50IHRyZWUsXG4gKiBsb2dzIHRob3NlIGVycm9ycywgYW5kIGRpc3BsYXlzIGEgZmFsbGJhY2sgVUkgaW5zdGVhZCBvZiBjcmFzaGluZy5cbiAqIFxuICogQGV4YW1wbGVcbiAqIDxFcnJvckJvdW5kYXJ5PlxuICogICA8TXlDb21wb25lbnQgLz5cbiAqIDwvRXJyb3JCb3VuZGFyeT5cbiAqL1xuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBlcnJvckluZm86IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yOiBFcnJvcik6IFBhcnRpYWw8U3RhdGU+IHtcbiAgICAgICAgLy8gVXBkYXRlIHN0YXRlIHNvIHRoZSBuZXh0IHJlbmRlciBzaG93cyB0aGUgZmFsbGJhY2sgVUlcbiAgICAgICAgcmV0dXJuIHsgaGFzRXJyb3I6IHRydWUsIGVycm9yIH07XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3I6IEVycm9yLCBlcnJvckluZm86IEVycm9ySW5mbyk6IHZvaWQge1xuICAgICAgICAvLyBVc2Ugc3RhbmRhcmRpemVkIGVycm9yIGhhbmRsZXIgZm9yIGxvZ2dpbmdcbiAgICAgICAgRXJyb3JIYW5kbGVyLmxvZ0Vycm9yKGVycm9yLCB7XG4gICAgICAgICAgICBhY3Rpb246ICdlcnJvci1ib3VuZGFyeScsXG4gICAgICAgICAgICBsZXZlbDogJ2Vycm9yJyxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBMb2cgY29tcG9uZW50IHN0YWNrIHNlcGFyYXRlbHlcbiAgICAgICAgaWYgKGVycm9ySW5mby5jb21wb25lbnRTdGFjaykge1xuICAgICAgICAgICAgRXJyb3JIYW5kbGVyLmxvZ0Vycm9yKFxuICAgICAgICAgICAgICAgIEVycm9ySGFuZGxlci5jcmVhdGVFcnJvcignQ29tcG9uZW50IHN0YWNrIHRyYWNlJywgJ0NPTVBPTkVOVF9TVEFDSycsIGVycm9ySW5mby5jb21wb25lbnRTdGFjayksXG4gICAgICAgICAgICAgICAgeyBhY3Rpb246ICdlcnJvci1ib3VuZGFyeScsIGxldmVsOiAnZGVidWcnIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvckluZm8gfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBJbiBwcm9kdWN0aW9uLCB5b3UgY291bGQgc2VuZCB0aGlzIHRvIGFuIGVycm9yIHJlcG9ydGluZyBzZXJ2aWNlXG4gICAgICAgIC8vIEV4YW1wbGU6IGxvZ0Vycm9yVG9TZXJ2aWNlKGVycm9yLCBlcnJvckluZm8pO1xuICAgIH1cblxuICAgIGhhbmRsZVJlbG9hZCA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH07XG5cbiAgICBoYW5kbGVHb0hvbWUgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nO1xuICAgIH07XG5cbiAgICBoYW5kbGVSZXRyeSA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhhc0Vycm9yOiBmYWxzZSwgZXJyb3I6IG51bGwsIGVycm9ySW5mbzogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgcmVuZGVyKCk6IFJlYWN0Tm9kZSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBDdXN0b20gZmFsbGJhY2sgVUkgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZmFsbGJhY2s7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIERlZmF1bHQgZXJyb3IgVUlcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tc2xhdGUtNTAgdG8tc2t5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiXG4gICAgICAgICAgICAgICAgICAgIHJvbGU9XCJhbGVydFwiXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIHctZnVsbCBiZy13aGl0ZSByb3VuZGVkLTJ4bCBzaGFkb3ctbGcgcC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRXJyb3IgSWNvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byB3LTE2IGgtMTYgYmctZXJyb3ItbGlnaHQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtZXJyb3JcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTIgOXYybTAgNGguMDFtLTYuOTM4IDRoMTMuODU2YzEuNTQgMCAyLjUwMi0xLjY2NyAxLjczMi0zTDEzLjczMiA0Yy0uNzctMS4zMzMtMi42OTQtMS4zMzMtMy40NjQgMEwzLjM0IDE2Yy0uNzcgMS4zMzMuMTkyIDMgMS43MzIgM3pcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRXJyb3IgTWVzc2FnZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1uZXV0cmFsLTgwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT29wcyEgU29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW5ldXRyYWwtNjAwIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXZSdyZSBzb3JyeSwgYnV0IHNvbWV0aGluZyB1bmV4cGVjdGVkIGhhcHBlbmVkLiBEb24ndCB3b3JyeSwgeW91ciBkYXRhIGlzIHNhZmUuXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBFcnJvciBEZXRhaWxzIChEZXZlbG9wbWVudCBvbmx5KSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiB0aGlzLnN0YXRlLmVycm9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9XCJtYi02IHRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3VtbWFyeSBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciB0ZXh0LXNtIHRleHQtbmV1dHJhbC01MDAgaG92ZXI6dGV4dC1uZXV0cmFsLTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVjaG5pY2FsIERldGFpbHMgKERldmVsb3BtZW50IE9ubHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHAtNCBiZy1uZXV0cmFsLTEwMCByb3VuZGVkLWxnIHRleHQteHMgZm9udC1tb25vIG92ZXJmbG93LWF1dG8gbWF4LWgtNDhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZXJyb3IgZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3IubmFtZX06IHt0aGlzLnN0YXRlLmVycm9yLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lcnJvckluZm8gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPVwidGV4dC1uZXV0cmFsLTYwMCB3aGl0ZXNwYWNlLXByZS13cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9ySW5mby5jb21wb25lbnRTdGFja31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGV0YWlscz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVJldHJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctc2t5LTUwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMyBweC02IHJvdW5kZWQteGwgaG92ZXI6Ymctc2t5LTYwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctc2t5LTUwMCBmb2N1czpyaW5nLW9mZnNldC0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlRyeSBhZ2FpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTQgNHY1aC41ODJtMTUuMzU2IDJBOC4wMDEgOC4wMDEgMCAwMDQuNTgyIDltMCAwSDltMTEgMTF2LTVoLS41ODFtMCAwYTguMDAzIDguMDAzIDAgMDEtMTUuMzU3LTJtMTUuMzU3IDJIMTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcnkgQWdhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVSZWxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1uZXV0cmFsLTEwMCB0ZXh0LW5ldXRyYWwtNzAwIGZvbnQtc2VtaWJvbGQgcHktMyBweC02IHJvdW5kZWQteGwgaG92ZXI6YmctbmV1dHJhbC0yMDAgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW5ldXRyYWwtNTAwIGZvY3VzOnJpbmctb2Zmc2V0LTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVsb2FkIHRoZSBwYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCA0djVoLjU4Mm0xNS4zNTYgMkE4LjAwMSA4LjAwMSAwIDAwNC41ODIgOW0wIDBIOW0xMSAxMXYtNWgtLjU4MW0wIDBhOC4wMDMgOC4wMDMgMCAwMS0xNS4zNTctMm0xNS4zNTcgMkgxNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlbG9hZCBQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlR29Ib21lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1uZXV0cmFsLTUwMCB0ZXh0LXNtIHB5LTIgaG92ZXI6dGV4dC1uZXV0cmFsLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6dW5kZXJsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkdvIGJhY2sgdG8gaG9tZSBwYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJldHVybiB0byBIb21lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFN1cHBvcnQgSW5mbyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTYgdGV4dC14cyB0ZXh0LW5ldXRyYWwtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdGhpcyBwcm9ibGVtIHBlcnNpc3RzLCBwbGVhc2UgY29udGFjdCBzdXBwb3J0LlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9yQm91bmRhcnk7XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkNvbXBvbmVudCIsIkVycm9ySGFuZGxlciIsIkVycm9yQm91bmRhcnkiLCJwcm9wcyIsImhhbmRsZVJlbG9hZCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiaGFuZGxlR29Ib21lIiwiaHJlZiIsImhhbmRsZVJldHJ5Iiwic2V0U3RhdGUiLCJoYXNFcnJvciIsImVycm9yIiwiZXJyb3JJbmZvIiwic3RhdGUiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsImxvZ0Vycm9yIiwiYWN0aW9uIiwibGV2ZWwiLCJjb21wb25lbnRTdGFjayIsImNyZWF0ZUVycm9yIiwicmVuZGVyIiwiZmFsbGJhY2siLCJkaXYiLCJjbGFzc05hbWUiLCJyb2xlIiwiYXJpYS1saXZlIiwic3ZnIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJhcmlhLWhpZGRlbiIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJoMSIsInAiLCJkZXRhaWxzIiwic3VtbWFyeSIsIm5hbWUiLCJtZXNzYWdlIiwicHJlIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJzcGFuIiwiY2hpbGRyZW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/ErrorBoundary.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/LoadingSpinner.tsx":
/*!******************************************!*\
  !*** ./components/ui/LoadingSpinner.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PageLoader: () => (/* binding */ PageLoader),\n/* harmony export */   SkeletonLoader: () => (/* binding */ SkeletonLoader),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _LottieLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LottieLoader */ \"(ssr)/./components/ui/LottieLoader.tsx\");\n/* __next_internal_client_entry_do_not_use__ SkeletonLoader,PageLoader,default auto */ \n\n\n/**\n * Loading Spinner Component\n * \n * A beautiful, accessible loading spinner with optional message.\n * \n * @example\n * <LoadingSpinner />\n * <LoadingSpinner size=\"lg\" message=\"Loading your session...\" />\n * <LoadingSpinner fullScreen message=\"Please wait...\" />\n */ const LoadingSpinner = ({ size = 'md', message, fullScreen = false, className = '' })=>{\n    const textSizeClasses = {\n        sm: 'text-sm',\n        md: 'text-base',\n        lg: 'text-lg',\n        xl: 'text-xl'\n    };\n    const spinnerContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `flex flex-col items-center justify-center gap-4 ${className}`,\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        \"aria-busy\": \"true\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_LottieLoader__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                size: size\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 48,\n                columnNumber: 13\n            }, undefined),\n            message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: `${textSizeClasses[size]} text-neutral-600 font-medium text-center`,\n                children: message\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 52,\n                columnNumber: 17\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"sr-only\",\n                children: message || 'Loading...'\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 58,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n        lineNumber: 41,\n        columnNumber: 9\n    }, undefined);\n    if (fullScreen) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"fixed inset-0 bg-white/90 backdrop-blur-sm z-50 flex items-center justify-center\",\n            children: spinnerContent\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n            lineNumber: 66,\n            columnNumber: 13\n        }, undefined);\n    }\n    return spinnerContent;\n};\nconst SkeletonLoader = ({ type = 'text', lines = 1, width, height, className = '' })=>{\n    const baseClasses = 'skeleton rounded animate-pulse bg-neutral-200';\n    switch(type){\n        case 'avatar':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${baseClasses} rounded-full ${className}`,\n                style: {\n                    width: width || '48px',\n                    height: height || '48px'\n                },\n                role: \"presentation\",\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 109,\n                columnNumber: 17\n            }, undefined);\n        case 'card':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${baseClasses} rounded-xl ${className}`,\n                style: {\n                    width: width || '100%',\n                    height: height || '120px'\n                },\n                role: \"presentation\",\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 119,\n                columnNumber: 17\n            }, undefined);\n        case 'button':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${baseClasses} rounded-lg ${className}`,\n                style: {\n                    width: width || '100px',\n                    height: height || '40px'\n                },\n                role: \"presentation\",\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 129,\n                columnNumber: 17\n            }, undefined);\n        case 'text':\n        default:\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `space-y-2 ${className}`,\n                role: \"presentation\",\n                \"aria-hidden\": \"true\",\n                children: Array.from({\n                    length: lines\n                }).map((_, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `${baseClasses} h-4`,\n                        style: {\n                            width: width || (index === lines - 1 ? '70%' : '100%'),\n                            height: height || '16px'\n                        }\n                    }, index, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                        lineNumber: 142,\n                        columnNumber: 25\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 140,\n                columnNumber: 17\n            }, undefined);\n    }\n};\n/**\n * Full Page Loading Component\n * \n * Shows while the app is initializing.\n */ const PageLoader = ({ message = 'Loading MI Mastery...' })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-slate-50 to-sky-50 flex flex-col items-center justify-center p-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-8 animate-pulse-soft\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-20 h-20 bg-sky-500 rounded-2xl flex items-center justify-center shadow-lg\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"w-12 h-12 text-white\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        \"aria-hidden\": \"true\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: \"M21 15C21 16.6569 21 17.4853 20.7397 18.1408C20.5097 18.7212 20.1212 19.2314 19.6166 19.6166C18.9663 20.1212 18.1783 20.3542 16.6023 20.8199L16.2 20.94C15.4 21.18 15 21.3 14.64 21.516C14.3215 21.7046 14.032 21.9366 13.78 22.206C13.21 22.82 12.82 23.58 12 23.58C11.18 23.58 10.79 22.82 10.22 22.206C9.96803 21.9366 9.67848 21.7046 9.36 21.516C9 21.3 8.6 21.18 7.8 20.94L7.39772 20.8199C5.82169 20.3542 5.03367 20.1212 4.38343 19.6166C3.87884 19.2314 3.49033 18.7212 3.26034 18.1408C3 17.4853 3 16.6569 3 15V9C3 7.34315 3 6.51472 3.26034 5.85922C3.49033 5.27879 3.87884 4.76863 4.38343 4.38343C5.03367 3.87884 5.8217 3.64583 7.39772 3.18015L7.8 3.06C8.6 2.82 9 2.7 9.36 2.484C9.67848 2.29544 9.96803 2.06338 10.22 1.794C10.79 1.18 11.18 0.42 12 0.42C12.82 0.42 13.21 1.18 13.78 1.794C14.032 2.06338 14.3215 2.29544 14.64 2.484C15 2.7 15.4 2.82 16.2 3.06L16.6023 3.18015C18.1783 3.64583 18.9663 3.87884 19.6166 4.38343C20.1212 4.76863 20.5097 5.27879 20.7397 5.85922C21 6.51472 21 7.34315 21 9V15Z\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"1.5\",\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                            lineNumber: 176,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                        lineNumber: 169,\n                        columnNumber: 21\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                    lineNumber: 168,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 167,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LoadingSpinner, {\n                size: \"lg\",\n                message: message\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 188,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-8 text-sm text-neutral-400 text-center max-w-xs\",\n                children: \"Preparing your personalized practice experience...\"\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n                lineNumber: 191,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/LoadingSpinner.tsx\",\n        lineNumber: 165,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LoadingSpinner);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL0xvYWRpbmdTcGlubmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFMEI7QUFDZ0I7QUFhMUM7Ozs7Ozs7OztDQVNDLEdBQ0QsTUFBTUUsaUJBQWdELENBQUMsRUFDbkRDLE9BQU8sSUFBSSxFQUNYQyxPQUFPLEVBQ1BDLGFBQWEsS0FBSyxFQUNsQkMsWUFBWSxFQUFFLEVBQ2pCO0lBQ0csTUFBTUMsa0JBQWtCO1FBQ3BCQyxJQUFJO1FBQ0pDLElBQUk7UUFDSkMsSUFBSTtRQUNKQyxJQUFJO0lBQ1I7SUFFQSxNQUFNQywrQkFDRiw4REFBQ0M7UUFDR1AsV0FBVyxDQUFDLGdEQUFnRCxFQUFFQSxXQUFXO1FBQ3pFUSxNQUFLO1FBQ0xDLGFBQVU7UUFDVkMsYUFBVTs7MEJBR1YsOERBQUNmLHFEQUFZQTtnQkFBQ0UsTUFBTUE7Ozs7OztZQUduQkMseUJBQ0csOERBQUNhO2dCQUFFWCxXQUFXLEdBQUdDLGVBQWUsQ0FBQ0osS0FBSyxDQUFDLHlDQUF5QyxDQUFDOzBCQUM1RUM7Ozs7OzswQkFLVCw4REFBQ2M7Z0JBQUtaLFdBQVU7MEJBQ1hGLFdBQVc7Ozs7Ozs7Ozs7OztJQUt4QixJQUFJQyxZQUFZO1FBQ1oscUJBQ0ksOERBQUNRO1lBQUlQLFdBQVU7c0JBQ1ZNOzs7Ozs7SUFHYjtJQUVBLE9BQU9BO0FBQ1g7QUF3Qk8sTUFBTU8saUJBQWdELENBQUMsRUFDMURDLE9BQU8sTUFBTSxFQUNiQyxRQUFRLENBQUMsRUFDVEMsS0FBSyxFQUNMQyxNQUFNLEVBQ05qQixZQUFZLEVBQUUsRUFDakI7SUFDRyxNQUFNa0IsY0FBYztJQUVwQixPQUFRSjtRQUNKLEtBQUs7WUFDRCxxQkFDSSw4REFBQ1A7Z0JBQ0dQLFdBQVcsR0FBR2tCLFlBQVksY0FBYyxFQUFFbEIsV0FBVztnQkFDckRtQixPQUFPO29CQUFFSCxPQUFPQSxTQUFTO29CQUFRQyxRQUFRQSxVQUFVO2dCQUFPO2dCQUMxRFQsTUFBSztnQkFDTFksZUFBWTs7Ozs7O1FBSXhCLEtBQUs7WUFDRCxxQkFDSSw4REFBQ2I7Z0JBQ0dQLFdBQVcsR0FBR2tCLFlBQVksWUFBWSxFQUFFbEIsV0FBVztnQkFDbkRtQixPQUFPO29CQUFFSCxPQUFPQSxTQUFTO29CQUFRQyxRQUFRQSxVQUFVO2dCQUFRO2dCQUMzRFQsTUFBSztnQkFDTFksZUFBWTs7Ozs7O1FBSXhCLEtBQUs7WUFDRCxxQkFDSSw4REFBQ2I7Z0JBQ0dQLFdBQVcsR0FBR2tCLFlBQVksWUFBWSxFQUFFbEIsV0FBVztnQkFDbkRtQixPQUFPO29CQUFFSCxPQUFPQSxTQUFTO29CQUFTQyxRQUFRQSxVQUFVO2dCQUFPO2dCQUMzRFQsTUFBSztnQkFDTFksZUFBWTs7Ozs7O1FBSXhCLEtBQUs7UUFDTDtZQUNJLHFCQUNJLDhEQUFDYjtnQkFBSVAsV0FBVyxDQUFDLFVBQVUsRUFBRUEsV0FBVztnQkFBRVEsTUFBSztnQkFBZVksZUFBWTswQkFDckVDLE1BQU1DLElBQUksQ0FBQztvQkFBRUMsUUFBUVI7Z0JBQU0sR0FBR1MsR0FBRyxDQUFDLENBQUNDLEdBQUdDLHNCQUNuQyw4REFBQ25CO3dCQUVHUCxXQUFXLEdBQUdrQixZQUFZLElBQUksQ0FBQzt3QkFDL0JDLE9BQU87NEJBQ0hILE9BQU9BLFNBQVVVLENBQUFBLFVBQVVYLFFBQVEsSUFBSSxRQUFRLE1BQUs7NEJBQ3BERSxRQUFRQSxVQUFVO3dCQUN0Qjt1QkFMS1M7Ozs7Ozs7Ozs7SUFVN0I7QUFDSixFQUFFO0FBRUY7Ozs7Q0FJQyxHQUNNLE1BQU1DLGFBQTZDLENBQUMsRUFDdkQ3QixVQUFVLHVCQUF1QixFQUNwQztJQUNHLHFCQUNJLDhEQUFDUztRQUFJUCxXQUFVOzswQkFFWCw4REFBQ087Z0JBQUlQLFdBQVU7MEJBQ1gsNEVBQUNPO29CQUFJUCxXQUFVOzhCQUNYLDRFQUFDNEI7d0JBQ0c1QixXQUFVO3dCQUNWNkIsU0FBUTt3QkFDUkMsTUFBSzt3QkFDTEMsT0FBTTt3QkFDTlgsZUFBWTtrQ0FFWiw0RUFBQ1k7NEJBQ0dDLEdBQUU7NEJBQ0ZDLFFBQU87NEJBQ1BDLGFBQVk7NEJBQ1pDLGVBQWM7NEJBQ2RDLGdCQUFlOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTy9CLDhEQUFDekM7Z0JBQWVDLE1BQUs7Z0JBQUtDLFNBQVNBOzs7Ozs7MEJBR25DLDhEQUFDYTtnQkFBRVgsV0FBVTswQkFBcUQ7Ozs7Ozs7Ozs7OztBQUs5RSxFQUFFO0FBRUYsaUVBQWVKLGNBQWNBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvTG9hZGluZ1NwaW5uZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb3R0aWVMb2FkZXIgZnJvbSAnLi9Mb3R0aWVMb2FkZXInO1xuXG5pbnRlcmZhY2UgTG9hZGluZ1NwaW5uZXJQcm9wcyB7XG4gICAgLyoqIFNpemUgb2YgdGhlIHNwaW5uZXIgKi9cbiAgICBzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnIHwgJ3hsJztcbiAgICAvKiogT3B0aW9uYWwgbG9hZGluZyBtZXNzYWdlICovXG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICAvKiogV2hldGhlciB0byBzaG93IGFzIGZ1bGwgc2NyZWVuIG92ZXJsYXkgKi9cbiAgICBmdWxsU2NyZWVuPzogYm9vbGVhbjtcbiAgICAvKiogT3B0aW9uYWwgY2xhc3NOYW1lIGZvciBhZGRpdGlvbmFsIHN0eWxpbmcgKi9cbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogTG9hZGluZyBTcGlubmVyIENvbXBvbmVudFxuICogXG4gKiBBIGJlYXV0aWZ1bCwgYWNjZXNzaWJsZSBsb2FkaW5nIHNwaW5uZXIgd2l0aCBvcHRpb25hbCBtZXNzYWdlLlxuICogXG4gKiBAZXhhbXBsZVxuICogPExvYWRpbmdTcGlubmVyIC8+XG4gKiA8TG9hZGluZ1NwaW5uZXIgc2l6ZT1cImxnXCIgbWVzc2FnZT1cIkxvYWRpbmcgeW91ciBzZXNzaW9uLi4uXCIgLz5cbiAqIDxMb2FkaW5nU3Bpbm5lciBmdWxsU2NyZWVuIG1lc3NhZ2U9XCJQbGVhc2Ugd2FpdC4uLlwiIC8+XG4gKi9cbmNvbnN0IExvYWRpbmdTcGlubmVyOiBSZWFjdC5GQzxMb2FkaW5nU3Bpbm5lclByb3BzPiA9ICh7XG4gICAgc2l6ZSA9ICdtZCcsXG4gICAgbWVzc2FnZSxcbiAgICBmdWxsU2NyZWVuID0gZmFsc2UsXG4gICAgY2xhc3NOYW1lID0gJydcbn0pID0+IHtcbiAgICBjb25zdCB0ZXh0U2l6ZUNsYXNzZXMgPSB7XG4gICAgICAgIHNtOiAndGV4dC1zbScsXG4gICAgICAgIG1kOiAndGV4dC1iYXNlJyxcbiAgICAgICAgbGc6ICd0ZXh0LWxnJyxcbiAgICAgICAgeGw6ICd0ZXh0LXhsJ1xuICAgIH07XG5cbiAgICBjb25zdCBzcGlubmVyQ29udGVudCA9IChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC00ICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgICAgICByb2xlPVwic3RhdHVzXCJcbiAgICAgICAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiXG4gICAgICAgICAgICBhcmlhLWJ1c3k9XCJ0cnVlXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgey8qIExvdHRpZSBBbmltYXRpb24gU3Bpbm5lciAqL31cbiAgICAgICAgICAgIDxMb3R0aWVMb2FkZXIgc2l6ZT17c2l6ZX0gLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIExvYWRpbmcgTWVzc2FnZSAqL31cbiAgICAgICAgICAgIHttZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2Ake3RleHRTaXplQ2xhc3Nlc1tzaXplXX0gdGV4dC1uZXV0cmFsLTYwMCBmb250LW1lZGl1bSB0ZXh0LWNlbnRlcmB9PlxuICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogU2NyZWVuIHJlYWRlciB0ZXh0ICovfVxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgICAgICAgIHttZXNzYWdlIHx8ICdMb2FkaW5nLi4uJ31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcblxuICAgIGlmIChmdWxsU2NyZWVuKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctd2hpdGUvOTAgYmFja2Ryb3AtYmx1ci1zbSB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAge3NwaW5uZXJDb250ZW50fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwaW5uZXJDb250ZW50O1xufTtcblxuLyoqXG4gKiBTa2VsZXRvbiBMb2FkaW5nIENvbXBvbmVudFxuICogXG4gKiBTaG93cyBhIHBsYWNlaG9sZGVyIGFuaW1hdGlvbiB3aGlsZSBjb250ZW50IGlzIGxvYWRpbmcuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiA8U2tlbGV0b25Mb2FkZXIgbGluZXM9ezN9IC8+XG4gKiA8U2tlbGV0b25Mb2FkZXIgdHlwZT1cImNhcmRcIiAvPlxuICovXG5pbnRlcmZhY2UgU2tlbGV0b25Mb2FkZXJQcm9wcyB7XG4gICAgLyoqIFR5cGUgb2Ygc2tlbGV0b24gdG8gc2hvdyAqL1xuICAgIHR5cGU/OiAndGV4dCcgfCAnY2FyZCcgfCAnYXZhdGFyJyB8ICdidXR0b24nO1xuICAgIC8qKiBOdW1iZXIgb2YgbGluZXMgKGZvciB0ZXh0IHR5cGUpICovXG4gICAgbGluZXM/OiBudW1iZXI7XG4gICAgLyoqIFdpZHRoIG9mIHRoZSBza2VsZXRvbiAqL1xuICAgIHdpZHRoPzogc3RyaW5nO1xuICAgIC8qKiBIZWlnaHQgb2YgdGhlIHNrZWxldG9uICovXG4gICAgaGVpZ2h0Pzogc3RyaW5nO1xuICAgIC8qKiBPcHRpb25hbCBjbGFzc05hbWUgKi9cbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBTa2VsZXRvbkxvYWRlcjogUmVhY3QuRkM8U2tlbGV0b25Mb2FkZXJQcm9wcz4gPSAoe1xuICAgIHR5cGUgPSAndGV4dCcsXG4gICAgbGluZXMgPSAxLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBjbGFzc05hbWUgPSAnJ1xufSkgPT4ge1xuICAgIGNvbnN0IGJhc2VDbGFzc2VzID0gJ3NrZWxldG9uIHJvdW5kZWQgYW5pbWF0ZS1wdWxzZSBiZy1uZXV0cmFsLTIwMCc7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnYXZhdGFyJzpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3Nlc30gcm91bmRlZC1mdWxsICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiB3aWR0aCB8fCAnNDhweCcsIGhlaWdodDogaGVpZ2h0IHx8ICc0OHB4JyB9fVxuICAgICAgICAgICAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNhc2UgJ2NhcmQnOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc2VzfSByb3VuZGVkLXhsICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiB3aWR0aCB8fCAnMTAwJScsIGhlaWdodDogaGVpZ2h0IHx8ICcxMjBweCcgfX1cbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc2VzfSByb3VuZGVkLWxnICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiB3aWR0aCB8fCAnMTAwcHgnLCBoZWlnaHQ6IGhlaWdodCB8fCAnNDBweCcgfX1cbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzcGFjZS15LTIgJHtjbGFzc05hbWV9YH0gcm9sZT1cInByZXNlbnRhdGlvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogbGluZXMgfSkubWFwKChfLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzZXN9IGgtNGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCB8fCAoaW5kZXggPT09IGxpbmVzIC0gMSA/ICc3MCUnIDogJzEwMCUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgfHwgJzE2cHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEZ1bGwgUGFnZSBMb2FkaW5nIENvbXBvbmVudFxuICogXG4gKiBTaG93cyB3aGlsZSB0aGUgYXBwIGlzIGluaXRpYWxpemluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IFBhZ2VMb2FkZXI6IFJlYWN0LkZDPHsgbWVzc2FnZT86IHN0cmluZyB9PiA9ICh7IFxuICAgIG1lc3NhZ2UgPSAnTG9hZGluZyBNSSBNYXN0ZXJ5Li4uJyBcbn0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLXNsYXRlLTUwIHRvLXNreS01MCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgICAgIHsvKiBMb2dvICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi04IGFuaW1hdGUtcHVsc2Utc29mdFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yMCBoLTIwIGJnLXNreS01MDAgcm91bmRlZC0yeGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgdGV4dC13aGl0ZVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0yMSAxNUMyMSAxNi42NTY5IDIxIDE3LjQ4NTMgMjAuNzM5NyAxOC4xNDA4QzIwLjUwOTcgMTguNzIxMiAyMC4xMjEyIDE5LjIzMTQgMTkuNjE2NiAxOS42MTY2QzE4Ljk2NjMgMjAuMTIxMiAxOC4xNzgzIDIwLjM1NDIgMTYuNjAyMyAyMC44MTk5TDE2LjIgMjAuOTRDMTUuNCAyMS4xOCAxNSAyMS4zIDE0LjY0IDIxLjUxNkMxNC4zMjE1IDIxLjcwNDYgMTQuMDMyIDIxLjkzNjYgMTMuNzggMjIuMjA2QzEzLjIxIDIyLjgyIDEyLjgyIDIzLjU4IDEyIDIzLjU4QzExLjE4IDIzLjU4IDEwLjc5IDIyLjgyIDEwLjIyIDIyLjIwNkM5Ljk2ODAzIDIxLjkzNjYgOS42Nzg0OCAyMS43MDQ2IDkuMzYgMjEuNTE2QzkgMjEuMyA4LjYgMjEuMTggNy44IDIwLjk0TDcuMzk3NzIgMjAuODE5OUM1LjgyMTY5IDIwLjM1NDIgNS4wMzM2NyAyMC4xMjEyIDQuMzgzNDMgMTkuNjE2NkMzLjg3ODg0IDE5LjIzMTQgMy40OTAzMyAxOC43MjEyIDMuMjYwMzQgMTguMTQwOEMzIDE3LjQ4NTMgMyAxNi42NTY5IDMgMTVWOUMzIDcuMzQzMTUgMyA2LjUxNDcyIDMuMjYwMzQgNS44NTkyMkMzLjQ5MDMzIDUuMjc4NzkgMy44Nzg4NCA0Ljc2ODYzIDQuMzgzNDMgNC4zODM0M0M1LjAzMzY3IDMuODc4ODQgNS44MjE3IDMuNjQ1ODMgNy4zOTc3MiAzLjE4MDE1TDcuOCAzLjA2QzguNiAyLjgyIDkgMi43IDkuMzYgMi40ODRDOS42Nzg0OCAyLjI5NTQ0IDkuOTY4MDMgMi4wNjMzOCAxMC4yMiAxLjc5NEMxMC43OSAxLjE4IDExLjE4IDAuNDIgMTIgMC40MkMxMi44MiAwLjQyIDEzLjIxIDEuMTggMTMuNzggMS43OTRDMTQuMDMyIDIuMDYzMzggMTQuMzIxNSAyLjI5NTQ0IDE0LjY0IDIuNDg0QzE1IDIuNyAxNS40IDIuODIgMTYuMiAzLjA2TDE2LjYwMjMgMy4xODAxNUMxOC4xNzgzIDMuNjQ1ODMgMTguOTY2MyAzLjg3ODg0IDE5LjYxNjYgNC4zODM0M0MyMC4xMjEyIDQuNzY4NjMgMjAuNTA5NyA1LjI3ODc5IDIwLjczOTcgNS44NTkyMkMyMSA2LjUxNDcyIDIxIDcuMzQzMTUgMjEgOVYxNVpcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjEuNVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIExvYWRpbmcgU3Bpbm5lciAqL31cbiAgICAgICAgICAgIDxMb2FkaW5nU3Bpbm5lciBzaXplPVwibGdcIiBtZXNzYWdlPXttZXNzYWdlfSAvPlxuXG4gICAgICAgICAgICB7LyogVGlwICovfVxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtOCB0ZXh0LXNtIHRleHQtbmV1dHJhbC00MDAgdGV4dC1jZW50ZXIgbWF4LXcteHNcIj5cbiAgICAgICAgICAgICAgICBQcmVwYXJpbmcgeW91ciBwZXJzb25hbGl6ZWQgcHJhY3RpY2UgZXhwZXJpZW5jZS4uLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9hZGluZ1NwaW5uZXI7XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkxvdHRpZUxvYWRlciIsIkxvYWRpbmdTcGlubmVyIiwic2l6ZSIsIm1lc3NhZ2UiLCJmdWxsU2NyZWVuIiwiY2xhc3NOYW1lIiwidGV4dFNpemVDbGFzc2VzIiwic20iLCJtZCIsImxnIiwieGwiLCJzcGlubmVyQ29udGVudCIsImRpdiIsInJvbGUiLCJhcmlhLWxpdmUiLCJhcmlhLWJ1c3kiLCJwIiwic3BhbiIsIlNrZWxldG9uTG9hZGVyIiwidHlwZSIsImxpbmVzIiwid2lkdGgiLCJoZWlnaHQiLCJiYXNlQ2xhc3NlcyIsInN0eWxlIiwiYXJpYS1oaWRkZW4iLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJtYXAiLCJfIiwiaW5kZXgiLCJQYWdlTG9hZGVyIiwic3ZnIiwidmlld0JveCIsImZpbGwiLCJ4bWxucyIsInBhdGgiLCJkIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/LoadingSpinner.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/LottieLoader.tsx":
/*!****************************************!*\
  !*** ./components/ui/LottieLoader.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lottie_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lottie-react */ \"(ssr)/./node_modules/lottie-react/build/index.es.js\");\n/* harmony import */ var _assets_animations_loading_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assets/animations/loading.json */ \"(ssr)/./assets/animations/loading.json\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n// Import the default loading animation\n// If the file doesn't exist or is invalid, this will fail at build time\n// At runtime, we'll fallback to CSS spinner if Lottie fails to render\n\n/**\n * LottieLoader Component\n * \n * A wrapper around lottie-react that provides consistent sizing and error handling.\n * Falls back gracefully if the animation fails to load.\n */ const LottieLoader = ({ size = 'md', animationData, loop = true, autoplay = true, className = '' })=>{\n    const [hasError, setHasError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Size mapping for Lottie animation\n    const sizeClasses = {\n        sm: 'w-6 h-6',\n        md: 'w-10 h-10',\n        lg: 'w-14 h-14',\n        xl: 'w-20 h-20'\n    };\n    // Determine which animation to use\n    const animation = animationData || _assets_animations_loading_json__WEBPACK_IMPORTED_MODULE_3__;\n    // Fallback CSS spinner component\n    const FallbackSpinner = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `${sizeClasses[size]} ${className}`,\n            role: \"status\",\n            \"aria-label\": \"Loading...\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative w-full h-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `w-full h-full rounded-full border-4 border-sky-100`,\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/LottieLoader.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `absolute inset-0 w-full h-full rounded-full border-4 border-transparent border-t-sky-500 animate-spin`,\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/LottieLoader.tsx\",\n                        lineNumber: 63,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/LottieLoader.tsx\",\n                lineNumber: 57,\n                columnNumber: 13\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/LottieLoader.tsx\",\n            lineNumber: 52,\n            columnNumber: 9\n        }, undefined);\n    // If no animation data available or error occurred, show fallback\n    if (hasError || !animation) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FallbackSpinner, {}, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/LottieLoader.tsx\",\n            lineNumber: 73,\n            columnNumber: 16\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `${sizeClasses[size]} ${className}`,\n        role: \"status\",\n        \"aria-label\": \"Loading...\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(lottie_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            animationData: animation,\n            loop: loop,\n            autoplay: autoplay,\n            style: {\n                width: '100%',\n                height: '100%'\n            }\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/LottieLoader.tsx\",\n            lineNumber: 82,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/LottieLoader.tsx\",\n        lineNumber: 77,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LottieLoader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL0xvdHRpZUxvYWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFd0M7QUFDTjtBQUVsQyx1Q0FBdUM7QUFDdkMsd0VBQXdFO0FBQ3hFLHNFQUFzRTtBQUNFO0FBZXhFOzs7OztDQUtDLEdBQ0QsTUFBTUksZUFBNEMsQ0FBQyxFQUMvQ0MsT0FBTyxJQUFJLEVBQ1hDLGFBQWEsRUFDYkMsT0FBTyxJQUFJLEVBQ1hDLFdBQVcsSUFBSSxFQUNmQyxZQUFZLEVBQUUsRUFDakI7SUFDRyxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR1YsK0NBQVFBLENBQUM7SUFFekMsb0NBQW9DO0lBQ3BDLE1BQU1XLGNBQWM7UUFDaEJDLElBQUk7UUFDSkMsSUFBSTtRQUNKQyxJQUFJO1FBQ0pDLElBQUk7SUFDUjtJQUVBLG1DQUFtQztJQUNuQyxNQUFNQyxZQUFZWCxpQkFBaUJILDREQUFvQkE7SUFFdkQsaUNBQWlDO0lBQ2pDLE1BQU1lLGtCQUFrQixrQkFDcEIsOERBQUNDO1lBQ0dWLFdBQVcsR0FBR0csV0FBVyxDQUFDUCxLQUFLLENBQUMsQ0FBQyxFQUFFSSxXQUFXO1lBQzlDVyxNQUFLO1lBQ0xDLGNBQVc7c0JBRVgsNEVBQUNGO2dCQUFJVixXQUFVOztrQ0FFWCw4REFBQ1U7d0JBQ0dWLFdBQVcsQ0FBQyxrREFBa0QsQ0FBQzt3QkFDL0RhLGVBQVk7Ozs7OztrQ0FFaEIsOERBQUNIO3dCQUNHVixXQUFXLENBQUMscUdBQXFHLENBQUM7d0JBQ2xIYSxlQUFZOzs7Ozs7Ozs7Ozs7Ozs7OztJQU01QixrRUFBa0U7SUFDbEUsSUFBSVosWUFBWSxDQUFDTyxXQUFXO1FBQ3hCLHFCQUFPLDhEQUFDQzs7Ozs7SUFDWjtJQUVBLHFCQUNJLDhEQUFDQztRQUNHVixXQUFXLEdBQUdHLFdBQVcsQ0FBQ1AsS0FBSyxDQUFDLENBQUMsRUFBRUksV0FBVztRQUM5Q1csTUFBSztRQUNMQyxjQUFXO2tCQUVYLDRFQUFDbkIsb0RBQU1BO1lBQ0hJLGVBQWVXO1lBQ2ZWLE1BQU1BO1lBQ05DLFVBQVVBO1lBQ1ZlLE9BQU87Z0JBQUVDLE9BQU87Z0JBQVFDLFFBQVE7WUFBTzs7Ozs7Ozs7Ozs7QUFJdkQ7QUFFQSxpRUFBZXJCLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvTG90dGllTG9hZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb3R0aWUgZnJvbSAnbG90dGllLXJlYWN0JztcblxuLy8gSW1wb3J0IHRoZSBkZWZhdWx0IGxvYWRpbmcgYW5pbWF0aW9uXG4vLyBJZiB0aGUgZmlsZSBkb2Vzbid0IGV4aXN0IG9yIGlzIGludmFsaWQsIHRoaXMgd2lsbCBmYWlsIGF0IGJ1aWxkIHRpbWVcbi8vIEF0IHJ1bnRpbWUsIHdlJ2xsIGZhbGxiYWNrIHRvIENTUyBzcGlubmVyIGlmIExvdHRpZSBmYWlscyB0byByZW5kZXJcbmltcG9ydCBsb2FkaW5nQW5pbWF0aW9uRGF0YSBmcm9tICcuLi8uLi9hc3NldHMvYW5pbWF0aW9ucy9sb2FkaW5nLmpzb24nO1xuXG5pbnRlcmZhY2UgTG90dGllTG9hZGVyUHJvcHMge1xuICAgIC8qKiBTaXplIG9mIHRoZSBhbmltYXRpb24gKi9cbiAgICBzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnIHwgJ3hsJztcbiAgICAvKiogQ3VzdG9tIGFuaW1hdGlvbiBkYXRhIChKU09OKSAtIGRlZmF1bHRzIHRvIGxvYWRpbmcuanNvbiAqL1xuICAgIGFuaW1hdGlvbkRhdGE/OiBvYmplY3Q7XG4gICAgLyoqIFdoZXRoZXIgdG8gbG9vcCB0aGUgYW5pbWF0aW9uICovXG4gICAgbG9vcD86IGJvb2xlYW47XG4gICAgLyoqIFdoZXRoZXIgdG8gYXV0b3BsYXkgdGhlIGFuaW1hdGlvbiAqL1xuICAgIGF1dG9wbGF5PzogYm9vbGVhbjtcbiAgICAvKiogT3B0aW9uYWwgY2xhc3NOYW1lIGZvciBhZGRpdGlvbmFsIHN0eWxpbmcgKi9cbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogTG90dGllTG9hZGVyIENvbXBvbmVudFxuICogXG4gKiBBIHdyYXBwZXIgYXJvdW5kIGxvdHRpZS1yZWFjdCB0aGF0IHByb3ZpZGVzIGNvbnNpc3RlbnQgc2l6aW5nIGFuZCBlcnJvciBoYW5kbGluZy5cbiAqIEZhbGxzIGJhY2sgZ3JhY2VmdWxseSBpZiB0aGUgYW5pbWF0aW9uIGZhaWxzIHRvIGxvYWQuXG4gKi9cbmNvbnN0IExvdHRpZUxvYWRlcjogUmVhY3QuRkM8TG90dGllTG9hZGVyUHJvcHM+ID0gKHtcbiAgICBzaXplID0gJ21kJyxcbiAgICBhbmltYXRpb25EYXRhLFxuICAgIGxvb3AgPSB0cnVlLFxuICAgIGF1dG9wbGF5ID0gdHJ1ZSxcbiAgICBjbGFzc05hbWUgPSAnJ1xufSkgPT4ge1xuICAgIGNvbnN0IFtoYXNFcnJvciwgc2V0SGFzRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgLy8gU2l6ZSBtYXBwaW5nIGZvciBMb3R0aWUgYW5pbWF0aW9uXG4gICAgY29uc3Qgc2l6ZUNsYXNzZXMgPSB7XG4gICAgICAgIHNtOiAndy02IGgtNicsXG4gICAgICAgIG1kOiAndy0xMCBoLTEwJyxcbiAgICAgICAgbGc6ICd3LTE0IGgtMTQnLFxuICAgICAgICB4bDogJ3ctMjAgaC0yMCdcbiAgICB9O1xuXG4gICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGFuaW1hdGlvbiB0byB1c2VcbiAgICBjb25zdCBhbmltYXRpb24gPSBhbmltYXRpb25EYXRhIHx8IGxvYWRpbmdBbmltYXRpb25EYXRhO1xuXG4gICAgLy8gRmFsbGJhY2sgQ1NTIHNwaW5uZXIgY29tcG9uZW50XG4gICAgY29uc3QgRmFsbGJhY2tTcGlubmVyID0gKCkgPT4gKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzaXplQ2xhc3Nlc1tzaXplXX0gJHtjbGFzc05hbWV9YH1cbiAgICAgICAgICAgIHJvbGU9XCJzdGF0dXNcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkxvYWRpbmcuLi5cIlxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGxcIj5cbiAgICAgICAgICAgICAgICB7LyogRmFsbGJhY2sgQ1NTIHNwaW5uZXIgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGgtZnVsbCByb3VuZGVkLWZ1bGwgYm9yZGVyLTQgYm9yZGVyLXNreS0xMDBgfVxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYWJzb2x1dGUgaW5zZXQtMCB3LWZ1bGwgaC1mdWxsIHJvdW5kZWQtZnVsbCBib3JkZXItNCBib3JkZXItdHJhbnNwYXJlbnQgYm9yZGVyLXQtc2t5LTUwMCBhbmltYXRlLXNwaW5gfVxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcblxuICAgIC8vIElmIG5vIGFuaW1hdGlvbiBkYXRhIGF2YWlsYWJsZSBvciBlcnJvciBvY2N1cnJlZCwgc2hvdyBmYWxsYmFja1xuICAgIGlmIChoYXNFcnJvciB8fCAhYW5pbWF0aW9uKSB7XG4gICAgICAgIHJldHVybiA8RmFsbGJhY2tTcGlubmVyIC8+O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3NpemVDbGFzc2VzW3NpemVdfSAke2NsYXNzTmFtZX1gfVxuICAgICAgICAgICAgcm9sZT1cInN0YXR1c1wiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiTG9hZGluZy4uLlwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxMb3R0aWVcbiAgICAgICAgICAgICAgICBhbmltYXRpb25EYXRhPXthbmltYXRpb259XG4gICAgICAgICAgICAgICAgbG9vcD17bG9vcH1cbiAgICAgICAgICAgICAgICBhdXRvcGxheT17YXV0b3BsYXl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb3R0aWVMb2FkZXI7XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwiTG90dGllIiwibG9hZGluZ0FuaW1hdGlvbkRhdGEiLCJMb3R0aWVMb2FkZXIiLCJzaXplIiwiYW5pbWF0aW9uRGF0YSIsImxvb3AiLCJhdXRvcGxheSIsImNsYXNzTmFtZSIsImhhc0Vycm9yIiwic2V0SGFzRXJyb3IiLCJzaXplQ2xhc3NlcyIsInNtIiwibWQiLCJsZyIsInhsIiwiYW5pbWF0aW9uIiwiRmFsbGJhY2tTcGlubmVyIiwiZGl2Iiwicm9sZSIsImFyaWEtbGFiZWwiLCJhcmlhLWhpZGRlbiIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/LottieLoader.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/OfflineIndicator.tsx":
/*!********************************************!*\
  !*** ./components/ui/OfflineIndicator.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OfflineIndicator: () => (/* binding */ OfflineIndicator),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ OfflineIndicator,default auto */ \n\n/**\n * Offline Indicator Component\n * \n * Displays a banner when the user loses internet connectivity\n * and shows a brief \"back online\" message when connectivity is restored.\n * \n * @example\n * <OfflineIndicator />\n */ const OfflineIndicator = ({ offlineMessage = \"You're offline. Some features may be unavailable.\", onlineMessage = \"You're back online!\", onlineDuration = 3000 })=>{\n    const [isOnline, setIsOnline] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(typeof navigator !== 'undefined' ? navigator.onLine : true);\n    const [showOnlineMessage, setShowOnlineMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [wasOffline, setWasOffline] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleOnline = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"OfflineIndicator.useCallback[handleOnline]\": ()=>{\n            setIsOnline(true);\n            if (wasOffline) {\n                setShowOnlineMessage(true);\n                // Hide the online message after specified duration\n                setTimeout({\n                    \"OfflineIndicator.useCallback[handleOnline]\": ()=>{\n                        setShowOnlineMessage(false);\n                    }\n                }[\"OfflineIndicator.useCallback[handleOnline]\"], onlineDuration);\n            }\n        }\n    }[\"OfflineIndicator.useCallback[handleOnline]\"], [\n        wasOffline,\n        onlineDuration\n    ]);\n    const handleOffline = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"OfflineIndicator.useCallback[handleOffline]\": ()=>{\n            setIsOnline(false);\n            setWasOffline(true);\n            setShowOnlineMessage(false);\n        }\n    }[\"OfflineIndicator.useCallback[handleOffline]\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"OfflineIndicator.useEffect\": ()=>{\n            // Check initial state\n            if (typeof navigator !== 'undefined') {\n                setIsOnline(navigator.onLine);\n            }\n            // Add event listeners\n            window.addEventListener('online', handleOnline);\n            window.addEventListener('offline', handleOffline);\n            // Cleanup\n            return ({\n                \"OfflineIndicator.useEffect\": ()=>{\n                    window.removeEventListener('online', handleOnline);\n                    window.removeEventListener('offline', handleOffline);\n                }\n            })[\"OfflineIndicator.useEffect\"];\n        }\n    }[\"OfflineIndicator.useEffect\"], [\n        handleOnline,\n        handleOffline\n    ]);\n    // Don't render anything if online and not showing the \"back online\" message\n    if (isOnline && !showOnlineMessage) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        role: \"alert\",\n        \"aria-live\": \"polite\",\n        className: `fixed top-0 left-0 right-0 z-50 transition-all duration-300 ease-in-out ${isOnline ? 'translate-y-0' : 'translate-y-0'}`,\n        children: [\n            !isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-amber-500 text-white px-4 py-3 shadow-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-4xl mx-auto flex items-center justify-center gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"w-5 h-5 flex-shrink-0\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            viewBox: \"0 0 24 24\",\n                            \"aria-hidden\": \"true\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                strokeWidth: 2,\n                                d: \"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                                lineNumber: 92,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                            lineNumber: 85,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-sm font-medium\",\n                            children: offlineMessage\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                            lineNumber: 101,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>window.location.reload(),\n                            className: \"ml-4 px-3 py-1 bg-amber-600 hover:bg-amber-700 rounded-md text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-amber-500\",\n                            \"aria-label\": \"Retry connection\",\n                            children: \"Retry\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                            lineNumber: 106,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                    lineNumber: 83,\n                    columnNumber: 21\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                lineNumber: 82,\n                columnNumber: 17\n            }, undefined),\n            showOnlineMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-success text-white px-4 py-3 shadow-lg animate-slide-fade-in\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-4xl mx-auto flex items-center justify-center gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"w-5 h-5 flex-shrink-0\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            viewBox: \"0 0 24 24\",\n                            \"aria-hidden\": \"true\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                strokeWidth: 2,\n                                d: \"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0\"\n                            }, void 0, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                                lineNumber: 128,\n                                columnNumber: 29\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                            lineNumber: 121,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-sm font-medium\",\n                            children: onlineMessage\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                            lineNumber: 137,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                    lineNumber: 119,\n                    columnNumber: 21\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n                lineNumber: 118,\n                columnNumber: 17\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/OfflineIndicator.tsx\",\n        lineNumber: 74,\n        columnNumber: 9\n    }, undefined);\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OfflineIndicator);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL09mZmxpbmVJbmRpY2F0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFZ0U7QUFXaEU7Ozs7Ozs7O0NBUUMsR0FDRCxNQUFNSSxtQkFBb0QsQ0FBQyxFQUN2REMsaUJBQWlCLG1EQUFtRCxFQUNwRUMsZ0JBQWdCLHFCQUFxQixFQUNyQ0MsaUJBQWlCLElBQUksRUFDeEI7SUFDRyxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR1IsK0NBQVFBLENBQ3BDLE9BQU9TLGNBQWMsY0FBY0EsVUFBVUMsTUFBTSxHQUFHO0lBRTFELE1BQU0sQ0FBQ0MsbUJBQW1CQyxxQkFBcUIsR0FBR1osK0NBQVFBLENBQVU7SUFDcEUsTUFBTSxDQUFDYSxZQUFZQyxjQUFjLEdBQUdkLCtDQUFRQSxDQUFVO0lBRXRELE1BQU1lLGVBQWViLGtEQUFXQTtzREFBQztZQUM3Qk0sWUFBWTtZQUNaLElBQUlLLFlBQVk7Z0JBQ1pELHFCQUFxQjtnQkFDckIsbURBQW1EO2dCQUNuREk7a0VBQVc7d0JBQ1BKLHFCQUFxQjtvQkFDekI7aUVBQUdOO1lBQ1A7UUFDSjtxREFBRztRQUFDTztRQUFZUDtLQUFlO0lBRS9CLE1BQU1XLGdCQUFnQmYsa0RBQVdBO3VEQUFDO1lBQzlCTSxZQUFZO1lBQ1pNLGNBQWM7WUFDZEYscUJBQXFCO1FBQ3pCO3NEQUFHLEVBQUU7SUFFTFgsZ0RBQVNBO3NDQUFDO1lBQ04sc0JBQXNCO1lBQ3RCLElBQUksT0FBT1EsY0FBYyxhQUFhO2dCQUNsQ0QsWUFBWUMsVUFBVUMsTUFBTTtZQUNoQztZQUVBLHNCQUFzQjtZQUN0QlEsT0FBT0MsZ0JBQWdCLENBQUMsVUFBVUo7WUFDbENHLE9BQU9DLGdCQUFnQixDQUFDLFdBQVdGO1lBRW5DLFVBQVU7WUFDVjs4Q0FBTztvQkFDSEMsT0FBT0UsbUJBQW1CLENBQUMsVUFBVUw7b0JBQ3JDRyxPQUFPRSxtQkFBbUIsQ0FBQyxXQUFXSDtnQkFDMUM7O1FBQ0o7cUNBQUc7UUFBQ0Y7UUFBY0U7S0FBYztJQUVoQyw0RUFBNEU7SUFDNUUsSUFBSVYsWUFBWSxDQUFDSSxtQkFBbUI7UUFDaEMsT0FBTztJQUNYO0lBRUEscUJBQ0ksOERBQUNVO1FBQ0dDLE1BQUs7UUFDTEMsYUFBVTtRQUNWQyxXQUFXLENBQUMsd0VBQXdFLEVBQ2hGakIsV0FBVyxrQkFBa0IsaUJBQy9COztZQUVELENBQUNBLDBCQUNFLDhEQUFDYztnQkFBSUcsV0FBVTswQkFDWCw0RUFBQ0g7b0JBQUlHLFdBQVU7O3NDQUVYLDhEQUFDQzs0QkFDR0QsV0FBVTs0QkFDVkUsTUFBSzs0QkFDTEMsUUFBTzs0QkFDUEMsU0FBUTs0QkFDUkMsZUFBWTtzQ0FFWiw0RUFBQ0M7Z0NBQ0dDLGVBQWM7Z0NBQ2RDLGdCQUFlO2dDQUNmQyxhQUFhO2dDQUNiQyxHQUFFOzs7Ozs7Ozs7OztzQ0FLViw4REFBQ0M7NEJBQUtYLFdBQVU7c0NBQ1hwQjs7Ozs7O3NDQUlMLDhEQUFDZ0M7NEJBQ0dDLFNBQVMsSUFBTW5CLE9BQU9vQixRQUFRLENBQUNDLE1BQU07NEJBQ3JDZixXQUFVOzRCQUNWZ0IsY0FBVztzQ0FDZDs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFPWjdCLG1DQUNHLDhEQUFDVTtnQkFBSUcsV0FBVTswQkFDWCw0RUFBQ0g7b0JBQUlHLFdBQVU7O3NDQUVYLDhEQUFDQzs0QkFDR0QsV0FBVTs0QkFDVkUsTUFBSzs0QkFDTEMsUUFBTzs0QkFDUEMsU0FBUTs0QkFDUkMsZUFBWTtzQ0FFWiw0RUFBQ0M7Z0NBQ0dDLGVBQWM7Z0NBQ2RDLGdCQUFlO2dDQUNmQyxhQUFhO2dDQUNiQyxHQUFFOzs7Ozs7Ozs7OztzQ0FLViw4REFBQ0M7NEJBQUtYLFdBQVU7c0NBQ1huQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPN0I7QUFFNEI7QUFDNUIsaUVBQWVGLGdCQUFnQkEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29tcG9uZW50cy91aS9PZmZsaW5lSW5kaWNhdG9yLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIE9mZmxpbmVJbmRpY2F0b3JQcm9wcyB7XG4gICAgLyoqIE9wdGlvbmFsIGN1c3RvbSBtZXNzYWdlIHdoZW4gb2ZmbGluZSAqL1xuICAgIG9mZmxpbmVNZXNzYWdlPzogc3RyaW5nO1xuICAgIC8qKiBPcHRpb25hbCBjdXN0b20gbWVzc2FnZSB3aGVuIGJhY2sgb25saW5lICovXG4gICAgb25saW5lTWVzc2FnZT86IHN0cmluZztcbiAgICAvKiogRHVyYXRpb24gKG1zKSB0byBzaG93IHRoZSBcImJhY2sgb25saW5lXCIgbWVzc2FnZSAqL1xuICAgIG9ubGluZUR1cmF0aW9uPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIE9mZmxpbmUgSW5kaWNhdG9yIENvbXBvbmVudFxuICogXG4gKiBEaXNwbGF5cyBhIGJhbm5lciB3aGVuIHRoZSB1c2VyIGxvc2VzIGludGVybmV0IGNvbm5lY3Rpdml0eVxuICogYW5kIHNob3dzIGEgYnJpZWYgXCJiYWNrIG9ubGluZVwiIG1lc3NhZ2Ugd2hlbiBjb25uZWN0aXZpdHkgaXMgcmVzdG9yZWQuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiA8T2ZmbGluZUluZGljYXRvciAvPlxuICovXG5jb25zdCBPZmZsaW5lSW5kaWNhdG9yOiBSZWFjdC5GQzxPZmZsaW5lSW5kaWNhdG9yUHJvcHM+ID0gKHtcbiAgICBvZmZsaW5lTWVzc2FnZSA9IFwiWW91J3JlIG9mZmxpbmUuIFNvbWUgZmVhdHVyZXMgbWF5IGJlIHVuYXZhaWxhYmxlLlwiLFxuICAgIG9ubGluZU1lc3NhZ2UgPSBcIllvdSdyZSBiYWNrIG9ubGluZSFcIixcbiAgICBvbmxpbmVEdXJhdGlvbiA9IDMwMDBcbn0pID0+IHtcbiAgICBjb25zdCBbaXNPbmxpbmUsIHNldElzT25saW5lXSA9IHVzZVN0YXRlPGJvb2xlYW4+KFxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IG5hdmlnYXRvci5vbkxpbmUgOiB0cnVlXG4gICAgKTtcbiAgICBjb25zdCBbc2hvd09ubGluZU1lc3NhZ2UsIHNldFNob3dPbmxpbmVNZXNzYWdlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgICBjb25zdCBbd2FzT2ZmbGluZSwgc2V0V2FzT2ZmbGluZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgICBjb25zdCBoYW5kbGVPbmxpbmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHNldElzT25saW5lKHRydWUpO1xuICAgICAgICBpZiAod2FzT2ZmbGluZSkge1xuICAgICAgICAgICAgc2V0U2hvd09ubGluZU1lc3NhZ2UodHJ1ZSk7XG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBvbmxpbmUgbWVzc2FnZSBhZnRlciBzcGVjaWZpZWQgZHVyYXRpb25cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNob3dPbmxpbmVNZXNzYWdlKGZhbHNlKTtcbiAgICAgICAgICAgIH0sIG9ubGluZUR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH0sIFt3YXNPZmZsaW5lLCBvbmxpbmVEdXJhdGlvbl0pO1xuXG4gICAgY29uc3QgaGFuZGxlT2ZmbGluZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0SXNPbmxpbmUoZmFsc2UpO1xuICAgICAgICBzZXRXYXNPZmZsaW5lKHRydWUpO1xuICAgICAgICBzZXRTaG93T25saW5lTWVzc2FnZShmYWxzZSk7XG4gICAgfSwgW10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgaW5pdGlhbCBzdGF0ZVxuICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNldElzT25saW5lKG5hdmlnYXRvci5vbkxpbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgaGFuZGxlT25saW5lKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBoYW5kbGVPZmZsaW5lKTtcblxuICAgICAgICAvLyBDbGVhbnVwXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgaGFuZGxlT25saW5lKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgaGFuZGxlT2ZmbGluZSk7XG4gICAgICAgIH07XG4gICAgfSwgW2hhbmRsZU9ubGluZSwgaGFuZGxlT2ZmbGluZV0pO1xuXG4gICAgLy8gRG9uJ3QgcmVuZGVyIGFueXRoaW5nIGlmIG9ubGluZSBhbmQgbm90IHNob3dpbmcgdGhlIFwiYmFjayBvbmxpbmVcIiBtZXNzYWdlXG4gICAgaWYgKGlzT25saW5lICYmICFzaG93T25saW5lTWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICByb2xlPVwiYWxlcnRcIlxuICAgICAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZpeGVkIHRvcC0wIGxlZnQtMCByaWdodC0wIHotNTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0ICR7XG4gICAgICAgICAgICAgICAgaXNPbmxpbmUgPyAndHJhbnNsYXRlLXktMCcgOiAndHJhbnNsYXRlLXktMCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAgICB7IWlzT25saW5lICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWFtYmVyLTUwMCB0ZXh0LXdoaXRlIHB4LTQgcHktMyBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0byBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIE9mZmxpbmUgSWNvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy01IGgtNSBmbGV4LXNocmluay0wXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17Mn0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTguMzY0IDUuNjM2YTkgOSAwIDAxMCAxMi43MjhtMCAwbC0yLjgyOS0yLjgyOW0yLjgyOSAyLjgyOUwyMSAyMU0xNS41MzYgOC40NjRhNSA1IDAgMDEwIDcuMDcybTAgMGwtMi44MjktMi44MjltLTQuMjQzIDIuODI5YTQuOTc4IDQuOTc4IDAgMDEtMS40MTQtMi44M20tMS40MTQgNS42NThhOSA5IDAgMDEtMi4xNjctOS4yMzhtNy44MjQgMi4xNjdhMSAxIDAgMTExLjQxNCAxLjQxNG0tMS40MTQtMS40MTRMMyAzbTguMjkzIDguMjkzbDEuNDE0IDEuNDE0XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogTWVzc2FnZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b2ZmbGluZU1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBPcHRpb25hbDogUmV0cnkgYnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC00IHB4LTMgcHktMSBiZy1hbWJlci02MDAgaG92ZXI6YmctYW1iZXItNzAwIHJvdW5kZWQtbWQgdGV4dC14cyBmb250LXNlbWlib2xkIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy13aGl0ZSBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctb2Zmc2V0LWFtYmVyLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlJldHJ5IGNvbm5lY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJldHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7c2hvd09ubGluZU1lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc3VjY2VzcyB0ZXh0LXdoaXRlIHB4LTQgcHktMyBzaGFkb3ctbGcgYW5pbWF0ZS1zbGlkZS1mYWRlLWluXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBPbmxpbmUgSWNvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy01IGgtNSBmbGV4LXNocmluay0wXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17Mn0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNOC4xMTEgMTYuNDA0YTUuNSA1LjUgMCAwMTcuNzc4IDBNMTIgMjBoLjAxbS03LjA4LTcuMDcxYzMuOTA0LTMuOTA1IDEwLjIzNi0zLjkwNSAxNC4xNDEgME0xLjM5NCA5LjM5M2M1Ljg1Ny01Ljg1NyAxNS4zNTUtNS44NTcgMjEuMjEzIDBcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBNZXNzYWdlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvbmxpbmVNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgeyBPZmZsaW5lSW5kaWNhdG9yIH07XG5leHBvcnQgZGVmYXVsdCBPZmZsaW5lSW5kaWNhdG9yO1xuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiT2ZmbGluZUluZGljYXRvciIsIm9mZmxpbmVNZXNzYWdlIiwib25saW5lTWVzc2FnZSIsIm9ubGluZUR1cmF0aW9uIiwiaXNPbmxpbmUiLCJzZXRJc09ubGluZSIsIm5hdmlnYXRvciIsIm9uTGluZSIsInNob3dPbmxpbmVNZXNzYWdlIiwic2V0U2hvd09ubGluZU1lc3NhZ2UiLCJ3YXNPZmZsaW5lIiwic2V0V2FzT2ZmbGluZSIsImhhbmRsZU9ubGluZSIsInNldFRpbWVvdXQiLCJoYW5kbGVPZmZsaW5lIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJyb2xlIiwiYXJpYS1saXZlIiwiY2xhc3NOYW1lIiwic3ZnIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJhcmlhLWhpZGRlbiIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsImxvY2F0aW9uIiwicmVsb2FkIiwiYXJpYS1sYWJlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/OfflineIndicator.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/ReviewPrompt.tsx":
/*!****************************************!*\
  !*** ./components/ui/ReviewPrompt.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst ReviewPrompt = ({ onClose })=>{\n    // Prevent background scrolling when modal is open\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect({\n        \"ReviewPrompt.useEffect\": ()=>{\n            document.body.style.overflow = 'hidden';\n            return ({\n                \"ReviewPrompt.useEffect\": ()=>{\n                    document.body.style.overflow = 'unset';\n                }\n            })[\"ReviewPrompt.useEffect\"];\n        }\n    }[\"ReviewPrompt.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4\",\n        \"aria-modal\": \"true\",\n        role: \"dialog\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-[var(--color-bg-card)] rounded-2xl shadow-xl p-8 max-w-sm w-full text-center animate-slide-fade-in\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mx-auto mb-6 bg-[var(--color-accent-warning)] h-20 w-20 rounded-full flex items-center justify-center ring-8 ring-[var(--color-accent-warning)]/50\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"fa-solid fa-star text-4xl\",\n                        style: {\n                            color: 'var(--color-text-primary)'\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n                        lineNumber: 28,\n                        columnNumber: 21\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n                    lineNumber: 27,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-2xl font-bold text-[var(--color-text-primary)] mb-2\",\n                    children: \"Enjoying MI Mastery?\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n                    lineNumber: 31,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-[var(--color-text-secondary)] mb-8\",\n                    children: \"Your feedback helps us improve. If you have a moment, please consider leaving a review.\"\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                            href: \"mailto:support@mimastery.com?subject=MI Mastery Feedback\",\n                            onClick: ()=>onClose('rate'),\n                            className: \"w-full bg-[var(--color-primary)] text-white font-bold py-3 px-6 rounded-full text-lg shadow-lg hover:bg-[var(--color-primary-dark)] transition-transform transform hover:scale-105 text-center inline-block\",\n                            children: \"Leave a Review\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n                            lineNumber: 37,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onClose('later'),\n                            className: \"w-full text-[var(--color-text-secondary)] font-semibold py-3 px-6 rounded-full hover:bg-[var(--color-neutral-100)] transition\",\n                            children: \"Remind Me Later\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n                            lineNumber: 44,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onClose('no'),\n                            className: \"w-full text-sm text-[var(--color-text-muted)] font-medium py-2 px-6 rounded-full hover:text-[var(--color-text-secondary)] transition\",\n                            children: \"No, Thanks\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n                            lineNumber: 50,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n                    lineNumber: 36,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n            lineNumber: 24,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/ui/ReviewPrompt.tsx\",\n        lineNumber: 19,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReviewPrompt);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL1Jldmlld1Byb21wdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTBCO0FBTTFCLE1BQU1DLGVBQTRDLENBQUMsRUFBRUMsT0FBTyxFQUFFO0lBQzFELGtEQUFrRDtJQUNsREYsc0RBQWU7a0NBQUM7WUFDWkksU0FBU0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLFFBQVEsR0FBRztZQUMvQjswQ0FBTztvQkFDSEgsU0FBU0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLFFBQVEsR0FBRztnQkFDbkM7O1FBQ0o7aUNBQUcsRUFBRTtJQUVMLHFCQUNJLDhEQUFDQztRQUNHQyxXQUFVO1FBQ1ZDLGNBQVc7UUFDWEMsTUFBSztrQkFFTCw0RUFBQ0g7WUFDR0MsV0FBVTs7OEJBRVYsOERBQUNEO29CQUFJQyxXQUFVOzhCQUNYLDRFQUFDRzt3QkFBRUgsV0FBVTt3QkFBNEJILE9BQU87NEJBQUVPLE9BQU87d0JBQTRCOzs7Ozs7Ozs7Ozs4QkFHekYsOERBQUNDO29CQUFHTCxXQUFVOzhCQUEyRDs7Ozs7OzhCQUN6RSw4REFBQ007b0JBQUVOLFdBQVU7OEJBQTBDOzs7Ozs7OEJBSXZELDhEQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ1gsOERBQUNPOzRCQUNHQyxNQUFLOzRCQUNMQyxTQUFTLElBQU1oQixRQUFROzRCQUN2Qk8sV0FBVTtzQ0FDYjs7Ozs7O3NDQUdELDhEQUFDVTs0QkFDR0QsU0FBUyxJQUFNaEIsUUFBUTs0QkFDdkJPLFdBQVU7c0NBQ2I7Ozs7OztzQ0FHRCw4REFBQ1U7NEJBQ0dELFNBQVMsSUFBTWhCLFFBQVE7NEJBQ3ZCTyxXQUFVO3NDQUNiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9yQjtBQUVBLGlFQUFlUixZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL1Jldmlld1Byb21wdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgUmV2aWV3UHJvbXB0UHJvcHMge1xuICAgIG9uQ2xvc2U6IChjaG9pY2U6ICdyYXRlJyB8ICdsYXRlcicgfCAnbm8nKSA9PiB2b2lkO1xufVxuXG5jb25zdCBSZXZpZXdQcm9tcHQ6IFJlYWN0LkZDPFJldmlld1Byb21wdFByb3BzPiA9ICh7IG9uQ2xvc2UgfSkgPT4ge1xuICAgIC8vIFByZXZlbnQgYmFja2dyb3VuZCBzY3JvbGxpbmcgd2hlbiBtb2RhbCBpcyBvcGVuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICd1bnNldCc7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS02MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiXG4gICAgICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXG4gICAgICAgICAgICByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1bdmFyKC0tY29sb3ItYmctY2FyZCldIHJvdW5kZWQtMnhsIHNoYWRvdy14bCBwLTggbWF4LXctc20gdy1mdWxsIHRleHQtY2VudGVyIGFuaW1hdGUtc2xpZGUtZmFkZS1pblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIG1iLTYgYmctW3ZhcigtLWNvbG9yLWFjY2VudC13YXJuaW5nKV0gaC0yMCB3LTIwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByaW5nLTggcmluZy1bdmFyKC0tY29sb3ItYWNjZW50LXdhcm5pbmcpXS81MFwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1zdGFyIHRleHQtNHhsXCIgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpJyB9fT48L2k+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBtYi0yXCI+RW5qb3lpbmcgTUkgTWFzdGVyeT88L2gyPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KV0gbWItOFwiPlxuICAgICAgICAgICAgICAgICAgICBZb3VyIGZlZWRiYWNrIGhlbHBzIHVzIGltcHJvdmUuIElmIHlvdSBoYXZlIGEgbW9tZW50LCBwbGVhc2UgY29uc2lkZXIgbGVhdmluZyBhIHJldmlldy5cbiAgICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmPVwibWFpbHRvOnN1cHBvcnRAbWltYXN0ZXJ5LmNvbT9zdWJqZWN0PU1JIE1hc3RlcnkgRmVlZGJhY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25DbG9zZSgncmF0ZScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMyBweC02IHJvdW5kZWQtZnVsbCB0ZXh0LWxnIHNoYWRvdy1sZyBob3ZlcjpiZy1bdmFyKC0tY29sb3ItcHJpbWFyeS1kYXJrKV0gdHJhbnNpdGlvbi10cmFuc2Zvcm0gdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTEwNSB0ZXh0LWNlbnRlciBpbmxpbmUtYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBMZWF2ZSBhIFJldmlld1xuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkNsb3NlKCdsYXRlcicpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KV0gZm9udC1zZW1pYm9sZCBweS0zIHB4LTYgcm91bmRlZC1mdWxsIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1uZXV0cmFsLTEwMCldIHRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBSZW1pbmQgTWUgTGF0ZXJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkNsb3NlKCdubycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtc20gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIGZvbnQtbWVkaXVtIHB5LTIgcHgtNiByb3VuZGVkLWZ1bGwgaG92ZXI6dGV4dC1bdmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpXSB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgTm8sIFRoYW5rc1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2aWV3UHJvbXB0O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiUmV2aWV3UHJvbXB0Iiwib25DbG9zZSIsInVzZUVmZmVjdCIsImRvY3VtZW50IiwiYm9keSIsInN0eWxlIiwib3ZlcmZsb3ciLCJkaXYiLCJjbGFzc05hbWUiLCJhcmlhLW1vZGFsIiwicm9sZSIsImkiLCJjb2xvciIsImgyIiwicCIsImEiLCJocmVmIiwib25DbGljayIsImJ1dHRvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/ReviewPrompt.tsx\n");

/***/ }),

/***/ "(ssr)/./components/views/ScenarioSelectionView.tsx":
/*!****************************************************!*\
  !*** ./components/views/ScenarioSelectionView.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScenarioSelectionView: () => (/* binding */ ScenarioSelectionView)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../constants */ \"(ssr)/./constants.ts\");\n/* harmony import */ var _ui_BackButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/BackButton */ \"(ssr)/./components/ui/BackButton.tsx\");\n/* harmony import */ var _ui_Card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/Card */ \"(ssr)/./components/ui/Card.tsx\");\n/* __next_internal_client_entry_do_not_use__ ScenarioSelectionView auto */ \n\n\n\n\n\nconst CustomSelect = ({ id, label, icon, value, onChange, options, helperText })=>{\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const selectedOption = options.find((opt)=>opt.value === value);\n    // Close dropdown when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CustomSelect.useEffect\": ()=>{\n            const handleClickOutside = {\n                \"CustomSelect.useEffect.handleClickOutside\": (event)=>{\n                    if (containerRef.current && !containerRef.current.contains(event.target)) {\n                        setIsOpen(false);\n                    }\n                }\n            }[\"CustomSelect.useEffect.handleClickOutside\"];\n            if (isOpen) {\n                document.addEventListener('mousedown', handleClickOutside);\n                document.addEventListener('touchstart', handleClickOutside);\n            }\n            return ({\n                \"CustomSelect.useEffect\": ()=>{\n                    document.removeEventListener('mousedown', handleClickOutside);\n                    document.removeEventListener('touchstart', handleClickOutside);\n                }\n            })[\"CustomSelect.useEffect\"];\n        }\n    }[\"CustomSelect.useEffect\"], [\n        isOpen\n    ]);\n    // Close on escape key\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CustomSelect.useEffect\": ()=>{\n            const handleEscape = {\n                \"CustomSelect.useEffect.handleEscape\": (event)=>{\n                    if (event.key === 'Escape') {\n                        setIsOpen(false);\n                    }\n                }\n            }[\"CustomSelect.useEffect.handleEscape\"];\n            if (isOpen) {\n                document.addEventListener('keydown', handleEscape);\n            }\n            return ({\n                \"CustomSelect.useEffect\": ()=>{\n                    document.removeEventListener('keydown', handleEscape);\n                }\n            })[\"CustomSelect.useEffect\"];\n        }\n    }[\"CustomSelect.useEffect\"], [\n        isOpen\n    ]);\n    const handleSelect = (optionValue)=>{\n        onChange(optionValue);\n        setIsOpen(false);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: \"relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                id: `${id}-label`,\n                className: \"block text-lg font-bold text-[var(--color-text-primary)] mb-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: `${icon} mr-2 text-[var(--color-primary)]`,\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 17\n                    }, undefined),\n                    label\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                lineNumber: 74,\n                columnNumber: 13\n            }, undefined),\n            helperText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-sm text-[var(--color-text-muted)] mb-3\",\n                children: helperText\n            }, void 0, false, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                lineNumber: 79,\n                columnNumber: 17\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                type: \"button\",\n                id: id,\n                \"aria-haspopup\": \"listbox\",\n                \"aria-expanded\": isOpen,\n                \"aria-labelledby\": `${id}-label`,\n                onClick: ()=>setIsOpen(!isOpen),\n                className: \"w-full p-4 pr-12 text-left text-lg border-2 border-black bg-white focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] font-medium cursor-pointer transition-all text-[var(--color-text-primary)] hover:bg-[var(--color-bg-accent)]\",\n                style: {\n                    minHeight: '56px'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: selectedOption?.value !== 'any' ? 'text-[var(--color-primary-dark)] font-semibold' : '',\n                        children: selectedOption?.label || 'Select...'\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: `fa-solid fa-chevron-down text-[var(--color-text-muted)] text-lg transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`,\n                            \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                            lineNumber: 97,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 96,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                lineNumber: 83,\n                columnNumber: 13\n            }, undefined),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed inset-0 z-40 bg-black/20 sm:hidden\",\n                        onClick: ()=>setIsOpen(false),\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 105,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        role: \"listbox\",\n                        \"aria-labelledby\": `${id}-label`,\n                        className: \"absolute left-0 right-0 mt-1 bg-white border-2 border-black shadow-lg z-50 max-h-72 overflow-y-auto\",\n                        children: options.map((option, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                role: \"option\",\n                                \"aria-selected\": option.value === value,\n                                onClick: ()=>handleSelect(option.value),\n                                className: `\n                                    px-4 py-3 cursor-pointer transition-colors text-base\n                                    ${option.value === value ? 'bg-[var(--color-primary-lighter)] text-[var(--color-primary-dark)] font-bold' : 'text-[var(--color-text-primary)] hover:bg-[var(--color-bg-accent)]'}\n                                    ${index !== options.length - 1 ? 'border-b border-[var(--color-neutral-200)]' : ''}\n                                `,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        option.value === value && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa-solid fa-check mr-2 text-[var(--color-primary)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 134,\n                                            columnNumber: 41\n                                        }, undefined),\n                                        option.label\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                    lineNumber: 132,\n                                    columnNumber: 33\n                                }, undefined)\n                            }, option.value, false, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                lineNumber: 118,\n                                columnNumber: 29\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n        lineNumber: 73,\n        columnNumber: 9\n    }, undefined);\n};\nconst DIFFICULTY_DESCRIPTIONS = {\n    [_types__WEBPACK_IMPORTED_MODULE_2__.DifficultyLevel.Beginner]: \"Patient is collaborative and open to change (Preparation/Action stages).\",\n    [_types__WEBPACK_IMPORTED_MODULE_2__.DifficultyLevel.Intermediate]: \"Patient is ambivalent about changing (Contemplation stage).\",\n    [_types__WEBPACK_IMPORTED_MODULE_2__.DifficultyLevel.Advanced]: \"Patient is resistant and doesn't see behavior as a problem (Precontemplation stage).\"\n};\nconst ScenarioSelectionView = ({ onBack, onStartPractice })=>{\n    const [selectedTopic, setSelectedTopic] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('any');\n    const [selectedStage, setSelectedStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('any');\n    const [selectedDifficulty, setSelectedDifficulty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('any');\n    // Memoize the list of unique topics from the constants file\n    const uniqueTopics = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ScenarioSelectionView.useMemo[uniqueTopics]\": ()=>{\n            const topics = new Set(_constants__WEBPACK_IMPORTED_MODULE_3__.PATIENT_PROFILE_TEMPLATES.map({\n                \"ScenarioSelectionView.useMemo[uniqueTopics]\": (t)=>t.topic\n            }[\"ScenarioSelectionView.useMemo[uniqueTopics]\"]));\n            return Array.from(topics).sort();\n        }\n    }[\"ScenarioSelectionView.useMemo[uniqueTopics]\"], []);\n    const allStages = Object.values(_types__WEBPACK_IMPORTED_MODULE_2__.StageOfChange);\n    const allDifficulties = Object.values(_types__WEBPACK_IMPORTED_MODULE_2__.DifficultyLevel);\n    const handleStart = ()=>{\n        const filters = {};\n        if (selectedTopic !== 'any') {\n            filters.topic = selectedTopic;\n        }\n        if (selectedStage !== 'any') {\n            filters.stageOfChange = selectedStage;\n        } else if (selectedDifficulty !== 'any') {\n            // Only apply difficulty if a specific stage isn't chosen\n            filters.difficulty = selectedDifficulty;\n        }\n        onStartPractice(filters);\n    };\n    const handleRandomStart = ()=>{\n        onStartPractice({});\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-transparent pb-24 p-4 sm:p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex items-center mb-6 pt-2 max-w-2xl mx-auto\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_BackButton__WEBPACK_IMPORTED_MODULE_4__.BackButton, {\n                        onClick: onBack,\n                        className: \"mr-3\"\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 188,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold text-[var(--color-text-primary)]\",\n                        children: \"Scenario Selection\"\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 189,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                lineNumber: 187,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"max-w-2xl mx-auto space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        variant: \"elevated\",\n                        padding: \"lg\",\n                        className: \"border-2 border-black shadow-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-xs font-bold text-[var(--color-text-muted)] uppercase tracking-wider mb-4\",\n                                            children: \"What would you like to practice?\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 198,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CustomSelect, {\n                                            id: \"topic-select\",\n                                            label: \"Topic of Conversation\",\n                                            icon: \"fa-solid fa-comments\",\n                                            value: selectedTopic,\n                                            onChange: setSelectedTopic,\n                                            helperText: \"Choose a specific behavioral health topic or leave as 'Any' for variety.\",\n                                            options: [\n                                                {\n                                                    value: 'any',\n                                                    label: 'Any Topic'\n                                                },\n                                                ...uniqueTopics.map((topic)=>({\n                                                        value: topic,\n                                                        label: topic\n                                                    }))\n                                            ]\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 201,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                    lineNumber: 197,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                    className: \"border-[var(--color-neutral-200)]\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                    lineNumber: 215,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-xs font-bold text-[var(--color-text-muted)] uppercase tracking-wider mb-4\",\n                                            children: \"Choose your challenge level\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 219,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CustomSelect, {\n                                            id: \"difficulty-select\",\n                                            label: \"Difficulty Level\",\n                                            icon: \"fa-solid fa-gauge-high\",\n                                            value: selectedDifficulty,\n                                            onChange: setSelectedDifficulty,\n                                            helperText: \"Higher difficulty means more resistant patients.\",\n                                            options: [\n                                                {\n                                                    value: 'any',\n                                                    label: 'Any Difficulty'\n                                                },\n                                                ...allDifficulties.map((level)=>({\n                                                        value: level,\n                                                        label: level\n                                                    }))\n                                            ]\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 222,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        selectedDifficulty !== 'any' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 p-3 bg-[var(--color-warning-light)] border border-[var(--color-warning)] text-[var(--color-warning-dark)] text-sm rounded-md\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"fa-solid fa-circle-info mr-2\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                                    lineNumber: 236,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                DIFFICULTY_DESCRIPTIONS[selectedDifficulty]\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 235,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                    className: \"border-[var(--color-neutral-200)]\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                    lineNumber: 242,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-xs font-bold text-[var(--color-text-muted)] uppercase tracking-wider mb-4\",\n                                            children: \"Advanced: Target a specific stage\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 246,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CustomSelect, {\n                                            id: \"stage-select\",\n                                            label: \"Stage of Change\",\n                                            icon: \"fa-solid fa-stairs\",\n                                            value: selectedStage,\n                                            onChange: setSelectedStage,\n                                            helperText: \"Optional. Overrides difficulty setting if selected.\",\n                                            options: [\n                                                {\n                                                    value: 'any',\n                                                    label: 'Any Stage'\n                                                },\n                                                ...allStages.map((stage)=>({\n                                                        value: stage,\n                                                        label: stage\n                                                    }))\n                                            ]\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 249,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        selectedStage !== 'any' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 p-3 bg-[var(--color-info-light)] border border-[var(--color-info)] text-[var(--color-info-dark)] text-sm rounded-md\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"fa-solid fa-circle-info mr-2\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                                    lineNumber: 263,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                _constants__WEBPACK_IMPORTED_MODULE_3__.STAGE_DESCRIPTIONS[selectedStage]\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 262,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        selectedStage !== 'any' && selectedDifficulty !== 'any' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 p-2 bg-[var(--color-bg-accent)] border border-[var(--color-primary-light)] text-[var(--color-text-secondary)] text-xs\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"fa-solid fa-triangle-exclamation mr-1 text-amber-500\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                                    lineNumber: 269,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                \"Stage selection will override your difficulty choice.\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 268,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                    lineNumber: 245,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                            lineNumber: 195,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 194,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-flex items-center justify-center w-16 h-16 bg-[var(--color-primary-lighter)] rounded-full mb-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"fa-solid fa-rocket text-3xl text-[var(--color-primary-dark)]\",\n                                            \"aria-hidden\": \"true\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                            lineNumber: 281,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                        lineNumber: 280,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-bold text-[var(--color-text-primary)]\",\n                                        children: \"Ready to Start?\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                        lineNumber: 283,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-[var(--color-text-secondary)] mt-1\",\n                                        children: \"Choose how you'd like to begin your practice session\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                        lineNumber: 284,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"shadow-lg rounded-lg overflow-hidden\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleStart,\n                                        className: \"w-full min-h-[var(--touch-target-min)] py-3 px-4 bg-white border-2 border-b border-[var(--color-neutral-400)] text-[var(--color-text-primary)] font-semibold text-base hover:bg-[var(--color-bg-accent)] transition-colors\",\n                                        children: \"Start Selected Scenario\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                        lineNumber: 288,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleRandomStart,\n                                        className: \"w-full min-h-[var(--touch-target-min)] py-3 px-4 bg-white border-2 border-t-0 border-[var(--color-neutral-400)] text-[var(--color-text-primary)] font-semibold text-base hover:bg-[var(--color-bg-accent)] transition-colors\",\n                                        children: \"Start a Random Scenario\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                        lineNumber: 294,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                                lineNumber: 287,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n                lineNumber: 192,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/ScenarioSelectionView.tsx\",\n        lineNumber: 186,\n        columnNumber: 9\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3ZpZXdzL1NjZW5hcmlvU2VsZWN0aW9uVmlldy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUVvRTtBQUNnQjtBQUNKO0FBRWxDO0FBQ1o7QUFpQmxDLE1BQU1XLGVBQTRDLENBQUMsRUFBRUMsRUFBRSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFO0lBQ3hHLE1BQU0sQ0FBQ0MsUUFBUUMsVUFBVSxHQUFHbkIsK0NBQVFBLENBQUM7SUFDckMsTUFBTW9CLGVBQWVsQiw2Q0FBTUEsQ0FBaUI7SUFFNUMsTUFBTW1CLGlCQUFpQkwsUUFBUU0sSUFBSSxDQUFDQyxDQUFBQSxNQUFPQSxJQUFJVCxLQUFLLEtBQUtBO0lBRXpELHVDQUF1QztJQUN2Q1gsZ0RBQVNBO2tDQUFDO1lBQ04sTUFBTXFCOzZEQUFxQixDQUFDQztvQkFDeEIsSUFBSUwsYUFBYU0sT0FBTyxJQUFJLENBQUNOLGFBQWFNLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDRixNQUFNRyxNQUFNLEdBQVc7d0JBQzlFVCxVQUFVO29CQUNkO2dCQUNKOztZQUVBLElBQUlELFFBQVE7Z0JBQ1JXLFNBQVNDLGdCQUFnQixDQUFDLGFBQWFOO2dCQUN2Q0ssU0FBU0MsZ0JBQWdCLENBQUMsY0FBY047WUFDNUM7WUFFQTswQ0FBTztvQkFDSEssU0FBU0UsbUJBQW1CLENBQUMsYUFBYVA7b0JBQzFDSyxTQUFTRSxtQkFBbUIsQ0FBQyxjQUFjUDtnQkFDL0M7O1FBQ0o7aUNBQUc7UUFBQ047S0FBTztJQUVYLHNCQUFzQjtJQUN0QmYsZ0RBQVNBO2tDQUFDO1lBQ04sTUFBTTZCO3VEQUFlLENBQUNQO29CQUNsQixJQUFJQSxNQUFNUSxHQUFHLEtBQUssVUFBVTt3QkFDeEJkLFVBQVU7b0JBQ2Q7Z0JBQ0o7O1lBRUEsSUFBSUQsUUFBUTtnQkFDUlcsU0FBU0MsZ0JBQWdCLENBQUMsV0FBV0U7WUFDekM7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V0FBVTs7OERBQ1gsOERBQUNDO29EQUFFRCxXQUFVO29EQUErQkUsZUFBWTs7Ozs7O2dEQUN2RGpDLDBEQUFrQixDQUFDNkQsY0FBK0I7Ozs7Ozs7d0NBRzFEQSxrQkFBa0IsU0FBU0UsdUJBQXVCLHVCQUMvQyw4REFBQ2xDOzRDQUFJRSxXQUFVOzs4REFDWCw4REFBQ0M7b0RBQUVELFdBQVU7b0RBQXVERSxlQUFZOzs7Ozs7Z0RBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQ0FTL0csOERBQUNKOzswQ0FDRyw4REFBQ0E7Z0NBQUlFLFdBQVU7O2tEQUNYLDhEQUFDRjt3Q0FBSUUsV0FBVTtrREFDWCw0RUFBQ0M7NENBQUVELFdBQVU7NENBQStERSxlQUFZOzs7Ozs7Ozs7OztrREFFNUYsOERBQUNzRDt3Q0FBR3hELFdBQVU7a0RBQXFEOzs7Ozs7a0RBQ25FLDhEQUFDRzt3Q0FBRUgsV0FBVTtrREFBa0Q7Ozs7Ozs7Ozs7OzswQ0FHbkUsOERBQUNGO2dDQUFJRSxXQUFVOztrREFDWCw4REFBQ0k7d0NBQ0dLLFNBQVNxQzt3Q0FDVDlDLFdBQVU7a0RBQ2I7Ozs7OztrREFHRCw4REFBQ0k7d0NBQ0dLLFNBQVN5Qzt3Q0FDVGxELFdBQVU7a0RBQ2I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVN6QixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3ZpZXdzL1NjZW5hcmlvU2VsZWN0aW9uVmlldy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUGF0aWVudFByb2ZpbGVGaWx0ZXJzLCBTdGFnZU9mQ2hhbmdlLCBEaWZmaWN1bHR5TGV2ZWwgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBQQVRJRU5UX1BST0ZJTEVfVEVNUExBVEVTLCBTVEFHRV9ERVNDUklQVElPTlMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvQnV0dG9uJztcbmltcG9ydCB7IEJhY2tCdXR0b24gfSBmcm9tICcuLi91aS9CYWNrQnV0dG9uJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi91aS9DYXJkJztcblxuaW50ZXJmYWNlIFNjZW5hcmlvU2VsZWN0aW9uVmlld1Byb3BzIHtcbiAgICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gICAgb25TdGFydFByYWN0aWNlOiAoZmlsdGVyczogUGF0aWVudFByb2ZpbGVGaWx0ZXJzKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQ3VzdG9tU2VsZWN0UHJvcHMge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBpY29uOiBzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBvbkNoYW5nZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgb3B0aW9uczogQXJyYXk8eyB2YWx1ZTogc3RyaW5nOyBsYWJlbDogc3RyaW5nIH0+O1xuICAgIGhlbHBlclRleHQ/OiBzdHJpbmc7XG59XG5cbmNvbnN0IEN1c3RvbVNlbGVjdDogUmVhY3QuRkM8Q3VzdG9tU2VsZWN0UHJvcHM+ID0gKHsgaWQsIGxhYmVsLCBpY29uLCB2YWx1ZSwgb25DaGFuZ2UsIG9wdGlvbnMsIGhlbHBlclRleHQgfSkgPT4ge1xuICAgIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgICBcbiAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnMuZmluZChvcHQgPT4gb3B0LnZhbHVlID09PSB2YWx1ZSk7XG4gICAgXG4gICAgLy8gQ2xvc2UgZHJvcGRvd24gd2hlbiBjbGlja2luZyBvdXRzaWRlXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQgJiYgIWNvbnRhaW5lclJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICAgICAgICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZUNsaWNrT3V0c2lkZSBhcyBFdmVudExpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlQ2xpY2tPdXRzaWRlIGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgIH0sIFtpc09wZW5dKTtcbiAgICBcbiAgICAvLyBDbG9zZSBvbiBlc2NhcGUga2V5XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlRXNjYXBlID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRXNjYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2NhcGUpO1xuICAgICAgICB9O1xuICAgIH0sIFtpc09wZW5dKTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAob3B0aW9uVmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICBvbkNoYW5nZShvcHRpb25WYWx1ZSk7XG4gICAgICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPGxhYmVsIGlkPXtgJHtpZH0tbGFiZWxgfSBjbGFzc05hbWU9XCJibG9jayB0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBtYi0yXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgJHtpY29ufSBtci0yIHRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnkpXWB9IGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAge2hlbHBlclRleHQgJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIG1iLTNcIj57aGVscGVyVGV4dH08L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogVHJpZ2dlciBCdXR0b24gKi99XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgaWQ9e2lkfVxuICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXtpc09wZW59XG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PXtgJHtpZH0tbGFiZWxgfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbighaXNPcGVuKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC00IHByLTEyIHRleHQtbGVmdCB0ZXh0LWxnIGJvcmRlci0yIGJvcmRlci1ibGFjayBiZy13aGl0ZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXSBmb250LW1lZGl1bSBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBob3ZlcjpiZy1bdmFyKC0tY29sb3ItYmctYWNjZW50KV1cIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1pbkhlaWdodDogJzU2cHgnIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzZWxlY3RlZE9wdGlvbj8udmFsdWUgIT09ICdhbnknID8gJ3RleHQtW3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayldIGZvbnQtc2VtaWJvbGQnIDogJyd9PlxuICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRPcHRpb24/LmxhYmVsIHx8ICdTZWxlY3QuLi4nfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LXktMCByaWdodC0wIGZsZXggaXRlbXMtY2VudGVyIHByLTQgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BmYS1zb2xpZCBmYS1jaGV2cm9uLWRvd24gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1tdXRlZCldIHRleHQtbGcgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMjAwICR7aXNPcGVuID8gJ3JvdGF0ZS0xODAnIDogJyd9YH0gYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBEcm9wZG93biBNZW51ICovfVxuICAgICAgICAgICAge2lzT3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgey8qIEJhY2tkcm9wIGZvciBtb2JpbGUgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNDAgYmctYmxhY2svMjAgc206aGlkZGVuXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBPcHRpb25zIExpc3QgKi99XG4gICAgICAgICAgICAgICAgICAgIDx1bFxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImxpc3Rib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PXtgJHtpZH0tbGFiZWxgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0wIHJpZ2h0LTAgbXQtMSBiZy13aGl0ZSBib3JkZXItMiBib3JkZXItYmxhY2sgc2hhZG93LWxnIHotNTAgbWF4LWgtNzIgb3ZlcmZsb3cteS1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge29wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17b3B0aW9uLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwib3B0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1zZWxlY3RlZD17b3B0aW9uLnZhbHVlID09PSB2YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2VsZWN0KG9wdGlvbi52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHgtNCBweS0zIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHRleHQtYmFzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtvcHRpb24udmFsdWUgPT09IHZhbHVlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLVt2YXIoLS1jb2xvci1wcmltYXJ5LWxpZ2h0ZXIpXSB0ZXh0LVt2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspXSBmb250LWJvbGQnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ3RleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1iZy1hY2NlbnQpXSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7aW5kZXggIT09IG9wdGlvbnMubGVuZ3RoIC0gMSA/ICdib3JkZXItYiBib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtMjAwKV0nIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge29wdGlvbi52YWx1ZSA9PT0gdmFsdWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWNoZWNrIG1yLTIgdGV4dC1bdmFyKC0tY29sb3ItcHJpbWFyeSldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb24ubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuY29uc3QgRElGRklDVUxUWV9ERVNDUklQVElPTlM6IFJlY29yZDxEaWZmaWN1bHR5TGV2ZWwsIHN0cmluZz4gPSB7XG4gICAgW0RpZmZpY3VsdHlMZXZlbC5CZWdpbm5lcl06IFwiUGF0aWVudCBpcyBjb2xsYWJvcmF0aXZlIGFuZCBvcGVuIHRvIGNoYW5nZSAoUHJlcGFyYXRpb24vQWN0aW9uIHN0YWdlcykuXCIsXG4gICAgW0RpZmZpY3VsdHlMZXZlbC5JbnRlcm1lZGlhdGVdOiBcIlBhdGllbnQgaXMgYW1iaXZhbGVudCBhYm91dCBjaGFuZ2luZyAoQ29udGVtcGxhdGlvbiBzdGFnZSkuXCIsXG4gICAgW0RpZmZpY3VsdHlMZXZlbC5BZHZhbmNlZF06IFwiUGF0aWVudCBpcyByZXNpc3RhbnQgYW5kIGRvZXNuJ3Qgc2VlIGJlaGF2aW9yIGFzIGEgcHJvYmxlbSAoUHJlY29udGVtcGxhdGlvbiBzdGFnZSkuXCIsXG59O1xuXG5leHBvcnQgY29uc3QgU2NlbmFyaW9TZWxlY3Rpb25WaWV3OiBSZWFjdC5GQzxTY2VuYXJpb1NlbGVjdGlvblZpZXdQcm9wcz4gPSAoeyBvbkJhY2ssIG9uU3RhcnRQcmFjdGljZSB9KSA9PiB7XG4gICAgY29uc3QgW3NlbGVjdGVkVG9waWMsIHNldFNlbGVjdGVkVG9waWNdID0gdXNlU3RhdGUoJ2FueScpO1xuICAgIGNvbnN0IFtzZWxlY3RlZFN0YWdlLCBzZXRTZWxlY3RlZFN0YWdlXSA9IHVzZVN0YXRlKCdhbnknKTtcbiAgICBjb25zdCBbc2VsZWN0ZWREaWZmaWN1bHR5LCBzZXRTZWxlY3RlZERpZmZpY3VsdHldID0gdXNlU3RhdGUoJ2FueScpO1xuXG4gICAgLy8gTWVtb2l6ZSB0aGUgbGlzdCBvZiB1bmlxdWUgdG9waWNzIGZyb20gdGhlIGNvbnN0YW50cyBmaWxlXG4gICAgY29uc3QgdW5pcXVlVG9waWNzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvcGljcyA9IG5ldyBTZXQoUEFUSUVOVF9QUk9GSUxFX1RFTVBMQVRFUy5tYXAodCA9PiB0LnRvcGljKSk7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRvcGljcykuc29ydCgpO1xuICAgIH0sIFtdKTtcbiAgICBcbiAgICBjb25zdCBhbGxTdGFnZXMgPSBPYmplY3QudmFsdWVzKFN0YWdlT2ZDaGFuZ2UpO1xuICAgIGNvbnN0IGFsbERpZmZpY3VsdGllcyA9IE9iamVjdC52YWx1ZXMoRGlmZmljdWx0eUxldmVsKTtcblxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJzOiBQYXRpZW50UHJvZmlsZUZpbHRlcnMgPSB7fTtcbiAgICAgICAgaWYgKHNlbGVjdGVkVG9waWMgIT09ICdhbnknKSB7XG4gICAgICAgICAgICBmaWx0ZXJzLnRvcGljID0gc2VsZWN0ZWRUb3BpYztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRTdGFnZSAhPT0gJ2FueScpIHtcbiAgICAgICAgICAgIGZpbHRlcnMuc3RhZ2VPZkNoYW5nZSA9IHNlbGVjdGVkU3RhZ2UgYXMgU3RhZ2VPZkNoYW5nZTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZERpZmZpY3VsdHkgIT09ICdhbnknKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGFwcGx5IGRpZmZpY3VsdHkgaWYgYSBzcGVjaWZpYyBzdGFnZSBpc24ndCBjaG9zZW5cbiAgICAgICAgICAgIGZpbHRlcnMuZGlmZmljdWx0eSA9IHNlbGVjdGVkRGlmZmljdWx0eSBhcyBEaWZmaWN1bHR5TGV2ZWw7XG4gICAgICAgIH1cbiAgICAgICAgb25TdGFydFByYWN0aWNlKGZpbHRlcnMpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlUmFuZG9tU3RhcnQgPSAoKSA9PiB7XG4gICAgICAgIG9uU3RhcnRQcmFjdGljZSh7fSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXRyYW5zcGFyZW50IHBiLTI0IHAtNCBzbTpwLTZcIj5cbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbWItNiBwdC0yIG1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgPEJhY2tCdXR0b24gb25DbGljaz17b25CYWNrfSBjbGFzc05hbWU9XCJtci0zXCIgLz5cbiAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldXCI+U2NlbmFyaW8gU2VsZWN0aW9uPC9oMT5cbiAgICAgICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJtYXgtdy0yeGwgbXgtYXV0byBzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgICB7LyogRm9ybSBDYXJkICovfVxuICAgICAgICAgICAgICAgIDxDYXJkIHZhcmlhbnQ9XCJlbGV2YXRlZFwiIHBhZGRpbmc9XCJsZ1wiIGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci1ibGFjayBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTZWN0aW9uOiBUb3BpYyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIHByYWN0aWNlP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEN1c3RvbVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInRvcGljLXNlbGVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiVG9waWMgb2YgQ29udmVyc2F0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj1cImZhLXNvbGlkIGZhLWNvbW1lbnRzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkVG9waWN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRTZWxlY3RlZFRvcGljfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwZXJUZXh0PVwiQ2hvb3NlIGEgc3BlY2lmaWMgYmVoYXZpb3JhbCBoZWFsdGggdG9waWMgb3IgbGVhdmUgYXMgJ0FueScgZm9yIHZhcmlldHkuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogJ2FueScsIGxhYmVsOiAnQW55IFRvcGljJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udW5pcXVlVG9waWNzLm1hcCh0b3BpYyA9PiAoeyB2YWx1ZTogdG9waWMsIGxhYmVsOiB0b3BpYyB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtMjAwKV1cIiAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogU2VjdGlvbjogRGlmZmljdWx0eSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaG9vc2UgeW91ciBjaGFsbGVuZ2UgbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDdXN0b21TZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJkaWZmaWN1bHR5LXNlbGVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiRGlmZmljdWx0eSBMZXZlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249XCJmYS1zb2xpZCBmYS1nYXVnZS1oaWdoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkRGlmZmljdWx0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldFNlbGVjdGVkRGlmZmljdWx0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscGVyVGV4dD1cIkhpZ2hlciBkaWZmaWN1bHR5IG1lYW5zIG1vcmUgcmVzaXN0YW50IHBhdGllbnRzLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6ICdhbnknLCBsYWJlbDogJ0FueSBEaWZmaWN1bHR5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYWxsRGlmZmljdWx0aWVzLm1hcChsZXZlbCA9PiAoeyB2YWx1ZTogbGV2ZWwsIGxhYmVsOiBsZXZlbCB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZERpZmZpY3VsdHkgIT09ICdhbnknICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHAtMyBiZy1bdmFyKC0tY29sb3Itd2FybmluZy1saWdodCldIGJvcmRlciBib3JkZXItW3ZhcigtLWNvbG9yLXdhcm5pbmcpXSB0ZXh0LVt2YXIoLS1jb2xvci13YXJuaW5nLWRhcmspXSB0ZXh0LXNtIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWNpcmNsZS1pbmZvIG1yLTJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7RElGRklDVUxUWV9ERVNDUklQVElPTlNbc2VsZWN0ZWREaWZmaWN1bHR5IGFzIERpZmZpY3VsdHlMZXZlbF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cImJvcmRlci1bdmFyKC0tY29sb3ItbmV1dHJhbC0yMDApXVwiIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTZWN0aW9uOiBTdGFnZSBvZiBDaGFuZ2UgKEFkdmFuY2VkKSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZHZhbmNlZDogVGFyZ2V0IGEgc3BlY2lmaWMgc3RhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDdXN0b21TZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJzdGFnZS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlN0YWdlIG9mIENoYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249XCJmYS1zb2xpZCBmYS1zdGFpcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRTdGFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldFNlbGVjdGVkU3RhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHBlclRleHQ9XCJPcHRpb25hbC4gT3ZlcnJpZGVzIGRpZmZpY3VsdHkgc2V0dGluZyBpZiBzZWxlY3RlZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiAnYW55JywgbGFiZWw6ICdBbnkgU3RhZ2UnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5hbGxTdGFnZXMubWFwKHN0YWdlID0+ICh7IHZhbHVlOiBzdGFnZSwgbGFiZWw6IHN0YWdlIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkU3RhZ2UgIT09ICdhbnknICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHAtMyBiZy1bdmFyKC0tY29sb3ItaW5mby1saWdodCldIGJvcmRlciBib3JkZXItW3ZhcigtLWNvbG9yLWluZm8pXSB0ZXh0LVt2YXIoLS1jb2xvci1pbmZvLWRhcmspXSB0ZXh0LXNtIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWNpcmNsZS1pbmZvIG1yLTJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U1RBR0VfREVTQ1JJUFRJT05TW3NlbGVjdGVkU3RhZ2UgYXMgU3RhZ2VPZkNoYW5nZV19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkU3RhZ2UgIT09ICdhbnknICYmIHNlbGVjdGVkRGlmZmljdWx0eSAhPT0gJ2FueScgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgcC0yIGJnLVt2YXIoLS1jb2xvci1iZy1hY2NlbnQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1jb2xvci1wcmltYXJ5LWxpZ2h0KV0gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpXSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS10cmlhbmdsZS1leGNsYW1hdGlvbiBtci0xIHRleHQtYW1iZXItNTAwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhZ2Ugc2VsZWN0aW9uIHdpbGwgb3ZlcnJpZGUgeW91ciBkaWZmaWN1bHR5IGNob2ljZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgICAgICAgICB7LyogQ1RBIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LTE2IGgtMTYgYmctW3ZhcigtLWNvbG9yLXByaW1hcnktbGlnaHRlcildIHJvdW5kZWQtZnVsbCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtcm9ja2V0IHRleHQtM3hsIHRleHQtW3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayldXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV1cIj5SZWFkeSB0byBTdGFydD88L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSldIG10LTFcIj5DaG9vc2UgaG93IHlvdSdkIGxpa2UgdG8gYmVnaW4geW91ciBwcmFjdGljZSBzZXNzaW9uPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYWRvdy1sZyByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN0YXJ0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBtaW4taC1bdmFyKC0tdG91Y2gtdGFyZ2V0LW1pbildIHB5LTMgcHgtNCBiZy13aGl0ZSBib3JkZXItMiBib3JkZXItYiBib3JkZXItW3ZhcigtLWNvbG9yLW5ldXRyYWwtNDAwKV0gdGV4dC1bdmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KV0gZm9udC1zZW1pYm9sZCB0ZXh0LWJhc2UgaG92ZXI6YmctW3ZhcigtLWNvbG9yLWJnLWFjY2VudCldIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydCBTZWxlY3RlZCBTY2VuYXJpb1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmFuZG9tU3RhcnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG1pbi1oLVt2YXIoLS10b3VjaC10YXJnZXQtbWluKV0gcHktMyBweC00IGJnLXdoaXRlIGJvcmRlci0yIGJvcmRlci10LTAgYm9yZGVyLVt2YXIoLS1jb2xvci1uZXV0cmFsLTQwMCldIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIGZvbnQtc2VtaWJvbGQgdGV4dC1iYXNlIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1iZy1hY2NlbnQpXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnQgYSBSYW5kb20gU2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9tYWluPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlTWVtbyIsInVzZVJlZiIsInVzZUVmZmVjdCIsIlN0YWdlT2ZDaGFuZ2UiLCJEaWZmaWN1bHR5TGV2ZWwiLCJQQVRJRU5UX1BST0ZJTEVfVEVNUExBVEVTIiwiU1RBR0VfREVTQ1JJUFRJT05TIiwiQmFja0J1dHRvbiIsIkNhcmQiLCJDdXN0b21TZWxlY3QiLCJpZCIsImxhYmVsIiwiaWNvbiIsInZhbHVlIiwib25DaGFuZ2UiLCJvcHRpb25zIiwiaGVscGVyVGV4dCIsImlzT3BlbiIsInNldElzT3BlbiIsImNvbnRhaW5lclJlZiIsInNlbGVjdGVkT3B0aW9uIiwiZmluZCIsIm9wdCIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUVzY2FwZSIsImtleSIsImhhbmRsZVNlbGVjdCIsIm9wdGlvblZhbHVlIiwiZGl2IiwicmVmIiwiY2xhc3NOYW1lIiwiaSIsImFyaWEtaGlkZGVuIiwicCIsImJ1dHRvbiIsInR5cGUiLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtbGFiZWxsZWRieSIsIm9uQ2xpY2siLCJzdHlsZSIsIm1pbkhlaWdodCIsInNwYW4iLCJ1bCIsInJvbGUiLCJtYXAiLCJvcHRpb24iLCJpbmRleCIsImxpIiwiYXJpYS1zZWxlY3RlZCIsImxlbmd0aCIsIkRJRkZJQ1VMVFlfREVTQ1JJUFRJT05TIiwiQmVnaW5uZXIiLCJJbnRlcm1lZGlhdGUiLCJBZHZhbmNlZCIsIlNjZW5hcmlvU2VsZWN0aW9uVmlldyIsIm9uQmFjayIsIm9uU3RhcnRQcmFjdGljZSIsInNlbGVjdGVkVG9waWMiLCJzZXRTZWxlY3RlZFRvcGljIiwic2VsZWN0ZWRTdGFnZSIsInNldFNlbGVjdGVkU3RhZ2UiLCJzZWxlY3RlZERpZmZpY3VsdHkiLCJzZXRTZWxlY3RlZERpZmZpY3VsdHkiLCJ1bmlxdWVUb3BpY3MiLCJ0b3BpY3MiLCJTZXQiLCJ0IiwidG9waWMiLCJBcnJheSIsImZyb20iLCJzb3J0IiwiYWxsU3RhZ2VzIiwiT2JqZWN0IiwidmFsdWVzIiwiYWxsRGlmZmljdWx0aWVzIiwiaGFuZGxlU3RhcnQiLCJmaWx0ZXJzIiwic3RhZ2VPZkNoYW5nZSIsImRpZmZpY3VsdHkiLCJoYW5kbGVSYW5kb21TdGFydCIsImhlYWRlciIsImgxIiwibWFpbiIsInZhcmlhbnQiLCJwYWRkaW5nIiwiaDIiLCJociIsImxldmVsIiwic3RhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/views/ScenarioSelectionView.tsx\n");

/***/ }),

/***/ "(ssr)/./components/views/ViewRenderer.tsx":
/*!*******************************************!*\
  !*** ./components/views/ViewRenderer.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewRenderer: () => (/* binding */ ViewRenderer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _ui_LoadingSpinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/LoadingSpinner */ \"(ssr)/./components/ui/LoadingSpinner.tsx\");\n/* harmony import */ var _ui_ErrorBoundary__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/ErrorBoundary */ \"(ssr)/./components/ui/ErrorBoundary.tsx\");\n/* harmony import */ var _ScenarioSelectionView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ScenarioSelectionView */ \"(ssr)/./components/views/ScenarioSelectionView.tsx\");\n/* __next_internal_client_entry_do_not_use__ ViewRenderer auto */ \n\n\n\n\n\n// Lazy-loaded view components for code splitting\nconst Dashboard = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_Dashboard_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./Dashboard */ \"(ssr)/./components/views/Dashboard.tsx\")));\nconst PracticeView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/lucide-react\"), __webpack_require__.e(\"_ssr_components_views_PracticeView_tsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./PracticeView */ \"(ssr)/./components/views/PracticeView.tsx\")));\nconst FeedbackView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_FeedbackView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./FeedbackView */ \"(ssr)/./components/views/FeedbackView.tsx\")));\nconst HistoryView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_HistoryView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./HistoryView */ \"(ssr)/./components/views/HistoryView.tsx\")));\nconst ResourceLibrary = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_ResourceLibrary_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./ResourceLibrary */ \"(ssr)/./components/views/ResourceLibrary.tsx\")));\nconst PaywallView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@stripe\"), __webpack_require__.e(\"_ssr_components_views_PaywallView_tsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./PaywallView */ \"(ssr)/./components/views/PaywallView.tsx\")));\nconst SettingsView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@stripe\"), __webpack_require__.e(\"_ssr_components_views_SettingsView_tsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./SettingsView */ \"(ssr)/./components/views/SettingsView.tsx\")));\nconst CancelSubscriptionView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@stripe\"), __webpack_require__.e(\"_ssr_components_views_CancelSubscriptionView_tsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./CancelSubscriptionView */ \"(ssr)/./components/views/CancelSubscriptionView.tsx\")));\nconst CalendarView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_CalendarView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./CalendarView */ \"(ssr)/./components/views/CalendarView.tsx\")));\nconst LoginView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_LoginView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./LoginView */ \"(ssr)/./components/views/LoginView.tsx\")));\nconst ForgotPasswordView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_ForgotPasswordView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./ForgotPasswordView */ \"(ssr)/./components/views/ForgotPasswordView.tsx\")));\nconst ResetPasswordView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_ResetPasswordView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./ResetPasswordView */ \"(ssr)/./components/views/ResetPasswordView.tsx\")));\nconst EmailConfirmationView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_EmailConfirmationView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./EmailConfirmationView */ \"(ssr)/./components/views/EmailConfirmationView.tsx\")));\nconst CoachingSummaryView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_CoachingSummaryView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./CoachingSummaryView */ \"(ssr)/./components/views/CoachingSummaryView.tsx\")));\nconst SupportView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_views_SupportView_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./SupportView */ \"(ssr)/./components/views/SupportView.tsx\")));\nconst ReportsView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/lodash\"), __webpack_require__.e(\"vendor-chunks/recharts\"), __webpack_require__.e(\"vendor-chunks/d3-shape\"), __webpack_require__.e(\"vendor-chunks/d3-scale\"), __webpack_require__.e(\"vendor-chunks/d3-array\"), __webpack_require__.e(\"vendor-chunks/d3-format\"), __webpack_require__.e(\"vendor-chunks/d3-interpolate\"), __webpack_require__.e(\"vendor-chunks/d3-time\"), __webpack_require__.e(\"vendor-chunks/react-smooth\"), __webpack_require__.e(\"vendor-chunks/react-transition-group\"), __webpack_require__.e(\"vendor-chunks/prop-types\"), __webpack_require__.e(\"vendor-chunks/@babel\"), __webpack_require__.e(\"vendor-chunks/recharts-scale\"), __webpack_require__.e(\"vendor-chunks/d3-time-format\"), __webpack_require__.e(\"vendor-chunks/d3-color\"), __webpack_require__.e(\"vendor-chunks/victory-vendor\"), __webpack_require__.e(\"vendor-chunks/react-is\"), __webpack_require__.e(\"vendor-chunks/tiny-invariant\"), __webpack_require__.e(\"vendor-chunks/internmap\"), __webpack_require__.e(\"vendor-chunks/fast-equals\"), __webpack_require__.e(\"vendor-chunks/decimal.js-light\"), __webpack_require__.e(\"vendor-chunks/d3-path\"), __webpack_require__.e(\"vendor-chunks/clsx\"), __webpack_require__.e(\"vendor-chunks/object-assign\"), __webpack_require__.e(\"vendor-chunks/eventemitter3\"), __webpack_require__.e(\"_ssr_components_views_ReportsView_tsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./ReportsView */ \"(ssr)/./components/views/ReportsView.tsx\")));\n// Lazy-loaded legal pages\nconst PrivacyPolicy = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_legal_PrivacyPolicy_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../legal/PrivacyPolicy */ \"(ssr)/./components/legal/PrivacyPolicy.tsx\")));\nconst TermsOfService = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_legal_TermsOfService_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../legal/TermsOfService */ \"(ssr)/./components/legal/TermsOfService.tsx\")));\nconst SubscriptionTerms = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_legal_SubscriptionTerms_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../legal/SubscriptionTerms */ \"(ssr)/./components/legal/SubscriptionTerms.tsx\")));\nconst CookiePolicy = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_legal_CookiePolicy_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../legal/CookiePolicy */ \"(ssr)/./components/legal/CookiePolicy.tsx\")));\nconst Disclaimer = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_ssr_components_legal_Disclaimer_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../legal/Disclaimer */ \"(ssr)/./components/legal/Disclaimer.tsx\")));\nconst ViewRenderer = ({ view, userTier, user, sessions, remainingFreeSessions, currentPatient, currentSession, coachingSummary, coachingSummaryError, isGeneratingSummary, confirmationEmail, isPremiumVerified, isTierVerifying, onNavigate, onStartPractice, onStartFilteredPractice, onFinishPractice, onDoneFromFeedback, onUpgrade, onLogout, onGenerateCoachingSummary, onEmailConfirmation, onTierUpdated })=>{\n    const renderView = ()=>{\n        switch(view){\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Login:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LoginView, {\n                    onLogin: ()=>{},\n                    onNavigate: onNavigate,\n                    onEmailConfirmation: onEmailConfirmation,\n                    onContinueAsGuest: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 90,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.ForgotPassword:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ForgotPasswordView, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 98,\n                    columnNumber: 16\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.EmailConfirmation:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(EmailConfirmationView, {\n                    email: confirmationEmail,\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login),\n                    onNavigate: onNavigate\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 101,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.ResetPassword:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResetPasswordView, {\n                    onBack: ()=>{\n                        window.history.replaceState({}, '', window.location.pathname);\n                        onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n                    },\n                    onSuccess: ()=>{\n                        alert('Password reset successful! Please log in with your new password.');\n                        window.history.replaceState({}, '', window.location.pathname);\n                        onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.ScenarioSelection:\n                // Scenario selection requires authentication (Premium feature)\n                if (!user) {\n                    // Redirect handled by useAppRouter, but add safety check here too\n                    return null;\n                }\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ScenarioSelectionView__WEBPACK_IMPORTED_MODULE_5__.ScenarioSelectionView, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard),\n                    onStartPractice: onStartFilteredPractice\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 127,\n                    columnNumber: 16\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Practice:\n                // Practice view requires authentication\n                if (!user) {\n                    // Redirect handled by useAppRouter, but add safety check here too\n                    return null;\n                }\n                return currentPatient && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_ErrorBoundary__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-h-screen bg-transparent flex items-center justify-center p-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-auto w-16 h-16 bg-error-light rounded-full flex items-center justify-center mb-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-exclamation-triangle text-2xl text-error\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                        lineNumber: 140,\n                                        columnNumber: 21\n                                    }, void 0)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 139,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-bold text-[var(--color-text-primary)] mb-2\",\n                                    children: \"Practice Session Error\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 142,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-[var(--color-text-secondary)] mb-6\",\n                                    children: \"Something went wrong during your practice session. Your progress has been saved.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 145,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard),\n                                    className: \"w-full bg-[var(--color-primary)] text-white font-semibold py-3 px-6 rounded-xl hover:bg-[var(--color-primary-dark)] transition-colors\",\n                                    children: \"Return to Dashboard\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 148,\n                                    columnNumber: 19\n                                }, void 0)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                            lineNumber: 138,\n                            columnNumber: 17\n                        }, void 0)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 137,\n                        columnNumber: 15\n                    }, void 0),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PracticeView, {\n                        patient: currentPatient,\n                        userTier: userTier,\n                        onFinish: onFinishPractice,\n                        onUpgrade: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 158,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 135,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Feedback:\n                return currentSession && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_ErrorBoundary__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-h-screen bg-transparent flex items-center justify-center p-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-auto w-16 h-16 bg-error-light rounded-full flex items-center justify-center mb-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-exclamation-triangle text-2xl text-error\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                        lineNumber: 168,\n                                        columnNumber: 21\n                                    }, void 0)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 167,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-bold text-[var(--color-text-primary)] mb-2\",\n                                    children: \"Feedback Error\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 170,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-[var(--color-text-secondary)] mb-6\",\n                                    children: \"Unable to display feedback. Your session has been saved.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 173,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onDoneFromFeedback,\n                                    className: \"w-full bg-[var(--color-primary)] text-white font-semibold py-3 px-6 rounded-xl hover:bg-[var(--color-primary-dark)] transition-colors\",\n                                    children: \"Continue\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 176,\n                                    columnNumber: 19\n                                }, void 0)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                            lineNumber: 166,\n                            columnNumber: 17\n                        }, void 0)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 165,\n                        columnNumber: 15\n                    }, void 0),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FeedbackView, {\n                        session: currentSession,\n                        onDone: onDoneFromFeedback,\n                        onUpgrade: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall),\n                        onStartPractice: onStartPractice\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 186,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 163,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.History:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HistoryView, {\n                    sessions: sessions,\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard),\n                    onNavigateToPaywall: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall),\n                    userTier: userTier\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 196,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.ResourceLibrary:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResourceLibrary, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard),\n                    onUpgrade: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall),\n                    userTier: userTier\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 205,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall:\n                // If tier is still being verified, show loading state to prevent flash\n                if (user && isTierVerifying) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-h-screen bg-transparent flex items-center justify-center p-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 border-4 border-[var(--color-primary)] border-t-transparent rounded-full animate-spin mx-auto mb-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 217,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-[var(--color-text-secondary)]\",\n                                    children: \"Verifying subscription...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                            lineNumber: 216,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 215,\n                        columnNumber: 13\n                    }, undefined);\n                }\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PaywallView, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard),\n                    onUpgrade: onUpgrade,\n                    user: user,\n                    onNavigateToLogin: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 224,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Calendar:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CalendarView, {\n                    sessions: sessions,\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard),\n                    userTier: userTier,\n                    onGenerateCoachingSummary: onGenerateCoachingSummary,\n                    isGeneratingSummary: isGeneratingSummary,\n                    hasCoachingSummary: !!coachingSummary\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 233,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Settings:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SettingsView, {\n                    userTier: userTier,\n                    onNavigateToPaywall: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall),\n                    onLogout: onLogout,\n                    onNavigate: onNavigate,\n                    user: user\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 244,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.CancelSubscription:\n                if (!user) {\n                    // Redirect to login if not authenticated\n                    onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Login);\n                    return null;\n                }\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CancelSubscriptionView, {\n                    user: user,\n                    userTier: userTier,\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Settings),\n                    onTierUpdated: onTierUpdated\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 259,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.CoachingSummary:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_ErrorBoundary__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-h-screen bg-transparent flex items-center justify-center p-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-auto w-16 h-16 bg-error-light rounded-full flex items-center justify-center mb-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-exclamation-triangle text-2xl text-error\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                        lineNumber: 273,\n                                        columnNumber: 21\n                                    }, void 0)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 272,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-bold text-[var(--color-text-primary)] mb-2\",\n                                    children: \"Summary Error\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 275,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-[var(--color-text-secondary)] mb-6\",\n                                    children: \"Unable to generate coaching summary. Please try again later.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 278,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Calendar),\n                                    className: \"w-full bg-[var(--color-primary)] text-white font-semibold py-3 px-6 rounded-xl hover:bg-[var(--color-primary-dark)] transition-colors\",\n                                    children: \"Back to Calendar\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 281,\n                                    columnNumber: 19\n                                }, void 0)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                            lineNumber: 271,\n                            columnNumber: 17\n                        }, void 0)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 270,\n                        columnNumber: 15\n                    }, void 0),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CoachingSummaryView, {\n                        isLoading: isGeneratingSummary,\n                        summary: coachingSummary,\n                        error: coachingSummaryError,\n                        onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Calendar)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 291,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 268,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.PrivacyPolicy:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PrivacyPolicy, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Settings)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 300,\n                    columnNumber: 16\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.TermsOfService:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TermsOfService, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Settings)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 302,\n                    columnNumber: 16\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.SubscriptionTerms:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SubscriptionTerms, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Settings)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 304,\n                    columnNumber: 16\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.CookiePolicy:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CookiePolicy, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Settings)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 306,\n                    columnNumber: 16\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Disclaimer:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Disclaimer, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Settings)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 308,\n                    columnNumber: 16\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Support:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SupportView, {\n                    onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Settings)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 310,\n                    columnNumber: 16\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Reports:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_ErrorBoundary__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-h-screen bg-transparent flex items-center justify-center p-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-auto w-16 h-16 bg-error-light rounded-full flex items-center justify-center mb-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"fa-solid fa-exclamation-triangle text-2xl text-error\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                        lineNumber: 318,\n                                        columnNumber: 21\n                                    }, void 0)\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 317,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-bold text-[var(--color-text-primary)] mb-2\",\n                                    children: \"Reports Error\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 320,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-[var(--color-text-secondary)] mb-6\",\n                                    children: \"Unable to load reports. Please try again later.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 323,\n                                    columnNumber: 19\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard),\n                                    className: \"w-full bg-[var(--color-primary)] text-white font-semibold py-3 px-6 rounded-xl hover:bg-[var(--color-primary-dark)] transition-colors\",\n                                    children: \"Back to Dashboard\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                                    lineNumber: 326,\n                                    columnNumber: 19\n                                }, void 0)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                            lineNumber: 316,\n                            columnNumber: 17\n                        }, void 0)\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 315,\n                        columnNumber: 15\n                    }, void 0),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ReportsView, {\n                        sessions: sessions,\n                        userTier: userTier,\n                        isPremiumVerified: isPremiumVerified,\n                        onBack: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard),\n                        onUpgrade: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall),\n                        onNavigate: onNavigate\n                    }, void 0, false, {\n                        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                        lineNumber: 336,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 313,\n                    columnNumber: 11\n                }, undefined);\n            case _types__WEBPACK_IMPORTED_MODULE_2__.View.Dashboard:\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Dashboard, {\n                    onStartPractice: onStartPractice,\n                    userTier: userTier,\n                    sessions: sessions,\n                    remainingFreeSessions: remainingFreeSessions,\n                    onNavigateToPaywall: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.View.Paywall),\n                    onNavigate: onNavigate\n                }, void 0, false, {\n                    fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n                    lineNumber: 349,\n                    columnNumber: 11\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n        fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_LoadingSpinner__WEBPACK_IMPORTED_MODULE_3__.PageLoader, {\n            message: \"Loading...\"\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n            lineNumber: 362,\n            columnNumber: 25\n        }, void 0),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"animate-slide-fade-in w-full h-full\",\n            children: renderView()\n        }, void 0, false, {\n            fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n            lineNumber: 363,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/components/views/ViewRenderer.tsx\",\n        lineNumber: 362,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxpQkFBaUJBO29CQUNqQmIsVUFBVUE7b0JBQ1ZFLFVBQVVBO29CQUNWQyx1QkFBdUJBO29CQUN2QnFELHFCQUFxQixJQUFNNUMsV0FBV3ZDLHdDQUFJQSxDQUFDOEUsT0FBTztvQkFDbER2QyxZQUFZQTs7Ozs7O1FBR3BCO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ3pDLDJDQUFRQTtRQUFDcUUsd0JBQVUsOERBQUNsRSwwREFBVUE7WUFBQzhGLFNBQVE7Ozs7OztrQkFDdEMsNEVBQUMzQjtZQUFJQyxXQUFVO3NCQUNacEI7Ozs7Ozs7Ozs7O0FBSVQsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29tcG9uZW50cy92aWV3cy9WaWV3UmVuZGVyZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVmlldywgVXNlclRpZXIsIFNlc3Npb24sIFBhdGllbnRQcm9maWxlLCBDb2FjaGluZ1N1bW1hcnksIFBhdGllbnRQcm9maWxlRmlsdGVycyB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IHsgUGFnZUxvYWRlciB9IGZyb20gJy4uL3VpL0xvYWRpbmdTcGlubmVyJztcbmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJy4uL3VpL0Vycm9yQm91bmRhcnknO1xuaW1wb3J0IHsgU2NlbmFyaW9TZWxlY3Rpb25WaWV3IH0gZnJvbSAnLi9TY2VuYXJpb1NlbGVjdGlvblZpZXcnO1xuXG4vLyBMYXp5LWxvYWRlZCB2aWV3IGNvbXBvbmVudHMgZm9yIGNvZGUgc3BsaXR0aW5nXG5jb25zdCBEYXNoYm9hcmQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9EYXNoYm9hcmQnKSk7XG5jb25zdCBQcmFjdGljZVZpZXcgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9QcmFjdGljZVZpZXcnKSk7XG5jb25zdCBGZWVkYmFja1ZpZXcgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9GZWVkYmFja1ZpZXcnKSk7XG5jb25zdCBIaXN0b3J5VmlldyA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL0hpc3RvcnlWaWV3JykpO1xuY29uc3QgUmVzb3VyY2VMaWJyYXJ5ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vUmVzb3VyY2VMaWJyYXJ5JykpO1xuY29uc3QgUGF5d2FsbFZpZXcgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9QYXl3YWxsVmlldycpKTtcbmNvbnN0IFNldHRpbmdzVmlldyA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL1NldHRpbmdzVmlldycpKTtcbmNvbnN0IENhbmNlbFN1YnNjcmlwdGlvblZpZXcgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9DYW5jZWxTdWJzY3JpcHRpb25WaWV3JykpO1xuY29uc3QgQ2FsZW5kYXJWaWV3ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vQ2FsZW5kYXJWaWV3JykpO1xuY29uc3QgTG9naW5WaWV3ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTG9naW5WaWV3JykpO1xuY29uc3QgRm9yZ290UGFzc3dvcmRWaWV3ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vRm9yZ290UGFzc3dvcmRWaWV3JykpO1xuY29uc3QgUmVzZXRQYXNzd29yZFZpZXcgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9SZXNldFBhc3N3b3JkVmlldycpKTtcbmNvbnN0IEVtYWlsQ29uZmlybWF0aW9uVmlldyA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL0VtYWlsQ29uZmlybWF0aW9uVmlldycpKTtcbmNvbnN0IENvYWNoaW5nU3VtbWFyeVZpZXcgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9Db2FjaGluZ1N1bW1hcnlWaWV3JykpO1xuY29uc3QgU3VwcG9ydFZpZXcgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9TdXBwb3J0VmlldycpKTtcbmNvbnN0IFJlcG9ydHNWaWV3ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vUmVwb3J0c1ZpZXcnKSk7XG5cbi8vIExhenktbG9hZGVkIGxlZ2FsIHBhZ2VzXG5jb25zdCBQcml2YWN5UG9saWN5ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2xlZ2FsL1ByaXZhY3lQb2xpY3knKSk7XG5jb25zdCBUZXJtc09mU2VydmljZSA9IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9sZWdhbC9UZXJtc09mU2VydmljZScpKTtcbmNvbnN0IFN1YnNjcmlwdGlvblRlcm1zID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2xlZ2FsL1N1YnNjcmlwdGlvblRlcm1zJykpO1xuY29uc3QgQ29va2llUG9saWN5ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2xlZ2FsL0Nvb2tpZVBvbGljeScpKTtcbmNvbnN0IERpc2NsYWltZXIgPSBsYXp5KCgpID0+IGltcG9ydCgnLi4vbGVnYWwvRGlzY2xhaW1lcicpKTtcblxuaW50ZXJmYWNlIFZpZXdSZW5kZXJlclByb3BzIHtcbiAgdmlldzogVmlldztcbiAgdXNlclRpZXI6IFVzZXJUaWVyO1xuICB1c2VyOiBVc2VyIHwgbnVsbDtcbiAgc2Vzc2lvbnM6IFNlc3Npb25bXTtcbiAgcmVtYWluaW5nRnJlZVNlc3Npb25zOiBudW1iZXIgfCBudWxsO1xuICBjdXJyZW50UGF0aWVudDogUGF0aWVudFByb2ZpbGUgfCBudWxsO1xuICBjdXJyZW50U2Vzc2lvbjogU2Vzc2lvbiB8IG51bGw7XG4gIGNvYWNoaW5nU3VtbWFyeTogQ29hY2hpbmdTdW1tYXJ5IHwgbnVsbDtcbiAgY29hY2hpbmdTdW1tYXJ5RXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIGlzR2VuZXJhdGluZ1N1bW1hcnk6IGJvb2xlYW47XG4gIGNvbmZpcm1hdGlvbkVtYWlsOiBzdHJpbmc7XG4gIGlzUHJlbWl1bVZlcmlmaWVkOiBib29sZWFuOyAvLyBTZXJ2ZXItdmVyaWZpZWQgcHJlbWl1bSBzdGF0dXNcbiAgaXNUaWVyVmVyaWZ5aW5nOiBib29sZWFuOyAvLyBXaGV0aGVyIHRpZXIgdmVyaWZpY2F0aW9uIGlzIGluIHByb2dyZXNzXG4gIG9uTmF2aWdhdGU6ICh2aWV3OiBWaWV3KSA9PiB2b2lkO1xuICBvblN0YXJ0UHJhY3RpY2U6ICgpID0+IHZvaWQ7XG4gIG9uU3RhcnRGaWx0ZXJlZFByYWN0aWNlOiAoZmlsdGVyczogUGF0aWVudFByb2ZpbGVGaWx0ZXJzKSA9PiB2b2lkO1xuICBvbkZpbmlzaFByYWN0aWNlOiAodHJhbnNjcmlwdDogYW55W10sIGZlZWRiYWNrOiBhbnkpID0+IHZvaWQ7XG4gIG9uRG9uZUZyb21GZWVkYmFjazogKCkgPT4gdm9pZDtcbiAgb25VcGdyYWRlOiAoKSA9PiB2b2lkO1xuICBvbkxvZ291dDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgb25HZW5lcmF0ZUNvYWNoaW5nU3VtbWFyeTogKCkgPT4gdm9pZDtcbiAgb25FbWFpbENvbmZpcm1hdGlvbjogKGVtYWlsOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uVGllclVwZGF0ZWQ6ICgpID0+IFByb21pc2U8dm9pZD47XG59XG5cbmV4cG9ydCBjb25zdCBWaWV3UmVuZGVyZXI6IFJlYWN0LkZDPFZpZXdSZW5kZXJlclByb3BzPiA9ICh7XG4gIHZpZXcsXG4gIHVzZXJUaWVyLFxuICB1c2VyLFxuICBzZXNzaW9ucyxcbiAgcmVtYWluaW5nRnJlZVNlc3Npb25zLFxuICBjdXJyZW50UGF0aWVudCxcbiAgY3VycmVudFNlc3Npb24sXG4gIGNvYWNoaW5nU3VtbWFyeSxcbiAgY29hY2hpbmdTdW1tYXJ5RXJyb3IsXG4gIGlzR2VuZXJhdGluZ1N1bW1hcnksXG4gIGNvbmZpcm1hdGlvbkVtYWlsLFxuICBpc1ByZW1pdW1WZXJpZmllZCxcbiAgaXNUaWVyVmVyaWZ5aW5nLFxuICBvbk5hdmlnYXRlLFxuICBvblN0YXJ0UHJhY3RpY2UsXG4gIG9uU3RhcnRGaWx0ZXJlZFByYWN0aWNlLFxuICBvbkZpbmlzaFByYWN0aWNlLFxuICBvbkRvbmVGcm9tRmVlZGJhY2ssXG4gIG9uVXBncmFkZSxcbiAgb25Mb2dvdXQsXG4gIG9uR2VuZXJhdGVDb2FjaGluZ1N1bW1hcnksXG4gIG9uRW1haWxDb25maXJtYXRpb24sXG4gIG9uVGllclVwZGF0ZWQsXG59KSA9PiB7XG4gIGNvbnN0IHJlbmRlclZpZXcgPSAoKSA9PiB7XG4gICAgc3dpdGNoICh2aWV3KSB7XG4gICAgICBjYXNlIFZpZXcuTG9naW46XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExvZ2luVmlldyBcbiAgICAgICAgICAgIG9uTG9naW49eygpID0+IHt9fSBcbiAgICAgICAgICAgIG9uTmF2aWdhdGU9e29uTmF2aWdhdGV9IFxuICAgICAgICAgICAgb25FbWFpbENvbmZpcm1hdGlvbj17b25FbWFpbENvbmZpcm1hdGlvbn1cbiAgICAgICAgICAgIG9uQ29udGludWVBc0d1ZXN0PXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuRGFzaGJvYXJkKX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBWaWV3LkZvcmdvdFBhc3N3b3JkOlxuICAgICAgICByZXR1cm4gPEZvcmdvdFBhc3N3b3JkVmlldyBvbkJhY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5Mb2dpbil9IC8+O1xuICAgICAgY2FzZSBWaWV3LkVtYWlsQ29uZmlybWF0aW9uOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxFbWFpbENvbmZpcm1hdGlvblZpZXcgXG4gICAgICAgICAgICBlbWFpbD17Y29uZmlybWF0aW9uRW1haWx9XG4gICAgICAgICAgICBvbkJhY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5Mb2dpbil9IFxuICAgICAgICAgICAgb25OYXZpZ2F0ZT17b25OYXZpZ2F0ZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBWaWV3LlJlc2V0UGFzc3dvcmQ6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlc2V0UGFzc3dvcmRWaWV3IFxuICAgICAgICAgICAgb25CYWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICAgICAgICAgIG9uTmF2aWdhdGUoVmlldy5Mb2dpbik7XG4gICAgICAgICAgICB9fSBcbiAgICAgICAgICAgIG9uU3VjY2Vzcz17KCkgPT4ge1xuICAgICAgICAgICAgICBhbGVydCgnUGFzc3dvcmQgcmVzZXQgc3VjY2Vzc2Z1bCEgUGxlYXNlIGxvZyBpbiB3aXRoIHlvdXIgbmV3IHBhc3N3b3JkLicpO1xuICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgICAgICAgICBvbk5hdmlnYXRlKFZpZXcuTG9naW4pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBWaWV3LlNjZW5hcmlvU2VsZWN0aW9uOlxuICAgICAgICAvLyBTY2VuYXJpbyBzZWxlY3Rpb24gcmVxdWlyZXMgYXV0aGVudGljYXRpb24gKFByZW1pdW0gZmVhdHVyZSlcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgLy8gUmVkaXJlY3QgaGFuZGxlZCBieSB1c2VBcHBSb3V0ZXIsIGJ1dCBhZGQgc2FmZXR5IGNoZWNrIGhlcmUgdG9vXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDxTY2VuYXJpb1NlbGVjdGlvblZpZXcgb25CYWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuRGFzaGJvYXJkKX0gb25TdGFydFByYWN0aWNlPXtvblN0YXJ0RmlsdGVyZWRQcmFjdGljZX0gLz47XG4gICAgICBjYXNlIFZpZXcuUHJhY3RpY2U6XG4gICAgICAgIC8vIFByYWN0aWNlIHZpZXcgcmVxdWlyZXMgYXV0aGVudGljYXRpb25cbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgLy8gUmVkaXJlY3QgaGFuZGxlZCBieSB1c2VBcHBSb3V0ZXIsIGJ1dCBhZGQgc2FmZXR5IGNoZWNrIGhlcmUgdG9vXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQYXRpZW50ICYmIChcbiAgICAgICAgICA8RXJyb3JCb3VuZGFyeVxuICAgICAgICAgICAgZmFsbGJhY2s9e1xuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy10cmFuc3BhcmVudCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIHctZnVsbCBiZy13aGl0ZSByb3VuZGVkLTJ4bCBzaGFkb3ctbGcgcC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gdy0xNiBoLTE2IGJnLWVycm9yLWxpZ2h0IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIHRleHQtMnhsIHRleHQtZXJyb3JcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpXSBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIFByYWN0aWNlIFNlc3Npb24gRXJyb3JcbiAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSldIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIHlvdXIgcHJhY3RpY2Ugc2Vzc2lvbi4gWW91ciBwcm9ncmVzcyBoYXMgYmVlbiBzYXZlZC5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LkRhc2hib2FyZCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1bdmFyKC0tY29sb3ItcHJpbWFyeSldIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0zIHB4LTYgcm91bmRlZC14bCBob3ZlcjpiZy1bdmFyKC0tY29sb3ItcHJpbWFyeS1kYXJrKV0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBSZXR1cm4gdG8gRGFzaGJvYXJkXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFByYWN0aWNlVmlldyBwYXRpZW50PXtjdXJyZW50UGF0aWVudH0gdXNlclRpZXI9e3VzZXJUaWVyfSBvbkZpbmlzaD17b25GaW5pc2hQcmFjdGljZX0gb25VcGdyYWRlPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuUGF5d2FsbCl9IC8+XG4gICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgICApO1xuICAgICAgY2FzZSBWaWV3LkZlZWRiYWNrOlxuICAgICAgICByZXR1cm4gY3VycmVudFNlc3Npb24gJiYgKFxuICAgICAgICAgIDxFcnJvckJvdW5kYXJ5XG4gICAgICAgICAgICBmYWxsYmFjaz17XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXRyYW5zcGFyZW50IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgdy1mdWxsIGJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy1sZyBwLTggdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byB3LTE2IGgtMTYgYmctZXJyb3ItbGlnaHQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGUgdGV4dC0yeGwgdGV4dC1lcnJvclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgRmVlZGJhY2sgRXJyb3JcbiAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSldIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgVW5hYmxlIHRvIGRpc3BsYXkgZmVlZGJhY2suIFlvdXIgc2Vzc2lvbiBoYXMgYmVlbiBzYXZlZC5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25Eb25lRnJvbUZlZWRiYWNrfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctW3ZhcigtLWNvbG9yLXByaW1hcnkpXSB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMyBweC02IHJvdW5kZWQteGwgaG92ZXI6YmctW3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayldIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ29udGludWVcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA+XG4gICAgICAgICAgPEZlZWRiYWNrVmlldyBcbiAgICAgICAgICAgIHNlc3Npb249e2N1cnJlbnRTZXNzaW9ufSBcbiAgICAgICAgICAgIG9uRG9uZT17b25Eb25lRnJvbUZlZWRiYWNrfSBcbiAgICAgICAgICAgIG9uVXBncmFkZT17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LlBheXdhbGwpfSBcbiAgICAgICAgICAgIG9uU3RhcnRQcmFjdGljZT17b25TdGFydFByYWN0aWNlfSBcbiAgICAgICAgICAvPlxuICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgVmlldy5IaXN0b3J5OlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxIaXN0b3J5VmlldyBcbiAgICAgICAgICAgIHNlc3Npb25zPXtzZXNzaW9uc30gXG4gICAgICAgICAgICBvbkJhY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5EYXNoYm9hcmQpfSBcbiAgICAgICAgICAgIG9uTmF2aWdhdGVUb1BheXdhbGw9eygpID0+IG9uTmF2aWdhdGUoVmlldy5QYXl3YWxsKX0gXG4gICAgICAgICAgICB1c2VyVGllcj17dXNlclRpZXJ9IFxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFZpZXcuUmVzb3VyY2VMaWJyYXJ5OlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZXNvdXJjZUxpYnJhcnkgXG4gICAgICAgICAgICBvbkJhY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5EYXNoYm9hcmQpfVxuICAgICAgICAgICAgb25VcGdyYWRlPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuUGF5d2FsbCl9IFxuICAgICAgICAgICAgdXNlclRpZXI9e3VzZXJUaWVyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFZpZXcuUGF5d2FsbDpcbiAgICAgICAgLy8gSWYgdGllciBpcyBzdGlsbCBiZWluZyB2ZXJpZmllZCwgc2hvdyBsb2FkaW5nIHN0YXRlIHRvIHByZXZlbnQgZmxhc2hcbiAgICAgICAgaWYgKHVzZXIgJiYgaXNUaWVyVmVyaWZ5aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXRyYW5zcGFyZW50IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgYm9yZGVyLTQgYm9yZGVyLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSldXCI+VmVyaWZ5aW5nIHN1YnNjcmlwdGlvbi4uLjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFBheXdhbGxWaWV3IFxuICAgICAgICAgICAgb25CYWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuRGFzaGJvYXJkKX0gXG4gICAgICAgICAgICBvblVwZ3JhZGU9e29uVXBncmFkZX0gXG4gICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgb25OYXZpZ2F0ZVRvTG9naW49eygpID0+IG9uTmF2aWdhdGUoVmlldy5Mb2dpbil9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgVmlldy5DYWxlbmRhcjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2FsZW5kYXJWaWV3IFxuICAgICAgICAgICAgc2Vzc2lvbnM9e3Nlc3Npb25zfSBcbiAgICAgICAgICAgIG9uQmFjaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LkRhc2hib2FyZCl9XG4gICAgICAgICAgICB1c2VyVGllcj17dXNlclRpZXJ9XG4gICAgICAgICAgICBvbkdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5PXtvbkdlbmVyYXRlQ29hY2hpbmdTdW1tYXJ5fVxuICAgICAgICAgICAgaXNHZW5lcmF0aW5nU3VtbWFyeT17aXNHZW5lcmF0aW5nU3VtbWFyeX1cbiAgICAgICAgICAgIGhhc0NvYWNoaW5nU3VtbWFyeT17ISFjb2FjaGluZ1N1bW1hcnl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgVmlldy5TZXR0aW5nczpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8U2V0dGluZ3NWaWV3IFxuICAgICAgICAgICAgdXNlclRpZXI9e3VzZXJUaWVyfSBcbiAgICAgICAgICAgIG9uTmF2aWdhdGVUb1BheXdhbGw9eygpID0+IG9uTmF2aWdhdGUoVmlldy5QYXl3YWxsKX1cbiAgICAgICAgICAgIG9uTG9nb3V0PXtvbkxvZ291dH1cbiAgICAgICAgICAgIG9uTmF2aWdhdGU9e29uTmF2aWdhdGV9XG4gICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFZpZXcuQ2FuY2VsU3Vic2NyaXB0aW9uOlxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBpZiBub3QgYXV0aGVudGljYXRlZFxuICAgICAgICAgIG9uTmF2aWdhdGUoVmlldy5Mb2dpbik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2FuY2VsU3Vic2NyaXB0aW9uVmlldyBcbiAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICB1c2VyVGllcj17dXNlclRpZXJ9XG4gICAgICAgICAgICBvbkJhY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5TZXR0aW5ncyl9XG4gICAgICAgICAgICBvblRpZXJVcGRhdGVkPXtvblRpZXJVcGRhdGVkfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFZpZXcuQ29hY2hpbmdTdW1tYXJ5OlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxFcnJvckJvdW5kYXJ5XG4gICAgICAgICAgICBmYWxsYmFjaz17XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXRyYW5zcGFyZW50IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgdy1mdWxsIGJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy1sZyBwLTggdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byB3LTE2IGgtMTYgYmctZXJyb3ItbGlnaHQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGUgdGV4dC0yeGwgdGV4dC1lcnJvclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgU3VtbWFyeSBFcnJvclxuICAgICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KV0gbWItNlwiPlxuICAgICAgICAgICAgICAgICAgICBVbmFibGUgdG8gZ2VuZXJhdGUgY29hY2hpbmcgc3VtbWFyeS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LkNhbGVuZGFyKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTMgcHgtNiByb3VuZGVkLXhsIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEJhY2sgdG8gQ2FsZW5kYXJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA+XG4gICAgICAgICAgPENvYWNoaW5nU3VtbWFyeVZpZXdcbiAgICAgICAgICAgIGlzTG9hZGluZz17aXNHZW5lcmF0aW5nU3VtbWFyeX1cbiAgICAgICAgICAgIHN1bW1hcnk9e2NvYWNoaW5nU3VtbWFyeX1cbiAgICAgICAgICAgIGVycm9yPXtjb2FjaGluZ1N1bW1hcnlFcnJvcn1cbiAgICAgICAgICAgIG9uQmFjaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LkNhbGVuZGFyKX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgVmlldy5Qcml2YWN5UG9saWN5OlxuICAgICAgICByZXR1cm4gPFByaXZhY3lQb2xpY3kgb25CYWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuU2V0dGluZ3MpfSAvPjtcbiAgICAgIGNhc2UgVmlldy5UZXJtc09mU2VydmljZTpcbiAgICAgICAgcmV0dXJuIDxUZXJtc09mU2VydmljZSBvbkJhY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5TZXR0aW5ncyl9IC8+O1xuICAgICAgY2FzZSBWaWV3LlN1YnNjcmlwdGlvblRlcm1zOlxuICAgICAgICByZXR1cm4gPFN1YnNjcmlwdGlvblRlcm1zIG9uQmFjaz17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LlNldHRpbmdzKX0gLz47XG4gICAgICBjYXNlIFZpZXcuQ29va2llUG9saWN5OlxuICAgICAgICByZXR1cm4gPENvb2tpZVBvbGljeSBvbkJhY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5TZXR0aW5ncyl9IC8+O1xuICAgICAgY2FzZSBWaWV3LkRpc2NsYWltZXI6XG4gICAgICAgIHJldHVybiA8RGlzY2xhaW1lciBvbkJhY2s9eygpID0+IG9uTmF2aWdhdGUoVmlldy5TZXR0aW5ncyl9IC8+O1xuICAgICAgY2FzZSBWaWV3LlN1cHBvcnQ6XG4gICAgICAgIHJldHVybiA8U3VwcG9ydFZpZXcgb25CYWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuU2V0dGluZ3MpfSAvPjtcbiAgICAgIGNhc2UgVmlldy5SZXBvcnRzOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxFcnJvckJvdW5kYXJ5XG4gICAgICAgICAgICBmYWxsYmFjaz17XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXRyYW5zcGFyZW50IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgdy1mdWxsIGJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy1sZyBwLTggdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byB3LTE2IGgtMTYgYmctZXJyb3ItbGlnaHQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGUgdGV4dC0yeGwgdGV4dC1lcnJvclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtW3ZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSldIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgUmVwb3J0cyBFcnJvclxuICAgICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KV0gbWItNlwiPlxuICAgICAgICAgICAgICAgICAgICBVbmFibGUgdG8gbG9hZCByZXBvcnRzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuRGFzaGJvYXJkKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLVt2YXIoLS1jb2xvci1wcmltYXJ5KV0gdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTMgcHgtNiByb3VuZGVkLXhsIGhvdmVyOmJnLVt2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEJhY2sgdG8gRGFzaGJvYXJkXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPlxuICAgICAgICAgIDxSZXBvcnRzVmlld1xuICAgICAgICAgICAgc2Vzc2lvbnM9e3Nlc3Npb25zfVxuICAgICAgICAgICAgdXNlclRpZXI9e3VzZXJUaWVyfVxuICAgICAgICAgICAgaXNQcmVtaXVtVmVyaWZpZWQ9e2lzUHJlbWl1bVZlcmlmaWVkfVxuICAgICAgICAgICAgb25CYWNrPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuRGFzaGJvYXJkKX1cbiAgICAgICAgICAgIG9uVXBncmFkZT17KCkgPT4gb25OYXZpZ2F0ZShWaWV3LlBheXdhbGwpfVxuICAgICAgICAgICAgb25OYXZpZ2F0ZT17b25OYXZpZ2F0ZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgVmlldy5EYXNoYm9hcmQ6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxEYXNoYm9hcmQgXG4gICAgICAgICAgICBvblN0YXJ0UHJhY3RpY2U9e29uU3RhcnRQcmFjdGljZX0gXG4gICAgICAgICAgICB1c2VyVGllcj17dXNlclRpZXJ9IFxuICAgICAgICAgICAgc2Vzc2lvbnM9e3Nlc3Npb25zfVxuICAgICAgICAgICAgcmVtYWluaW5nRnJlZVNlc3Npb25zPXtyZW1haW5pbmdGcmVlU2Vzc2lvbnN9XG4gICAgICAgICAgICBvbk5hdmlnYXRlVG9QYXl3YWxsPXsoKSA9PiBvbk5hdmlnYXRlKFZpZXcuUGF5d2FsbCl9XG4gICAgICAgICAgICBvbk5hdmlnYXRlPXtvbk5hdmlnYXRlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8UGFnZUxvYWRlciBtZXNzYWdlPVwiTG9hZGluZy4uLlwiIC8+fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zbGlkZS1mYWRlLWluIHctZnVsbCBoLWZ1bGxcIj5cbiAgICAgICAge3JlbmRlclZpZXcoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvU3VzcGVuc2U+XG4gICk7XG59O1xuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJTdXNwZW5zZSIsImxhenkiLCJWaWV3IiwiUGFnZUxvYWRlciIsIkVycm9yQm91bmRhcnkiLCJTY2VuYXJpb1NlbGVjdGlvblZpZXciLCJEYXNoYm9hcmQiLCJQcmFjdGljZVZpZXciLCJGZWVkYmFja1ZpZXciLCJIaXN0b3J5VmlldyIsIlJlc291cmNlTGlicmFyeSIsIlBheXdhbGxWaWV3IiwiU2V0dGluZ3NWaWV3IiwiQ2FuY2VsU3Vic2NyaXB0aW9uVmlldyIsIkNhbGVuZGFyVmlldyIsIkxvZ2luVmlldyIsIkZvcmdvdFBhc3N3b3JkVmlldyIsIlJlc2V0UGFzc3dvcmRWaWV3IiwiRW1haWxDb25maXJtYXRpb25WaWV3IiwiQ29hY2hpbmdTdW1tYXJ5VmlldyIsIlN1cHBvcnRWaWV3IiwiUmVwb3J0c1ZpZXciLCJQcml2YWN5UG9saWN5IiwiVGVybXNPZlNlcnZpY2UiLCJTdWJzY3JpcHRpb25UZXJtcyIsIkNvb2tpZVBvbGljeSIsIkRpc2NsYWltZXIiLCJWaWV3UmVuZGVyZXIiLCJ2aWV3IiwidXNlclRpZXIiLCJ1c2VyIiwic2Vzc2lvbnMiLCJyZW1haW5pbmdGcmVlU2Vzc2lvbnMiLCJjdXJyZW50UGF0aWVudCIsImN1cnJlbnRTZXNzaW9uIiwiY29hY2hpbmdTdW1tYXJ5IiwiY29hY2hpbmdTdW1tYXJ5RXJyb3IiLCJpc0dlbmVyYXRpbmdTdW1tYXJ5IiwiY29uZmlybWF0aW9uRW1haWwiLCJpc1ByZW1pdW1WZXJpZmllZCIsImlzVGllclZlcmlmeWluZyIsIm9uTmF2aWdhdGUiLCJvblN0YXJ0UHJhY3RpY2UiLCJvblN0YXJ0RmlsdGVyZWRQcmFjdGljZSIsIm9uRmluaXNoUHJhY3RpY2UiLCJvbkRvbmVGcm9tRmVlZGJhY2siLCJvblVwZ3JhZGUiLCJvbkxvZ291dCIsIm9uR2VuZXJhdGVDb2FjaGluZ1N1bW1hcnkiLCJvbkVtYWlsQ29uZmlybWF0aW9uIiwib25UaWVyVXBkYXRlZCIsInJlbmRlclZpZXciLCJMb2dpbiIsIm9uTG9naW4iLCJvbkNvbnRpbnVlQXNHdWVzdCIsIkZvcmdvdFBhc3N3b3JkIiwib25CYWNrIiwiRW1haWxDb25maXJtYXRpb24iLCJlbWFpbCIsIlJlc2V0UGFzc3dvcmQiLCJ3aW5kb3ciLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsIm9uU3VjY2VzcyIsImFsZXJ0IiwiU2NlbmFyaW9TZWxlY3Rpb24iLCJQcmFjdGljZSIsImZhbGxiYWNrIiwiZGl2IiwiY2xhc3NOYW1lIiwiaSIsImFyaWEtaGlkZGVuIiwiaDIiLCJwIiwiYnV0dG9uIiwib25DbGljayIsInBhdGllbnQiLCJvbkZpbmlzaCIsIlBheXdhbGwiLCJGZWVkYmFjayIsInNlc3Npb24iLCJvbkRvbmUiLCJIaXN0b3J5Iiwib25OYXZpZ2F0ZVRvUGF5d2FsbCIsIm9uTmF2aWdhdGVUb0xvZ2luIiwiQ2FsZW5kYXIiLCJoYXNDb2FjaGluZ1N1bW1hcnkiLCJTZXR0aW5ncyIsIkNhbmNlbFN1YnNjcmlwdGlvbiIsIkNvYWNoaW5nU3VtbWFyeSIsImlzTG9hZGluZyIsInN1bW1hcnkiLCJlcnJvciIsIlN1cHBvcnQiLCJSZXBvcnRzIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/views/ViewRenderer.tsx\n");

/***/ }),

/***/ "(ssr)/./constants.ts":
/*!**********************!*\
  !*** ./constants.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BADGES: () => (/* binding */ BADGES),\n/* harmony export */   FREE_SESSION_DURATION: () => (/* binding */ FREE_SESSION_DURATION),\n/* harmony export */   PATIENT_DATA: () => (/* binding */ PATIENT_DATA),\n/* harmony export */   PATIENT_PROFILE_TEMPLATES: () => (/* binding */ PATIENT_PROFILE_TEMPLATES),\n/* harmony export */   PATIENT_TOPIC_TEMPLATES: () => (/* binding */ PATIENT_TOPIC_TEMPLATES),\n/* harmony export */   PERSONALITY_TRAITS: () => (/* binding */ PERSONALITY_TRAITS),\n/* harmony export */   PREMIUM_SESSION_DURATION: () => (/* binding */ PREMIUM_SESSION_DURATION),\n/* harmony export */   STAGE_DESCRIPTIONS: () => (/* binding */ STAGE_DESCRIPTIONS),\n/* harmony export */   XP_AWARDS: () => (/* binding */ XP_AWARDS),\n/* harmony export */   XP_LEVELS: () => (/* binding */ XP_LEVELS),\n/* harmony export */   getBadgeById: () => (/* binding */ getBadgeById),\n/* harmony export */   getBadgesByCategory: () => (/* binding */ getBadgesByCategory),\n/* harmony export */   getPersonalityTraitById: () => (/* binding */ getPersonalityTraitById)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"(ssr)/./types.ts\");\n\n// Personality traits that affect patient behavior and add complexity\nconst PERSONALITY_TRAITS = [\n    {\n        id: 'defensive',\n        label: 'Defensive',\n        description: 'Quick to justify behavior, deflects blame, may become guarded when challenged'\n    },\n    {\n        id: 'emotional',\n        label: 'Emotional',\n        description: 'Expresses feelings openly, may tear up, get frustrated, or show vulnerability'\n    },\n    {\n        id: 'reserved',\n        label: 'Reserved',\n        description: 'Gives short, guarded answers, finds it hard to open up to strangers'\n    },\n    {\n        id: 'talkative',\n        label: 'Talkative',\n        description: 'Talks a lot, may go off-topic, shares stories and details freely'\n    },\n    {\n        id: 'intellectualizer',\n        label: 'Intellectualizer',\n        description: 'Analyzes problems abstractly, avoids emotions, prefers logical discussion'\n    },\n    {\n        id: 'pleaser',\n        label: 'People Pleaser',\n        description: 'Agrees easily to avoid conflict, but may not follow through on commitments'\n    }\n];\n// Helper to get trait by ID\nconst getPersonalityTraitById = (id)=>PERSONALITY_TRAITS.find((trait)=>trait.id === id);\nconst PATIENT_DATA = {\n    names: [\n        'Alex Johnson',\n        'Jordan Smith',\n        'Taylor Brown',\n        'Casey Williams',\n        'Morgan Miller',\n        'Riley Jones',\n        'Cameron Davis',\n        'Parker Garcia',\n        'Quinn Lee',\n        'Rowan Perez',\n        'Dakota Hall',\n        'Avery Nelson',\n        'Samira Ahmed',\n        'Leo Chen',\n        'Sofia Rossi',\n        'Javier Rodriguez',\n        'Chloe Kim',\n        'Mateo Garcia',\n        'Jamie Martinez',\n        'Blake Thompson',\n        'River Anderson',\n        'Phoenix Wright',\n        'Skylar Moore',\n        'Sage Johnson',\n        'Kai Martinez',\n        'Emery White',\n        'Finley Taylor',\n        'Hayden Clark',\n        'Reese Adams',\n        'Ellis Wilson',\n        'Drew Mitchell',\n        'Logan Harris',\n        'Micah Turner',\n        'Nico Rodriguez',\n        'Zoe Patel',\n        'Maya Singh',\n        'Ethan Kim',\n        'Isabella Chen',\n        'Lucas O\\'Brien',\n        'Olivia Murphy',\n        'Noah Walsh',\n        'Emma Fitzgerald',\n        'Liam Gallagher',\n        'Ava O\\'Connor',\n        'Mason Byrne'\n    ],\n    sexes: [\n        'Male',\n        'Female',\n        'Non-binary'\n    ],\n    stagesOfChange: [\n        _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Precontemplation,\n        _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Contemplation,\n        _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Preparation,\n        _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Action,\n        _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Maintenance\n    ]\n};\n// New variant-based patient templates - each topic has multiple backstory variants\nconst PATIENT_TOPIC_TEMPLATES = [\n    // ========== ALCOHOL ==========\n    {\n        topic: 'Binge Drinking (Beer)',\n        category: 'Alcohol',\n        variants: [\n            {\n                variantId: 'beer-tech-worker',\n                presentingProblem: 'Patient is here at the urging of their partner after a recent embarrassing incident at a social event due to excessive beer consumption.',\n                history: 'History of heavy weekend drinking since college. Recently, consumption has increased to 4-5 nights a week, primarily craft beer. No previous attempts to quit.',\n                chiefComplaint: \"My partner is overreacting. So I had a few too many IPAs, it's not a big deal. Everyone was drinking. I'm just here to get them off my back.\",\n                background: \"A {age}-year-old software engineer in a competitive startup environment. Social life revolves around brewery visits and after-work drinks with colleagues.\",\n                ageRange: [\n                    26,\n                    32\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'intellectualizer'\n                ]\n            },\n            {\n                variantId: 'beer-former-athlete',\n                presentingProblem: 'Patient was referred by HR after showing up to work smelling of alcohol on multiple occasions.',\n                history: 'Drinking heavily since college days when it was part of the team culture. Beer consumption has become a daily habit, often starting in the afternoon.',\n                chiefComplaint: \"HR is making this into a bigger deal than it is. I had a few beers at lunch, so what? I can still do my job. This is just team culture, everyone drinks.\",\n                background: \"A {age}-year-old former college football player now working in insurance sales. Drinking is central to his social identity and male bonding rituals.\",\n                ageRange: [\n                    28,\n                    38\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'talkative'\n                ]\n            },\n            {\n                variantId: 'beer-lonely-retiree',\n                presentingProblem: \"Patient's adult children are concerned about their father's daily beer consumption and increasing isolation since retirement.\",\n                history: 'Moderate drinker most of life, but consumption increased dramatically after retirement and the death of spouse two years ago. Now drinks 6-8 beers daily.',\n                chiefComplaint: \"My kids worry too much. A few beers help me relax. What else am I supposed to do all day? It's not like I'm hurting anyone.\",\n                conflictingChiefComplaint: \"I've been feeling pretty low since Martha passed. The days just feel so long now. I was hoping to talk about maybe getting something for sleep.\",\n                background: \"A {age}-year-old recently retired factory worker whose wife passed away two years ago. Lives alone and has limited social connections outside of family.\",\n                ageRange: [\n                    65,\n                    75\n                ],\n                typicalTraits: [\n                    'reserved',\n                    'emotional'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Daily Wine Consumption',\n        category: 'Alcohol',\n        variants: [\n            {\n                variantId: 'wine-stressed-teacher',\n                presentingProblem: 'Patient is self-referred due to growing concerns about their nightly habit of drinking a bottle of wine to \"unwind\" and its impact on their energy levels and sleep.',\n                history: 'Started with a glass of wine with dinner, which has gradually escalated to a full bottle or more per night over the past two years. Has tried to cut back but experiences irritability and anxiety.',\n                chiefComplaint: \"I feel like I need wine to relax after a stressful day, but I wake up feeling groggy and anxious. I'm worried it's becoming a crutch I can't function without.\",\n                conflictingChiefComplaint: \"I'm really struggling with my sleep and stress levels. I was hoping to talk about some strategies for that. The wine is just a symptom, not the real problem.\",\n                background: \"A {age}-year-old high school teacher, married with two teenage children. Experiences significant stress from their job and family responsibilities.\",\n                ageRange: [\n                    42,\n                    50\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'pleaser'\n                ]\n            },\n            {\n                variantId: 'wine-empty-nester',\n                presentingProblem: \"Patient's spouse has expressed concern about the amount of wine being consumed, particularly as it has become a source of marital conflict.\",\n                history: 'Wine consumption increased after children left for college. What started as \"wine with dinner\" has become 2-3 bottles throughout the evening, often drinking alone.',\n                chiefComplaint: \"My husband thinks I drink too much, but he doesn't understand how lonely I feel. The kids are gone, he works all the time... wine is my companion now.\",\n                background: \"A {age}-year-old former stay-at-home mother whose children recently left for college. Struggling with identity and purpose in this new phase of life.\",\n                ageRange: [\n                    50,\n                    58\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'talkative'\n                ]\n            },\n            {\n                variantId: 'wine-high-achiever',\n                presentingProblem: 'Patient is concerned about memory lapses and weight gain, which they suspect may be related to their wine consumption.',\n                history: 'High-powered career with regular client dinners involving wine. Over time, drinking expanded to include a bottle at home every night \"to decompress.\"',\n                chiefComplaint: \"I pride myself on being sharp, but lately I'm forgetting things. My suits don't fit. I know the wine isn't helping, but it's the only way I can turn off my brain after work.\",\n                background: \"A {age}-year-old corporate lawyer at a prestigious firm. Success-driven and used to being in control, now feeling their drinking may be controlling them.\",\n                ageRange: [\n                    38,\n                    48\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'defensive'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Heavy Liquor Use',\n        category: 'Alcohol',\n        variants: [\n            {\n                variantId: 'liquor-party-scene',\n                presentingProblem: 'Patient was brought in by a friend after a dangerous episode of intoxication involving tequila shots, resulting in a fall. Patient has memory gaps from the event.',\n                history: 'Uses liquor as a \"party starter\" on weekends. This has led to several blackouts, arguments, and risky behaviors in the past year.',\n                chiefComplaint: \"My friend is freaking out, but I was just having fun. I don't remember falling. Maybe I should slow down, but I don't think I have a 'problem' like they say.\",\n                background: \"A {age}-year-old recent college graduate working in sales. Lives with roommates and frequently goes to bars and clubs.\",\n                ageRange: [\n                    22,\n                    26\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'talkative'\n                ]\n            },\n            {\n                variantId: 'liquor-trauma-history',\n                presentingProblem: 'Patient presents after their partner threatened to leave if they don\\'t address their whiskey consumption, which has led to verbal outbursts.',\n                history: 'Started drinking heavily after returning from military service. Uses whiskey to manage nightmares and intrusive thoughts. Drinking has escalated to a fifth every 2-3 days.',\n                chiefComplaint: \"The whiskey helps me sleep. Without it, the nightmares come back. My girlfriend doesn't get what I've been through. But I don't want to lose her...\",\n                background: \"A {age}-year-old military veteran who served two tours overseas. Works as a security guard and has difficulty connecting with civilians.\",\n                ageRange: [\n                    28,\n                    40\n                ],\n                typicalTraits: [\n                    'reserved',\n                    'defensive'\n                ]\n            },\n            {\n                variantId: 'liquor-family-pattern',\n                presentingProblem: 'Patient is here at the suggestion of their AA sponsor after multiple relapses involving vodka.',\n                history: 'Family history of alcoholism. Has been in and out of AA for 10 years. Recent divorce triggered the current relapse. Hiding vodka around the house.',\n                chiefComplaint: \"I know I'm an alcoholic. I've been sober before. But when Jennifer left, I just... I couldn't cope. I hate myself for going back to it.\",\n                conflictingChiefComplaint: \"I'm really here because my sponsor said I should check in with someone. I've got this under control now. Just had a rough patch.\",\n                background: \"A {age}-year-old electrician going through a divorce. Grew up with an alcoholic father and swore they'd never end up the same way.\",\n                ageRange: [\n                    42,\n                    52\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'pleaser'\n                ]\n            }\n        ]\n    },\n    // ========== NICOTINE ==========\n    {\n        topic: 'Vaping (Nicotine)',\n        category: 'Nicotine',\n        variants: [\n            {\n                variantId: 'vape-remote-worker',\n                presentingProblem: 'Patient wants to quit vaping due to the high cost and a recent health scare (persistent cough), but finds the cravings overwhelming.',\n                history: 'Started vaping to quit smoking cigarettes 3 years ago but is now vaping more heavily than they ever smoked. Uses high-potency nicotine salt e-liquids throughout the day.',\n                chiefComplaint: \"This thing is attached to my hand from morning till night. It costs a fortune, and this cough is worrying me. I want to quit, I just don't know if I have the willpower.\",\n                background: \"A {age}-year-old graphic designer who works from home. Vaping is heavily integrated into their work routine and moments of stress or creative blocks.\",\n                ageRange: [\n                    28,\n                    35\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'pleaser'\n                ]\n            },\n            {\n                variantId: 'vape-teen-peer-pressure',\n                presentingProblem: \"Patient is a teen whose parents discovered their vaping after finding a device. They're here reluctantly at their parents' insistence.\",\n                history: 'Started vaping a year ago when friends introduced it as \"cool and harmless.\" Now uses multiple pods per week and experiences irritability without it.',\n                chiefComplaint: \"Everyone at school vapes. It's not a big deal. My parents are overreacting. It's not like I'm smoking cigarettes or doing drugs.\",\n                background: \"A {age}-year-old high school student who started vaping to fit in with peers. Academically strong but struggles with social confidence.\",\n                ageRange: [\n                    15,\n                    17\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'reserved'\n                ]\n            },\n            {\n                variantId: 'vape-pregnant',\n                presentingProblem: 'Patient just found out they are pregnant and is worried about the effects of vaping on the baby, but is struggling to quit.',\n                history: 'Switched from cigarettes to vaping 2 years ago, believing it to be safer. Now vapes continuously throughout the day and experiences severe cravings when trying to stop.',\n                chiefComplaint: \"I know I shouldn't be vaping while pregnant. I've tried to stop but I get so anxious and irritable. I'm scared I'm hurting my baby but I don't know how to stop.\",\n                background: \"A {age}-year-old expectant mother in her first trimester. Works as a dental hygienist and is terrified of the stigma of vaping while pregnant.\",\n                ageRange: [\n                    25,\n                    32\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'pleaser'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Cigarette Smoking',\n        category: 'Nicotine',\n        variants: [\n            {\n                variantId: 'cig-new-parent',\n                presentingProblem: 'Patient recently had a child and their partner is insisting they quit smoking. They are ambivalent because smoking is their primary coping mechanism for stress.',\n                history: 'Smoker since age 16, about a pack a day. Has made several half-hearted quit attempts in the past but always relapsed during stressful periods.',\n                chiefComplaint: \"I know it's bad for me, and I don't want the baby breathing it in. But with a newborn, I'm more stressed than ever. A cigarette is the only five minutes of peace I get all day.\",\n                background: \"A {age}-year-old new parent working as a mechanic. Many coworkers smoke, and smoke breaks are a key part of their social routine at work.\",\n                ageRange: [\n                    30,\n                    40\n                ],\n                typicalTraits: [\n                    'reserved',\n                    'defensive'\n                ]\n            },\n            {\n                variantId: 'cig-copd-diagnosis',\n                presentingProblem: 'Patient was recently diagnosed with early-stage COPD and told by their pulmonologist that they must quit smoking immediately.',\n                history: 'Has been smoking 1-2 packs daily for over 30 years. Multiple quit attempts using patches and gum, none lasting more than a few weeks.',\n                chiefComplaint: \"The doctor showed me my lung scans and it scared me. I don't want to end up on oxygen like my father did. But I've been smoking longer than I haven't. I don't know who I am without cigarettes.\",\n                background: \"A {age}-year-old postal worker who has been smoking since their teenage years. Watched their father die of emphysema.\",\n                ageRange: [\n                    55,\n                    65\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'reserved'\n                ]\n            },\n            {\n                variantId: 'cig-social-smoker',\n                presentingProblem: \"Patient's doctor strongly recommended quitting after their blood pressure readings have been consistently elevated.\",\n                history: 'Describes self as a \"social smoker\" but actually smokes half a pack daily. Tends to minimize the habit and doesn\\'t consider themselves a \"real\" smoker.',\n                chiefComplaint: \"I'm not really a smoker, I just have a few when I'm out with friends or stressed at work. My doctor is making too big a deal of this. Maybe I'll just cut back a little.\",\n                background: \"A {age}-year-old marketing manager who smokes more than they admit to themselves or others. Associates smoking with social situations and work breaks.\",\n                ageRange: [\n                    32,\n                    42\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'intellectualizer'\n                ]\n            }\n        ]\n    },\n    // ========== CANNABIS ==========\n    {\n        topic: 'Daily Cannabis Use',\n        category: 'Cannabis',\n        variants: [\n            {\n                variantId: 'cannabis-musician',\n                presentingProblem: \"Patient is experiencing a persistent, phlegmy cough and is worried about their lung health. They also report feeling unmotivated and 'in a rut'.\",\n                history: 'Has been smoking cannabis daily since college. Now smokes several times a day, from morning to night. Finds it difficult to imagine their life without it.',\n                chiefComplaint: \"This cough won't go away, and I feel like my lungs are heavy. I also just feel... stuck. I have goals, things I want to do, but I never seem to get around to them.\",\n                background: \"A {age}-year-old musician and gig-worker. Associates cannabis with creativity and relaxation, but is starting to see how it might be hindering their professional progress.\",\n                ageRange: [\n                    27,\n                    34\n                ],\n                typicalTraits: [\n                    'talkative',\n                    'intellectualizer'\n                ]\n            },\n            {\n                variantId: 'cannabis-anxiety-self-med',\n                presentingProblem: 'Patient uses cannabis daily to manage anxiety but has noticed increasing tolerance and is needing more to achieve the same calming effect.',\n                history: 'Started using cannabis for anxiety in early 20s. Now relies on it throughout the day to function. Has tried to take tolerance breaks but experiences severe rebound anxiety.',\n                chiefComplaint: \"Weed is my medication. It's the only thing that calms my anxiety. But lately it's not working as well, and I'm smoking more and more. I'm spending too much money on it.\",\n                background: \"A {age}-year-old barista who has struggled with anxiety since childhood. Has avoided conventional treatment, preferring to self-medicate with cannabis.\",\n                ageRange: [\n                    24,\n                    30\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'defensive'\n                ]\n            },\n            {\n                variantId: 'cannabis-relationship-strain',\n                presentingProblem: \"Patient's partner has given them an ultimatum about their cannabis use, which they feel is destroying their relationship.\",\n                history: 'Has been using cannabis daily for over a decade. Partner initially was fine with it but has grown increasingly frustrated with the patient\\'s lack of motivation and emotional unavailability.',\n                chiefComplaint: \"My girlfriend says she can't take it anymore. She says I'm always high and never present. I love her, but I also don't think I can just stop. Weed is how I decompress.\",\n                conflictingChiefComplaint: \"We've been having some relationship issues, communication problems mostly. I think she's using the weed as an excuse when the real issues are deeper.\",\n                background: \"A {age}-year-old warehouse manager in a long-term relationship. Partner is considering leaving if things don't change.\",\n                ageRange: [\n                    32,\n                    40\n                ],\n                typicalTraits: [\n                    'reserved',\n                    'defensive'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'THC Edibles',\n        category: 'Cannabis',\n        variants: [\n            {\n                variantId: 'edibles-work-performance',\n                presentingProblem: 'Patient\\'s work performance is suffering due to daily use of high-potency THC gummies. They report feeling \"in a fog\" and unmotivated.',\n                history: 'Began using edibles for sleep a year ago. Now uses them throughout the day to manage anxiety, consuming up to 100mg of THC daily. Their recent performance review at work was poor.',\n                chiefComplaint: \"My boss told me I seem distracted and my work is slipping. The edibles used to help my anxiety, but now I just feel... slow. I don't feel high, just not sharp.\",\n                background: \"A {age}-year-old paralegal under high pressure at a corporate law firm. Is worried about losing their job.\",\n                ageRange: [\n                    32,\n                    40\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'pleaser'\n                ]\n            },\n            {\n                variantId: 'edibles-chronic-pain',\n                presentingProblem: 'Patient is using increasingly high doses of THC edibles for chronic pain management but is concerned about cognitive side effects.',\n                history: 'Started using edibles after back surgery when they wanted to reduce opioid use. Tolerance has built to the point where they need very high doses, which leave them impaired.',\n                chiefComplaint: \"The edibles help my pain without the scary stuff that comes with pills. But I'm taking so much now that I feel foggy all the time. My kids have noticed. It's affecting my whole life.\",\n                background: \"A {age}-year-old parent of two who had spinal fusion surgery three years ago. Chronic pain persists and they're trying to avoid becoming dependent on prescription opioids.\",\n                ageRange: [\n                    42,\n                    52\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'reserved'\n                ]\n            }\n        ]\n    },\n    // ========== OPIOIDS ==========\n    {\n        topic: 'Fentanyl Use (Illicit)',\n        category: 'Opioids',\n        variants: [\n            {\n                variantId: 'fentanyl-overdose-survivor',\n                presentingProblem: 'Patient is here due to a court mandate following an overdose on what they thought was heroin, but was actually fentanyl. They are terrified of overdosing again but also of withdrawal.',\n                history: 'Long history of opioid use, starting with prescription pain pills and progressing to heroin. Recently started using pressed pills sold as \"oxys\" which are likely illicit fentanyl.',\n                chiefComplaint: \"I honestly thought I was going to die. I never want to feel that way again. But the thought of getting sick from withdrawal... I can't handle it. I don't see a way out.\",\n                background: \"A {age}-year-old who has been unemployed for a year and is experiencing housing instability, often couch-surfing. Has lost contact with most of their family.\",\n                ageRange: [\n                    25,\n                    34\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'reserved'\n                ]\n            },\n            {\n                variantId: 'fentanyl-young-professional',\n                presentingProblem: 'Patient was found unresponsive by roommate and revived with Narcan. This is their first time seeking help for substance use.',\n                history: 'Started using prescription opioids recreationally in college. Progressed to buying pills that are likely pressed fentanyl. Has been hiding use from friends and family.',\n                chiefComplaint: \"I never thought I'd be 'that person.' I have a good job, a nice apartment... but I keep doing these pills and I know they're dangerous. When I woke up with the EMTs there, I realized I could have died.\",\n                background: \"A {age}-year-old marketing professional who comes from an upper-middle-class family. Has been functioning at work but living a double life.\",\n                ageRange: [\n                    24,\n                    30\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'pleaser'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Prescription Pain Meds (Oxycodone)',\n        category: 'Opioids',\n        variants: [\n            {\n                variantId: 'oxy-chronic-pain',\n                presentingProblem: 'Patient is running out of their oxycodone prescription early each month and is requesting an increased dose, showing signs of tolerance and dependence.',\n                history: 'Prescribed oxycodone for chronic back pain after a car accident 2 years ago. Initially took as prescribed, but now takes extra doses for stress and emotional relief.',\n                chiefComplaint: \"Doctor, the pills just aren't working like they used to. The pain is breaking through more and more. I think I need a higher dose to manage it properly.\",\n                background: \"A {age}-year-old former construction worker on disability. Lives alone and reports high levels of boredom and depression.\",\n                ageRange: [\n                    48,\n                    58\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'emotional'\n                ]\n            },\n            {\n                variantId: 'oxy-post-surgery',\n                presentingProblem: 'Patient had surgery six months ago but is still requesting opioid refills. Surgeon has declined and referred patient to discuss other options.',\n                history: 'Underwent knee replacement surgery. Was prescribed oxycodone for post-operative pain and has been unable or unwilling to taper off despite the expected healing timeline.',\n                chiefComplaint: \"The surgeon doesn't understand. The pain is still there. Maybe the surgery didn't work properly. I need more time on the medication before I can even think about stopping.\",\n                conflictingChiefComplaint: \"I'm mostly here to talk about why my knee still hurts so much. I think something went wrong with the surgery. The pills are the only thing that help.\",\n                background: \"A {age}-year-old retired nurse who prided themselves on their medical knowledge. Now feels dismissed by doctors and is becoming increasingly isolated.\",\n                ageRange: [\n                    58,\n                    68\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'defensive'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Prescription Benzodiazepine Misuse',\n        category: 'Opioids',\n        variants: [\n            {\n                variantId: 'benzo-doctor-shopping',\n                presentingProblem: \"Patient is seeking a new doctor to get a refill for their alprazolam (Xanax) prescription, after their previous doctor refused.\",\n                history: 'Prescribed Xanax for panic attacks five years ago. Now takes it daily to manage general anxiety and stress, often taking more than prescribed.',\n                chiefComplaint: \"My last doctor cut me off. He doesn't understand how bad my anxiety is. I can't sleep, my heart races... I need my medication to just feel normal.\",\n                background: \"A {age}-year-old stay-at-home parent who feels overwhelmed with childcare and household responsibilities. Feels isolated and believes the medication is the only thing holding them together.\",\n                ageRange: [\n                    38,\n                    48\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'pleaser'\n                ]\n            },\n            {\n                variantId: 'benzo-executive-function',\n                presentingProblem: 'Patient is concerned about memory problems and difficulty concentrating, which may be related to long-term benzodiazepine use.',\n                history: 'Has been on clonazepam for generalized anxiety for over 8 years. Dose has gradually increased. Recently noticed significant cognitive issues affecting work performance.',\n                chiefComplaint: \"I'm forgetting things, losing words mid-sentence. My work is suffering. I read that benzos can cause this but I'm terrified to stop. The anxiety would be unbearable.\",\n                background: \"A {age}-year-old finance executive who manages a large team. The cognitive decline is threatening their career, but anxiety has been a lifelong struggle.\",\n                ageRange: [\n                    45,\n                    55\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'reserved'\n                ]\n            }\n        ]\n    },\n    // ========== STIMULANTS ==========\n    {\n        topic: 'Methamphetamine Use',\n        category: 'Stimulants',\n        variants: [\n            {\n                variantId: 'meth-truck-driver',\n                presentingProblem: 'Patient presents with severe dental decay, significant weight loss, and paranoia. They were brought in by a family member concerned about their erratic behavior.',\n                history: 'Initiated meth use 18 months ago to work longer hours at a manual labor job. Use has escalated to daily, with multi-day binges. Has become socially withdrawn and paranoid.',\n                chiefComplaint: \"My family is trying to control me. They don't understand the pressure I'm under. I'm fine, I just need everyone to leave me alone. Why are they looking at me like that?\",\n                background: \"A {age}-year-old truck driver who is at risk of losing their job due to missed shifts and strange behavior. Is divorced and has strained relationships with their children.\",\n                ageRange: [\n                    38,\n                    48\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'reserved'\n                ]\n            },\n            {\n                variantId: 'meth-gay-scene',\n                presentingProblem: 'Patient is concerned about their meth use, which started in the context of the party and chemsex scene. A recent HIV diagnosis has prompted them to reevaluate.',\n                history: 'Started using crystal meth at parties about two years ago. Use has become more frequent, associated with sexual encounters. Recently diagnosed with HIV at a routine screening.',\n                chiefComplaint: \"The diagnosis was a wake-up call. The meth... it's tied up with everything. The parties, the sex, my whole social life. But I can't keep going like this. I could have died.\",\n                background: \"A {age}-year-old flight attendant who is part of an active social scene where meth use is common. Struggling with shame and isolation after the diagnosis.\",\n                ageRange: [\n                    28,\n                    38\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'talkative'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Cocaine Use',\n        category: 'Stimulants',\n        variants: [\n            {\n                variantId: 'cocaine-finance',\n                presentingProblem: 'Patient is in financial crisis due to a weekly cocaine habit that has escalated. They are seeking help after taking out a high-interest loan to cover their drug-related debts.',\n                history: 'Casual weekend user for years, but use escalated to 3-4 times a week after a promotion. Spends hundreds of dollars a week on cocaine, hiding the expense from their spouse.',\n                chiefComplaint: \"I've gotten myself into a real financial mess. I keep telling myself I'll stop, just for the weekends, but then Friday comes... I never thought I'd be in debt over this.\",\n                background: \"A {age}-year-old in finance who associates cocaine use with success and networking. Is married and just bought a new house, adding to financial pressure.\",\n                ageRange: [\n                    35,\n                    45\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'defensive'\n                ]\n            },\n            {\n                variantId: 'cocaine-restaurant-industry',\n                presentingProblem: 'Patient had a cardiac event (palpitations, chest pain) after a cocaine binge and is shaken. ER doctors told them to stop using immediately.',\n                history: 'Works in a restaurant where cocaine use is rampant. Uses multiple times per week to get through long shifts. Has been brushing off warning signs like nosebleeds and heart racing.',\n                chiefComplaint: \"I thought I was having a heart attack. I'm only 32. The ER doctor said my heart could give out if I keep this up. I'm scared, but everyone at work uses. How do I stop when it's everywhere?\",\n                background: \"A {age}-year-old sous chef at a high-end restaurant. The industry culture normalizes drug use, and long, stressful hours make it feel necessary to keep up.\",\n                ageRange: [\n                    28,\n                    36\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'pleaser'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Prescription Stimulant Misuse (Adderall)',\n        category: 'Stimulants',\n        variants: [\n            {\n                variantId: 'adderall-grad-student',\n                presentingProblem: 'Patient is a graduate student who has been using Adderall obtained from friends to get through exams and deadlines. Use has become daily.',\n                history: 'Started using occasionally during undergrad finals. Now uses daily and experiences crashes, irritability, and insomnia. Has never been evaluated for ADHD.',\n                chiefComplaint: \"I can't focus without it anymore. But I'm not sleeping, I'm losing weight, and I snap at everyone. I don't know if I actually have ADHD or if I've just created a dependency.\",\n                background: \"A {age}-year-old PhD candidate in biology facing intense pressure to publish and complete their dissertation. Academic identity is everything to them.\",\n                ageRange: [\n                    24,\n                    30\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'pleaser'\n                ]\n            },\n            {\n                variantId: 'adderall-working-mom',\n                presentingProblem: \"Patient has been using their child's Adderall prescription to manage the demands of work and parenting. Now experiencing dependence.\",\n                history: 'Started taking a pill here and there to manage exhaustion. Now takes multiple pills daily and is running through the prescription faster than it can be refilled.',\n                chiefComplaint: \"I know it's wrong, I'm taking my kid's medication. But I'm a single mom with two jobs. Without it, I literally cannot keep up. I'm terrified of what happens when the bottle runs out.\",\n                background: \"A {age}-year-old single mother of two, working multiple part-time jobs. Exhausted and overwhelmed, with no support system or time for self-care.\",\n                ageRange: [\n                    32,\n                    42\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'defensive'\n                ]\n            }\n        ]\n    },\n    // ========== OTHER SUBSTANCES ==========\n    {\n        topic: 'Kratom Dependence',\n        category: 'Other Substances',\n        variants: [\n            {\n                variantId: 'kratom-chronic-pain',\n                presentingProblem: 'Patient is trying to stop using kratom, which they initially took for chronic pain and energy, but is now experiencing significant withdrawal symptoms.',\n                history: 'Started using kratom powder from an online vendor 3 years ago as a \"natural\" alternative to pain medication. Consumption has grown to 30-40 grams per day.',\n                chiefComplaint: \"I thought this stuff was like coffee, but now if I try to stop, I feel awful. My whole body aches, I can't sleep, and I'm so irritable. It feels like the flu, but worse.\",\n                background: \"A {age}-year-old librarian who initially used kratom for fibromyalgia. Now feels trapped by the need to dose every few hours to avoid withdrawal.\",\n                ageRange: [\n                    45,\n                    55\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'reserved'\n                ]\n            },\n            {\n                variantId: 'kratom-opioid-replacement',\n                presentingProblem: 'Patient started using kratom to get off prescription opioids but has developed a new dependence. Seeking guidance on how to taper.',\n                history: 'Was on oxycodone for a work injury. Used kratom to self-manage withdrawal and avoid going back to pills. Now uses kratom multiple times daily and can\\'t stop.',\n                chiefComplaint: \"I traded one addiction for another, I guess. At least kratom is legal, but I'm spending a fortune on it and I still don't feel normal. I just want to be free of all of this.\",\n                background: \"A {age}-year-old electrician who was proud of getting off prescription opioids on their own, but now realizes they're dependent on kratom.\",\n                ageRange: [\n                    35,\n                    45\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'pleaser'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Ketamine Misuse',\n        category: 'Other Substances',\n        variants: [\n            {\n                variantId: 'ketamine-club-scene',\n                presentingProblem: 'Patient reports urinary tract issues and cognitive difficulties (\"brain fog\") after regular, heavy use of illicit ketamine.',\n                history: 'Uses ketamine insufflated (snorted) every weekend with friends for its dissociative effects. Recently has been experiencing bladder pain and urgency.',\n                chiefComplaint: \"I've been having some weird bladder problems, and my memory feels shot lately. I read online it might be from the K. I'm worried I might have done some permanent damage.\",\n                background: \"A {age}-year-old artist and nightlife enthusiast. Their social scene is heavily centered around clubbing and psychedelic/dissociative drug use.\",\n                ageRange: [\n                    23,\n                    29\n                ],\n                typicalTraits: [\n                    'talkative',\n                    'intellectualizer'\n                ]\n            },\n            {\n                variantId: 'ketamine-depression-self-treat',\n                presentingProblem: 'Patient has been using illicit ketamine to self-treat depression after reading about ketamine therapy. Use has escalated beyond occasional to frequent.',\n                history: 'Struggles with treatment-resistant depression. Couldn\\'t afford legitimate ketamine therapy so started buying it illegally. Initially helpful, now using multiple times per week.',\n                chiefComplaint: \"It actually helped my depression at first, more than any antidepressant ever did. But now I'm using so much and the effects aren't the same. I feel stuck between depression and dependence.\",\n                background: \"A {age}-year-old tech worker who has tried multiple antidepressants without success. Researched ketamine therapy but couldn't access or afford it legally.\",\n                ageRange: [\n                    28,\n                    38\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'emotional'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Psilocybin (Mushroom) Misuse',\n        category: 'Other Substances',\n        variants: [\n            {\n                variantId: 'psilocybin-bad-trip',\n                presentingProblem: 'Patient is concerned about recent experiences of heightened anxiety and \"feeling disconnected\" for days after using psilocybin mushrooms.',\n                history: 'Began using mushrooms with friends for recreational and perceived spiritual reasons. Use has become more frequent and solitary. A recent \"bad trip\" has left them shaken.',\n                chiefComplaint: \"I thought mushrooms were supposed to be enlightening, but my last trip was terrifying. Ever since, my anxiety is through the roof and I feel weird, like I'm not really here.\",\n                background: \"A {age}-year-old graduate student in philosophy. Was drawn to psychedelics for intellectual and spiritual exploration but is now facing unexpected psychological consequences.\",\n                ageRange: [\n                    22,\n                    28\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'emotional'\n                ]\n            },\n            {\n                variantId: 'psilocybin-microdosing',\n                presentingProblem: 'Patient has been microdosing psilocybin for productivity and mood but has begun taking larger doses and is questioning where the line is.',\n                history: 'Started microdosing after reading about benefits for creativity and focus. Gradually increased doses. Now taking noticeable doses several times a week.',\n                chiefComplaint: \"It started as microdosing for work, and it really helped. But lately I've been taking more because... I guess I want to feel something? I'm not sure if this is a problem or not.\",\n                background: \"A {age}-year-old startup founder under enormous pressure to perform. Turned to microdosing as a 'biohack' but is now using mushrooms in ways they didn't intend.\",\n                ageRange: [\n                    28,\n                    38\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'defensive'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Anabolic Steroid Use',\n        category: 'Other Substances',\n        variants: [\n            {\n                variantId: 'steroids-personal-trainer',\n                presentingProblem: 'Patient presents with acne, mood swings (irritability and aggression), and concerning lab results (elevated liver enzymes) from a recent physical.',\n                history: 'Started using testosterone and other anabolic steroids sourced from a \"gym buddy\" about a year ago to accelerate muscle gain. Is now on a regular cycle of injectables.',\n                chiefComplaint: \"My girlfriend says I'm always angry, and my doctor is freaking out about my liver. I've never felt stronger, though. Everyone at the gym is on something.\",\n                background: \"A {age}-year-old personal trainer whose career and self-esteem are tied to their physical appearance. Feels intense pressure to maintain a hyper-masculine physique.\",\n                ageRange: [\n                    24,\n                    30\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'talkative'\n                ]\n            },\n            {\n                variantId: 'steroids-body-dysmorphia',\n                presentingProblem: \"Patient's partner is concerned about their increasingly extreme behavior around exercise, diet, and steroid use.\",\n                history: 'Has struggled with body image since being bullied as a thin teenager. Started lifting weights obsessively, then added steroids. Can never feel \"big enough\" despite obvious muscle mass.',\n                chiefComplaint: \"I know I'm bigger than before, but when I look in the mirror, I still see that skinny kid who got picked on. The steroids help me feel more in control of my body.\",\n                background: \"A {age}-year-old accountant who spends 3+ hours daily at the gym. Social life has narrowed to only gym-related activities and online bodybuilding forums.\",\n                ageRange: [\n                    26,\n                    34\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'reserved'\n                ]\n            }\n        ]\n    },\n    // ========== BEHAVIORAL ==========\n    {\n        topic: 'Compulsive Shopping',\n        category: 'Behavioral',\n        variants: [\n            {\n                variantId: 'shopping-online-isolation',\n                presentingProblem: 'Compulsive online shopping leading to significant credit card debt. Patient is minimizing the issue, which is causing conflict with their partner.',\n                history: 'Patient has accumulated significant credit card debt over the past two years from frequent online purchases. They often hide packages from their partner and feel a rush when buying things, followed by guilt.',\n                chiefComplaint: \"My partner is freaking out about our credit card bills. I don't think it's that bad, I just like to buy nice things. It's my money, why is it such a big deal?\",\n                background: \"Married with one child. Works from home as an accountant and feels isolated. Manages household finances.\",\n                ageRange: [\n                    30,\n                    45\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'pleaser'\n                ]\n            },\n            {\n                variantId: 'shopping-emotional-void',\n                presentingProblem: \"Patient is seeking help after a failed relationship, recognizing that shopping binges often follow emotional distress.\",\n                history: 'Uses shopping to cope with difficult emotions. After breakups or conflicts, goes on spending sprees that provide temporary relief followed by shame and more distress.',\n                chiefComplaint: \"Every time something bad happens, I end up at the mall or online with my credit card. I feel better for a moment but then I see the bills and feel even worse. It's a cycle I can't break.\",\n                background: \"A {age}-year-old recently divorced professional. Shopping has become the primary way to fill the emotional void left by the failed marriage.\",\n                ageRange: [\n                    35,\n                    48\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'talkative'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Compulsive Sports Betting',\n        category: 'Behavioral',\n        variants: [\n            {\n                variantId: 'betting-family-ultimatum',\n                presentingProblem: 'Patient is in significant debt from online sports betting. Their partner has discovered the extent of the debt and has given them an ultimatum to seek help.',\n                history: 'Started with small, casual bets on games with friends. Escalated over the last year with the accessibility of mobile betting apps. Has chased losses, taken out loans, and maxed out credit cards.',\n                chiefComplaint: \"I messed up. I thought I had a system, that I could win it all back. Now my partner's threatening to leave. I have to do something, but I don't even know where to start.\",\n                conflictingChiefComplaint: \"My partner and I are having some disagreements about our budget. I think we just need a better financial plan, it's more of a communication issue than anything else.\",\n                background: \"A {age}-year-old car salesman who is highly competitive. Used to play college sports and now channels that energy into betting. Feels immense pressure to provide for his family.\",\n                ageRange: [\n                    35,\n                    45\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'talkative'\n                ]\n            },\n            {\n                variantId: 'betting-crypto-gambler',\n                presentingProblem: 'Patient has lost significant savings in cryptocurrency trading and sports betting, which they justified as \"investing.\" Now facing financial ruin.',\n                history: 'Started with crypto investments, then moved to sports betting for faster returns. Has been taking increasing risks, including using rent money to chase losses.',\n                chiefComplaint: \"I kept telling myself it was investing, not gambling. But I've lost everything. My rent is due and I have nothing. I feel like I can't stop even though I know I should.\",\n                background: \"A {age}-year-old who works in tech and got caught up in the crypto boom. The line between investing and gambling blurred until the losses became catastrophic.\",\n                ageRange: [\n                    25,\n                    35\n                ],\n                typicalTraits: [\n                    'intellectualizer',\n                    'defensive'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Excessive Online Gaming',\n        category: 'Behavioral',\n        variants: [\n            {\n                variantId: 'gaming-teen-withdrawal',\n                presentingProblem: \"Patient's parents are concerned about their social withdrawal, declining grades, and neglect of personal hygiene, all linked to near-constant online gaming.\",\n                history: 'Always enjoyed video games, but has become completely absorbed in a competitive online multiplayer game over the past year. Stays up all night playing, skips meals, and has lost touch with non-gaming friends.',\n                chiefComplaint: \"My parents are being dramatic. It's just a game. My online friends are my real friends anyway. School is boring. Why can't they just let me do what I enjoy?\",\n                background: \"A {age}-year-old high school student who feels socially anxious and has found a sense of community and achievement online that they feel is lacking in their 'real' life.\",\n                ageRange: [\n                    15,\n                    18\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'reserved'\n                ]\n            },\n            {\n                variantId: 'gaming-adult-escape',\n                presentingProblem: \"Patient's partner is threatening to leave due to excessive gaming. Patient is gaming 6-8 hours daily after work, neglecting relationship and responsibilities.\",\n                history: 'Gaming increased dramatically after a stressful job change. Now uses gaming as primary escape from work stress and relationship conflict, creating a vicious cycle.',\n                chiefComplaint: \"Gaming is the only time I feel relaxed. Work is hell, and honestly, coming home to someone nagging me about gaming just makes me want to game more. But I don't want to lose my partner either.\",\n                background: \"A {age}-year-old software developer in a stressful job. Uses gaming to decompress but it has taken over their life and is threatening their relationship.\",\n                ageRange: [\n                    28,\n                    38\n                ],\n                typicalTraits: [\n                    'reserved',\n                    'intellectualizer'\n                ]\n            }\n        ]\n    },\n    // ========== HEALTH BEHAVIORS ==========\n    {\n        topic: 'Poor Diet & Fast Food',\n        category: 'Health',\n        variants: [\n            {\n                variantId: 'diet-truck-driver',\n                presentingProblem: 'Patient has pre-diabetes and their primary care doctor has strongly recommended dietary changes to avoid developing full-blown Type 2 Diabetes.',\n                history: 'Relies heavily on fast food and processed meals due to a busy work schedule and lack of cooking skills. Drinks several sugary sodas per day.',\n                chiefComplaint: \"My doctor says I have to change how I eat, but with my job, I barely have time to breathe, let alone cook. A burger and fries is just easy. I know it's not good for me, but changing everything feels impossible.\",\n                background: \"A {age}-year-old long-haul truck driver who eats most meals on the road. Struggles with healthy options and time constraints.\",\n                ageRange: [\n                    45,\n                    55\n                ],\n                typicalTraits: [\n                    'reserved',\n                    'defensive'\n                ]\n            },\n            {\n                variantId: 'diet-emotional-eating',\n                presentingProblem: 'Patient has gained significant weight and is struggling with emotional eating, often consuming large quantities of comfort food when stressed or sad.',\n                history: 'Food has always been a source of comfort since childhood. Weight has steadily increased over the years. Multiple failed diet attempts have left them feeling hopeless.',\n                chiefComplaint: \"I know I eat my feelings. When I'm stressed or sad, food is the only thing that makes me feel better. Diets never work for me. I always end up right back where I started, or worse.\",\n                background: \"A {age}-year-old office worker who grew up in a household where food was love. Uses food to cope with difficult emotions and has struggled with weight their entire adult life.\",\n                ageRange: [\n                    32,\n                    45\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'pleaser'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Sedentary Lifestyle',\n        category: 'Health',\n        variants: [\n            {\n                variantId: 'sedentary-desk-job',\n                presentingProblem: 'Patient reports chronic fatigue, weight gain, and general low mood. Their doctor suggested that increasing physical activity could help significantly.',\n                history: 'Used to be active in school but has fallen into a sedentary routine with a desk job and long commute. Evenings are spent on the couch watching TV.',\n                chiefComplaint: \"I just feel tired all the time. I know I should exercise, but by the time I get home from work, I have zero energy. The idea of going to a gym is intimidating. I wouldn't even know what to do.\",\n                conflictingChiefComplaint: \"I've been having this persistent lower back pain and was hoping to get it checked out. I think if I could just get rid of this pain, I'd have a lot more energy.\",\n                background: \"A {age}-year-old IT support specialist who works long hours at a desk. Lives alone and lacks social support for engaging in physical activities.\",\n                ageRange: [\n                    35,\n                    45\n                ],\n                typicalTraits: [\n                    'reserved',\n                    'intellectualizer'\n                ]\n            },\n            {\n                variantId: 'sedentary-post-injury',\n                presentingProblem: \"Patient stopped exercising after an injury and has struggled to return to physical activity despite being cleared by doctors months ago.\",\n                history: 'Was moderately active before injuring their knee. The injury healed but fear of re-injury and lost fitness have prevented return to exercise.',\n                chiefComplaint: \"I used to enjoy walking and swimming, but after the injury, I got scared. Now I'm so out of shape that trying to exercise feels overwhelming. I don't know how to get back to where I was.\",\n                background: \"A {age}-year-old retired teacher whose social activities used to revolve around fitness classes. Now isolated and deconditioned, missing the community and health benefits.\",\n                ageRange: [\n                    58,\n                    68\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'pleaser'\n                ]\n            }\n        ]\n    },\n    {\n        topic: 'Medication Non-Adherence (Type 2 Diabetes)',\n        category: 'Health',\n        variants: [\n            {\n                variantId: 'diabetes-denial',\n                presentingProblem: 'Patient with Type 2 Diabetes presents with consistently high A1c levels. They admit to frequently forgetting or skipping their oral diabetes medication.',\n                history: 'Diagnosed two years ago. Was initially diligent but has become complacent. Finds the daily routine of medication and monitoring to be a frustrating reminder of their condition.',\n                chiefComplaint: \"I feel fine, so I don't see the big deal if I miss a pill here and there. Checking my blood sugar is a pain. I hate that I have to do all this stuff. I just want to forget I have diabetes.\",\n                conflictingChiefComplaint: \"These diabetes pills have been giving me some unpleasant side effects, and I'm not even sure they're helping. I wanted to discuss if there are other medications we could try.\",\n                background: \"A {age}-year-old retired office manager who feels their health is declining. Is frustrated by the chronic nature of their illness and sometimes feels hopeless about it.\",\n                ageRange: [\n                    62,\n                    72\n                ],\n                typicalTraits: [\n                    'defensive',\n                    'reserved'\n                ]\n            },\n            {\n                variantId: 'diabetes-cost-barriers',\n                presentingProblem: 'Patient with diabetes is not taking medication consistently due to cost concerns, leading to poor blood sugar control.',\n                history: 'Has been rationing insulin and skipping doses of other medications to make them last longer. Too embarrassed to discuss financial struggles with doctor.',\n                chiefComplaint: \"Do you know how much these medications cost? I'm on a fixed income. Sometimes I have to choose between groceries and insulin. I know it's dangerous but what am I supposed to do?\",\n                background: \"A {age}-year-old on disability who struggles financially. Has been cutting corners on medication due to cost and is now facing worsening health complications.\",\n                ageRange: [\n                    55,\n                    65\n                ],\n                typicalTraits: [\n                    'emotional',\n                    'reserved'\n                ]\n            }\n        ]\n    }\n];\n// Legacy flat template format for backward compatibility\n// This flattens all variants into individual templates\nconst PATIENT_PROFILE_TEMPLATES = PATIENT_TOPIC_TEMPLATES.flatMap((topicTemplate)=>topicTemplate.variants.map((variant)=>({\n            topic: topicTemplate.topic,\n            category: topicTemplate.category,\n            ...variant\n        })));\nconst STAGE_DESCRIPTIONS = {\n    [_types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Precontemplation]: \"Not currently considering change. Unaware or under-aware of their problems.\",\n    [_types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Contemplation]: \"Ambivalent about change. Aware a problem exists but not committed to action.\",\n    [_types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Preparation]: \"Getting ready to change. Intends to take action soon and may have a plan.\",\n    [_types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Action]: \"Actively modifying behavior. Has made specific overt modifications in their lifestyle.\",\n    [_types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Maintenance]: \"Sustaining new behavior. Working to prevent relapse into old habits.\"\n};\nconst FREE_SESSION_DURATION = 90; // seconds\nconst PREMIUM_SESSION_DURATION = 300; // seconds\n// XP System Constants\nconst XP_LEVELS = [\n    {\n        level: 1,\n        name: 'Curious Beginner',\n        minXP: 0,\n        maxXP: 99\n    },\n    {\n        level: 2,\n        name: 'Engaged Learner',\n        minXP: 100,\n        maxXP: 499\n    },\n    {\n        level: 3,\n        name: 'Skilled Practitioner',\n        minXP: 500,\n        maxXP: 1499\n    },\n    {\n        level: 4,\n        name: 'MI Champion',\n        minXP: 1500,\n        maxXP: Infinity\n    }\n];\nconst XP_AWARDS = {\n    SESSION_COMPLETE: 10,\n    SCORE_70_PLUS_BONUS: 5,\n    SCORE_90_PLUS_BONUS: 10,\n    STREAK_DAY_BONUS: 2,\n    BADGE_UNLOCK: 25\n};\nconst BADGES = [\n    // Streak Badges\n    {\n        id: 'streak-3',\n        name: 'First Flame',\n        emoji: '',\n        description: 'Practice for 3 days in a row',\n        category: 'streak',\n        requirement: 3\n    },\n    {\n        id: 'streak-7',\n        name: 'Week Warrior',\n        emoji: '',\n        description: 'Practice for 7 days in a row',\n        category: 'streak',\n        requirement: 7\n    },\n    {\n        id: 'streak-30',\n        name: 'Monthly Master',\n        emoji: '',\n        description: 'Practice for 30 days in a row',\n        category: 'streak',\n        requirement: 30\n    },\n    {\n        id: 'streak-90',\n        name: 'Quarterly Champion',\n        emoji: '',\n        description: 'Practice for 90 days in a row',\n        category: 'streak',\n        requirement: 90\n    },\n    // Milestone Badges\n    {\n        id: 'sessions-1',\n        name: 'First Steps',\n        emoji: '',\n        description: 'Complete your first practice session',\n        category: 'milestone',\n        requirement: 1\n    },\n    {\n        id: 'sessions-10',\n        name: 'Getting Serious',\n        emoji: '',\n        description: 'Complete 10 practice sessions',\n        category: 'milestone',\n        requirement: 10\n    },\n    {\n        id: 'sessions-50',\n        name: 'Dedicated',\n        emoji: '',\n        description: 'Complete 50 practice sessions',\n        category: 'milestone',\n        requirement: 50\n    },\n    {\n        id: 'sessions-100',\n        name: 'MI Master',\n        emoji: '',\n        description: 'Complete 100 practice sessions',\n        category: 'milestone',\n        requirement: 100\n    }\n];\n// Helper to get badge by ID\nconst getBadgeById = (id)=>{\n    return BADGES.find((badge)=>badge.id === id);\n};\n// Helper to get badges by category\nconst getBadgesByCategory = (category)=>{\n    return BADGES.filter((badge)=>badge.category === category);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFDVmdDLGFBQWE7SUFDZjtJQUNBO1FBQ0VqRCxJQUFJO1FBQ0pxQyxNQUFNO1FBQ05XLE9BQU87UUFDUDlDLGFBQWE7UUFDYmUsVUFBVTtRQUNWZ0MsYUFBYTtJQUNmO0lBQ0E7UUFDRWpELElBQUk7UUFDSnFDLE1BQU07UUFDTlcsT0FBTztRQUNQOUMsYUFBYTtRQUNiZSxVQUFVO1FBQ1ZnQyxhQUFhO0lBQ2Y7SUFDQTtRQUNFakQsSUFBSTtRQUNKcUMsTUFBTTtRQUNOVyxPQUFPO1FBQ1A5QyxhQUFhO1FBQ2JlLFVBQVU7UUFDVmdDLGFBQWE7SUFDZjtDQUNELENBQVU7QUFFWCw0QkFBNEI7QUFDckIsTUFBTUMsZUFBZSxDQUFDbEQ7SUFDM0IsT0FBTytDLE9BQU8zQyxJQUFJLENBQUMrQyxDQUFBQSxRQUFTQSxNQUFNbkQsRUFBRSxLQUFLQTtBQUMzQyxFQUFFO0FBRUYsbUNBQW1DO0FBQzVCLE1BQU1vRCxzQkFBc0IsQ0FBQ25DO0lBQ2xDLE9BQU84QixPQUFPTSxNQUFNLENBQUNGLENBQUFBLFFBQVNBLE1BQU1sQyxRQUFRLEtBQUtBO0FBQ25ELEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbnN0YW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdGFnZU9mQ2hhbmdlLCBQZXJzb25hbGl0eVRyYWl0IH0gZnJvbSAnLi90eXBlcyc7XG5cbi8vIFBlcnNvbmFsaXR5IHRyYWl0cyB0aGF0IGFmZmVjdCBwYXRpZW50IGJlaGF2aW9yIGFuZCBhZGQgY29tcGxleGl0eVxuZXhwb3J0IGNvbnN0IFBFUlNPTkFMSVRZX1RSQUlUUzogQXJyYXk8e1xuICBpZDogUGVyc29uYWxpdHlUcmFpdDtcbiAgbGFiZWw6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn0+ID0gW1xuICB7IFxuICAgIGlkOiAnZGVmZW5zaXZlJywgXG4gICAgbGFiZWw6ICdEZWZlbnNpdmUnLCBcbiAgICBkZXNjcmlwdGlvbjogJ1F1aWNrIHRvIGp1c3RpZnkgYmVoYXZpb3IsIGRlZmxlY3RzIGJsYW1lLCBtYXkgYmVjb21lIGd1YXJkZWQgd2hlbiBjaGFsbGVuZ2VkJyBcbiAgfSxcbiAgeyBcbiAgICBpZDogJ2Vtb3Rpb25hbCcsIFxuICAgIGxhYmVsOiAnRW1vdGlvbmFsJywgXG4gICAgZGVzY3JpcHRpb246ICdFeHByZXNzZXMgZmVlbGluZ3Mgb3Blbmx5LCBtYXkgdGVhciB1cCwgZ2V0IGZydXN0cmF0ZWQsIG9yIHNob3cgdnVsbmVyYWJpbGl0eScgXG4gIH0sXG4gIHsgXG4gICAgaWQ6ICdyZXNlcnZlZCcsIFxuICAgIGxhYmVsOiAnUmVzZXJ2ZWQnLCBcbiAgICBkZXNjcmlwdGlvbjogJ0dpdmVzIHNob3J0LCBndWFyZGVkIGFuc3dlcnMsIGZpbmRzIGl0IGhhcmQgdG8gb3BlbiB1cCB0byBzdHJhbmdlcnMnIFxuICB9LFxuICB7IFxuICAgIGlkOiAndGFsa2F0aXZlJywgXG4gICAgbGFiZWw6ICdUYWxrYXRpdmUnLCBcbiAgICBkZXNjcmlwdGlvbjogJ1RhbGtzIGEgbG90LCBtYXkgZ28gb2ZmLXRvcGljLCBzaGFyZXMgc3RvcmllcyBhbmQgZGV0YWlscyBmcmVlbHknIFxuICB9LFxuICB7IFxuICAgIGlkOiAnaW50ZWxsZWN0dWFsaXplcicsIFxuICAgIGxhYmVsOiAnSW50ZWxsZWN0dWFsaXplcicsIFxuICAgIGRlc2NyaXB0aW9uOiAnQW5hbHl6ZXMgcHJvYmxlbXMgYWJzdHJhY3RseSwgYXZvaWRzIGVtb3Rpb25zLCBwcmVmZXJzIGxvZ2ljYWwgZGlzY3Vzc2lvbicgXG4gIH0sXG4gIHsgXG4gICAgaWQ6ICdwbGVhc2VyJywgXG4gICAgbGFiZWw6ICdQZW9wbGUgUGxlYXNlcicsIFxuICAgIGRlc2NyaXB0aW9uOiAnQWdyZWVzIGVhc2lseSB0byBhdm9pZCBjb25mbGljdCwgYnV0IG1heSBub3QgZm9sbG93IHRocm91Z2ggb24gY29tbWl0bWVudHMnIFxuICB9LFxuXTtcblxuLy8gSGVscGVyIHRvIGdldCB0cmFpdCBieSBJRFxuZXhwb3J0IGNvbnN0IGdldFBlcnNvbmFsaXR5VHJhaXRCeUlkID0gKGlkOiBQZXJzb25hbGl0eVRyYWl0KSA9PiBcbiAgUEVSU09OQUxJVFlfVFJBSVRTLmZpbmQodHJhaXQgPT4gdHJhaXQuaWQgPT09IGlkKTtcblxuLy8gUGF0aWVudCB0ZW1wbGF0ZSB2YXJpYW50IHN0cnVjdHVyZSBmb3IgbXVsdGlwbGUgYmFja3N0b3JpZXMgcGVyIHRvcGljXG5leHBvcnQgaW50ZXJmYWNlIFBhdGllbnRUZW1wbGF0ZVZhcmlhbnQge1xuICB2YXJpYW50SWQ6IHN0cmluZztcbiAgYmFja2dyb3VuZDogc3RyaW5nO1xuICBwcmVzZW50aW5nUHJvYmxlbTogc3RyaW5nO1xuICBoaXN0b3J5OiBzdHJpbmc7XG4gIGNoaWVmQ29tcGxhaW50OiBzdHJpbmc7XG4gIGNvbmZsaWN0aW5nQ2hpZWZDb21wbGFpbnQ/OiBzdHJpbmc7XG4gIGFnZVJhbmdlOiBbbnVtYmVyLCBudW1iZXJdO1xuICB0eXBpY2FsVHJhaXRzPzogUGVyc29uYWxpdHlUcmFpdFtdOyAvLyBTdWdnZXN0ZWQgcGVyc29uYWxpdHkgdHJhaXRzIGZvciB0aGlzIHZhcmlhbnRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXRpZW50VG9waWNUZW1wbGF0ZSB7XG4gIHRvcGljOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiAnQWxjb2hvbCcgfCAnTmljb3RpbmUnIHwgJ0Nhbm5hYmlzJyB8ICdPcGlvaWRzJyB8ICdTdGltdWxhbnRzJyB8ICdPdGhlciBTdWJzdGFuY2VzJyB8ICdCZWhhdmlvcmFsJyB8ICdIZWFsdGgnO1xuICB2YXJpYW50czogUGF0aWVudFRlbXBsYXRlVmFyaWFudFtdO1xufVxuXG5leHBvcnQgY29uc3QgUEFUSUVOVF9EQVRBID0ge1xuICAgIG5hbWVzOiBbXG4gICAgICAgICdBbGV4IEpvaG5zb24nLCAnSm9yZGFuIFNtaXRoJywgJ1RheWxvciBCcm93bicsICdDYXNleSBXaWxsaWFtcycsICdNb3JnYW4gTWlsbGVyJywgXG4gICAgICAgICdSaWxleSBKb25lcycsICdDYW1lcm9uIERhdmlzJywgJ1BhcmtlciBHYXJjaWEnLCAnUXVpbm4gTGVlJywgJ1Jvd2FuIFBlcmV6JywgXG4gICAgICAgICdEYWtvdGEgSGFsbCcsICdBdmVyeSBOZWxzb24nLCAnU2FtaXJhIEFobWVkJywgJ0xlbyBDaGVuJywgJ1NvZmlhIFJvc3NpJywgXG4gICAgICAgICdKYXZpZXIgUm9kcmlndWV6JywgJ0NobG9lIEtpbScsICdNYXRlbyBHYXJjaWEnLCAnSmFtaWUgTWFydGluZXonLCAnQmxha2UgVGhvbXBzb24nLFxuICAgICAgICAnUml2ZXIgQW5kZXJzb24nLCAnUGhvZW5peCBXcmlnaHQnLCAnU2t5bGFyIE1vb3JlJywgJ1NhZ2UgSm9obnNvbicsICdLYWkgTWFydGluZXonLFxuICAgICAgICAnRW1lcnkgV2hpdGUnLCAnRmlubGV5IFRheWxvcicsICdIYXlkZW4gQ2xhcmsnLCAnUmVlc2UgQWRhbXMnLCAnRWxsaXMgV2lsc29uJyxcbiAgICAgICAgJ0RyZXcgTWl0Y2hlbGwnLCAnTG9nYW4gSGFycmlzJywgJ01pY2FoIFR1cm5lcicsICdOaWNvIFJvZHJpZ3VleicsICdab2UgUGF0ZWwnLFxuICAgICAgICAnTWF5YSBTaW5naCcsICdFdGhhbiBLaW0nLCAnSXNhYmVsbGEgQ2hlbicsICdMdWNhcyBPXFwnQnJpZW4nLCAnT2xpdmlhIE11cnBoeScsXG4gICAgICAgICdOb2FoIFdhbHNoJywgJ0VtbWEgRml0emdlcmFsZCcsICdMaWFtIEdhbGxhZ2hlcicsICdBdmEgT1xcJ0Nvbm5vcicsICdNYXNvbiBCeXJuZSdcbiAgICBdLFxuICAgIHNleGVzOiBbJ01hbGUnLCAnRmVtYWxlJywgJ05vbi1iaW5hcnknXSBhcyAoJ01hbGUnIHwgJ0ZlbWFsZScgfCAnTm9uLWJpbmFyeScpW10sXG4gICAgc3RhZ2VzT2ZDaGFuZ2U6IFtcbiAgICAgICAgU3RhZ2VPZkNoYW5nZS5QcmVjb250ZW1wbGF0aW9uLFxuICAgICAgICBTdGFnZU9mQ2hhbmdlLkNvbnRlbXBsYXRpb24sXG4gICAgICAgIFN0YWdlT2ZDaGFuZ2UuUHJlcGFyYXRpb24sXG4gICAgICAgIFN0YWdlT2ZDaGFuZ2UuQWN0aW9uLFxuICAgICAgICBTdGFnZU9mQ2hhbmdlLk1haW50ZW5hbmNlLFxuICAgIF0sXG59O1xuXG4vLyBOZXcgdmFyaWFudC1iYXNlZCBwYXRpZW50IHRlbXBsYXRlcyAtIGVhY2ggdG9waWMgaGFzIG11bHRpcGxlIGJhY2tzdG9yeSB2YXJpYW50c1xuZXhwb3J0IGNvbnN0IFBBVElFTlRfVE9QSUNfVEVNUExBVEVTOiBQYXRpZW50VG9waWNUZW1wbGF0ZVtdID0gW1xuICAgIC8vID09PT09PT09PT0gQUxDT0hPTCA9PT09PT09PT09XG4gICAge1xuICAgICAgICB0b3BpYzogJ0JpbmdlIERyaW5raW5nIChCZWVyKScsXG4gICAgICAgIGNhdGVnb3J5OiAnQWxjb2hvbCcsXG4gICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnYmVlci10ZWNoLXdvcmtlcicsXG4gICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCBpcyBoZXJlIGF0IHRoZSB1cmdpbmcgb2YgdGhlaXIgcGFydG5lciBhZnRlciBhIHJlY2VudCBlbWJhcnJhc3NpbmcgaW5jaWRlbnQgYXQgYSBzb2NpYWwgZXZlbnQgZHVlIHRvIGV4Y2Vzc2l2ZSBiZWVyIGNvbnN1bXB0aW9uLicsXG4gICAgICAgIGhpc3Rvcnk6ICdIaXN0b3J5IG9mIGhlYXZ5IHdlZWtlbmQgZHJpbmtpbmcgc2luY2UgY29sbGVnZS4gUmVjZW50bHksIGNvbnN1bXB0aW9uIGhhcyBpbmNyZWFzZWQgdG8gNC01IG5pZ2h0cyBhIHdlZWssIHByaW1hcmlseSBjcmFmdCBiZWVyLiBObyBwcmV2aW91cyBhdHRlbXB0cyB0byBxdWl0LicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIk15IHBhcnRuZXIgaXMgb3ZlcnJlYWN0aW5nLiBTbyBJIGhhZCBhIGZldyB0b28gbWFueSBJUEFzLCBpdCdzIG5vdCBhIGJpZyBkZWFsLiBFdmVyeW9uZSB3YXMgZHJpbmtpbmcuIEknbSBqdXN0IGhlcmUgdG8gZ2V0IHRoZW0gb2ZmIG15IGJhY2suXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBzb2Z0d2FyZSBlbmdpbmVlciBpbiBhIGNvbXBldGl0aXZlIHN0YXJ0dXAgZW52aXJvbm1lbnQuIFNvY2lhbCBsaWZlIHJldm9sdmVzIGFyb3VuZCBicmV3ZXJ5IHZpc2l0cyBhbmQgYWZ0ZXItd29yayBkcmlua3Mgd2l0aCBjb2xsZWFndWVzLlwiLFxuICAgICAgICBhZ2VSYW5nZTogWzI2LCAzMl0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydkZWZlbnNpdmUnLCAnaW50ZWxsZWN0dWFsaXplciddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdiZWVyLWZvcm1lci1hdGhsZXRlJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgd2FzIHJlZmVycmVkIGJ5IEhSIGFmdGVyIHNob3dpbmcgdXAgdG8gd29yayBzbWVsbGluZyBvZiBhbGNvaG9sIG9uIG11bHRpcGxlIG9jY2FzaW9ucy4nLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdEcmlua2luZyBoZWF2aWx5IHNpbmNlIGNvbGxlZ2UgZGF5cyB3aGVuIGl0IHdhcyBwYXJ0IG9mIHRoZSB0ZWFtIGN1bHR1cmUuIEJlZXIgY29uc3VtcHRpb24gaGFzIGJlY29tZSBhIGRhaWx5IGhhYml0LCBvZnRlbiBzdGFydGluZyBpbiB0aGUgYWZ0ZXJub29uLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiSFIgaXMgbWFraW5nIHRoaXMgaW50byBhIGJpZ2dlciBkZWFsIHRoYW4gaXQgaXMuIEkgaGFkIGEgZmV3IGJlZXJzIGF0IGx1bmNoLCBzbyB3aGF0PyBJIGNhbiBzdGlsbCBkbyBteSBqb2IuIFRoaXMgaXMganVzdCB0ZWFtIGN1bHR1cmUsIGV2ZXJ5b25lIGRyaW5rcy5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgZm9ybWVyIGNvbGxlZ2UgZm9vdGJhbGwgcGxheWVyIG5vdyB3b3JraW5nIGluIGluc3VyYW5jZSBzYWxlcy4gRHJpbmtpbmcgaXMgY2VudHJhbCB0byBoaXMgc29jaWFsIGlkZW50aXR5IGFuZCBtYWxlIGJvbmRpbmcgcml0dWFscy5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzI4LCAzOF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydkZWZlbnNpdmUnLCAndGFsa2F0aXZlJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2JlZXItbG9uZWx5LXJldGlyZWUnLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiBcIlBhdGllbnQncyBhZHVsdCBjaGlsZHJlbiBhcmUgY29uY2VybmVkIGFib3V0IHRoZWlyIGZhdGhlcidzIGRhaWx5IGJlZXIgY29uc3VtcHRpb24gYW5kIGluY3JlYXNpbmcgaXNvbGF0aW9uIHNpbmNlIHJldGlyZW1lbnQuXCIsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ01vZGVyYXRlIGRyaW5rZXIgbW9zdCBvZiBsaWZlLCBidXQgY29uc3VtcHRpb24gaW5jcmVhc2VkIGRyYW1hdGljYWxseSBhZnRlciByZXRpcmVtZW50IGFuZCB0aGUgZGVhdGggb2Ygc3BvdXNlIHR3byB5ZWFycyBhZ28uIE5vdyBkcmlua3MgNi04IGJlZXJzIGRhaWx5LicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiTXkga2lkcyB3b3JyeSB0b28gbXVjaC4gQSBmZXcgYmVlcnMgaGVscCBtZSByZWxheC4gV2hhdCBlbHNlIGFtIEkgc3VwcG9zZWQgdG8gZG8gYWxsIGRheT8gSXQncyBub3QgbGlrZSBJJ20gaHVydGluZyBhbnlvbmUuXCIsXG4gICAgICAgICAgICAgICAgY29uZmxpY3RpbmdDaGllZkNvbXBsYWludDogXCJJJ3ZlIGJlZW4gZmVlbGluZyBwcmV0dHkgbG93IHNpbmNlIE1hcnRoYSBwYXNzZWQuIFRoZSBkYXlzIGp1c3QgZmVlbCBzbyBsb25nIG5vdy4gSSB3YXMgaG9waW5nIHRvIHRhbGsgYWJvdXQgbWF5YmUgZ2V0dGluZyBzb21ldGhpbmcgZm9yIHNsZWVwLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCByZWNlbnRseSByZXRpcmVkIGZhY3Rvcnkgd29ya2VyIHdob3NlIHdpZmUgcGFzc2VkIGF3YXkgdHdvIHllYXJzIGFnby4gTGl2ZXMgYWxvbmUgYW5kIGhhcyBsaW1pdGVkIHNvY2lhbCBjb25uZWN0aW9ucyBvdXRzaWRlIG9mIGZhbWlseS5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzY1LCA3NV0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydyZXNlcnZlZCcsICdlbW90aW9uYWwnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRvcGljOiAnRGFpbHkgV2luZSBDb25zdW1wdGlvbicsXG4gICAgICAgIGNhdGVnb3J5OiAnQWxjb2hvbCcsXG4gICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnd2luZS1zdHJlc3NlZC10ZWFjaGVyJyxcbiAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIHNlbGYtcmVmZXJyZWQgZHVlIHRvIGdyb3dpbmcgY29uY2VybnMgYWJvdXQgdGhlaXIgbmlnaHRseSBoYWJpdCBvZiBkcmlua2luZyBhIGJvdHRsZSBvZiB3aW5lIHRvIFwidW53aW5kXCIgYW5kIGl0cyBpbXBhY3Qgb24gdGhlaXIgZW5lcmd5IGxldmVscyBhbmQgc2xlZXAuJyxcbiAgICAgICAgaGlzdG9yeTogJ1N0YXJ0ZWQgd2l0aCBhIGdsYXNzIG9mIHdpbmUgd2l0aCBkaW5uZXIsIHdoaWNoIGhhcyBncmFkdWFsbHkgZXNjYWxhdGVkIHRvIGEgZnVsbCBib3R0bGUgb3IgbW9yZSBwZXIgbmlnaHQgb3ZlciB0aGUgcGFzdCB0d28geWVhcnMuIEhhcyB0cmllZCB0byBjdXQgYmFjayBidXQgZXhwZXJpZW5jZXMgaXJyaXRhYmlsaXR5IGFuZCBhbnhpZXR5LicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkgZmVlbCBsaWtlIEkgbmVlZCB3aW5lIHRvIHJlbGF4IGFmdGVyIGEgc3RyZXNzZnVsIGRheSwgYnV0IEkgd2FrZSB1cCBmZWVsaW5nIGdyb2dneSBhbmQgYW54aW91cy4gSSdtIHdvcnJpZWQgaXQncyBiZWNvbWluZyBhIGNydXRjaCBJIGNhbid0IGZ1bmN0aW9uIHdpdGhvdXQuXCIsXG4gICAgICAgIGNvbmZsaWN0aW5nQ2hpZWZDb21wbGFpbnQ6IFwiSSdtIHJlYWxseSBzdHJ1Z2dsaW5nIHdpdGggbXkgc2xlZXAgYW5kIHN0cmVzcyBsZXZlbHMuIEkgd2FzIGhvcGluZyB0byB0YWxrIGFib3V0IHNvbWUgc3RyYXRlZ2llcyBmb3IgdGhhdC4gVGhlIHdpbmUgaXMganVzdCBhIHN5bXB0b20sIG5vdCB0aGUgcmVhbCBwcm9ibGVtLlwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgaGlnaCBzY2hvb2wgdGVhY2hlciwgbWFycmllZCB3aXRoIHR3byB0ZWVuYWdlIGNoaWxkcmVuLiBFeHBlcmllbmNlcyBzaWduaWZpY2FudCBzdHJlc3MgZnJvbSB0aGVpciBqb2IgYW5kIGZhbWlseSByZXNwb25zaWJpbGl0aWVzLlwiLFxuICAgICAgICBhZ2VSYW5nZTogWzQyLCA1MF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydlbW90aW9uYWwnLCAncGxlYXNlciddLFxuICAgIH0sXG4gICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICd3aW5lLWVtcHR5LW5lc3RlcicsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06IFwiUGF0aWVudCdzIHNwb3VzZSBoYXMgZXhwcmVzc2VkIGNvbmNlcm4gYWJvdXQgdGhlIGFtb3VudCBvZiB3aW5lIGJlaW5nIGNvbnN1bWVkLCBwYXJ0aWN1bGFybHkgYXMgaXQgaGFzIGJlY29tZSBhIHNvdXJjZSBvZiBtYXJpdGFsIGNvbmZsaWN0LlwiLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdXaW5lIGNvbnN1bXB0aW9uIGluY3JlYXNlZCBhZnRlciBjaGlsZHJlbiBsZWZ0IGZvciBjb2xsZWdlLiBXaGF0IHN0YXJ0ZWQgYXMgXCJ3aW5lIHdpdGggZGlubmVyXCIgaGFzIGJlY29tZSAyLTMgYm90dGxlcyB0aHJvdWdob3V0IHRoZSBldmVuaW5nLCBvZnRlbiBkcmlua2luZyBhbG9uZS4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIk15IGh1c2JhbmQgdGhpbmtzIEkgZHJpbmsgdG9vIG11Y2gsIGJ1dCBoZSBkb2Vzbid0IHVuZGVyc3RhbmQgaG93IGxvbmVseSBJIGZlZWwuIFRoZSBraWRzIGFyZSBnb25lLCBoZSB3b3JrcyBhbGwgdGhlIHRpbWUuLi4gd2luZSBpcyBteSBjb21wYW5pb24gbm93LlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBmb3JtZXIgc3RheS1hdC1ob21lIG1vdGhlciB3aG9zZSBjaGlsZHJlbiByZWNlbnRseSBsZWZ0IGZvciBjb2xsZWdlLiBTdHJ1Z2dsaW5nIHdpdGggaWRlbnRpdHkgYW5kIHB1cnBvc2UgaW4gdGhpcyBuZXcgcGhhc2Ugb2YgbGlmZS5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzUwLCA1OF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydlbW90aW9uYWwnLCAndGFsa2F0aXZlJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ3dpbmUtaGlnaC1hY2hpZXZlcicsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIGNvbmNlcm5lZCBhYm91dCBtZW1vcnkgbGFwc2VzIGFuZCB3ZWlnaHQgZ2Fpbiwgd2hpY2ggdGhleSBzdXNwZWN0IG1heSBiZSByZWxhdGVkIHRvIHRoZWlyIHdpbmUgY29uc3VtcHRpb24uJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnSGlnaC1wb3dlcmVkIGNhcmVlciB3aXRoIHJlZ3VsYXIgY2xpZW50IGRpbm5lcnMgaW52b2x2aW5nIHdpbmUuIE92ZXIgdGltZSwgZHJpbmtpbmcgZXhwYW5kZWQgdG8gaW5jbHVkZSBhIGJvdHRsZSBhdCBob21lIGV2ZXJ5IG5pZ2h0IFwidG8gZGVjb21wcmVzcy5cIicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiSSBwcmlkZSBteXNlbGYgb24gYmVpbmcgc2hhcnAsIGJ1dCBsYXRlbHkgSSdtIGZvcmdldHRpbmcgdGhpbmdzLiBNeSBzdWl0cyBkb24ndCBmaXQuIEkga25vdyB0aGUgd2luZSBpc24ndCBoZWxwaW5nLCBidXQgaXQncyB0aGUgb25seSB3YXkgSSBjYW4gdHVybiBvZmYgbXkgYnJhaW4gYWZ0ZXIgd29yay5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgY29ycG9yYXRlIGxhd3llciBhdCBhIHByZXN0aWdpb3VzIGZpcm0uIFN1Y2Nlc3MtZHJpdmVuIGFuZCB1c2VkIHRvIGJlaW5nIGluIGNvbnRyb2wsIG5vdyBmZWVsaW5nIHRoZWlyIGRyaW5raW5nIG1heSBiZSBjb250cm9sbGluZyB0aGVtLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbMzgsIDQ4XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2ludGVsbGVjdHVhbGl6ZXInLCAnZGVmZW5zaXZlJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0b3BpYzogJ0hlYXZ5IExpcXVvciBVc2UnLFxuICAgICAgICBjYXRlZ29yeTogJ0FsY29ob2wnLFxuICAgICAgICB2YXJpYW50czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2xpcXVvci1wYXJ0eS1zY2VuZScsXG4gICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCB3YXMgYnJvdWdodCBpbiBieSBhIGZyaWVuZCBhZnRlciBhIGRhbmdlcm91cyBlcGlzb2RlIG9mIGludG94aWNhdGlvbiBpbnZvbHZpbmcgdGVxdWlsYSBzaG90cywgcmVzdWx0aW5nIGluIGEgZmFsbC4gUGF0aWVudCBoYXMgbWVtb3J5IGdhcHMgZnJvbSB0aGUgZXZlbnQuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnVXNlcyBsaXF1b3IgYXMgYSBcInBhcnR5IHN0YXJ0ZXJcIiBvbiB3ZWVrZW5kcy4gVGhpcyBoYXMgbGVkIHRvIHNldmVyYWwgYmxhY2tvdXRzLCBhcmd1bWVudHMsIGFuZCByaXNreSBiZWhhdmlvcnMgaW4gdGhlIHBhc3QgeWVhci4nLFxuICAgICAgICBjaGllZkNvbXBsYWludDogXCJNeSBmcmllbmQgaXMgZnJlYWtpbmcgb3V0LCBidXQgSSB3YXMganVzdCBoYXZpbmcgZnVuLiBJIGRvbid0IHJlbWVtYmVyIGZhbGxpbmcuIE1heWJlIEkgc2hvdWxkIHNsb3cgZG93biwgYnV0IEkgZG9uJ3QgdGhpbmsgSSBoYXZlIGEgJ3Byb2JsZW0nIGxpa2UgdGhleSBzYXkuXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCByZWNlbnQgY29sbGVnZSBncmFkdWF0ZSB3b3JraW5nIGluIHNhbGVzLiBMaXZlcyB3aXRoIHJvb21tYXRlcyBhbmQgZnJlcXVlbnRseSBnb2VzIHRvIGJhcnMgYW5kIGNsdWJzLlwiLFxuICAgICAgICBhZ2VSYW5nZTogWzIyLCAyNl0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydkZWZlbnNpdmUnLCAndGFsa2F0aXZlJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2xpcXVvci10cmF1bWEtaGlzdG9yeScsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IHByZXNlbnRzIGFmdGVyIHRoZWlyIHBhcnRuZXIgdGhyZWF0ZW5lZCB0byBsZWF2ZSBpZiB0aGV5IGRvblxcJ3QgYWRkcmVzcyB0aGVpciB3aGlza2V5IGNvbnN1bXB0aW9uLCB3aGljaCBoYXMgbGVkIHRvIHZlcmJhbCBvdXRidXJzdHMuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnU3RhcnRlZCBkcmlua2luZyBoZWF2aWx5IGFmdGVyIHJldHVybmluZyBmcm9tIG1pbGl0YXJ5IHNlcnZpY2UuIFVzZXMgd2hpc2tleSB0byBtYW5hZ2UgbmlnaHRtYXJlcyBhbmQgaW50cnVzaXZlIHRob3VnaHRzLiBEcmlua2luZyBoYXMgZXNjYWxhdGVkIHRvIGEgZmlmdGggZXZlcnkgMi0zIGRheXMuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJUaGUgd2hpc2tleSBoZWxwcyBtZSBzbGVlcC4gV2l0aG91dCBpdCwgdGhlIG5pZ2h0bWFyZXMgY29tZSBiYWNrLiBNeSBnaXJsZnJpZW5kIGRvZXNuJ3QgZ2V0IHdoYXQgSSd2ZSBiZWVuIHRocm91Z2guIEJ1dCBJIGRvbid0IHdhbnQgdG8gbG9zZSBoZXIuLi5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgbWlsaXRhcnkgdmV0ZXJhbiB3aG8gc2VydmVkIHR3byB0b3VycyBvdmVyc2Vhcy4gV29ya3MgYXMgYSBzZWN1cml0eSBndWFyZCBhbmQgaGFzIGRpZmZpY3VsdHkgY29ubmVjdGluZyB3aXRoIGNpdmlsaWFucy5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzI4LCA0MF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydyZXNlcnZlZCcsICdkZWZlbnNpdmUnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnbGlxdW9yLWZhbWlseS1wYXR0ZXJuJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgaXMgaGVyZSBhdCB0aGUgc3VnZ2VzdGlvbiBvZiB0aGVpciBBQSBzcG9uc29yIGFmdGVyIG11bHRpcGxlIHJlbGFwc2VzIGludm9sdmluZyB2b2RrYS4nLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdGYW1pbHkgaGlzdG9yeSBvZiBhbGNvaG9saXNtLiBIYXMgYmVlbiBpbiBhbmQgb3V0IG9mIEFBIGZvciAxMCB5ZWFycy4gUmVjZW50IGRpdm9yY2UgdHJpZ2dlcmVkIHRoZSBjdXJyZW50IHJlbGFwc2UuIEhpZGluZyB2b2RrYSBhcm91bmQgdGhlIGhvdXNlLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiSSBrbm93IEknbSBhbiBhbGNvaG9saWMuIEkndmUgYmVlbiBzb2JlciBiZWZvcmUuIEJ1dCB3aGVuIEplbm5pZmVyIGxlZnQsIEkganVzdC4uLiBJIGNvdWxkbid0IGNvcGUuIEkgaGF0ZSBteXNlbGYgZm9yIGdvaW5nIGJhY2sgdG8gaXQuXCIsXG4gICAgICAgICAgICAgICAgY29uZmxpY3RpbmdDaGllZkNvbXBsYWludDogXCJJJ20gcmVhbGx5IGhlcmUgYmVjYXVzZSBteSBzcG9uc29yIHNhaWQgSSBzaG91bGQgY2hlY2sgaW4gd2l0aCBzb21lb25lLiBJJ3ZlIGdvdCB0aGlzIHVuZGVyIGNvbnRyb2wgbm93LiBKdXN0IGhhZCBhIHJvdWdoIHBhdGNoLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBlbGVjdHJpY2lhbiBnb2luZyB0aHJvdWdoIGEgZGl2b3JjZS4gR3JldyB1cCB3aXRoIGFuIGFsY29ob2xpYyBmYXRoZXIgYW5kIHN3b3JlIHRoZXknZCBuZXZlciBlbmQgdXAgdGhlIHNhbWUgd2F5LlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbNDIsIDUyXSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2Vtb3Rpb25hbCcsICdwbGVhc2VyJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG5cbiAgICAvLyA9PT09PT09PT09IE5JQ09USU5FID09PT09PT09PT1cbiAgICB7XG4gICAgICAgIHRvcGljOiAnVmFwaW5nIChOaWNvdGluZSknLFxuICAgICAgICBjYXRlZ29yeTogJ05pY290aW5lJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICd2YXBlLXJlbW90ZS13b3JrZXInLFxuICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgd2FudHMgdG8gcXVpdCB2YXBpbmcgZHVlIHRvIHRoZSBoaWdoIGNvc3QgYW5kIGEgcmVjZW50IGhlYWx0aCBzY2FyZSAocGVyc2lzdGVudCBjb3VnaCksIGJ1dCBmaW5kcyB0aGUgY3JhdmluZ3Mgb3ZlcndoZWxtaW5nLicsXG4gICAgICAgIGhpc3Rvcnk6ICdTdGFydGVkIHZhcGluZyB0byBxdWl0IHNtb2tpbmcgY2lnYXJldHRlcyAzIHllYXJzIGFnbyBidXQgaXMgbm93IHZhcGluZyBtb3JlIGhlYXZpbHkgdGhhbiB0aGV5IGV2ZXIgc21va2VkLiBVc2VzIGhpZ2gtcG90ZW5jeSBuaWNvdGluZSBzYWx0IGUtbGlxdWlkcyB0aHJvdWdob3V0IHRoZSBkYXkuJyxcbiAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiVGhpcyB0aGluZyBpcyBhdHRhY2hlZCB0byBteSBoYW5kIGZyb20gbW9ybmluZyB0aWxsIG5pZ2h0LiBJdCBjb3N0cyBhIGZvcnR1bmUsIGFuZCB0aGlzIGNvdWdoIGlzIHdvcnJ5aW5nIG1lLiBJIHdhbnQgdG8gcXVpdCwgSSBqdXN0IGRvbid0IGtub3cgaWYgSSBoYXZlIHRoZSB3aWxscG93ZXIuXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBncmFwaGljIGRlc2lnbmVyIHdobyB3b3JrcyBmcm9tIGhvbWUuIFZhcGluZyBpcyBoZWF2aWx5IGludGVncmF0ZWQgaW50byB0aGVpciB3b3JrIHJvdXRpbmUgYW5kIG1vbWVudHMgb2Ygc3RyZXNzIG9yIGNyZWF0aXZlIGJsb2Nrcy5cIixcbiAgICAgICAgYWdlUmFuZ2U6IFsyOCwgMzVdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnaW50ZWxsZWN0dWFsaXplcicsICdwbGVhc2VyJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ3ZhcGUtdGVlbi1wZWVyLXByZXNzdXJlJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogXCJQYXRpZW50IGlzIGEgdGVlbiB3aG9zZSBwYXJlbnRzIGRpc2NvdmVyZWQgdGhlaXIgdmFwaW5nIGFmdGVyIGZpbmRpbmcgYSBkZXZpY2UuIFRoZXkncmUgaGVyZSByZWx1Y3RhbnRseSBhdCB0aGVpciBwYXJlbnRzJyBpbnNpc3RlbmNlLlwiLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdTdGFydGVkIHZhcGluZyBhIHllYXIgYWdvIHdoZW4gZnJpZW5kcyBpbnRyb2R1Y2VkIGl0IGFzIFwiY29vbCBhbmQgaGFybWxlc3MuXCIgTm93IHVzZXMgbXVsdGlwbGUgcG9kcyBwZXIgd2VlayBhbmQgZXhwZXJpZW5jZXMgaXJyaXRhYmlsaXR5IHdpdGhvdXQgaXQuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJFdmVyeW9uZSBhdCBzY2hvb2wgdmFwZXMuIEl0J3Mgbm90IGEgYmlnIGRlYWwuIE15IHBhcmVudHMgYXJlIG92ZXJyZWFjdGluZy4gSXQncyBub3QgbGlrZSBJJ20gc21va2luZyBjaWdhcmV0dGVzIG9yIGRvaW5nIGRydWdzLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBoaWdoIHNjaG9vbCBzdHVkZW50IHdobyBzdGFydGVkIHZhcGluZyB0byBmaXQgaW4gd2l0aCBwZWVycy4gQWNhZGVtaWNhbGx5IHN0cm9uZyBidXQgc3RydWdnbGVzIHdpdGggc29jaWFsIGNvbmZpZGVuY2UuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFsxNSwgMTddLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZGVmZW5zaXZlJywgJ3Jlc2VydmVkJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ3ZhcGUtcHJlZ25hbnQnLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCBqdXN0IGZvdW5kIG91dCB0aGV5IGFyZSBwcmVnbmFudCBhbmQgaXMgd29ycmllZCBhYm91dCB0aGUgZWZmZWN0cyBvZiB2YXBpbmcgb24gdGhlIGJhYnksIGJ1dCBpcyBzdHJ1Z2dsaW5nIHRvIHF1aXQuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnU3dpdGNoZWQgZnJvbSBjaWdhcmV0dGVzIHRvIHZhcGluZyAyIHllYXJzIGFnbywgYmVsaWV2aW5nIGl0IHRvIGJlIHNhZmVyLiBOb3cgdmFwZXMgY29udGludW91c2x5IHRocm91Z2hvdXQgdGhlIGRheSBhbmQgZXhwZXJpZW5jZXMgc2V2ZXJlIGNyYXZpbmdzIHdoZW4gdHJ5aW5nIHRvIHN0b3AuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJJIGtub3cgSSBzaG91bGRuJ3QgYmUgdmFwaW5nIHdoaWxlIHByZWduYW50LiBJJ3ZlIHRyaWVkIHRvIHN0b3AgYnV0IEkgZ2V0IHNvIGFueGlvdXMgYW5kIGlycml0YWJsZS4gSSdtIHNjYXJlZCBJJ20gaHVydGluZyBteSBiYWJ5IGJ1dCBJIGRvbid0IGtub3cgaG93IHRvIHN0b3AuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGV4cGVjdGFudCBtb3RoZXIgaW4gaGVyIGZpcnN0IHRyaW1lc3Rlci4gV29ya3MgYXMgYSBkZW50YWwgaHlnaWVuaXN0IGFuZCBpcyB0ZXJyaWZpZWQgb2YgdGhlIHN0aWdtYSBvZiB2YXBpbmcgd2hpbGUgcHJlZ25hbnQuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFsyNSwgMzJdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZW1vdGlvbmFsJywgJ3BsZWFzZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRvcGljOiAnQ2lnYXJldHRlIFNtb2tpbmcnLFxuICAgICAgICBjYXRlZ29yeTogJ05pY290aW5lJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdjaWctbmV3LXBhcmVudCcsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IHJlY2VudGx5IGhhZCBhIGNoaWxkIGFuZCB0aGVpciBwYXJ0bmVyIGlzIGluc2lzdGluZyB0aGV5IHF1aXQgc21va2luZy4gVGhleSBhcmUgYW1iaXZhbGVudCBiZWNhdXNlIHNtb2tpbmcgaXMgdGhlaXIgcHJpbWFyeSBjb3BpbmcgbWVjaGFuaXNtIGZvciBzdHJlc3MuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnU21va2VyIHNpbmNlIGFnZSAxNiwgYWJvdXQgYSBwYWNrIGEgZGF5LiBIYXMgbWFkZSBzZXZlcmFsIGhhbGYtaGVhcnRlZCBxdWl0IGF0dGVtcHRzIGluIHRoZSBwYXN0IGJ1dCBhbHdheXMgcmVsYXBzZWQgZHVyaW5nIHN0cmVzc2Z1bCBwZXJpb2RzLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiSSBrbm93IGl0J3MgYmFkIGZvciBtZSwgYW5kIEkgZG9uJ3Qgd2FudCB0aGUgYmFieSBicmVhdGhpbmcgaXQgaW4uIEJ1dCB3aXRoIGEgbmV3Ym9ybiwgSSdtIG1vcmUgc3RyZXNzZWQgdGhhbiBldmVyLiBBIGNpZ2FyZXR0ZSBpcyB0aGUgb25seSBmaXZlIG1pbnV0ZXMgb2YgcGVhY2UgSSBnZXQgYWxsIGRheS5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgbmV3IHBhcmVudCB3b3JraW5nIGFzIGEgbWVjaGFuaWMuIE1hbnkgY293b3JrZXJzIHNtb2tlLCBhbmQgc21va2UgYnJlYWtzIGFyZSBhIGtleSBwYXJ0IG9mIHRoZWlyIHNvY2lhbCByb3V0aW5lIGF0IHdvcmsuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFszMCwgNDBdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsncmVzZXJ2ZWQnLCAnZGVmZW5zaXZlJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2NpZy1jb3BkLWRpYWdub3NpcycsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IHdhcyByZWNlbnRseSBkaWFnbm9zZWQgd2l0aCBlYXJseS1zdGFnZSBDT1BEIGFuZCB0b2xkIGJ5IHRoZWlyIHB1bG1vbm9sb2dpc3QgdGhhdCB0aGV5IG11c3QgcXVpdCBzbW9raW5nIGltbWVkaWF0ZWx5LicsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ0hhcyBiZWVuIHNtb2tpbmcgMS0yIHBhY2tzIGRhaWx5IGZvciBvdmVyIDMwIHllYXJzLiBNdWx0aXBsZSBxdWl0IGF0dGVtcHRzIHVzaW5nIHBhdGNoZXMgYW5kIGd1bSwgbm9uZSBsYXN0aW5nIG1vcmUgdGhhbiBhIGZldyB3ZWVrcy4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIlRoZSBkb2N0b3Igc2hvd2VkIG1lIG15IGx1bmcgc2NhbnMgYW5kIGl0IHNjYXJlZCBtZS4gSSBkb24ndCB3YW50IHRvIGVuZCB1cCBvbiBveHlnZW4gbGlrZSBteSBmYXRoZXIgZGlkLiBCdXQgSSd2ZSBiZWVuIHNtb2tpbmcgbG9uZ2VyIHRoYW4gSSBoYXZlbid0LiBJIGRvbid0IGtub3cgd2hvIEkgYW0gd2l0aG91dCBjaWdhcmV0dGVzLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBwb3N0YWwgd29ya2VyIHdobyBoYXMgYmVlbiBzbW9raW5nIHNpbmNlIHRoZWlyIHRlZW5hZ2UgeWVhcnMuIFdhdGNoZWQgdGhlaXIgZmF0aGVyIGRpZSBvZiBlbXBoeXNlbWEuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFs1NSwgNjVdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZW1vdGlvbmFsJywgJ3Jlc2VydmVkJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2NpZy1zb2NpYWwtc21va2VyJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogXCJQYXRpZW50J3MgZG9jdG9yIHN0cm9uZ2x5IHJlY29tbWVuZGVkIHF1aXR0aW5nIGFmdGVyIHRoZWlyIGJsb29kIHByZXNzdXJlIHJlYWRpbmdzIGhhdmUgYmVlbiBjb25zaXN0ZW50bHkgZWxldmF0ZWQuXCIsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ0Rlc2NyaWJlcyBzZWxmIGFzIGEgXCJzb2NpYWwgc21va2VyXCIgYnV0IGFjdHVhbGx5IHNtb2tlcyBoYWxmIGEgcGFjayBkYWlseS4gVGVuZHMgdG8gbWluaW1pemUgdGhlIGhhYml0IGFuZCBkb2VzblxcJ3QgY29uc2lkZXIgdGhlbXNlbHZlcyBhIFwicmVhbFwiIHNtb2tlci4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkknbSBub3QgcmVhbGx5IGEgc21va2VyLCBJIGp1c3QgaGF2ZSBhIGZldyB3aGVuIEknbSBvdXQgd2l0aCBmcmllbmRzIG9yIHN0cmVzc2VkIGF0IHdvcmsuIE15IGRvY3RvciBpcyBtYWtpbmcgdG9vIGJpZyBhIGRlYWwgb2YgdGhpcy4gTWF5YmUgSSdsbCBqdXN0IGN1dCBiYWNrIGEgbGl0dGxlLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBtYXJrZXRpbmcgbWFuYWdlciB3aG8gc21va2VzIG1vcmUgdGhhbiB0aGV5IGFkbWl0IHRvIHRoZW1zZWx2ZXMgb3Igb3RoZXJzLiBBc3NvY2lhdGVzIHNtb2tpbmcgd2l0aCBzb2NpYWwgc2l0dWF0aW9ucyBhbmQgd29yayBicmVha3MuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFszMiwgNDJdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZGVmZW5zaXZlJywgJ2ludGVsbGVjdHVhbGl6ZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcblxuICAgIC8vID09PT09PT09PT0gQ0FOTkFCSVMgPT09PT09PT09PVxuICAgIHtcbiAgICAgICAgdG9waWM6ICdEYWlseSBDYW5uYWJpcyBVc2UnLFxuICAgICAgICBjYXRlZ29yeTogJ0Nhbm5hYmlzJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdjYW5uYWJpcy1tdXNpY2lhbicsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06IFwiUGF0aWVudCBpcyBleHBlcmllbmNpbmcgYSBwZXJzaXN0ZW50LCBwaGxlZ215IGNvdWdoIGFuZCBpcyB3b3JyaWVkIGFib3V0IHRoZWlyIGx1bmcgaGVhbHRoLiBUaGV5IGFsc28gcmVwb3J0IGZlZWxpbmcgdW5tb3RpdmF0ZWQgYW5kICdpbiBhIHJ1dCcuXCIsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ0hhcyBiZWVuIHNtb2tpbmcgY2FubmFiaXMgZGFpbHkgc2luY2UgY29sbGVnZS4gTm93IHNtb2tlcyBzZXZlcmFsIHRpbWVzIGEgZGF5LCBmcm9tIG1vcm5pbmcgdG8gbmlnaHQuIEZpbmRzIGl0IGRpZmZpY3VsdCB0byBpbWFnaW5lIHRoZWlyIGxpZmUgd2l0aG91dCBpdC4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIlRoaXMgY291Z2ggd29uJ3QgZ28gYXdheSwgYW5kIEkgZmVlbCBsaWtlIG15IGx1bmdzIGFyZSBoZWF2eS4gSSBhbHNvIGp1c3QgZmVlbC4uLiBzdHVjay4gSSBoYXZlIGdvYWxzLCB0aGluZ3MgSSB3YW50IHRvIGRvLCBidXQgSSBuZXZlciBzZWVtIHRvIGdldCBhcm91bmQgdG8gdGhlbS5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgbXVzaWNpYW4gYW5kIGdpZy13b3JrZXIuIEFzc29jaWF0ZXMgY2FubmFiaXMgd2l0aCBjcmVhdGl2aXR5IGFuZCByZWxheGF0aW9uLCBidXQgaXMgc3RhcnRpbmcgdG8gc2VlIGhvdyBpdCBtaWdodCBiZSBoaW5kZXJpbmcgdGhlaXIgcHJvZmVzc2lvbmFsIHByb2dyZXNzLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbMjcsIDM0XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ3RhbGthdGl2ZScsICdpbnRlbGxlY3R1YWxpemVyJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2Nhbm5hYmlzLWFueGlldHktc2VsZi1tZWQnLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCB1c2VzIGNhbm5hYmlzIGRhaWx5IHRvIG1hbmFnZSBhbnhpZXR5IGJ1dCBoYXMgbm90aWNlZCBpbmNyZWFzaW5nIHRvbGVyYW5jZSBhbmQgaXMgbmVlZGluZyBtb3JlIHRvIGFjaGlldmUgdGhlIHNhbWUgY2FsbWluZyBlZmZlY3QuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnU3RhcnRlZCB1c2luZyBjYW5uYWJpcyBmb3IgYW54aWV0eSBpbiBlYXJseSAyMHMuIE5vdyByZWxpZXMgb24gaXQgdGhyb3VnaG91dCB0aGUgZGF5IHRvIGZ1bmN0aW9uLiBIYXMgdHJpZWQgdG8gdGFrZSB0b2xlcmFuY2UgYnJlYWtzIGJ1dCBleHBlcmllbmNlcyBzZXZlcmUgcmVib3VuZCBhbnhpZXR5LicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiV2VlZCBpcyBteSBtZWRpY2F0aW9uLiBJdCdzIHRoZSBvbmx5IHRoaW5nIHRoYXQgY2FsbXMgbXkgYW54aWV0eS4gQnV0IGxhdGVseSBpdCdzIG5vdCB3b3JraW5nIGFzIHdlbGwsIGFuZCBJJ20gc21va2luZyBtb3JlIGFuZCBtb3JlLiBJJ20gc3BlbmRpbmcgdG9vIG11Y2ggbW9uZXkgb24gaXQuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGJhcmlzdGEgd2hvIGhhcyBzdHJ1Z2dsZWQgd2l0aCBhbnhpZXR5IHNpbmNlIGNoaWxkaG9vZC4gSGFzIGF2b2lkZWQgY29udmVudGlvbmFsIHRyZWF0bWVudCwgcHJlZmVycmluZyB0byBzZWxmLW1lZGljYXRlIHdpdGggY2FubmFiaXMuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFsyNCwgMzBdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZW1vdGlvbmFsJywgJ2RlZmVuc2l2ZSddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdjYW5uYWJpcy1yZWxhdGlvbnNoaXAtc3RyYWluJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogXCJQYXRpZW50J3MgcGFydG5lciBoYXMgZ2l2ZW4gdGhlbSBhbiB1bHRpbWF0dW0gYWJvdXQgdGhlaXIgY2FubmFiaXMgdXNlLCB3aGljaCB0aGV5IGZlZWwgaXMgZGVzdHJveWluZyB0aGVpciByZWxhdGlvbnNoaXAuXCIsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ0hhcyBiZWVuIHVzaW5nIGNhbm5hYmlzIGRhaWx5IGZvciBvdmVyIGEgZGVjYWRlLiBQYXJ0bmVyIGluaXRpYWxseSB3YXMgZmluZSB3aXRoIGl0IGJ1dCBoYXMgZ3Jvd24gaW5jcmVhc2luZ2x5IGZydXN0cmF0ZWQgd2l0aCB0aGUgcGF0aWVudFxcJ3MgbGFjayBvZiBtb3RpdmF0aW9uIGFuZCBlbW90aW9uYWwgdW5hdmFpbGFiaWxpdHkuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJNeSBnaXJsZnJpZW5kIHNheXMgc2hlIGNhbid0IHRha2UgaXQgYW55bW9yZS4gU2hlIHNheXMgSSdtIGFsd2F5cyBoaWdoIGFuZCBuZXZlciBwcmVzZW50LiBJIGxvdmUgaGVyLCBidXQgSSBhbHNvIGRvbid0IHRoaW5rIEkgY2FuIGp1c3Qgc3RvcC4gV2VlZCBpcyBob3cgSSBkZWNvbXByZXNzLlwiLFxuICAgICAgICAgICAgICAgIGNvbmZsaWN0aW5nQ2hpZWZDb21wbGFpbnQ6IFwiV2UndmUgYmVlbiBoYXZpbmcgc29tZSByZWxhdGlvbnNoaXAgaXNzdWVzLCBjb21tdW5pY2F0aW9uIHByb2JsZW1zIG1vc3RseS4gSSB0aGluayBzaGUncyB1c2luZyB0aGUgd2VlZCBhcyBhbiBleGN1c2Ugd2hlbiB0aGUgcmVhbCBpc3N1ZXMgYXJlIGRlZXBlci5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgd2FyZWhvdXNlIG1hbmFnZXIgaW4gYSBsb25nLXRlcm0gcmVsYXRpb25zaGlwLiBQYXJ0bmVyIGlzIGNvbnNpZGVyaW5nIGxlYXZpbmcgaWYgdGhpbmdzIGRvbid0IGNoYW5nZS5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzMyLCA0MF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydyZXNlcnZlZCcsICdkZWZlbnNpdmUnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRvcGljOiAnVEhDIEVkaWJsZXMnLFxuICAgICAgICBjYXRlZ29yeTogJ0Nhbm5hYmlzJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdlZGlibGVzLXdvcmstcGVyZm9ybWFuY2UnLFxuICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnRcXCdzIHdvcmsgcGVyZm9ybWFuY2UgaXMgc3VmZmVyaW5nIGR1ZSB0byBkYWlseSB1c2Ugb2YgaGlnaC1wb3RlbmN5IFRIQyBndW1taWVzLiBUaGV5IHJlcG9ydCBmZWVsaW5nIFwiaW4gYSBmb2dcIiBhbmQgdW5tb3RpdmF0ZWQuJyxcbiAgICAgICAgaGlzdG9yeTogJ0JlZ2FuIHVzaW5nIGVkaWJsZXMgZm9yIHNsZWVwIGEgeWVhciBhZ28uIE5vdyB1c2VzIHRoZW0gdGhyb3VnaG91dCB0aGUgZGF5IHRvIG1hbmFnZSBhbnhpZXR5LCBjb25zdW1pbmcgdXAgdG8gMTAwbWcgb2YgVEhDIGRhaWx5LiBUaGVpciByZWNlbnQgcGVyZm9ybWFuY2UgcmV2aWV3IGF0IHdvcmsgd2FzIHBvb3IuJyxcbiAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiTXkgYm9zcyB0b2xkIG1lIEkgc2VlbSBkaXN0cmFjdGVkIGFuZCBteSB3b3JrIGlzIHNsaXBwaW5nLiBUaGUgZWRpYmxlcyB1c2VkIHRvIGhlbHAgbXkgYW54aWV0eSwgYnV0IG5vdyBJIGp1c3QgZmVlbC4uLiBzbG93LiBJIGRvbid0IGZlZWwgaGlnaCwganVzdCBub3Qgc2hhcnAuXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBwYXJhbGVnYWwgdW5kZXIgaGlnaCBwcmVzc3VyZSBhdCBhIGNvcnBvcmF0ZSBsYXcgZmlybS4gSXMgd29ycmllZCBhYm91dCBsb3NpbmcgdGhlaXIgam9iLlwiLFxuICAgICAgICBhZ2VSYW5nZTogWzMyLCA0MF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydpbnRlbGxlY3R1YWxpemVyJywgJ3BsZWFzZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnZWRpYmxlcy1jaHJvbmljLXBhaW4nLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCBpcyB1c2luZyBpbmNyZWFzaW5nbHkgaGlnaCBkb3NlcyBvZiBUSEMgZWRpYmxlcyBmb3IgY2hyb25pYyBwYWluIG1hbmFnZW1lbnQgYnV0IGlzIGNvbmNlcm5lZCBhYm91dCBjb2duaXRpdmUgc2lkZSBlZmZlY3RzLicsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ1N0YXJ0ZWQgdXNpbmcgZWRpYmxlcyBhZnRlciBiYWNrIHN1cmdlcnkgd2hlbiB0aGV5IHdhbnRlZCB0byByZWR1Y2Ugb3Bpb2lkIHVzZS4gVG9sZXJhbmNlIGhhcyBidWlsdCB0byB0aGUgcG9pbnQgd2hlcmUgdGhleSBuZWVkIHZlcnkgaGlnaCBkb3Nlcywgd2hpY2ggbGVhdmUgdGhlbSBpbXBhaXJlZC4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIlRoZSBlZGlibGVzIGhlbHAgbXkgcGFpbiB3aXRob3V0IHRoZSBzY2FyeSBzdHVmZiB0aGF0IGNvbWVzIHdpdGggcGlsbHMuIEJ1dCBJJ20gdGFraW5nIHNvIG11Y2ggbm93IHRoYXQgSSBmZWVsIGZvZ2d5IGFsbCB0aGUgdGltZS4gTXkga2lkcyBoYXZlIG5vdGljZWQuIEl0J3MgYWZmZWN0aW5nIG15IHdob2xlIGxpZmUuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIHBhcmVudCBvZiB0d28gd2hvIGhhZCBzcGluYWwgZnVzaW9uIHN1cmdlcnkgdGhyZWUgeWVhcnMgYWdvLiBDaHJvbmljIHBhaW4gcGVyc2lzdHMgYW5kIHRoZXkncmUgdHJ5aW5nIHRvIGF2b2lkIGJlY29taW5nIGRlcGVuZGVudCBvbiBwcmVzY3JpcHRpb24gb3Bpb2lkcy5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzQyLCA1Ml0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydlbW90aW9uYWwnLCAncmVzZXJ2ZWQnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcblxuICAgIC8vID09PT09PT09PT0gT1BJT0lEUyA9PT09PT09PT09XG4gICAge1xuICAgICAgICB0b3BpYzogJ0ZlbnRhbnlsIFVzZSAoSWxsaWNpdCknLFxuICAgICAgICBjYXRlZ29yeTogJ09waW9pZHMnLFxuICAgICAgICB2YXJpYW50czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2ZlbnRhbnlsLW92ZXJkb3NlLXN1cnZpdm9yJyxcbiAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIGhlcmUgZHVlIHRvIGEgY291cnQgbWFuZGF0ZSBmb2xsb3dpbmcgYW4gb3ZlcmRvc2Ugb24gd2hhdCB0aGV5IHRob3VnaHQgd2FzIGhlcm9pbiwgYnV0IHdhcyBhY3R1YWxseSBmZW50YW55bC4gVGhleSBhcmUgdGVycmlmaWVkIG9mIG92ZXJkb3NpbmcgYWdhaW4gYnV0IGFsc28gb2Ygd2l0aGRyYXdhbC4nLFxuICAgICAgICBoaXN0b3J5OiAnTG9uZyBoaXN0b3J5IG9mIG9waW9pZCB1c2UsIHN0YXJ0aW5nIHdpdGggcHJlc2NyaXB0aW9uIHBhaW4gcGlsbHMgYW5kIHByb2dyZXNzaW5nIHRvIGhlcm9pbi4gUmVjZW50bHkgc3RhcnRlZCB1c2luZyBwcmVzc2VkIHBpbGxzIHNvbGQgYXMgXCJveHlzXCIgd2hpY2ggYXJlIGxpa2VseSBpbGxpY2l0IGZlbnRhbnlsLicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkgaG9uZXN0bHkgdGhvdWdodCBJIHdhcyBnb2luZyB0byBkaWUuIEkgbmV2ZXIgd2FudCB0byBmZWVsIHRoYXQgd2F5IGFnYWluLiBCdXQgdGhlIHRob3VnaHQgb2YgZ2V0dGluZyBzaWNrIGZyb20gd2l0aGRyYXdhbC4uLiBJIGNhbid0IGhhbmRsZSBpdC4gSSBkb24ndCBzZWUgYSB3YXkgb3V0LlwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgd2hvIGhhcyBiZWVuIHVuZW1wbG95ZWQgZm9yIGEgeWVhciBhbmQgaXMgZXhwZXJpZW5jaW5nIGhvdXNpbmcgaW5zdGFiaWxpdHksIG9mdGVuIGNvdWNoLXN1cmZpbmcuIEhhcyBsb3N0IGNvbnRhY3Qgd2l0aCBtb3N0IG9mIHRoZWlyIGZhbWlseS5cIixcbiAgICAgICAgYWdlUmFuZ2U6IFsyNSwgMzRdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZW1vdGlvbmFsJywgJ3Jlc2VydmVkJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2ZlbnRhbnlsLXlvdW5nLXByb2Zlc3Npb25hbCcsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IHdhcyBmb3VuZCB1bnJlc3BvbnNpdmUgYnkgcm9vbW1hdGUgYW5kIHJldml2ZWQgd2l0aCBOYXJjYW4uIFRoaXMgaXMgdGhlaXIgZmlyc3QgdGltZSBzZWVraW5nIGhlbHAgZm9yIHN1YnN0YW5jZSB1c2UuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnU3RhcnRlZCB1c2luZyBwcmVzY3JpcHRpb24gb3Bpb2lkcyByZWNyZWF0aW9uYWxseSBpbiBjb2xsZWdlLiBQcm9ncmVzc2VkIHRvIGJ1eWluZyBwaWxscyB0aGF0IGFyZSBsaWtlbHkgcHJlc3NlZCBmZW50YW55bC4gSGFzIGJlZW4gaGlkaW5nIHVzZSBmcm9tIGZyaWVuZHMgYW5kIGZhbWlseS4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkgbmV2ZXIgdGhvdWdodCBJJ2QgYmUgJ3RoYXQgcGVyc29uLicgSSBoYXZlIGEgZ29vZCBqb2IsIGEgbmljZSBhcGFydG1lbnQuLi4gYnV0IEkga2VlcCBkb2luZyB0aGVzZSBwaWxscyBhbmQgSSBrbm93IHRoZXkncmUgZGFuZ2Vyb3VzLiBXaGVuIEkgd29rZSB1cCB3aXRoIHRoZSBFTVRzIHRoZXJlLCBJIHJlYWxpemVkIEkgY291bGQgaGF2ZSBkaWVkLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBtYXJrZXRpbmcgcHJvZmVzc2lvbmFsIHdobyBjb21lcyBmcm9tIGFuIHVwcGVyLW1pZGRsZS1jbGFzcyBmYW1pbHkuIEhhcyBiZWVuIGZ1bmN0aW9uaW5nIGF0IHdvcmsgYnV0IGxpdmluZyBhIGRvdWJsZSBsaWZlLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbMjQsIDMwXSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2ludGVsbGVjdHVhbGl6ZXInLCAncGxlYXNlciddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdG9waWM6ICdQcmVzY3JpcHRpb24gUGFpbiBNZWRzIChPeHljb2RvbmUpJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdPcGlvaWRzJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdveHktY2hyb25pYy1wYWluJyxcbiAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIHJ1bm5pbmcgb3V0IG9mIHRoZWlyIG94eWNvZG9uZSBwcmVzY3JpcHRpb24gZWFybHkgZWFjaCBtb250aCBhbmQgaXMgcmVxdWVzdGluZyBhbiBpbmNyZWFzZWQgZG9zZSwgc2hvd2luZyBzaWducyBvZiB0b2xlcmFuY2UgYW5kIGRlcGVuZGVuY2UuJyxcbiAgICAgICAgaGlzdG9yeTogJ1ByZXNjcmliZWQgb3h5Y29kb25lIGZvciBjaHJvbmljIGJhY2sgcGFpbiBhZnRlciBhIGNhciBhY2NpZGVudCAyIHllYXJzIGFnby4gSW5pdGlhbGx5IHRvb2sgYXMgcHJlc2NyaWJlZCwgYnV0IG5vdyB0YWtlcyBleHRyYSBkb3NlcyBmb3Igc3RyZXNzIGFuZCBlbW90aW9uYWwgcmVsaWVmLicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkRvY3RvciwgdGhlIHBpbGxzIGp1c3QgYXJlbid0IHdvcmtpbmcgbGlrZSB0aGV5IHVzZWQgdG8uIFRoZSBwYWluIGlzIGJyZWFraW5nIHRocm91Z2ggbW9yZSBhbmQgbW9yZS4gSSB0aGluayBJIG5lZWQgYSBoaWdoZXIgZG9zZSB0byBtYW5hZ2UgaXQgcHJvcGVybHkuXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBmb3JtZXIgY29uc3RydWN0aW9uIHdvcmtlciBvbiBkaXNhYmlsaXR5LiBMaXZlcyBhbG9uZSBhbmQgcmVwb3J0cyBoaWdoIGxldmVscyBvZiBib3JlZG9tIGFuZCBkZXByZXNzaW9uLlwiLFxuICAgICAgICBhZ2VSYW5nZTogWzQ4LCA1OF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydkZWZlbnNpdmUnLCAnZW1vdGlvbmFsJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ294eS1wb3N0LXN1cmdlcnknLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCBoYWQgc3VyZ2VyeSBzaXggbW9udGhzIGFnbyBidXQgaXMgc3RpbGwgcmVxdWVzdGluZyBvcGlvaWQgcmVmaWxscy4gU3VyZ2VvbiBoYXMgZGVjbGluZWQgYW5kIHJlZmVycmVkIHBhdGllbnQgdG8gZGlzY3VzcyBvdGhlciBvcHRpb25zLicsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ1VuZGVyd2VudCBrbmVlIHJlcGxhY2VtZW50IHN1cmdlcnkuIFdhcyBwcmVzY3JpYmVkIG94eWNvZG9uZSBmb3IgcG9zdC1vcGVyYXRpdmUgcGFpbiBhbmQgaGFzIGJlZW4gdW5hYmxlIG9yIHVud2lsbGluZyB0byB0YXBlciBvZmYgZGVzcGl0ZSB0aGUgZXhwZWN0ZWQgaGVhbGluZyB0aW1lbGluZS4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIlRoZSBzdXJnZW9uIGRvZXNuJ3QgdW5kZXJzdGFuZC4gVGhlIHBhaW4gaXMgc3RpbGwgdGhlcmUuIE1heWJlIHRoZSBzdXJnZXJ5IGRpZG4ndCB3b3JrIHByb3Blcmx5LiBJIG5lZWQgbW9yZSB0aW1lIG9uIHRoZSBtZWRpY2F0aW9uIGJlZm9yZSBJIGNhbiBldmVuIHRoaW5rIGFib3V0IHN0b3BwaW5nLlwiLFxuICAgICAgICAgICAgICAgIGNvbmZsaWN0aW5nQ2hpZWZDb21wbGFpbnQ6IFwiSSdtIG1vc3RseSBoZXJlIHRvIHRhbGsgYWJvdXQgd2h5IG15IGtuZWUgc3RpbGwgaHVydHMgc28gbXVjaC4gSSB0aGluayBzb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBzdXJnZXJ5LiBUaGUgcGlsbHMgYXJlIHRoZSBvbmx5IHRoaW5nIHRoYXQgaGVscC5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgcmV0aXJlZCBudXJzZSB3aG8gcHJpZGVkIHRoZW1zZWx2ZXMgb24gdGhlaXIgbWVkaWNhbCBrbm93bGVkZ2UuIE5vdyBmZWVscyBkaXNtaXNzZWQgYnkgZG9jdG9ycyBhbmQgaXMgYmVjb21pbmcgaW5jcmVhc2luZ2x5IGlzb2xhdGVkLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbNTgsIDY4XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2ludGVsbGVjdHVhbGl6ZXInLCAnZGVmZW5zaXZlJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0b3BpYzogJ1ByZXNjcmlwdGlvbiBCZW56b2RpYXplcGluZSBNaXN1c2UnLFxuICAgICAgICBjYXRlZ29yeTogJ09waW9pZHMnLFxuICAgICAgICB2YXJpYW50czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2JlbnpvLWRvY3Rvci1zaG9wcGluZycsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06IFwiUGF0aWVudCBpcyBzZWVraW5nIGEgbmV3IGRvY3RvciB0byBnZXQgYSByZWZpbGwgZm9yIHRoZWlyIGFscHJhem9sYW0gKFhhbmF4KSBwcmVzY3JpcHRpb24sIGFmdGVyIHRoZWlyIHByZXZpb3VzIGRvY3RvciByZWZ1c2VkLlwiLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdQcmVzY3JpYmVkIFhhbmF4IGZvciBwYW5pYyBhdHRhY2tzIGZpdmUgeWVhcnMgYWdvLiBOb3cgdGFrZXMgaXQgZGFpbHkgdG8gbWFuYWdlIGdlbmVyYWwgYW54aWV0eSBhbmQgc3RyZXNzLCBvZnRlbiB0YWtpbmcgbW9yZSB0aGFuIHByZXNjcmliZWQuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJNeSBsYXN0IGRvY3RvciBjdXQgbWUgb2ZmLiBIZSBkb2Vzbid0IHVuZGVyc3RhbmQgaG93IGJhZCBteSBhbnhpZXR5IGlzLiBJIGNhbid0IHNsZWVwLCBteSBoZWFydCByYWNlcy4uLiBJIG5lZWQgbXkgbWVkaWNhdGlvbiB0byBqdXN0IGZlZWwgbm9ybWFsLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBzdGF5LWF0LWhvbWUgcGFyZW50IHdobyBmZWVscyBvdmVyd2hlbG1lZCB3aXRoIGNoaWxkY2FyZSBhbmQgaG91c2Vob2xkIHJlc3BvbnNpYmlsaXRpZXMuIEZlZWxzIGlzb2xhdGVkIGFuZCBiZWxpZXZlcyB0aGUgbWVkaWNhdGlvbiBpcyB0aGUgb25seSB0aGluZyBob2xkaW5nIHRoZW0gdG9nZXRoZXIuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFszOCwgNDhdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZW1vdGlvbmFsJywgJ3BsZWFzZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnYmVuem8tZXhlY3V0aXZlLWZ1bmN0aW9uJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgaXMgY29uY2VybmVkIGFib3V0IG1lbW9yeSBwcm9ibGVtcyBhbmQgZGlmZmljdWx0eSBjb25jZW50cmF0aW5nLCB3aGljaCBtYXkgYmUgcmVsYXRlZCB0byBsb25nLXRlcm0gYmVuem9kaWF6ZXBpbmUgdXNlLicsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ0hhcyBiZWVuIG9uIGNsb25hemVwYW0gZm9yIGdlbmVyYWxpemVkIGFueGlldHkgZm9yIG92ZXIgOCB5ZWFycy4gRG9zZSBoYXMgZ3JhZHVhbGx5IGluY3JlYXNlZC4gUmVjZW50bHkgbm90aWNlZCBzaWduaWZpY2FudCBjb2duaXRpdmUgaXNzdWVzIGFmZmVjdGluZyB3b3JrIHBlcmZvcm1hbmNlLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiSSdtIGZvcmdldHRpbmcgdGhpbmdzLCBsb3Npbmcgd29yZHMgbWlkLXNlbnRlbmNlLiBNeSB3b3JrIGlzIHN1ZmZlcmluZy4gSSByZWFkIHRoYXQgYmVuem9zIGNhbiBjYXVzZSB0aGlzIGJ1dCBJJ20gdGVycmlmaWVkIHRvIHN0b3AuIFRoZSBhbnhpZXR5IHdvdWxkIGJlIHVuYmVhcmFibGUuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGZpbmFuY2UgZXhlY3V0aXZlIHdobyBtYW5hZ2VzIGEgbGFyZ2UgdGVhbS4gVGhlIGNvZ25pdGl2ZSBkZWNsaW5lIGlzIHRocmVhdGVuaW5nIHRoZWlyIGNhcmVlciwgYnV0IGFueGlldHkgaGFzIGJlZW4gYSBsaWZlbG9uZyBzdHJ1Z2dsZS5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzQ1LCA1NV0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydpbnRlbGxlY3R1YWxpemVyJywgJ3Jlc2VydmVkJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG5cbiAgICAvLyA9PT09PT09PT09IFNUSU1VTEFOVFMgPT09PT09PT09PVxuICAgIHtcbiAgICAgICAgdG9waWM6ICdNZXRoYW1waGV0YW1pbmUgVXNlJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdTdGltdWxhbnRzJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdtZXRoLXRydWNrLWRyaXZlcicsXG4gICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCBwcmVzZW50cyB3aXRoIHNldmVyZSBkZW50YWwgZGVjYXksIHNpZ25pZmljYW50IHdlaWdodCBsb3NzLCBhbmQgcGFyYW5vaWEuIFRoZXkgd2VyZSBicm91Z2h0IGluIGJ5IGEgZmFtaWx5IG1lbWJlciBjb25jZXJuZWQgYWJvdXQgdGhlaXIgZXJyYXRpYyBiZWhhdmlvci4nLFxuICAgICAgICBoaXN0b3J5OiAnSW5pdGlhdGVkIG1ldGggdXNlIDE4IG1vbnRocyBhZ28gdG8gd29yayBsb25nZXIgaG91cnMgYXQgYSBtYW51YWwgbGFib3Igam9iLiBVc2UgaGFzIGVzY2FsYXRlZCB0byBkYWlseSwgd2l0aCBtdWx0aS1kYXkgYmluZ2VzLiBIYXMgYmVjb21lIHNvY2lhbGx5IHdpdGhkcmF3biBhbmQgcGFyYW5vaWQuJyxcbiAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiTXkgZmFtaWx5IGlzIHRyeWluZyB0byBjb250cm9sIG1lLiBUaGV5IGRvbid0IHVuZGVyc3RhbmQgdGhlIHByZXNzdXJlIEknbSB1bmRlci4gSSdtIGZpbmUsIEkganVzdCBuZWVkIGV2ZXJ5b25lIHRvIGxlYXZlIG1lIGFsb25lLiBXaHkgYXJlIHRoZXkgbG9va2luZyBhdCBtZSBsaWtlIHRoYXQ/XCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCB0cnVjayBkcml2ZXIgd2hvIGlzIGF0IHJpc2sgb2YgbG9zaW5nIHRoZWlyIGpvYiBkdWUgdG8gbWlzc2VkIHNoaWZ0cyBhbmQgc3RyYW5nZSBiZWhhdmlvci4gSXMgZGl2b3JjZWQgYW5kIGhhcyBzdHJhaW5lZCByZWxhdGlvbnNoaXBzIHdpdGggdGhlaXIgY2hpbGRyZW4uXCIsXG4gICAgICAgIGFnZVJhbmdlOiBbMzgsIDQ4XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2RlZmVuc2l2ZScsICdyZXNlcnZlZCddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdtZXRoLWdheS1zY2VuZScsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIGNvbmNlcm5lZCBhYm91dCB0aGVpciBtZXRoIHVzZSwgd2hpY2ggc3RhcnRlZCBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFydHkgYW5kIGNoZW1zZXggc2NlbmUuIEEgcmVjZW50IEhJViBkaWFnbm9zaXMgaGFzIHByb21wdGVkIHRoZW0gdG8gcmVldmFsdWF0ZS4nLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdTdGFydGVkIHVzaW5nIGNyeXN0YWwgbWV0aCBhdCBwYXJ0aWVzIGFib3V0IHR3byB5ZWFycyBhZ28uIFVzZSBoYXMgYmVjb21lIG1vcmUgZnJlcXVlbnQsIGFzc29jaWF0ZWQgd2l0aCBzZXh1YWwgZW5jb3VudGVycy4gUmVjZW50bHkgZGlhZ25vc2VkIHdpdGggSElWIGF0IGEgcm91dGluZSBzY3JlZW5pbmcuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJUaGUgZGlhZ25vc2lzIHdhcyBhIHdha2UtdXAgY2FsbC4gVGhlIG1ldGguLi4gaXQncyB0aWVkIHVwIHdpdGggZXZlcnl0aGluZy4gVGhlIHBhcnRpZXMsIHRoZSBzZXgsIG15IHdob2xlIHNvY2lhbCBsaWZlLiBCdXQgSSBjYW4ndCBrZWVwIGdvaW5nIGxpa2UgdGhpcy4gSSBjb3VsZCBoYXZlIGRpZWQuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGZsaWdodCBhdHRlbmRhbnQgd2hvIGlzIHBhcnQgb2YgYW4gYWN0aXZlIHNvY2lhbCBzY2VuZSB3aGVyZSBtZXRoIHVzZSBpcyBjb21tb24uIFN0cnVnZ2xpbmcgd2l0aCBzaGFtZSBhbmQgaXNvbGF0aW9uIGFmdGVyIHRoZSBkaWFnbm9zaXMuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFsyOCwgMzhdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZW1vdGlvbmFsJywgJ3RhbGthdGl2ZSddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdG9waWM6ICdDb2NhaW5lIFVzZScsXG4gICAgICAgIGNhdGVnb3J5OiAnU3RpbXVsYW50cycsXG4gICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnY29jYWluZS1maW5hbmNlJyxcbiAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIGluIGZpbmFuY2lhbCBjcmlzaXMgZHVlIHRvIGEgd2Vla2x5IGNvY2FpbmUgaGFiaXQgdGhhdCBoYXMgZXNjYWxhdGVkLiBUaGV5IGFyZSBzZWVraW5nIGhlbHAgYWZ0ZXIgdGFraW5nIG91dCBhIGhpZ2gtaW50ZXJlc3QgbG9hbiB0byBjb3ZlciB0aGVpciBkcnVnLXJlbGF0ZWQgZGVidHMuJyxcbiAgICAgICAgaGlzdG9yeTogJ0Nhc3VhbCB3ZWVrZW5kIHVzZXIgZm9yIHllYXJzLCBidXQgdXNlIGVzY2FsYXRlZCB0byAzLTQgdGltZXMgYSB3ZWVrIGFmdGVyIGEgcHJvbW90aW9uLiBTcGVuZHMgaHVuZHJlZHMgb2YgZG9sbGFycyBhIHdlZWsgb24gY29jYWluZSwgaGlkaW5nIHRoZSBleHBlbnNlIGZyb20gdGhlaXIgc3BvdXNlLicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkndmUgZ290dGVuIG15c2VsZiBpbnRvIGEgcmVhbCBmaW5hbmNpYWwgbWVzcy4gSSBrZWVwIHRlbGxpbmcgbXlzZWxmIEknbGwgc3RvcCwganVzdCBmb3IgdGhlIHdlZWtlbmRzLCBidXQgdGhlbiBGcmlkYXkgY29tZXMuLi4gSSBuZXZlciB0aG91Z2h0IEknZCBiZSBpbiBkZWJ0IG92ZXIgdGhpcy5cIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGluIGZpbmFuY2Ugd2hvIGFzc29jaWF0ZXMgY29jYWluZSB1c2Ugd2l0aCBzdWNjZXNzIGFuZCBuZXR3b3JraW5nLiBJcyBtYXJyaWVkIGFuZCBqdXN0IGJvdWdodCBhIG5ldyBob3VzZSwgYWRkaW5nIHRvIGZpbmFuY2lhbCBwcmVzc3VyZS5cIixcbiAgICAgICAgYWdlUmFuZ2U6IFszNSwgNDVdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnaW50ZWxsZWN0dWFsaXplcicsICdkZWZlbnNpdmUnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnY29jYWluZS1yZXN0YXVyYW50LWluZHVzdHJ5JyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgaGFkIGEgY2FyZGlhYyBldmVudCAocGFscGl0YXRpb25zLCBjaGVzdCBwYWluKSBhZnRlciBhIGNvY2FpbmUgYmluZ2UgYW5kIGlzIHNoYWtlbi4gRVIgZG9jdG9ycyB0b2xkIHRoZW0gdG8gc3RvcCB1c2luZyBpbW1lZGlhdGVseS4nLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdXb3JrcyBpbiBhIHJlc3RhdXJhbnQgd2hlcmUgY29jYWluZSB1c2UgaXMgcmFtcGFudC4gVXNlcyBtdWx0aXBsZSB0aW1lcyBwZXIgd2VlayB0byBnZXQgdGhyb3VnaCBsb25nIHNoaWZ0cy4gSGFzIGJlZW4gYnJ1c2hpbmcgb2ZmIHdhcm5pbmcgc2lnbnMgbGlrZSBub3NlYmxlZWRzIGFuZCBoZWFydCByYWNpbmcuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJJIHRob3VnaHQgSSB3YXMgaGF2aW5nIGEgaGVhcnQgYXR0YWNrLiBJJ20gb25seSAzMi4gVGhlIEVSIGRvY3RvciBzYWlkIG15IGhlYXJ0IGNvdWxkIGdpdmUgb3V0IGlmIEkga2VlcCB0aGlzIHVwLiBJJ20gc2NhcmVkLCBidXQgZXZlcnlvbmUgYXQgd29yayB1c2VzLiBIb3cgZG8gSSBzdG9wIHdoZW4gaXQncyBldmVyeXdoZXJlP1wiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBzb3VzIGNoZWYgYXQgYSBoaWdoLWVuZCByZXN0YXVyYW50LiBUaGUgaW5kdXN0cnkgY3VsdHVyZSBub3JtYWxpemVzIGRydWcgdXNlLCBhbmQgbG9uZywgc3RyZXNzZnVsIGhvdXJzIG1ha2UgaXQgZmVlbCBuZWNlc3NhcnkgdG8ga2VlcCB1cC5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzI4LCAzNl0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydlbW90aW9uYWwnLCAncGxlYXNlciddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdG9waWM6ICdQcmVzY3JpcHRpb24gU3RpbXVsYW50IE1pc3VzZSAoQWRkZXJhbGwpJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdTdGltdWxhbnRzJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdhZGRlcmFsbC1ncmFkLXN0dWRlbnQnLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCBpcyBhIGdyYWR1YXRlIHN0dWRlbnQgd2hvIGhhcyBiZWVuIHVzaW5nIEFkZGVyYWxsIG9idGFpbmVkIGZyb20gZnJpZW5kcyB0byBnZXQgdGhyb3VnaCBleGFtcyBhbmQgZGVhZGxpbmVzLiBVc2UgaGFzIGJlY29tZSBkYWlseS4nLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdTdGFydGVkIHVzaW5nIG9jY2FzaW9uYWxseSBkdXJpbmcgdW5kZXJncmFkIGZpbmFscy4gTm93IHVzZXMgZGFpbHkgYW5kIGV4cGVyaWVuY2VzIGNyYXNoZXMsIGlycml0YWJpbGl0eSwgYW5kIGluc29tbmlhLiBIYXMgbmV2ZXIgYmVlbiBldmFsdWF0ZWQgZm9yIEFESEQuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJJIGNhbid0IGZvY3VzIHdpdGhvdXQgaXQgYW55bW9yZS4gQnV0IEknbSBub3Qgc2xlZXBpbmcsIEknbSBsb3Npbmcgd2VpZ2h0LCBhbmQgSSBzbmFwIGF0IGV2ZXJ5b25lLiBJIGRvbid0IGtub3cgaWYgSSBhY3R1YWxseSBoYXZlIEFESEQgb3IgaWYgSSd2ZSBqdXN0IGNyZWF0ZWQgYSBkZXBlbmRlbmN5LlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBQaEQgY2FuZGlkYXRlIGluIGJpb2xvZ3kgZmFjaW5nIGludGVuc2UgcHJlc3N1cmUgdG8gcHVibGlzaCBhbmQgY29tcGxldGUgdGhlaXIgZGlzc2VydGF0aW9uLiBBY2FkZW1pYyBpZGVudGl0eSBpcyBldmVyeXRoaW5nIHRvIHRoZW0uXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFsyNCwgMzBdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnaW50ZWxsZWN0dWFsaXplcicsICdwbGVhc2VyJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ2FkZGVyYWxsLXdvcmtpbmctbW9tJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogXCJQYXRpZW50IGhhcyBiZWVuIHVzaW5nIHRoZWlyIGNoaWxkJ3MgQWRkZXJhbGwgcHJlc2NyaXB0aW9uIHRvIG1hbmFnZSB0aGUgZGVtYW5kcyBvZiB3b3JrIGFuZCBwYXJlbnRpbmcuIE5vdyBleHBlcmllbmNpbmcgZGVwZW5kZW5jZS5cIixcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnU3RhcnRlZCB0YWtpbmcgYSBwaWxsIGhlcmUgYW5kIHRoZXJlIHRvIG1hbmFnZSBleGhhdXN0aW9uLiBOb3cgdGFrZXMgbXVsdGlwbGUgcGlsbHMgZGFpbHkgYW5kIGlzIHJ1bm5pbmcgdGhyb3VnaCB0aGUgcHJlc2NyaXB0aW9uIGZhc3RlciB0aGFuIGl0IGNhbiBiZSByZWZpbGxlZC4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkga25vdyBpdCdzIHdyb25nLCBJJ20gdGFraW5nIG15IGtpZCdzIG1lZGljYXRpb24uIEJ1dCBJJ20gYSBzaW5nbGUgbW9tIHdpdGggdHdvIGpvYnMuIFdpdGhvdXQgaXQsIEkgbGl0ZXJhbGx5IGNhbm5vdCBrZWVwIHVwLiBJJ20gdGVycmlmaWVkIG9mIHdoYXQgaGFwcGVucyB3aGVuIHRoZSBib3R0bGUgcnVucyBvdXQuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIHNpbmdsZSBtb3RoZXIgb2YgdHdvLCB3b3JraW5nIG11bHRpcGxlIHBhcnQtdGltZSBqb2JzLiBFeGhhdXN0ZWQgYW5kIG92ZXJ3aGVsbWVkLCB3aXRoIG5vIHN1cHBvcnQgc3lzdGVtIG9yIHRpbWUgZm9yIHNlbGYtY2FyZS5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzMyLCA0Ml0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydlbW90aW9uYWwnLCAnZGVmZW5zaXZlJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG5cbiAgICAvLyA9PT09PT09PT09IE9USEVSIFNVQlNUQU5DRVMgPT09PT09PT09PVxuICAgIHtcbiAgICAgICAgdG9waWM6ICdLcmF0b20gRGVwZW5kZW5jZScsXG4gICAgICAgIGNhdGVnb3J5OiAnT3RoZXIgU3Vic3RhbmNlcycsXG4gICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAna3JhdG9tLWNocm9uaWMtcGFpbicsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIHRyeWluZyB0byBzdG9wIHVzaW5nIGtyYXRvbSwgd2hpY2ggdGhleSBpbml0aWFsbHkgdG9vayBmb3IgY2hyb25pYyBwYWluIGFuZCBlbmVyZ3ksIGJ1dCBpcyBub3cgZXhwZXJpZW5jaW5nIHNpZ25pZmljYW50IHdpdGhkcmF3YWwgc3ltcHRvbXMuJyxcbiAgICAgICAgaGlzdG9yeTogJ1N0YXJ0ZWQgdXNpbmcga3JhdG9tIHBvd2RlciBmcm9tIGFuIG9ubGluZSB2ZW5kb3IgMyB5ZWFycyBhZ28gYXMgYSBcIm5hdHVyYWxcIiBhbHRlcm5hdGl2ZSB0byBwYWluIG1lZGljYXRpb24uIENvbnN1bXB0aW9uIGhhcyBncm93biB0byAzMC00MCBncmFtcyBwZXIgZGF5LicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkgdGhvdWdodCB0aGlzIHN0dWZmIHdhcyBsaWtlIGNvZmZlZSwgYnV0IG5vdyBpZiBJIHRyeSB0byBzdG9wLCBJIGZlZWwgYXdmdWwuIE15IHdob2xlIGJvZHkgYWNoZXMsIEkgY2FuJ3Qgc2xlZXAsIGFuZCBJJ20gc28gaXJyaXRhYmxlLiBJdCBmZWVscyBsaWtlIHRoZSBmbHUsIGJ1dCB3b3JzZS5cIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGxpYnJhcmlhbiB3aG8gaW5pdGlhbGx5IHVzZWQga3JhdG9tIGZvciBmaWJyb215YWxnaWEuIE5vdyBmZWVscyB0cmFwcGVkIGJ5IHRoZSBuZWVkIHRvIGRvc2UgZXZlcnkgZmV3IGhvdXJzIHRvIGF2b2lkIHdpdGhkcmF3YWwuXCIsXG4gICAgICAgIGFnZVJhbmdlOiBbNDUsIDU1XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2ludGVsbGVjdHVhbGl6ZXInLCAncmVzZXJ2ZWQnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAna3JhdG9tLW9waW9pZC1yZXBsYWNlbWVudCcsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IHN0YXJ0ZWQgdXNpbmcga3JhdG9tIHRvIGdldCBvZmYgcHJlc2NyaXB0aW9uIG9waW9pZHMgYnV0IGhhcyBkZXZlbG9wZWQgYSBuZXcgZGVwZW5kZW5jZS4gU2Vla2luZyBndWlkYW5jZSBvbiBob3cgdG8gdGFwZXIuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnV2FzIG9uIG94eWNvZG9uZSBmb3IgYSB3b3JrIGluanVyeS4gVXNlZCBrcmF0b20gdG8gc2VsZi1tYW5hZ2Ugd2l0aGRyYXdhbCBhbmQgYXZvaWQgZ29pbmcgYmFjayB0byBwaWxscy4gTm93IHVzZXMga3JhdG9tIG11bHRpcGxlIHRpbWVzIGRhaWx5IGFuZCBjYW5cXCd0IHN0b3AuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJJIHRyYWRlZCBvbmUgYWRkaWN0aW9uIGZvciBhbm90aGVyLCBJIGd1ZXNzLiBBdCBsZWFzdCBrcmF0b20gaXMgbGVnYWwsIGJ1dCBJJ20gc3BlbmRpbmcgYSBmb3J0dW5lIG9uIGl0IGFuZCBJIHN0aWxsIGRvbid0IGZlZWwgbm9ybWFsLiBJIGp1c3Qgd2FudCB0byBiZSBmcmVlIG9mIGFsbCBvZiB0aGlzLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBlbGVjdHJpY2lhbiB3aG8gd2FzIHByb3VkIG9mIGdldHRpbmcgb2ZmIHByZXNjcmlwdGlvbiBvcGlvaWRzIG9uIHRoZWlyIG93biwgYnV0IG5vdyByZWFsaXplcyB0aGV5J3JlIGRlcGVuZGVudCBvbiBrcmF0b20uXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFszNSwgNDVdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZGVmZW5zaXZlJywgJ3BsZWFzZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRvcGljOiAnS2V0YW1pbmUgTWlzdXNlJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdPdGhlciBTdWJzdGFuY2VzJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdrZXRhbWluZS1jbHViLXNjZW5lJyxcbiAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IHJlcG9ydHMgdXJpbmFyeSB0cmFjdCBpc3N1ZXMgYW5kIGNvZ25pdGl2ZSBkaWZmaWN1bHRpZXMgKFwiYnJhaW4gZm9nXCIpIGFmdGVyIHJlZ3VsYXIsIGhlYXZ5IHVzZSBvZiBpbGxpY2l0IGtldGFtaW5lLicsXG4gICAgICAgIGhpc3Rvcnk6ICdVc2VzIGtldGFtaW5lIGluc3VmZmxhdGVkIChzbm9ydGVkKSBldmVyeSB3ZWVrZW5kIHdpdGggZnJpZW5kcyBmb3IgaXRzIGRpc3NvY2lhdGl2ZSBlZmZlY3RzLiBSZWNlbnRseSBoYXMgYmVlbiBleHBlcmllbmNpbmcgYmxhZGRlciBwYWluIGFuZCB1cmdlbmN5LicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkndmUgYmVlbiBoYXZpbmcgc29tZSB3ZWlyZCBibGFkZGVyIHByb2JsZW1zLCBhbmQgbXkgbWVtb3J5IGZlZWxzIHNob3QgbGF0ZWx5LiBJIHJlYWQgb25saW5lIGl0IG1pZ2h0IGJlIGZyb20gdGhlIEsuIEknbSB3b3JyaWVkIEkgbWlnaHQgaGF2ZSBkb25lIHNvbWUgcGVybWFuZW50IGRhbWFnZS5cIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGFydGlzdCBhbmQgbmlnaHRsaWZlIGVudGh1c2lhc3QuIFRoZWlyIHNvY2lhbCBzY2VuZSBpcyBoZWF2aWx5IGNlbnRlcmVkIGFyb3VuZCBjbHViYmluZyBhbmQgcHN5Y2hlZGVsaWMvZGlzc29jaWF0aXZlIGRydWcgdXNlLlwiLFxuICAgICAgICBhZ2VSYW5nZTogWzIzLCAyOV0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWyd0YWxrYXRpdmUnLCAnaW50ZWxsZWN0dWFsaXplciddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdrZXRhbWluZS1kZXByZXNzaW9uLXNlbGYtdHJlYXQnLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCBoYXMgYmVlbiB1c2luZyBpbGxpY2l0IGtldGFtaW5lIHRvIHNlbGYtdHJlYXQgZGVwcmVzc2lvbiBhZnRlciByZWFkaW5nIGFib3V0IGtldGFtaW5lIHRoZXJhcHkuIFVzZSBoYXMgZXNjYWxhdGVkIGJleW9uZCBvY2Nhc2lvbmFsIHRvIGZyZXF1ZW50LicsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ1N0cnVnZ2xlcyB3aXRoIHRyZWF0bWVudC1yZXNpc3RhbnQgZGVwcmVzc2lvbi4gQ291bGRuXFwndCBhZmZvcmQgbGVnaXRpbWF0ZSBrZXRhbWluZSB0aGVyYXB5IHNvIHN0YXJ0ZWQgYnV5aW5nIGl0IGlsbGVnYWxseS4gSW5pdGlhbGx5IGhlbHBmdWwsIG5vdyB1c2luZyBtdWx0aXBsZSB0aW1lcyBwZXIgd2Vlay4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkl0IGFjdHVhbGx5IGhlbHBlZCBteSBkZXByZXNzaW9uIGF0IGZpcnN0LCBtb3JlIHRoYW4gYW55IGFudGlkZXByZXNzYW50IGV2ZXIgZGlkLiBCdXQgbm93IEknbSB1c2luZyBzbyBtdWNoIGFuZCB0aGUgZWZmZWN0cyBhcmVuJ3QgdGhlIHNhbWUuIEkgZmVlbCBzdHVjayBiZXR3ZWVuIGRlcHJlc3Npb24gYW5kIGRlcGVuZGVuY2UuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIHRlY2ggd29ya2VyIHdobyBoYXMgdHJpZWQgbXVsdGlwbGUgYW50aWRlcHJlc3NhbnRzIHdpdGhvdXQgc3VjY2Vzcy4gUmVzZWFyY2hlZCBrZXRhbWluZSB0aGVyYXB5IGJ1dCBjb3VsZG4ndCBhY2Nlc3Mgb3IgYWZmb3JkIGl0IGxlZ2FsbHkuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFsyOCwgMzhdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnaW50ZWxsZWN0dWFsaXplcicsICdlbW90aW9uYWwnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRvcGljOiAnUHNpbG9jeWJpbiAoTXVzaHJvb20pIE1pc3VzZScsXG4gICAgICAgIGNhdGVnb3J5OiAnT3RoZXIgU3Vic3RhbmNlcycsXG4gICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAncHNpbG9jeWJpbi1iYWQtdHJpcCcsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIGNvbmNlcm5lZCBhYm91dCByZWNlbnQgZXhwZXJpZW5jZXMgb2YgaGVpZ2h0ZW5lZCBhbnhpZXR5IGFuZCBcImZlZWxpbmcgZGlzY29ubmVjdGVkXCIgZm9yIGRheXMgYWZ0ZXIgdXNpbmcgcHNpbG9jeWJpbiBtdXNocm9vbXMuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnQmVnYW4gdXNpbmcgbXVzaHJvb21zIHdpdGggZnJpZW5kcyBmb3IgcmVjcmVhdGlvbmFsIGFuZCBwZXJjZWl2ZWQgc3Bpcml0dWFsIHJlYXNvbnMuIFVzZSBoYXMgYmVjb21lIG1vcmUgZnJlcXVlbnQgYW5kIHNvbGl0YXJ5LiBBIHJlY2VudCBcImJhZCB0cmlwXCIgaGFzIGxlZnQgdGhlbSBzaGFrZW4uJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJJIHRob3VnaHQgbXVzaHJvb21zIHdlcmUgc3VwcG9zZWQgdG8gYmUgZW5saWdodGVuaW5nLCBidXQgbXkgbGFzdCB0cmlwIHdhcyB0ZXJyaWZ5aW5nLiBFdmVyIHNpbmNlLCBteSBhbnhpZXR5IGlzIHRocm91Z2ggdGhlIHJvb2YgYW5kIEkgZmVlbCB3ZWlyZCwgbGlrZSBJJ20gbm90IHJlYWxseSBoZXJlLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBncmFkdWF0ZSBzdHVkZW50IGluIHBoaWxvc29waHkuIFdhcyBkcmF3biB0byBwc3ljaGVkZWxpY3MgZm9yIGludGVsbGVjdHVhbCBhbmQgc3Bpcml0dWFsIGV4cGxvcmF0aW9uIGJ1dCBpcyBub3cgZmFjaW5nIHVuZXhwZWN0ZWQgcHN5Y2hvbG9naWNhbCBjb25zZXF1ZW5jZXMuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFsyMiwgMjhdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnaW50ZWxsZWN0dWFsaXplcicsICdlbW90aW9uYWwnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAncHNpbG9jeWJpbi1taWNyb2Rvc2luZycsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGhhcyBiZWVuIG1pY3JvZG9zaW5nIHBzaWxvY3liaW4gZm9yIHByb2R1Y3Rpdml0eSBhbmQgbW9vZCBidXQgaGFzIGJlZ3VuIHRha2luZyBsYXJnZXIgZG9zZXMgYW5kIGlzIHF1ZXN0aW9uaW5nIHdoZXJlIHRoZSBsaW5lIGlzLicsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ1N0YXJ0ZWQgbWljcm9kb3NpbmcgYWZ0ZXIgcmVhZGluZyBhYm91dCBiZW5lZml0cyBmb3IgY3JlYXRpdml0eSBhbmQgZm9jdXMuIEdyYWR1YWxseSBpbmNyZWFzZWQgZG9zZXMuIE5vdyB0YWtpbmcgbm90aWNlYWJsZSBkb3NlcyBzZXZlcmFsIHRpbWVzIGEgd2Vlay4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkl0IHN0YXJ0ZWQgYXMgbWljcm9kb3NpbmcgZm9yIHdvcmssIGFuZCBpdCByZWFsbHkgaGVscGVkLiBCdXQgbGF0ZWx5IEkndmUgYmVlbiB0YWtpbmcgbW9yZSBiZWNhdXNlLi4uIEkgZ3Vlc3MgSSB3YW50IHRvIGZlZWwgc29tZXRoaW5nPyBJJ20gbm90IHN1cmUgaWYgdGhpcyBpcyBhIHByb2JsZW0gb3Igbm90LlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBzdGFydHVwIGZvdW5kZXIgdW5kZXIgZW5vcm1vdXMgcHJlc3N1cmUgdG8gcGVyZm9ybS4gVHVybmVkIHRvIG1pY3JvZG9zaW5nIGFzIGEgJ2Jpb2hhY2snIGJ1dCBpcyBub3cgdXNpbmcgbXVzaHJvb21zIGluIHdheXMgdGhleSBkaWRuJ3QgaW50ZW5kLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbMjgsIDM4XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2ludGVsbGVjdHVhbGl6ZXInLCAnZGVmZW5zaXZlJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0b3BpYzogJ0FuYWJvbGljIFN0ZXJvaWQgVXNlJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdPdGhlciBTdWJzdGFuY2VzJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdzdGVyb2lkcy1wZXJzb25hbC10cmFpbmVyJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgcHJlc2VudHMgd2l0aCBhY25lLCBtb29kIHN3aW5ncyAoaXJyaXRhYmlsaXR5IGFuZCBhZ2dyZXNzaW9uKSwgYW5kIGNvbmNlcm5pbmcgbGFiIHJlc3VsdHMgKGVsZXZhdGVkIGxpdmVyIGVuenltZXMpIGZyb20gYSByZWNlbnQgcGh5c2ljYWwuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnU3RhcnRlZCB1c2luZyB0ZXN0b3N0ZXJvbmUgYW5kIG90aGVyIGFuYWJvbGljIHN0ZXJvaWRzIHNvdXJjZWQgZnJvbSBhIFwiZ3ltIGJ1ZGR5XCIgYWJvdXQgYSB5ZWFyIGFnbyB0byBhY2NlbGVyYXRlIG11c2NsZSBnYWluLiBJcyBub3cgb24gYSByZWd1bGFyIGN5Y2xlIG9mIGluamVjdGFibGVzLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiTXkgZ2lybGZyaWVuZCBzYXlzIEknbSBhbHdheXMgYW5ncnksIGFuZCBteSBkb2N0b3IgaXMgZnJlYWtpbmcgb3V0IGFib3V0IG15IGxpdmVyLiBJJ3ZlIG5ldmVyIGZlbHQgc3Ryb25nZXIsIHRob3VnaC4gRXZlcnlvbmUgYXQgdGhlIGd5bSBpcyBvbiBzb21ldGhpbmcuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIHBlcnNvbmFsIHRyYWluZXIgd2hvc2UgY2FyZWVyIGFuZCBzZWxmLWVzdGVlbSBhcmUgdGllZCB0byB0aGVpciBwaHlzaWNhbCBhcHBlYXJhbmNlLiBGZWVscyBpbnRlbnNlIHByZXNzdXJlIHRvIG1haW50YWluIGEgaHlwZXItbWFzY3VsaW5lIHBoeXNpcXVlLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbMjQsIDMwXSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2RlZmVuc2l2ZScsICd0YWxrYXRpdmUnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnc3Rlcm9pZHMtYm9keS1keXNtb3JwaGlhJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogXCJQYXRpZW50J3MgcGFydG5lciBpcyBjb25jZXJuZWQgYWJvdXQgdGhlaXIgaW5jcmVhc2luZ2x5IGV4dHJlbWUgYmVoYXZpb3IgYXJvdW5kIGV4ZXJjaXNlLCBkaWV0LCBhbmQgc3Rlcm9pZCB1c2UuXCIsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogJ0hhcyBzdHJ1Z2dsZWQgd2l0aCBib2R5IGltYWdlIHNpbmNlIGJlaW5nIGJ1bGxpZWQgYXMgYSB0aGluIHRlZW5hZ2VyLiBTdGFydGVkIGxpZnRpbmcgd2VpZ2h0cyBvYnNlc3NpdmVseSwgdGhlbiBhZGRlZCBzdGVyb2lkcy4gQ2FuIG5ldmVyIGZlZWwgXCJiaWcgZW5vdWdoXCIgZGVzcGl0ZSBvYnZpb3VzIG11c2NsZSBtYXNzLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiSSBrbm93IEknbSBiaWdnZXIgdGhhbiBiZWZvcmUsIGJ1dCB3aGVuIEkgbG9vayBpbiB0aGUgbWlycm9yLCBJIHN0aWxsIHNlZSB0aGF0IHNraW5ueSBraWQgd2hvIGdvdCBwaWNrZWQgb24uIFRoZSBzdGVyb2lkcyBoZWxwIG1lIGZlZWwgbW9yZSBpbiBjb250cm9sIG9mIG15IGJvZHkuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGFjY291bnRhbnQgd2hvIHNwZW5kcyAzKyBob3VycyBkYWlseSBhdCB0aGUgZ3ltLiBTb2NpYWwgbGlmZSBoYXMgbmFycm93ZWQgdG8gb25seSBneW0tcmVsYXRlZCBhY3Rpdml0aWVzIGFuZCBvbmxpbmUgYm9keWJ1aWxkaW5nIGZvcnVtcy5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzI2LCAzNF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydlbW90aW9uYWwnLCAncmVzZXJ2ZWQnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcblxuICAgIC8vID09PT09PT09PT0gQkVIQVZJT1JBTCA9PT09PT09PT09XG4gICAge1xuICAgICAgICB0b3BpYzogJ0NvbXB1bHNpdmUgU2hvcHBpbmcnLFxuICAgICAgICBjYXRlZ29yeTogJ0JlaGF2aW9yYWwnLFxuICAgICAgICB2YXJpYW50czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogJ3Nob3BwaW5nLW9ubGluZS1pc29sYXRpb24nLFxuICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ0NvbXB1bHNpdmUgb25saW5lIHNob3BwaW5nIGxlYWRpbmcgdG8gc2lnbmlmaWNhbnQgY3JlZGl0IGNhcmQgZGVidC4gUGF0aWVudCBpcyBtaW5pbWl6aW5nIHRoZSBpc3N1ZSwgd2hpY2ggaXMgY2F1c2luZyBjb25mbGljdCB3aXRoIHRoZWlyIHBhcnRuZXIuJyxcbiAgICAgICAgaGlzdG9yeTogJ1BhdGllbnQgaGFzIGFjY3VtdWxhdGVkIHNpZ25pZmljYW50IGNyZWRpdCBjYXJkIGRlYnQgb3ZlciB0aGUgcGFzdCB0d28geWVhcnMgZnJvbSBmcmVxdWVudCBvbmxpbmUgcHVyY2hhc2VzLiBUaGV5IG9mdGVuIGhpZGUgcGFja2FnZXMgZnJvbSB0aGVpciBwYXJ0bmVyIGFuZCBmZWVsIGEgcnVzaCB3aGVuIGJ1eWluZyB0aGluZ3MsIGZvbGxvd2VkIGJ5IGd1aWx0LicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIk15IHBhcnRuZXIgaXMgZnJlYWtpbmcgb3V0IGFib3V0IG91ciBjcmVkaXQgY2FyZCBiaWxscy4gSSBkb24ndCB0aGluayBpdCdzIHRoYXQgYmFkLCBJIGp1c3QgbGlrZSB0byBidXkgbmljZSB0aGluZ3MuIEl0J3MgbXkgbW9uZXksIHdoeSBpcyBpdCBzdWNoIGEgYmlnIGRlYWw/XCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiTWFycmllZCB3aXRoIG9uZSBjaGlsZC4gV29ya3MgZnJvbSBob21lIGFzIGFuIGFjY291bnRhbnQgYW5kIGZlZWxzIGlzb2xhdGVkLiBNYW5hZ2VzIGhvdXNlaG9sZCBmaW5hbmNlcy5cIixcbiAgICAgICAgYWdlUmFuZ2U6IFszMCwgNDVdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZGVmZW5zaXZlJywgJ3BsZWFzZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnc2hvcHBpbmctZW1vdGlvbmFsLXZvaWQnLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiBcIlBhdGllbnQgaXMgc2Vla2luZyBoZWxwIGFmdGVyIGEgZmFpbGVkIHJlbGF0aW9uc2hpcCwgcmVjb2duaXppbmcgdGhhdCBzaG9wcGluZyBiaW5nZXMgb2Z0ZW4gZm9sbG93IGVtb3Rpb25hbCBkaXN0cmVzcy5cIixcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnVXNlcyBzaG9wcGluZyB0byBjb3BlIHdpdGggZGlmZmljdWx0IGVtb3Rpb25zLiBBZnRlciBicmVha3VwcyBvciBjb25mbGljdHMsIGdvZXMgb24gc3BlbmRpbmcgc3ByZWVzIHRoYXQgcHJvdmlkZSB0ZW1wb3JhcnkgcmVsaWVmIGZvbGxvd2VkIGJ5IHNoYW1lIGFuZCBtb3JlIGRpc3RyZXNzLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiRXZlcnkgdGltZSBzb21ldGhpbmcgYmFkIGhhcHBlbnMsIEkgZW5kIHVwIGF0IHRoZSBtYWxsIG9yIG9ubGluZSB3aXRoIG15IGNyZWRpdCBjYXJkLiBJIGZlZWwgYmV0dGVyIGZvciBhIG1vbWVudCBidXQgdGhlbiBJIHNlZSB0aGUgYmlsbHMgYW5kIGZlZWwgZXZlbiB3b3JzZS4gSXQncyBhIGN5Y2xlIEkgY2FuJ3QgYnJlYWsuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIHJlY2VudGx5IGRpdm9yY2VkIHByb2Zlc3Npb25hbC4gU2hvcHBpbmcgaGFzIGJlY29tZSB0aGUgcHJpbWFyeSB3YXkgdG8gZmlsbCB0aGUgZW1vdGlvbmFsIHZvaWQgbGVmdCBieSB0aGUgZmFpbGVkIG1hcnJpYWdlLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbMzUsIDQ4XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2Vtb3Rpb25hbCcsICd0YWxrYXRpdmUnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRvcGljOiAnQ29tcHVsc2l2ZSBTcG9ydHMgQmV0dGluZycsXG4gICAgICAgIGNhdGVnb3J5OiAnQmVoYXZpb3JhbCcsXG4gICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnYmV0dGluZy1mYW1pbHktdWx0aW1hdHVtJyxcbiAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IGlzIGluIHNpZ25pZmljYW50IGRlYnQgZnJvbSBvbmxpbmUgc3BvcnRzIGJldHRpbmcuIFRoZWlyIHBhcnRuZXIgaGFzIGRpc2NvdmVyZWQgdGhlIGV4dGVudCBvZiB0aGUgZGVidCBhbmQgaGFzIGdpdmVuIHRoZW0gYW4gdWx0aW1hdHVtIHRvIHNlZWsgaGVscC4nLFxuICAgICAgICBoaXN0b3J5OiAnU3RhcnRlZCB3aXRoIHNtYWxsLCBjYXN1YWwgYmV0cyBvbiBnYW1lcyB3aXRoIGZyaWVuZHMuIEVzY2FsYXRlZCBvdmVyIHRoZSBsYXN0IHllYXIgd2l0aCB0aGUgYWNjZXNzaWJpbGl0eSBvZiBtb2JpbGUgYmV0dGluZyBhcHBzLiBIYXMgY2hhc2VkIGxvc3NlcywgdGFrZW4gb3V0IGxvYW5zLCBhbmQgbWF4ZWQgb3V0IGNyZWRpdCBjYXJkcy4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkgbWVzc2VkIHVwLiBJIHRob3VnaHQgSSBoYWQgYSBzeXN0ZW0sIHRoYXQgSSBjb3VsZCB3aW4gaXQgYWxsIGJhY2suIE5vdyBteSBwYXJ0bmVyJ3MgdGhyZWF0ZW5pbmcgdG8gbGVhdmUuIEkgaGF2ZSB0byBkbyBzb21ldGhpbmcsIGJ1dCBJIGRvbid0IGV2ZW4ga25vdyB3aGVyZSB0byBzdGFydC5cIixcbiAgICAgICAgY29uZmxpY3RpbmdDaGllZkNvbXBsYWludDogXCJNeSBwYXJ0bmVyIGFuZCBJIGFyZSBoYXZpbmcgc29tZSBkaXNhZ3JlZW1lbnRzIGFib3V0IG91ciBidWRnZXQuIEkgdGhpbmsgd2UganVzdCBuZWVkIGEgYmV0dGVyIGZpbmFuY2lhbCBwbGFuLCBpdCdzIG1vcmUgb2YgYSBjb21tdW5pY2F0aW9uIGlzc3VlIHRoYW4gYW55dGhpbmcgZWxzZS5cIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGNhciBzYWxlc21hbiB3aG8gaXMgaGlnaGx5IGNvbXBldGl0aXZlLiBVc2VkIHRvIHBsYXkgY29sbGVnZSBzcG9ydHMgYW5kIG5vdyBjaGFubmVscyB0aGF0IGVuZXJneSBpbnRvIGJldHRpbmcuIEZlZWxzIGltbWVuc2UgcHJlc3N1cmUgdG8gcHJvdmlkZSBmb3IgaGlzIGZhbWlseS5cIixcbiAgICAgICAgYWdlUmFuZ2U6IFszNSwgNDVdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZGVmZW5zaXZlJywgJ3RhbGthdGl2ZSddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdiZXR0aW5nLWNyeXB0by1nYW1ibGVyJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgaGFzIGxvc3Qgc2lnbmlmaWNhbnQgc2F2aW5ncyBpbiBjcnlwdG9jdXJyZW5jeSB0cmFkaW5nIGFuZCBzcG9ydHMgYmV0dGluZywgd2hpY2ggdGhleSBqdXN0aWZpZWQgYXMgXCJpbnZlc3RpbmcuXCIgTm93IGZhY2luZyBmaW5hbmNpYWwgcnVpbi4nLFxuICAgICAgICAgICAgICAgIGhpc3Rvcnk6ICdTdGFydGVkIHdpdGggY3J5cHRvIGludmVzdG1lbnRzLCB0aGVuIG1vdmVkIHRvIHNwb3J0cyBiZXR0aW5nIGZvciBmYXN0ZXIgcmV0dXJucy4gSGFzIGJlZW4gdGFraW5nIGluY3JlYXNpbmcgcmlza3MsIGluY2x1ZGluZyB1c2luZyByZW50IG1vbmV5IHRvIGNoYXNlIGxvc3Nlcy4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkga2VwdCB0ZWxsaW5nIG15c2VsZiBpdCB3YXMgaW52ZXN0aW5nLCBub3QgZ2FtYmxpbmcuIEJ1dCBJJ3ZlIGxvc3QgZXZlcnl0aGluZy4gTXkgcmVudCBpcyBkdWUgYW5kIEkgaGF2ZSBub3RoaW5nLiBJIGZlZWwgbGlrZSBJIGNhbid0IHN0b3AgZXZlbiB0aG91Z2ggSSBrbm93IEkgc2hvdWxkLlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCB3aG8gd29ya3MgaW4gdGVjaCBhbmQgZ290IGNhdWdodCB1cCBpbiB0aGUgY3J5cHRvIGJvb20uIFRoZSBsaW5lIGJldHdlZW4gaW52ZXN0aW5nIGFuZCBnYW1ibGluZyBibHVycmVkIHVudGlsIHRoZSBsb3NzZXMgYmVjYW1lIGNhdGFzdHJvcGhpYy5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzI1LCAzNV0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydpbnRlbGxlY3R1YWxpemVyJywgJ2RlZmVuc2l2ZSddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdG9waWM6ICdFeGNlc3NpdmUgT25saW5lIEdhbWluZycsXG4gICAgICAgIGNhdGVnb3J5OiAnQmVoYXZpb3JhbCcsXG4gICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnZ2FtaW5nLXRlZW4td2l0aGRyYXdhbCcsXG4gICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiBcIlBhdGllbnQncyBwYXJlbnRzIGFyZSBjb25jZXJuZWQgYWJvdXQgdGhlaXIgc29jaWFsIHdpdGhkcmF3YWwsIGRlY2xpbmluZyBncmFkZXMsIGFuZCBuZWdsZWN0IG9mIHBlcnNvbmFsIGh5Z2llbmUsIGFsbCBsaW5rZWQgdG8gbmVhci1jb25zdGFudCBvbmxpbmUgZ2FtaW5nLlwiLFxuICAgICAgICBoaXN0b3J5OiAnQWx3YXlzIGVuam95ZWQgdmlkZW8gZ2FtZXMsIGJ1dCBoYXMgYmVjb21lIGNvbXBsZXRlbHkgYWJzb3JiZWQgaW4gYSBjb21wZXRpdGl2ZSBvbmxpbmUgbXVsdGlwbGF5ZXIgZ2FtZSBvdmVyIHRoZSBwYXN0IHllYXIuIFN0YXlzIHVwIGFsbCBuaWdodCBwbGF5aW5nLCBza2lwcyBtZWFscywgYW5kIGhhcyBsb3N0IHRvdWNoIHdpdGggbm9uLWdhbWluZyBmcmllbmRzLicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIk15IHBhcmVudHMgYXJlIGJlaW5nIGRyYW1hdGljLiBJdCdzIGp1c3QgYSBnYW1lLiBNeSBvbmxpbmUgZnJpZW5kcyBhcmUgbXkgcmVhbCBmcmllbmRzIGFueXdheS4gU2Nob29sIGlzIGJvcmluZy4gV2h5IGNhbid0IHRoZXkganVzdCBsZXQgbWUgZG8gd2hhdCBJIGVuam95P1wiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgaGlnaCBzY2hvb2wgc3R1ZGVudCB3aG8gZmVlbHMgc29jaWFsbHkgYW54aW91cyBhbmQgaGFzIGZvdW5kIGEgc2Vuc2Ugb2YgY29tbXVuaXR5IGFuZCBhY2hpZXZlbWVudCBvbmxpbmUgdGhhdCB0aGV5IGZlZWwgaXMgbGFja2luZyBpbiB0aGVpciAncmVhbCcgbGlmZS5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzE1LCAxOF0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydkZWZlbnNpdmUnLCAncmVzZXJ2ZWQnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnZ2FtaW5nLWFkdWx0LWVzY2FwZScsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06IFwiUGF0aWVudCdzIHBhcnRuZXIgaXMgdGhyZWF0ZW5pbmcgdG8gbGVhdmUgZHVlIHRvIGV4Y2Vzc2l2ZSBnYW1pbmcuIFBhdGllbnQgaXMgZ2FtaW5nIDYtOCBob3VycyBkYWlseSBhZnRlciB3b3JrLCBuZWdsZWN0aW5nIHJlbGF0aW9uc2hpcCBhbmQgcmVzcG9uc2liaWxpdGllcy5cIixcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnR2FtaW5nIGluY3JlYXNlZCBkcmFtYXRpY2FsbHkgYWZ0ZXIgYSBzdHJlc3NmdWwgam9iIGNoYW5nZS4gTm93IHVzZXMgZ2FtaW5nIGFzIHByaW1hcnkgZXNjYXBlIGZyb20gd29yayBzdHJlc3MgYW5kIHJlbGF0aW9uc2hpcCBjb25mbGljdCwgY3JlYXRpbmcgYSB2aWNpb3VzIGN5Y2xlLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiR2FtaW5nIGlzIHRoZSBvbmx5IHRpbWUgSSBmZWVsIHJlbGF4ZWQuIFdvcmsgaXMgaGVsbCwgYW5kIGhvbmVzdGx5LCBjb21pbmcgaG9tZSB0byBzb21lb25lIG5hZ2dpbmcgbWUgYWJvdXQgZ2FtaW5nIGp1c3QgbWFrZXMgbWUgd2FudCB0byBnYW1lIG1vcmUuIEJ1dCBJIGRvbid0IHdhbnQgdG8gbG9zZSBteSBwYXJ0bmVyIGVpdGhlci5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgc29mdHdhcmUgZGV2ZWxvcGVyIGluIGEgc3RyZXNzZnVsIGpvYi4gVXNlcyBnYW1pbmcgdG8gZGVjb21wcmVzcyBidXQgaXQgaGFzIHRha2VuIG92ZXIgdGhlaXIgbGlmZSBhbmQgaXMgdGhyZWF0ZW5pbmcgdGhlaXIgcmVsYXRpb25zaGlwLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbMjgsIDM4XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ3Jlc2VydmVkJywgJ2ludGVsbGVjdHVhbGl6ZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcblxuICAgIC8vID09PT09PT09PT0gSEVBTFRIIEJFSEFWSU9SUyA9PT09PT09PT09XG4gICAge1xuICAgICAgICB0b3BpYzogJ1Bvb3IgRGlldCAmIEZhc3QgRm9vZCcsXG4gICAgICAgIGNhdGVnb3J5OiAnSGVhbHRoJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdkaWV0LXRydWNrLWRyaXZlcicsXG4gICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCBoYXMgcHJlLWRpYWJldGVzIGFuZCB0aGVpciBwcmltYXJ5IGNhcmUgZG9jdG9yIGhhcyBzdHJvbmdseSByZWNvbW1lbmRlZCBkaWV0YXJ5IGNoYW5nZXMgdG8gYXZvaWQgZGV2ZWxvcGluZyBmdWxsLWJsb3duIFR5cGUgMiBEaWFiZXRlcy4nLFxuICAgICAgICBoaXN0b3J5OiAnUmVsaWVzIGhlYXZpbHkgb24gZmFzdCBmb29kIGFuZCBwcm9jZXNzZWQgbWVhbHMgZHVlIHRvIGEgYnVzeSB3b3JrIHNjaGVkdWxlIGFuZCBsYWNrIG9mIGNvb2tpbmcgc2tpbGxzLiBEcmlua3Mgc2V2ZXJhbCBzdWdhcnkgc29kYXMgcGVyIGRheS4nLFxuICAgICAgICBjaGllZkNvbXBsYWludDogXCJNeSBkb2N0b3Igc2F5cyBJIGhhdmUgdG8gY2hhbmdlIGhvdyBJIGVhdCwgYnV0IHdpdGggbXkgam9iLCBJIGJhcmVseSBoYXZlIHRpbWUgdG8gYnJlYXRoZSwgbGV0IGFsb25lIGNvb2suIEEgYnVyZ2VyIGFuZCBmcmllcyBpcyBqdXN0IGVhc3kuIEkga25vdyBpdCdzIG5vdCBnb29kIGZvciBtZSwgYnV0IGNoYW5naW5nIGV2ZXJ5dGhpbmcgZmVlbHMgaW1wb3NzaWJsZS5cIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIGxvbmctaGF1bCB0cnVjayBkcml2ZXIgd2hvIGVhdHMgbW9zdCBtZWFscyBvbiB0aGUgcm9hZC4gU3RydWdnbGVzIHdpdGggaGVhbHRoeSBvcHRpb25zIGFuZCB0aW1lIGNvbnN0cmFpbnRzLlwiLFxuICAgICAgICBhZ2VSYW5nZTogWzQ1LCA1NV0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydyZXNlcnZlZCcsICdkZWZlbnNpdmUnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnZGlldC1lbW90aW9uYWwtZWF0aW5nJyxcbiAgICAgICAgICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgaGFzIGdhaW5lZCBzaWduaWZpY2FudCB3ZWlnaHQgYW5kIGlzIHN0cnVnZ2xpbmcgd2l0aCBlbW90aW9uYWwgZWF0aW5nLCBvZnRlbiBjb25zdW1pbmcgbGFyZ2UgcXVhbnRpdGllcyBvZiBjb21mb3J0IGZvb2Qgd2hlbiBzdHJlc3NlZCBvciBzYWQuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnRm9vZCBoYXMgYWx3YXlzIGJlZW4gYSBzb3VyY2Ugb2YgY29tZm9ydCBzaW5jZSBjaGlsZGhvb2QuIFdlaWdodCBoYXMgc3RlYWRpbHkgaW5jcmVhc2VkIG92ZXIgdGhlIHllYXJzLiBNdWx0aXBsZSBmYWlsZWQgZGlldCBhdHRlbXB0cyBoYXZlIGxlZnQgdGhlbSBmZWVsaW5nIGhvcGVsZXNzLicsXG4gICAgICAgICAgICAgICAgY2hpZWZDb21wbGFpbnQ6IFwiSSBrbm93IEkgZWF0IG15IGZlZWxpbmdzLiBXaGVuIEknbSBzdHJlc3NlZCBvciBzYWQsIGZvb2QgaXMgdGhlIG9ubHkgdGhpbmcgdGhhdCBtYWtlcyBtZSBmZWVsIGJldHRlci4gRGlldHMgbmV2ZXIgd29yayBmb3IgbWUuIEkgYWx3YXlzIGVuZCB1cCByaWdodCBiYWNrIHdoZXJlIEkgc3RhcnRlZCwgb3Igd29yc2UuXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIG9mZmljZSB3b3JrZXIgd2hvIGdyZXcgdXAgaW4gYSBob3VzZWhvbGQgd2hlcmUgZm9vZCB3YXMgbG92ZS4gVXNlcyBmb29kIHRvIGNvcGUgd2l0aCBkaWZmaWN1bHQgZW1vdGlvbnMgYW5kIGhhcyBzdHJ1Z2dsZWQgd2l0aCB3ZWlnaHQgdGhlaXIgZW50aXJlIGFkdWx0IGxpZmUuXCIsXG4gICAgICAgICAgICAgICAgYWdlUmFuZ2U6IFszMiwgNDVdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsnZW1vdGlvbmFsJywgJ3BsZWFzZXInXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRvcGljOiAnU2VkZW50YXJ5IExpZmVzdHlsZScsXG4gICAgICAgIGNhdGVnb3J5OiAnSGVhbHRoJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdzZWRlbnRhcnktZGVzay1qb2InLFxuICAgICAgICBwcmVzZW50aW5nUHJvYmxlbTogJ1BhdGllbnQgcmVwb3J0cyBjaHJvbmljIGZhdGlndWUsIHdlaWdodCBnYWluLCBhbmQgZ2VuZXJhbCBsb3cgbW9vZC4gVGhlaXIgZG9jdG9yIHN1Z2dlc3RlZCB0aGF0IGluY3JlYXNpbmcgcGh5c2ljYWwgYWN0aXZpdHkgY291bGQgaGVscCBzaWduaWZpY2FudGx5LicsXG4gICAgICAgIGhpc3Rvcnk6ICdVc2VkIHRvIGJlIGFjdGl2ZSBpbiBzY2hvb2wgYnV0IGhhcyBmYWxsZW4gaW50byBhIHNlZGVudGFyeSByb3V0aW5lIHdpdGggYSBkZXNrIGpvYiBhbmQgbG9uZyBjb21tdXRlLiBFdmVuaW5ncyBhcmUgc3BlbnQgb24gdGhlIGNvdWNoIHdhdGNoaW5nIFRWLicsXG4gICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkkganVzdCBmZWVsIHRpcmVkIGFsbCB0aGUgdGltZS4gSSBrbm93IEkgc2hvdWxkIGV4ZXJjaXNlLCBidXQgYnkgdGhlIHRpbWUgSSBnZXQgaG9tZSBmcm9tIHdvcmssIEkgaGF2ZSB6ZXJvIGVuZXJneS4gVGhlIGlkZWEgb2YgZ29pbmcgdG8gYSBneW0gaXMgaW50aW1pZGF0aW5nLiBJIHdvdWxkbid0IGV2ZW4ga25vdyB3aGF0IHRvIGRvLlwiLFxuICAgICAgICBjb25mbGljdGluZ0NoaWVmQ29tcGxhaW50OiBcIkkndmUgYmVlbiBoYXZpbmcgdGhpcyBwZXJzaXN0ZW50IGxvd2VyIGJhY2sgcGFpbiBhbmQgd2FzIGhvcGluZyB0byBnZXQgaXQgY2hlY2tlZCBvdXQuIEkgdGhpbmsgaWYgSSBjb3VsZCBqdXN0IGdldCByaWQgb2YgdGhpcyBwYWluLCBJJ2QgaGF2ZSBhIGxvdCBtb3JlIGVuZXJneS5cIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJBIHthZ2V9LXllYXItb2xkIElUIHN1cHBvcnQgc3BlY2lhbGlzdCB3aG8gd29ya3MgbG9uZyBob3VycyBhdCBhIGRlc2suIExpdmVzIGFsb25lIGFuZCBsYWNrcyBzb2NpYWwgc3VwcG9ydCBmb3IgZW5nYWdpbmcgaW4gcGh5c2ljYWwgYWN0aXZpdGllcy5cIixcbiAgICAgICAgYWdlUmFuZ2U6IFszNSwgNDVdLFxuICAgICAgICAgICAgICAgIHR5cGljYWxUcmFpdHM6IFsncmVzZXJ2ZWQnLCAnaW50ZWxsZWN0dWFsaXplciddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdzZWRlbnRhcnktcG9zdC1pbmp1cnknLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiBcIlBhdGllbnQgc3RvcHBlZCBleGVyY2lzaW5nIGFmdGVyIGFuIGluanVyeSBhbmQgaGFzIHN0cnVnZ2xlZCB0byByZXR1cm4gdG8gcGh5c2ljYWwgYWN0aXZpdHkgZGVzcGl0ZSBiZWluZyBjbGVhcmVkIGJ5IGRvY3RvcnMgbW9udGhzIGFnby5cIixcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnV2FzIG1vZGVyYXRlbHkgYWN0aXZlIGJlZm9yZSBpbmp1cmluZyB0aGVpciBrbmVlLiBUaGUgaW5qdXJ5IGhlYWxlZCBidXQgZmVhciBvZiByZS1pbmp1cnkgYW5kIGxvc3QgZml0bmVzcyBoYXZlIHByZXZlbnRlZCByZXR1cm4gdG8gZXhlcmNpc2UuJyxcbiAgICAgICAgICAgICAgICBjaGllZkNvbXBsYWludDogXCJJIHVzZWQgdG8gZW5qb3kgd2Fsa2luZyBhbmQgc3dpbW1pbmcsIGJ1dCBhZnRlciB0aGUgaW5qdXJ5LCBJIGdvdCBzY2FyZWQuIE5vdyBJJ20gc28gb3V0IG9mIHNoYXBlIHRoYXQgdHJ5aW5nIHRvIGV4ZXJjaXNlIGZlZWxzIG92ZXJ3aGVsbWluZy4gSSBkb24ndCBrbm93IGhvdyB0byBnZXQgYmFjayB0byB3aGVyZSBJIHdhcy5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgcmV0aXJlZCB0ZWFjaGVyIHdob3NlIHNvY2lhbCBhY3Rpdml0aWVzIHVzZWQgdG8gcmV2b2x2ZSBhcm91bmQgZml0bmVzcyBjbGFzc2VzLiBOb3cgaXNvbGF0ZWQgYW5kIGRlY29uZGl0aW9uZWQsIG1pc3NpbmcgdGhlIGNvbW11bml0eSBhbmQgaGVhbHRoIGJlbmVmaXRzLlwiLFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBbNTgsIDY4XSxcbiAgICAgICAgICAgICAgICB0eXBpY2FsVHJhaXRzOiBbJ2Vtb3Rpb25hbCcsICdwbGVhc2VyJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0b3BpYzogJ01lZGljYXRpb24gTm9uLUFkaGVyZW5jZSAoVHlwZSAyIERpYWJldGVzKScsXG4gICAgICAgIGNhdGVnb3J5OiAnSGVhbHRoJyxcbiAgICAgICAgdmFyaWFudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50SWQ6ICdkaWFiZXRlcy1kZW5pYWwnLFxuICAgICAgICAgICAgICAgIHByZXNlbnRpbmdQcm9ibGVtOiAnUGF0aWVudCB3aXRoIFR5cGUgMiBEaWFiZXRlcyBwcmVzZW50cyB3aXRoIGNvbnNpc3RlbnRseSBoaWdoIEExYyBsZXZlbHMuIFRoZXkgYWRtaXQgdG8gZnJlcXVlbnRseSBmb3JnZXR0aW5nIG9yIHNraXBwaW5nIHRoZWlyIG9yYWwgZGlhYmV0ZXMgbWVkaWNhdGlvbi4nLFxuICAgICAgICBoaXN0b3J5OiAnRGlhZ25vc2VkIHR3byB5ZWFycyBhZ28uIFdhcyBpbml0aWFsbHkgZGlsaWdlbnQgYnV0IGhhcyBiZWNvbWUgY29tcGxhY2VudC4gRmluZHMgdGhlIGRhaWx5IHJvdXRpbmUgb2YgbWVkaWNhdGlvbiBhbmQgbW9uaXRvcmluZyB0byBiZSBhIGZydXN0cmF0aW5nIHJlbWluZGVyIG9mIHRoZWlyIGNvbmRpdGlvbi4nLFxuICAgICAgICBjaGllZkNvbXBsYWludDogXCJJIGZlZWwgZmluZSwgc28gSSBkb24ndCBzZWUgdGhlIGJpZyBkZWFsIGlmIEkgbWlzcyBhIHBpbGwgaGVyZSBhbmQgdGhlcmUuIENoZWNraW5nIG15IGJsb29kIHN1Z2FyIGlzIGEgcGFpbi4gSSBoYXRlIHRoYXQgSSBoYXZlIHRvIGRvIGFsbCB0aGlzIHN0dWZmLiBJIGp1c3Qgd2FudCB0byBmb3JnZXQgSSBoYXZlIGRpYWJldGVzLlwiLFxuICAgICAgICBjb25mbGljdGluZ0NoaWVmQ29tcGxhaW50OiBcIlRoZXNlIGRpYWJldGVzIHBpbGxzIGhhdmUgYmVlbiBnaXZpbmcgbWUgc29tZSB1bnBsZWFzYW50IHNpZGUgZWZmZWN0cywgYW5kIEknbSBub3QgZXZlbiBzdXJlIHRoZXkncmUgaGVscGluZy4gSSB3YW50ZWQgdG8gZGlzY3VzcyBpZiB0aGVyZSBhcmUgb3RoZXIgbWVkaWNhdGlvbnMgd2UgY291bGQgdHJ5LlwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIkEge2FnZX0teWVhci1vbGQgcmV0aXJlZCBvZmZpY2UgbWFuYWdlciB3aG8gZmVlbHMgdGhlaXIgaGVhbHRoIGlzIGRlY2xpbmluZy4gSXMgZnJ1c3RyYXRlZCBieSB0aGUgY2hyb25pYyBuYXR1cmUgb2YgdGhlaXIgaWxsbmVzcyBhbmQgc29tZXRpbWVzIGZlZWxzIGhvcGVsZXNzIGFib3V0IGl0LlwiLFxuICAgICAgICBhZ2VSYW5nZTogWzYyLCA3Ml0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydkZWZlbnNpdmUnLCAncmVzZXJ2ZWQnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyaWFudElkOiAnZGlhYmV0ZXMtY29zdC1iYXJyaWVycycsXG4gICAgICAgICAgICAgICAgcHJlc2VudGluZ1Byb2JsZW06ICdQYXRpZW50IHdpdGggZGlhYmV0ZXMgaXMgbm90IHRha2luZyBtZWRpY2F0aW9uIGNvbnNpc3RlbnRseSBkdWUgdG8gY29zdCBjb25jZXJucywgbGVhZGluZyB0byBwb29yIGJsb29kIHN1Z2FyIGNvbnRyb2wuJyxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiAnSGFzIGJlZW4gcmF0aW9uaW5nIGluc3VsaW4gYW5kIHNraXBwaW5nIGRvc2VzIG9mIG90aGVyIG1lZGljYXRpb25zIHRvIG1ha2UgdGhlbSBsYXN0IGxvbmdlci4gVG9vIGVtYmFycmFzc2VkIHRvIGRpc2N1c3MgZmluYW5jaWFsIHN0cnVnZ2xlcyB3aXRoIGRvY3Rvci4nLFxuICAgICAgICAgICAgICAgIGNoaWVmQ29tcGxhaW50OiBcIkRvIHlvdSBrbm93IGhvdyBtdWNoIHRoZXNlIG1lZGljYXRpb25zIGNvc3Q/IEknbSBvbiBhIGZpeGVkIGluY29tZS4gU29tZXRpbWVzIEkgaGF2ZSB0byBjaG9vc2UgYmV0d2VlbiBncm9jZXJpZXMgYW5kIGluc3VsaW4uIEkga25vdyBpdCdzIGRhbmdlcm91cyBidXQgd2hhdCBhbSBJIHN1cHBvc2VkIHRvIGRvP1wiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiQSB7YWdlfS15ZWFyLW9sZCBvbiBkaXNhYmlsaXR5IHdobyBzdHJ1Z2dsZXMgZmluYW5jaWFsbHkuIEhhcyBiZWVuIGN1dHRpbmcgY29ybmVycyBvbiBtZWRpY2F0aW9uIGR1ZSB0byBjb3N0IGFuZCBpcyBub3cgZmFjaW5nIHdvcnNlbmluZyBoZWFsdGggY29tcGxpY2F0aW9ucy5cIixcbiAgICAgICAgICAgICAgICBhZ2VSYW5nZTogWzU1LCA2NV0sXG4gICAgICAgICAgICAgICAgdHlwaWNhbFRyYWl0czogWydlbW90aW9uYWwnLCAncmVzZXJ2ZWQnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbl07XG5cbi8vIExlZ2FjeSBmbGF0IHRlbXBsYXRlIGZvcm1hdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuLy8gVGhpcyBmbGF0dGVucyBhbGwgdmFyaWFudHMgaW50byBpbmRpdmlkdWFsIHRlbXBsYXRlc1xuZXhwb3J0IGNvbnN0IFBBVElFTlRfUFJPRklMRV9URU1QTEFURVMgPSBQQVRJRU5UX1RPUElDX1RFTVBMQVRFUy5mbGF0TWFwKHRvcGljVGVtcGxhdGUgPT4gXG4gICAgdG9waWNUZW1wbGF0ZS52YXJpYW50cy5tYXAodmFyaWFudCA9PiAoe1xuICAgICAgICB0b3BpYzogdG9waWNUZW1wbGF0ZS50b3BpYyxcbiAgICAgICAgY2F0ZWdvcnk6IHRvcGljVGVtcGxhdGUuY2F0ZWdvcnksXG4gICAgICAgIC4uLnZhcmlhbnQsXG4gICAgfSkpXG4pO1xuXG5cbmV4cG9ydCBjb25zdCBTVEFHRV9ERVNDUklQVElPTlM6IFJlY29yZDxTdGFnZU9mQ2hhbmdlLCBzdHJpbmc+ID0ge1xuICAgIFtTdGFnZU9mQ2hhbmdlLlByZWNvbnRlbXBsYXRpb25dOiBcIk5vdCBjdXJyZW50bHkgY29uc2lkZXJpbmcgY2hhbmdlLiBVbmF3YXJlIG9yIHVuZGVyLWF3YXJlIG9mIHRoZWlyIHByb2JsZW1zLlwiLFxuICAgIFtTdGFnZU9mQ2hhbmdlLkNvbnRlbXBsYXRpb25dOiBcIkFtYml2YWxlbnQgYWJvdXQgY2hhbmdlLiBBd2FyZSBhIHByb2JsZW0gZXhpc3RzIGJ1dCBub3QgY29tbWl0dGVkIHRvIGFjdGlvbi5cIixcbiAgICBbU3RhZ2VPZkNoYW5nZS5QcmVwYXJhdGlvbl06IFwiR2V0dGluZyByZWFkeSB0byBjaGFuZ2UuIEludGVuZHMgdG8gdGFrZSBhY3Rpb24gc29vbiBhbmQgbWF5IGhhdmUgYSBwbGFuLlwiLFxuICAgIFtTdGFnZU9mQ2hhbmdlLkFjdGlvbl06IFwiQWN0aXZlbHkgbW9kaWZ5aW5nIGJlaGF2aW9yLiBIYXMgbWFkZSBzcGVjaWZpYyBvdmVydCBtb2RpZmljYXRpb25zIGluIHRoZWlyIGxpZmVzdHlsZS5cIixcbiAgICBbU3RhZ2VPZkNoYW5nZS5NYWludGVuYW5jZV06IFwiU3VzdGFpbmluZyBuZXcgYmVoYXZpb3IuIFdvcmtpbmcgdG8gcHJldmVudCByZWxhcHNlIGludG8gb2xkIGhhYml0cy5cIixcbn07XG5cbmV4cG9ydCBjb25zdCBGUkVFX1NFU1NJT05fRFVSQVRJT04gPSA5MDsgLy8gc2Vjb25kc1xuZXhwb3J0IGNvbnN0IFBSRU1JVU1fU0VTU0lPTl9EVVJBVElPTiA9IDMwMDsgLy8gc2Vjb25kc1xuXG4vLyBYUCBTeXN0ZW0gQ29uc3RhbnRzXG5leHBvcnQgY29uc3QgWFBfTEVWRUxTID0gW1xuICB7IGxldmVsOiAxLCBuYW1lOiAnQ3VyaW91cyBCZWdpbm5lcicsIG1pblhQOiAwLCBtYXhYUDogOTkgfSxcbiAgeyBsZXZlbDogMiwgbmFtZTogJ0VuZ2FnZWQgTGVhcm5lcicsIG1pblhQOiAxMDAsIG1heFhQOiA0OTkgfSxcbiAgeyBsZXZlbDogMywgbmFtZTogJ1NraWxsZWQgUHJhY3RpdGlvbmVyJywgbWluWFA6IDUwMCwgbWF4WFA6IDE0OTkgfSxcbiAgeyBsZXZlbDogNCwgbmFtZTogJ01JIENoYW1waW9uJywgbWluWFA6IDE1MDAsIG1heFhQOiBJbmZpbml0eSB9LFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFhQX0FXQVJEUyA9IHtcbiAgU0VTU0lPTl9DT01QTEVURTogMTAsICAgICAgLy8gQmFzZSBYUCBmb3IgY29tcGxldGluZyBhIHNlc3Npb25cbiAgU0NPUkVfNzBfUExVU19CT05VUzogNSwgICAgLy8gQm9udXMgZm9yIDcwJSsgZW1wYXRoeSBzY29yZSAoMy41Ky81KVxuICBTQ09SRV85MF9QTFVTX0JPTlVTOiAxMCwgICAvLyBCb251cyBmb3IgOTAlKyBlbXBhdGh5IHNjb3JlICg0LjUrLzUpIC0gcmVwbGFjZXMgNzAlIGJvbnVzXG4gIFNUUkVBS19EQVlfQk9OVVM6IDIsICAgICAgIC8vIFhQIHBlciBzdHJlYWsgZGF5XG4gIEJBREdFX1VOTE9DSzogMjUsICAgICAgICAgIC8vIFhQIGZvciB1bmxvY2tpbmcgYSBiYWRnZVxufSBhcyBjb25zdDtcblxuLy8gQmFkZ2UgU3lzdGVtIENvbnN0YW50c1xuZXhwb3J0IGludGVyZmFjZSBCYWRnZURlZmluaXRpb24ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGVtb2ppOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiAnc3RyZWFrJyB8ICdtaWxlc3RvbmUnIHwgJ3NraWxsJztcbiAgcmVxdWlyZW1lbnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IEJBREdFUzogQmFkZ2VEZWZpbml0aW9uW10gPSBbXG4gIC8vIFN0cmVhayBCYWRnZXNcbiAge1xuICAgIGlkOiAnc3RyZWFrLTMnLFxuICAgIG5hbWU6ICdGaXJzdCBGbGFtZScsXG4gICAgZW1vamk6ICfwn5SlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1ByYWN0aWNlIGZvciAzIGRheXMgaW4gYSByb3cnLFxuICAgIGNhdGVnb3J5OiAnc3RyZWFrJyxcbiAgICByZXF1aXJlbWVudDogMyxcbiAgfSxcbiAge1xuICAgIGlkOiAnc3RyZWFrLTcnLFxuICAgIG5hbWU6ICdXZWVrIFdhcnJpb3InLFxuICAgIGVtb2ppOiAn8J+SqicsXG4gICAgZGVzY3JpcHRpb246ICdQcmFjdGljZSBmb3IgNyBkYXlzIGluIGEgcm93JyxcbiAgICBjYXRlZ29yeTogJ3N0cmVhaycsXG4gICAgcmVxdWlyZW1lbnQ6IDcsXG4gIH0sXG4gIHtcbiAgICBpZDogJ3N0cmVhay0zMCcsXG4gICAgbmFtZTogJ01vbnRobHkgTWFzdGVyJyxcbiAgICBlbW9qaTogJ/CfjJ8nLFxuICAgIGRlc2NyaXB0aW9uOiAnUHJhY3RpY2UgZm9yIDMwIGRheXMgaW4gYSByb3cnLFxuICAgIGNhdGVnb3J5OiAnc3RyZWFrJyxcbiAgICByZXF1aXJlbWVudDogMzAsXG4gIH0sXG4gIHtcbiAgICBpZDogJ3N0cmVhay05MCcsXG4gICAgbmFtZTogJ1F1YXJ0ZXJseSBDaGFtcGlvbicsXG4gICAgZW1vamk6ICfwn5GRJyxcbiAgICBkZXNjcmlwdGlvbjogJ1ByYWN0aWNlIGZvciA5MCBkYXlzIGluIGEgcm93JyxcbiAgICBjYXRlZ29yeTogJ3N0cmVhaycsXG4gICAgcmVxdWlyZW1lbnQ6IDkwLFxuICB9LFxuICAvLyBNaWxlc3RvbmUgQmFkZ2VzXG4gIHtcbiAgICBpZDogJ3Nlc3Npb25zLTEnLFxuICAgIG5hbWU6ICdGaXJzdCBTdGVwcycsXG4gICAgZW1vamk6ICfwn4yxJyxcbiAgICBkZXNjcmlwdGlvbjogJ0NvbXBsZXRlIHlvdXIgZmlyc3QgcHJhY3RpY2Ugc2Vzc2lvbicsXG4gICAgY2F0ZWdvcnk6ICdtaWxlc3RvbmUnLFxuICAgIHJlcXVpcmVtZW50OiAxLFxuICB9LFxuICB7XG4gICAgaWQ6ICdzZXNzaW9ucy0xMCcsXG4gICAgbmFtZTogJ0dldHRpbmcgU2VyaW91cycsXG4gICAgZW1vamk6ICfwn5OaJyxcbiAgICBkZXNjcmlwdGlvbjogJ0NvbXBsZXRlIDEwIHByYWN0aWNlIHNlc3Npb25zJyxcbiAgICBjYXRlZ29yeTogJ21pbGVzdG9uZScsXG4gICAgcmVxdWlyZW1lbnQ6IDEwLFxuICB9LFxuICB7XG4gICAgaWQ6ICdzZXNzaW9ucy01MCcsXG4gICAgbmFtZTogJ0RlZGljYXRlZCcsXG4gICAgZW1vamk6ICfwn46vJyxcbiAgICBkZXNjcmlwdGlvbjogJ0NvbXBsZXRlIDUwIHByYWN0aWNlIHNlc3Npb25zJyxcbiAgICBjYXRlZ29yeTogJ21pbGVzdG9uZScsXG4gICAgcmVxdWlyZW1lbnQ6IDUwLFxuICB9LFxuICB7XG4gICAgaWQ6ICdzZXNzaW9ucy0xMDAnLFxuICAgIG5hbWU6ICdNSSBNYXN0ZXInLFxuICAgIGVtb2ppOiAn8J+PhicsXG4gICAgZGVzY3JpcHRpb246ICdDb21wbGV0ZSAxMDAgcHJhY3RpY2Ugc2Vzc2lvbnMnLFxuICAgIGNhdGVnb3J5OiAnbWlsZXN0b25lJyxcbiAgICByZXF1aXJlbWVudDogMTAwLFxuICB9LFxuXSBhcyBjb25zdDtcblxuLy8gSGVscGVyIHRvIGdldCBiYWRnZSBieSBJRFxuZXhwb3J0IGNvbnN0IGdldEJhZGdlQnlJZCA9IChpZDogc3RyaW5nKTogQmFkZ2VEZWZpbml0aW9uIHwgdW5kZWZpbmVkID0+IHtcbiAgcmV0dXJuIEJBREdFUy5maW5kKGJhZGdlID0+IGJhZGdlLmlkID09PSBpZCk7XG59O1xuXG4vLyBIZWxwZXIgdG8gZ2V0IGJhZGdlcyBieSBjYXRlZ29yeVxuZXhwb3J0IGNvbnN0IGdldEJhZGdlc0J5Q2F0ZWdvcnkgPSAoY2F0ZWdvcnk6IEJhZGdlRGVmaW5pdGlvblsnY2F0ZWdvcnknXSk6IEJhZGdlRGVmaW5pdGlvbltdID0+IHtcbiAgcmV0dXJuIEJBREdFUy5maWx0ZXIoYmFkZ2UgPT4gYmFkZ2UuY2F0ZWdvcnkgPT09IGNhdGVnb3J5KTtcbn07Il0sIm5hbWVzIjpbIlN0YWdlT2ZDaGFuZ2UiLCJQRVJTT05BTElUWV9UUkFJVFMiLCJpZCIsImxhYmVsIiwiZGVzY3JpcHRpb24iLCJnZXRQZXJzb25hbGl0eVRyYWl0QnlJZCIsImZpbmQiLCJ0cmFpdCIsIlBBVElFTlRfREFUQSIsIm5hbWVzIiwic2V4ZXMiLCJzdGFnZXNPZkNoYW5nZSIsIlByZWNvbnRlbXBsYXRpb24iLCJDb250ZW1wbGF0aW9uIiwiUHJlcGFyYXRpb24iLCJBY3Rpb24iLCJNYWludGVuYW5jZSIsIlBBVElFTlRfVE9QSUNfVEVNUExBVEVTIiwidG9waWMiLCJjYXRlZ29yeSIsInZhcmlhbnRzIiwidmFyaWFudElkIiwicHJlc2VudGluZ1Byb2JsZW0iLCJoaXN0b3J5IiwiY2hpZWZDb21wbGFpbnQiLCJiYWNrZ3JvdW5kIiwiYWdlUmFuZ2UiLCJ0eXBpY2FsVHJhaXRzIiwiY29uZmxpY3RpbmdDaGllZkNvbXBsYWludCIsIlBBVElFTlRfUFJPRklMRV9URU1QTEFURVMiLCJmbGF0TWFwIiwidG9waWNUZW1wbGF0ZSIsIm1hcCIsInZhcmlhbnQiLCJTVEFHRV9ERVNDUklQVElPTlMiLCJGUkVFX1NFU1NJT05fRFVSQVRJT04iLCJQUkVNSVVNX1NFU1NJT05fRFVSQVRJT04iLCJYUF9MRVZFTFMiLCJsZXZlbCIsIm5hbWUiLCJtaW5YUCIsIm1heFhQIiwiSW5maW5pdHkiLCJYUF9BV0FSRFMiLCJTRVNTSU9OX0NPTVBMRVRFIiwiU0NPUkVfNzBfUExVU19CT05VUyIsIlNDT1JFXzkwX1BMVVNfQk9OVVMiLCJTVFJFQUtfREFZX0JPTlVTIiwiQkFER0VfVU5MT0NLIiwiQkFER0VTIiwiZW1vamkiLCJyZXF1aXJlbWVudCIsImdldEJhZGdlQnlJZCIsImJhZGdlIiwiZ2V0QmFkZ2VzQnlDYXRlZ29yeSIsImZpbHRlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./constants.ts\n");

/***/ }),

/***/ "(ssr)/./contexts/AuthContext.tsx":
/*!**********************************!*\
  !*** ./contexts/AuthContext.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthContext: () => (/* binding */ AuthContext),\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth,AuthContext auto */ \n\n\n// Create the context\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Mock user helper - creates a mock Supabase User object\nconst createMockUser = (email)=>{\n    return {\n        id: `mock-${email.replace(/[^a-zA-Z0-9]/g, '-')}`,\n        email: email,\n        created_at: new Date().toISOString(),\n        app_metadata: {},\n        user_metadata: {},\n        aud: 'authenticated',\n        confirmation_sent_at: null,\n        recovery_sent_at: null,\n        email_confirmed_at: new Date().toISOString(),\n        invited_at: null,\n        action_link: null,\n        phone: null,\n        phone_confirmed_at: null,\n        confirmed_at: new Date().toISOString(),\n        last_sign_in_at: new Date().toISOString(),\n        role: 'authenticated',\n        updated_at: new Date().toISOString()\n    };\n};\n// Auth Provider Component\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Listen to auth state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            console.log('[AuthProvider] Initializing auth listener');\n            // Check if Supabase is configured\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                console.warn('[AuthProvider] Supabase is not configured. Using mock authentication mode.');\n                console.warn('[AuthProvider] Mock users will be stored in localStorage.');\n                // Try to restore mock user from localStorage\n                const mockUserData = localStorage.getItem('mock_user');\n                if (mockUserData) {\n                    try {\n                        const parsed = JSON.parse(mockUserData);\n                        setUser(createMockUser(parsed.email));\n                        console.log('[AuthProvider] Restored mock user from localStorage');\n                    } catch (error) {\n                        console.error('[AuthProvider] Failed to restore mock user:', error);\n                    }\n                }\n                setLoading(false);\n                return;\n            }\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n                // Check initial session on mount\n                supabase.auth.getSession().then({\n                    \"AuthProvider.useEffect\": ({ data: { session }, error })=>{\n                        if (error) {\n                            console.error('[AuthProvider] Error getting initial session:', error);\n                            setLoading(false);\n                            return;\n                        }\n                        if (session?.user) {\n                            console.log('[AuthProvider] Initial session found:', session.user.id);\n                            setUser(session.user);\n                        } else {\n                            console.log('[AuthProvider] No initial session found');\n                            setUser(null);\n                        }\n                        setLoading(false);\n                    }\n                }[\"AuthProvider.useEffect\"]);\n                // Listen to auth state changes\n                const { data: authListener } = supabase.auth.onAuthStateChange({\n                    \"AuthProvider.useEffect\": async (event, session)=>{\n                        console.log('[AuthProvider] Auth state changed:', event);\n                        if (session?.user) {\n                            console.log('[AuthProvider] User logged in:', session.user.id);\n                            setUser(session.user);\n                        } else {\n                            console.log('[AuthProvider] User logged out');\n                            setUser(null);\n                        }\n                        setLoading(false);\n                    }\n                }[\"AuthProvider.useEffect\"]);\n                // Cleanup listener on unmount\n                return ({\n                    \"AuthProvider.useEffect\": ()=>{\n                        if (authListener) {\n                            authListener.subscription.unsubscribe();\n                        }\n                    }\n                })[\"AuthProvider.useEffect\"];\n            } catch (error) {\n                const errorMessage = error instanceof Error ? error.message : 'Failed to initialize auth listener';\n                console.error('[AuthProvider] Error initializing auth listener:', errorMessage);\n                setLoading(false);\n            }\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    /**\n     * Sign in with email and password\n     */ const signIn = async (email, password)=>{\n        try {\n            console.log('[AuthProvider] Signing in user:', email);\n            setLoading(true);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                // Mock authentication - accept any email/password combo\n                console.log('[AuthProvider] Using mock authentication');\n                // Simulate network delay\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                // In mock mode, accept any email/password\n                const mockUser = createMockUser(email);\n                setUser(mockUser);\n                // Store in localStorage for persistence\n                localStorage.setItem('mock_user', JSON.stringify({\n                    email\n                }));\n                console.log('[AuthProvider] Mock sign in successful');\n                // In mock mode, we set user immediately so we can set loading to false\n                setLoading(false);\n                return;\n            }\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n            const { error } = await supabase.auth.signInWithPassword({\n                email,\n                password\n            });\n            if (error) {\n                console.error('[AuthProvider] Sign in failed:', error.message);\n                setLoading(false); // Set loading to false on error\n                throw new Error(error.message);\n            }\n            console.log('[AuthProvider] User signed in successfully');\n        // Don't set loading to false here - let onAuthStateChange handle it\n        // This ensures loading stays true until user state is actually updated\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Sign in failed';\n            console.error('[AuthProvider] Error in signIn:', errorMessage);\n            // Only set loading to false if we haven't already (for Supabase errors)\n            if ((0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                setLoading(false);\n            }\n            throw error;\n        }\n    };\n    /**\n     * Sign up with email and password\n     * Returns information about whether email confirmation is required\n     */ const signUp = async (email, password, fullName)=>{\n        try {\n            console.log('[AuthProvider] Signing up user:', email);\n            setLoading(true);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                // Mock sign up - accept any email/password combo\n                console.log('[AuthProvider] Using mock sign up');\n                // Simulate network delay\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                // In mock mode, accept any email/password\n                const mockUser = createMockUser(email);\n                // Add metadata\n                if (fullName) {\n                    mockUser.user_metadata = {\n                        ...mockUser.user_metadata,\n                        full_name: fullName\n                    };\n                }\n                setUser(mockUser);\n                // Store in localStorage for persistence\n                localStorage.setItem('mock_user', JSON.stringify({\n                    email,\n                    user_metadata: mockUser.user_metadata\n                }));\n                console.log('[AuthProvider] Mock sign up successful');\n                // In mock mode, we set user immediately so we can set loading to false\n                setLoading(false);\n                // Mock mode doesn't require confirmation\n                return {\n                    requiresConfirmation: false,\n                    email\n                };\n            }\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n            const { data, error } = await supabase.auth.signUp({\n                email,\n                password,\n                options: {\n                    emailRedirectTo: `${window.location.origin}/`,\n                    data: fullName ? {\n                        full_name: fullName\n                    } : undefined\n                }\n            });\n            if (error) {\n                console.error('[AuthProvider] Sign up failed:', error.message);\n                setLoading(false); // Set loading to false on error\n                throw new Error(error.message);\n            }\n            // Log signup response details for debugging\n            console.log('[AuthProvider] Sign up response:', {\n                user: data.user ? {\n                    id: data.user.id,\n                    email: data.user.email,\n                    email_confirmed_at: data.user.email_confirmed_at,\n                    confirmation_sent_at: data.user.confirmation_sent_at\n                } : null,\n                session: data.session ? 'exists' : 'null'\n            });\n            // Check if user is signed in (session exists)\n            // If no session, email confirmation is required\n            const { data: sessionData } = await supabase.auth.getSession();\n            const requiresConfirmation = !sessionData?.session;\n            // Check if confirmation email was sent\n            const confirmationSent = data.user?.confirmation_sent_at !== null && data.user?.confirmation_sent_at !== undefined;\n            if (confirmationSent) {\n                console.log('[AuthProvider]  Confirmation email was sent at:', data.user?.confirmation_sent_at);\n            } else {\n                console.warn('[AuthProvider]   Confirmation email was NOT sent. This usually means:');\n                console.warn('  1. Email confirmation is disabled in Supabase settings, OR');\n                console.warn('  2. SMTP is not configured in Supabase Dashboard');\n                console.warn('');\n                console.warn('To fix:');\n                console.warn('  1. Go to Supabase Dashboard > Authentication > Providers > Email');\n                console.warn('  2. Ensure \"Confirm email\" is enabled');\n                console.warn('  3. Configure SMTP in Project Settings > Auth > SMTP Settings');\n                console.warn('  4. See EMAIL_SETUP.md for detailed instructions');\n                console.warn('');\n                console.warn('Note: In development, Supabase only sends emails to the project owner.');\n                console.warn('For production, you MUST configure custom SMTP or use Resend API.');\n            }\n            // Always show confirmation message if Supabase is configured\n            // Supabase sends a confirmation email by default, even if email confirmation is disabled\n            // The difference is whether the user is immediately signed in or not\n            if (requiresConfirmation) {\n                console.log('[AuthProvider] User signed up successfully, but email confirmation is required');\n                // User won't be logged in, so set loading to false\n                setLoading(false);\n            } else {\n                console.log('[AuthProvider] User signed up and logged in successfully (email confirmation may still be sent)');\n                // Even if user is signed in, Supabase may have sent a confirmation email\n                // Check if user email is confirmed\n                if (data.user && !data.user.email_confirmed_at) {\n                    // User is signed in but email is not confirmed - show confirmation message\n                    // Don't set loading to false here - let onAuthStateChange handle it since user is logged in\n                    return {\n                        requiresConfirmation: true,\n                        email\n                    };\n                }\n            // User is signed in - don't set loading to false, let onAuthStateChange handle it\n            }\n            return {\n                requiresConfirmation,\n                email\n            };\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Sign up failed';\n            console.error('[AuthProvider] Error in signUp:', errorMessage);\n            // Only set loading to false if we haven't already (for Supabase errors)\n            if ((0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                setLoading(false);\n            }\n            throw error;\n        }\n    };\n    /**\n     * Sign out the current user\n     */ const signOut = async ()=>{\n        try {\n            console.log('[AuthProvider] Signing out user');\n            setLoading(true);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                console.warn('[AuthProvider] Supabase not configured, clearing local user state');\n                setUser(null);\n                localStorage.removeItem('mock_user');\n                return;\n            }\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n            const { error } = await supabase.auth.signOut();\n            if (error) {\n                console.error('[AuthProvider] Sign out failed:', error.message);\n                throw new Error(error.message);\n            }\n            console.log('[AuthProvider] User signed out successfully');\n            setUser(null);\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Sign out failed';\n            console.error('[AuthProvider] Error in signOut:', errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    /**\n     * Send password reset email\n     */ const resetPassword = async (email)=>{\n        try {\n            console.log('[AuthProvider] Sending password reset email:', email);\n            setLoading(true);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                // Mock password reset - just log it\n                console.log('[AuthProvider] Mock password reset - email sent to:', email);\n                console.log('[AuthProvider] In mock mode, password reset is simulated.');\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                return;\n            }\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n            const { error } = await supabase.auth.resetPasswordForEmail(email, {\n                redirectTo: `${window.location.origin}/reset-password`\n            });\n            if (error) {\n                console.error('[AuthProvider] Password reset failed:', error.message);\n                throw new Error(error.message);\n            }\n            console.log('[AuthProvider] Password reset email sent successfully');\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Password reset failed';\n            console.error('[AuthProvider] Error in resetPassword:', errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    /**\n     * Update user password (used after password reset)\n     */ const updatePassword = async (newPassword)=>{\n        try {\n            console.log('[AuthProvider] Updating password');\n            setLoading(true);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                // Mock password update\n                console.log('[AuthProvider] Mock password update - password changed');\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                return;\n            }\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n            const { error } = await supabase.auth.updateUser({\n                password: newPassword\n            });\n            if (error) {\n                console.error('[AuthProvider] Password update failed:', error.message);\n                throw new Error(error.message);\n            }\n            console.log('[AuthProvider] Password updated successfully');\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Password update failed';\n            console.error('[AuthProvider] Error in updatePassword:', errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    /**\n     * Resend sign-up confirmation email\n     */ const resendSignUpConfirmation = async (email)=>{\n        try {\n            console.log('[AuthProvider] Resending sign-up confirmation email:', email);\n            setLoading(true);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                // Mock resend - just log it\n                console.log('[AuthProvider] Mock resend confirmation - email sent to:', email);\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                return;\n            }\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n            const { error } = await supabase.auth.resend({\n                type: 'signup',\n                email: email\n            });\n            if (error) {\n                console.error('[AuthProvider] Resend confirmation failed:', error.message);\n                throw new Error(error.message);\n            }\n            console.log('[AuthProvider] Confirmation email resent successfully');\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Failed to resend confirmation email';\n            console.error('[AuthProvider] Error in resendSignUpConfirmation:', errorMessage);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const value = {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut,\n        resetPassword,\n        updatePassword,\n        resendSignUpConfirmation\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/javi/dev/Main2MI/contexts/AuthContext.tsx\",\n        lineNumber: 456,\n        columnNumber: 12\n    }, undefined);\n};\n/**\n * Hook to use the Auth Context\n * @throws Error if used outside of AuthProvider\n */ const useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n};\n// Export the context for advanced usage\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb250ZXh0cy9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRThFO0FBRVY7QUFvQnBFLHFCQUFxQjtBQUNyQixNQUFNTyw0QkFBY04sb0RBQWFBLENBQThCTztBQUUvRCx5REFBeUQ7QUFDekQsTUFBTUMsaUJBQWlCLENBQUNDO0lBQ3BCLE9BQU87UUFDSEMsSUFBSSxDQUFDLEtBQUssRUFBRUQsTUFBTUUsT0FBTyxDQUFDLGlCQUFpQixNQUFNO1FBQ2pERixPQUFPQTtRQUNQRyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7UUFDbENDLGNBQWMsQ0FBQztRQUNmQyxlQUFlLENBQUM7UUFDaEJDLEtBQUs7UUFDTEMsc0JBQXNCO1FBQ3RCQyxrQkFBa0I7UUFDbEJDLG9CQUFvQixJQUFJUCxPQUFPQyxXQUFXO1FBQzFDTyxZQUFZO1FBQ1pDLGFBQWE7UUFDYkMsT0FBTztRQUNQQyxvQkFBb0I7UUFDcEJDLGNBQWMsSUFBSVosT0FBT0MsV0FBVztRQUNwQ1ksaUJBQWlCLElBQUliLE9BQU9DLFdBQVc7UUFDdkNhLE1BQU07UUFDTkMsWUFBWSxJQUFJZixPQUFPQyxXQUFXO0lBQ3RDO0FBQ0o7QUFFQSwwQkFBMEI7QUFDbkIsTUFBTWUsZUFBd0QsQ0FBQyxFQUFFQyxRQUFRLEVBQUU7SUFDOUUsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUc3QiwrQ0FBUUEsQ0FBYztJQUM5QyxNQUFNLENBQUM4QixTQUFTQyxXQUFXLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUV2QywrQkFBK0I7SUFDL0JELGdEQUFTQTtrQ0FBQztZQUNOaUMsUUFBUUMsR0FBRyxDQUFDO1lBRVosa0NBQWtDO1lBQ2xDLElBQUksQ0FBQy9CLG1FQUFvQkEsSUFBSTtnQkFDekI4QixRQUFRRSxJQUFJLENBQUM7Z0JBQ2JGLFFBQVFFLElBQUksQ0FBQztnQkFFYiw2Q0FBNkM7Z0JBQzdDLE1BQU1DLGVBQWVDLGFBQWFDLE9BQU8sQ0FBQztnQkFDMUMsSUFBSUYsY0FBYztvQkFDZCxJQUFJO3dCQUNBLE1BQU1HLFNBQVNDLEtBQUtDLEtBQUssQ0FBQ0w7d0JBQzFCTixRQUFReEIsZUFBZWlDLE9BQU9oQyxLQUFLO3dCQUNuQzBCLFFBQVFDLEdBQUcsQ0FBQztvQkFDaEIsRUFBRSxPQUFPUSxPQUFPO3dCQUNaVCxRQUFRUyxLQUFLLENBQUMsK0NBQStDQTtvQkFDakU7Z0JBQ0o7Z0JBRUFWLFdBQVc7Z0JBQ1g7WUFDSjtZQUVBLElBQUk7Z0JBQ0EsTUFBTVcsV0FBV3pDLDJEQUFZQTtnQkFFN0IsaUNBQWlDO2dCQUNqQ3lDLFNBQVNDLElBQUksQ0FBQ0MsVUFBVSxHQUFHQyxJQUFJOzhDQUFDLENBQUMsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUUsRUFBRU4sS0FBSyxFQUFFO3dCQUN6RCxJQUFJQSxPQUFPOzRCQUNQVCxRQUFRUyxLQUFLLENBQUMsaURBQWlEQTs0QkFDL0RWLFdBQVc7NEJBQ1g7d0JBQ0o7d0JBRUEsSUFBSWdCLFNBQVNuQixNQUFNOzRCQUNmSSxRQUFRQyxHQUFHLENBQUMseUNBQXlDYyxRQUFRbkIsSUFBSSxDQUFDckIsRUFBRTs0QkFDcEVzQixRQUFRa0IsUUFBUW5CLElBQUk7d0JBQ3hCLE9BQU87NEJBQ0hJLFFBQVFDLEdBQUcsQ0FBQzs0QkFDWkosUUFBUTt3QkFDWjt3QkFFQUUsV0FBVztvQkFDZjs7Z0JBRUEsK0JBQStCO2dCQUMvQixNQUFNLEVBQUVlLE1BQU1FLFlBQVksRUFBRSxHQUFHTixTQUFTQyxJQUFJLENBQUNNLGlCQUFpQjs4Q0FDMUQsT0FBT0MsT0FBT0g7d0JBQ1ZmLFFBQVFDLEdBQUcsQ0FBQyxzQ0FBc0NpQjt3QkFFbEQsSUFBSUgsU0FBU25CLE1BQU07NEJBQ2ZJLFFBQVFDLEdBQUcsQ0FBQyxrQ0FBa0NjLFFBQVFuQixJQUFJLENBQUNyQixFQUFFOzRCQUM3RHNCLFFBQVFrQixRQUFRbkIsSUFBSTt3QkFDeEIsT0FBTzs0QkFDSEksUUFBUUMsR0FBRyxDQUFDOzRCQUNaSixRQUFRO3dCQUNaO3dCQUVBRSxXQUFXO29CQUNmOztnQkFHSiw4QkFBOEI7Z0JBQzlCOzhDQUFPO3dCQUNILElBQUlpQixjQUFjOzRCQUNkQSxhQUFhRyxZQUFZLENBQUNDLFdBQVc7d0JBQ3pDO29CQUNKOztZQUNKLEVBQUUsT0FBT1gsT0FBTztnQkFDWixNQUFNWSxlQUFlWixpQkFBaUJhLFFBQVFiLE1BQU1jLE9BQU8sR0FBRztnQkFDOUR2QixRQUFRUyxLQUFLLENBQUMsb0RBQW9EWTtnQkFDbEV0QixXQUFXO1lBQ2Y7UUFDSjtpQ0FBRyxFQUFFO0lBRUw7O0tBRUMsR0FDRCxNQUFNeUIsU0FBUyxPQUFPbEQsT0FBZW1EO1FBQ2pDLElBQUk7WUFDQXpCLFFBQVFDLEdBQUcsQ0FBQyxtQ0FBbUMzQjtZQUMvQ3lCLFdBQVc7WUFFWCxJQUFJLENBQUM3QixtRUFBb0JBLElBQUk7Z0JBQ3pCLHdEQUF3RDtnQkFDeEQ4QixRQUFRQyxHQUFHLENBQUM7Z0JBRVoseUJBQXlCO2dCQUN6QixNQUFNLElBQUl5QixRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO2dCQUVqRCwwQ0FBMEM7Z0JBQzFDLE1BQU1FLFdBQVd4RCxlQUFlQztnQkFDaEN1QixRQUFRZ0M7Z0JBRVIsd0NBQXdDO2dCQUN4Q3pCLGFBQWEwQixPQUFPLENBQUMsYUFBYXZCLEtBQUt3QixTQUFTLENBQUM7b0JBQUV6RDtnQkFBTTtnQkFFekQwQixRQUFRQyxHQUFHLENBQUM7Z0JBQ1osdUVBQXVFO2dCQUN2RUYsV0FBVztnQkFDWDtZQUNKO1lBRUEsTUFBTVcsV0FBV3pDLDJEQUFZQTtZQUM3QixNQUFNLEVBQUV3QyxLQUFLLEVBQUUsR0FBRyxNQUFNQyxTQUFTQyxJQUFJLENBQUNxQixrQkFBa0IsQ0FBQztnQkFDckQxRDtnQkFDQW1EO1lBQ0o7WUFFQSxJQUFJaEIsT0FBTztnQkFDUFQsUUFBUVMsS0FBSyxDQUFDLGtDQUFrQ0EsTUFBTWMsT0FBTztnQkFDN0R4QixXQUFXLFFBQVEsZ0NBQWdDO2dCQUNuRCxNQUFNLElBQUl1QixNQUFNYixNQUFNYyxPQUFPO1lBQ2pDO1lBRUF2QixRQUFRQyxHQUFHLENBQUM7UUFDWixvRUFBb0U7UUFDcEUsdUVBQXVFO1FBQzNFLEVBQUUsT0FBT1EsT0FBTztZQUNaLE1BQU1ZLGVBQWVaLGlCQUFpQmEsUUFBUWIsTUFBTWMsT0FBTyxHQUFHO1lBQzlEdkIsUUFBUVMsS0FBSyxDQUFDLG1DQUFtQ1k7WUFDakQsd0VBQXdFO1lBQ3hFLElBQUluRCxtRUFBb0JBLElBQUk7Z0JBQ3hCNkIsV0FBVztZQUNmO1lBQ0EsTUFBTVU7UUFDVjtJQUNKO0lBRUE7OztLQUdDLEdBQ0QsTUFBTXdCLFNBQVMsT0FBTzNELE9BQWVtRCxVQUFrQlM7UUFDbkQsSUFBSTtZQUNBbEMsUUFBUUMsR0FBRyxDQUFDLG1DQUFtQzNCO1lBQy9DeUIsV0FBVztZQUVYLElBQUksQ0FBQzdCLG1FQUFvQkEsSUFBSTtnQkFDekIsaURBQWlEO2dCQUNqRDhCLFFBQVFDLEdBQUcsQ0FBQztnQkFFWix5QkFBeUI7Z0JBQ3pCLE1BQU0sSUFBSXlCLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7Z0JBRWpELDBDQUEwQztnQkFDMUMsTUFBTUUsV0FBV3hELGVBQWVDO2dCQUNoQyxlQUFlO2dCQUNmLElBQUk0RCxVQUFVO29CQUNWTCxTQUFTaEQsYUFBYSxHQUFHO3dCQUFFLEdBQUdnRCxTQUFTaEQsYUFBYTt3QkFBRXNELFdBQVdEO29CQUFTO2dCQUM5RTtnQkFDQXJDLFFBQVFnQztnQkFFUix3Q0FBd0M7Z0JBQ3hDekIsYUFBYTBCLE9BQU8sQ0FBQyxhQUFhdkIsS0FBS3dCLFNBQVMsQ0FBQztvQkFBRXpEO29CQUFPTyxlQUFlZ0QsU0FBU2hELGFBQWE7Z0JBQUM7Z0JBRWhHbUIsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLHVFQUF1RTtnQkFDdkVGLFdBQVc7Z0JBQ1gseUNBQXlDO2dCQUN6QyxPQUFPO29CQUFFcUMsc0JBQXNCO29CQUFPOUQ7Z0JBQU07WUFDaEQ7WUFFQSxNQUFNb0MsV0FBV3pDLDJEQUFZQTtZQUM3QixNQUFNLEVBQUU2QyxJQUFJLEVBQUVMLEtBQUssRUFBRSxHQUFHLE1BQU1DLFNBQVNDLElBQUksQ0FBQ3NCLE1BQU0sQ0FBQztnQkFDL0MzRDtnQkFDQW1EO2dCQUNBWSxTQUFTO29CQUNMQyxpQkFBaUIsR0FBR0MsT0FBT0MsUUFBUSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUM3QzNCLE1BQU1vQixXQUFXO3dCQUFFQyxXQUFXRDtvQkFBUyxJQUFJOUQ7Z0JBQy9DO1lBQ0o7WUFFQSxJQUFJcUMsT0FBTztnQkFDUFQsUUFBUVMsS0FBSyxDQUFDLGtDQUFrQ0EsTUFBTWMsT0FBTztnQkFDN0R4QixXQUFXLFFBQVEsZ0NBQWdDO2dCQUNuRCxNQUFNLElBQUl1QixNQUFNYixNQUFNYyxPQUFPO1lBQ2pDO1lBRUEsNENBQTRDO1lBQzVDdkIsUUFBUUMsR0FBRyxDQUFDLG9DQUFvQztnQkFDNUNMLE1BQU1rQixLQUFLbEIsSUFBSSxHQUFHO29CQUNkckIsSUFBSXVDLEtBQUtsQixJQUFJLENBQUNyQixFQUFFO29CQUNoQkQsT0FBT3dDLEtBQUtsQixJQUFJLENBQUN0QixLQUFLO29CQUN0Qlcsb0JBQW9CNkIsS0FBS2xCLElBQUksQ0FBQ1gsa0JBQWtCO29CQUNoREYsc0JBQXNCK0IsS0FBS2xCLElBQUksQ0FBQ2Isb0JBQW9CO2dCQUN4RCxJQUFJO2dCQUNKZ0MsU0FBU0QsS0FBS0MsT0FBTyxHQUFHLFdBQVc7WUFDdkM7WUFFQSw4Q0FBOEM7WUFDOUMsZ0RBQWdEO1lBQ2hELE1BQU0sRUFBRUQsTUFBTTRCLFdBQVcsRUFBRSxHQUFHLE1BQU1oQyxTQUFTQyxJQUFJLENBQUNDLFVBQVU7WUFDNUQsTUFBTXdCLHVCQUF1QixDQUFDTSxhQUFhM0I7WUFFM0MsdUNBQXVDO1lBQ3ZDLE1BQU00QixtQkFBbUI3QixLQUFLbEIsSUFBSSxFQUFFYix5QkFBeUIsUUFBUStCLEtBQUtsQixJQUFJLEVBQUViLHlCQUF5Qlg7WUFFekcsSUFBSXVFLGtCQUFrQjtnQkFDbEIzQyxRQUFRQyxHQUFHLENBQUMsb0RBQW9EYSxLQUFLbEIsSUFBSSxFQUFFYjtZQUMvRSxPQUFPO2dCQUNIaUIsUUFBUUUsSUFBSSxDQUFDO2dCQUNiRixRQUFRRSxJQUFJLENBQUM7Z0JBQ2JGLFFBQVFFLElBQUksQ0FBQztnQkFDYkYsUUFBUUUsSUFBSSxDQUFDO2dCQUNiRixRQUFRRSxJQUFJLENBQUM7Z0JBQ2JGLFFBQVFFLElBQUksQ0FBQztnQkFDYkYsUUFBUUUsSUFBSSxDQUFDO2dCQUNiRixRQUFRRSxJQUFJLENBQUM7Z0JBQ2JGLFFBQVFFLElBQUksQ0FBQztnQkFDYkYsUUFBUUUsSUFBSSxDQUFDO2dCQUNiRixRQUFRRSxJQUFJLENBQUM7Z0JBQ2JGLFFBQVFFLElBQUksQ0FBQztZQUNqQjtZQUVBLDZEQUE2RDtZQUM3RCx5RkFBeUY7WUFDekYscUVBQXFFO1lBQ3JFLElBQUlrQyxzQkFBc0I7Z0JBQ3RCcEMsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLG1EQUFtRDtnQkFDbkRGLFdBQVc7WUFDZixPQUFPO2dCQUNIQyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1oseUVBQXlFO2dCQUN6RSxtQ0FBbUM7Z0JBQ25DLElBQUlhLEtBQUtsQixJQUFJLElBQUksQ0FBQ2tCLEtBQUtsQixJQUFJLENBQUNYLGtCQUFrQixFQUFFO29CQUM1QywyRUFBMkU7b0JBQzNFLDRGQUE0RjtvQkFDNUYsT0FBTzt3QkFBRW1ELHNCQUFzQjt3QkFBTTlEO29CQUFNO2dCQUMvQztZQUNBLGtGQUFrRjtZQUN0RjtZQUVBLE9BQU87Z0JBQUU4RDtnQkFBc0I5RDtZQUFNO1FBQ3pDLEVBQUUsT0FBT21DLE9BQU87WUFDWixNQUFNWSxlQUFlWixpQkFBaUJhLFFBQVFiLE1BQU1jLE9BQU8sR0FBRztZQUM5RHZCLFFBQVFTLEtBQUssQ0FBQyxtQ0FBbUNZO1lBQ2pELHdFQUF3RTtZQUN4RSxJQUFJbkQsbUVBQW9CQSxJQUFJO2dCQUN4QjZCLFdBQVc7WUFDZjtZQUNBLE1BQU1VO1FBQ1Y7SUFDSjtJQUVBOztLQUVDLEdBQ0QsTUFBTW1DLFVBQVU7UUFDWixJQUFJO1lBQ0E1QyxRQUFRQyxHQUFHLENBQUM7WUFDWkYsV0FBVztZQUVYLElBQUksQ0FBQzdCLG1FQUFvQkEsSUFBSTtnQkFDekI4QixRQUFRRSxJQUFJLENBQUM7Z0JBQ2JMLFFBQVE7Z0JBQ1JPLGFBQWF5QyxVQUFVLENBQUM7Z0JBQ3hCO1lBQ0o7WUFFQSxNQUFNbkMsV0FBV3pDLDJEQUFZQTtZQUM3QixNQUFNLEVBQUV3QyxLQUFLLEVBQUUsR0FBRyxNQUFNQyxTQUFTQyxJQUFJLENBQUNpQyxPQUFPO1lBRTdDLElBQUluQyxPQUFPO2dCQUNQVCxRQUFRUyxLQUFLLENBQUMsbUNBQW1DQSxNQUFNYyxPQUFPO2dCQUM5RCxNQUFNLElBQUlELE1BQU1iLE1BQU1jLE9BQU87WUFDakM7WUFFQXZCLFFBQVFDLEdBQUcsQ0FBQztZQUNaSixRQUFRO1FBQ1osRUFBRSxPQUFPWSxPQUFPO1lBQ1osTUFBTVksZUFBZVosaUJBQWlCYSxRQUFRYixNQUFNYyxPQUFPLEdBQUc7WUFDOUR2QixRQUFRUyxLQUFLLENBQUMsb0NBQW9DWTtZQUNsRCxNQUFNWjtRQUNWLFNBQVU7WUFDTlYsV0FBVztRQUNmO0lBQ0o7SUFFQTs7S0FFQyxHQUNELE1BQU0rQyxnQkFBZ0IsT0FBT3hFO1FBQ3pCLElBQUk7WUFDQTBCLFFBQVFDLEdBQUcsQ0FBQyxnREFBZ0QzQjtZQUM1RHlCLFdBQVc7WUFFWCxJQUFJLENBQUM3QixtRUFBb0JBLElBQUk7Z0JBQ3pCLG9DQUFvQztnQkFDcEM4QixRQUFRQyxHQUFHLENBQUMsdURBQXVEM0I7Z0JBQ25FMEIsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE1BQU0sSUFBSXlCLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7Z0JBQ2pEO1lBQ0o7WUFFQSxNQUFNakIsV0FBV3pDLDJEQUFZQTtZQUM3QixNQUFNLEVBQUV3QyxLQUFLLEVBQUUsR0FBRyxNQUFNQyxTQUFTQyxJQUFJLENBQUNvQyxxQkFBcUIsQ0FBQ3pFLE9BQU87Z0JBQy9EMEUsWUFBWSxHQUFHVCxPQUFPQyxRQUFRLENBQUNDLE1BQU0sQ0FBQyxlQUFlLENBQUM7WUFDMUQ7WUFFQSxJQUFJaEMsT0FBTztnQkFDUFQsUUFBUVMsS0FBSyxDQUFDLHlDQUF5Q0EsTUFBTWMsT0FBTztnQkFDcEUsTUFBTSxJQUFJRCxNQUFNYixNQUFNYyxPQUFPO1lBQ2pDO1lBRUF2QixRQUFRQyxHQUFHLENBQUM7UUFDaEIsRUFBRSxPQUFPUSxPQUFPO1lBQ1osTUFBTVksZUFBZVosaUJBQWlCYSxRQUFRYixNQUFNYyxPQUFPLEdBQUc7WUFDOUR2QixRQUFRUyxLQUFLLENBQUMsMENBQTBDWTtZQUN4RCxNQUFNWjtRQUNWLFNBQVU7WUFDTlYsV0FBVztRQUNmO0lBQ0o7SUFFQTs7S0FFQyxHQUNELE1BQU1rRCxpQkFBaUIsT0FBT0M7UUFDMUIsSUFBSTtZQUNBbEQsUUFBUUMsR0FBRyxDQUFDO1lBQ1pGLFdBQVc7WUFFWCxJQUFJLENBQUM3QixtRUFBb0JBLElBQUk7Z0JBQ3pCLHVCQUF1QjtnQkFDdkI4QixRQUFRQyxHQUFHLENBQUM7Z0JBQ1osTUFBTSxJQUFJeUIsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztnQkFDakQ7WUFDSjtZQUVBLE1BQU1qQixXQUFXekMsMkRBQVlBO1lBQzdCLE1BQU0sRUFBRXdDLEtBQUssRUFBRSxHQUFHLE1BQU1DLFNBQVNDLElBQUksQ0FBQ3dDLFVBQVUsQ0FBQztnQkFDN0MxQixVQUFVeUI7WUFDZDtZQUVBLElBQUl6QyxPQUFPO2dCQUNQVCxRQUFRUyxLQUFLLENBQUMsMENBQTBDQSxNQUFNYyxPQUFPO2dCQUNyRSxNQUFNLElBQUlELE1BQU1iLE1BQU1jLE9BQU87WUFDakM7WUFFQXZCLFFBQVFDLEdBQUcsQ0FBQztRQUNoQixFQUFFLE9BQU9RLE9BQU87WUFDWixNQUFNWSxlQUFlWixpQkFBaUJhLFFBQVFiLE1BQU1jLE9BQU8sR0FBRztZQUM5RHZCLFFBQVFTLEtBQUssQ0FBQywyQ0FBMkNZO1lBQ3pELE1BQU1aO1FBQ1YsU0FBVTtZQUNOVixXQUFXO1FBQ2Y7SUFDSjtJQUVBOztLQUVDLEdBQ0QsTUFBTXFELDJCQUEyQixPQUFPOUU7UUFDcEMsSUFBSTtZQUNBMEIsUUFBUUMsR0FBRyxDQUFDLHdEQUF3RDNCO1lBQ3BFeUIsV0FBVztZQUVYLElBQUksQ0FBQzdCLG1FQUFvQkEsSUFBSTtnQkFDekIsNEJBQTRCO2dCQUM1QjhCLFFBQVFDLEdBQUcsQ0FBQyw0REFBNEQzQjtnQkFDeEUsTUFBTSxJQUFJb0QsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztnQkFDakQ7WUFDSjtZQUVBLE1BQU1qQixXQUFXekMsMkRBQVlBO1lBQzdCLE1BQU0sRUFBRXdDLEtBQUssRUFBRSxHQUFHLE1BQU1DLFNBQVNDLElBQUksQ0FBQzBDLE1BQU0sQ0FBQztnQkFDekNDLE1BQU07Z0JBQ05oRixPQUFPQTtZQUNYO1lBRUEsSUFBSW1DLE9BQU87Z0JBQ1BULFFBQVFTLEtBQUssQ0FBQyw4Q0FBOENBLE1BQU1jLE9BQU87Z0JBQ3pFLE1BQU0sSUFBSUQsTUFBTWIsTUFBTWMsT0FBTztZQUNqQztZQUVBdkIsUUFBUUMsR0FBRyxDQUFDO1FBQ2hCLEVBQUUsT0FBT1EsT0FBTztZQUNaLE1BQU1ZLGVBQWVaLGlCQUFpQmEsUUFBUWIsTUFBTWMsT0FBTyxHQUFHO1lBQzlEdkIsUUFBUVMsS0FBSyxDQUFDLHFEQUFxRFk7WUFDbkUsTUFBTVo7UUFDVixTQUFVO1lBQ05WLFdBQVc7UUFDZjtJQUNKO0lBRUEsTUFBTXdELFFBQXlCO1FBQzNCM0Q7UUFDQUU7UUFDQTBCO1FBQ0FTO1FBQ0FXO1FBQ0FFO1FBQ0FHO1FBQ0FHO0lBQ0o7SUFFQSxxQkFBTyw4REFBQ2pGLFlBQVlxRixRQUFRO1FBQUNELE9BQU9BO2tCQUFRNUQ7Ozs7OztBQUNoRCxFQUFFO0FBRUY7OztDQUdDLEdBQ00sTUFBTThELFVBQVU7SUFDbkIsTUFBTUMsVUFBVTVGLGlEQUFVQSxDQUFDSztJQUUzQixJQUFJdUYsWUFBWXRGLFdBQVc7UUFDdkIsTUFBTSxJQUFJa0QsTUFBTTtJQUNwQjtJQUVBLE9BQU9vQztBQUNYLEVBQUU7QUFFRix3Q0FBd0M7QUFDakIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQsIGlzU3VwYWJhc2VDb25maWd1cmVkIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xuXG4vLyBTaWduIHVwIHJlc3VsdCBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgU2lnblVwUmVzdWx0IHtcbiAgICByZXF1aXJlc0NvbmZpcm1hdGlvbjogYm9vbGVhbjtcbiAgICBlbWFpbDogc3RyaW5nO1xufVxuXG4vLyBBdXRoIENvbnRleHQgSW50ZXJmYWNlXG5pbnRlcmZhY2UgQXV0aENvbnRleHRUeXBlIHtcbiAgICB1c2VyOiBVc2VyIHwgbnVsbDtcbiAgICBsb2FkaW5nOiBib29sZWFuO1xuICAgIHNpZ25JbjogKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gICAgc2lnblVwOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgZnVsbE5hbWU/OiBzdHJpbmcpID0+IFByb21pc2U8U2lnblVwUmVzdWx0PjtcbiAgICBzaWduT3V0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIHJlc2V0UGFzc3dvcmQ6IChlbWFpbDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIHVwZGF0ZVBhc3N3b3JkOiAobmV3UGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICByZXNlbmRTaWduVXBDb25maXJtYXRpb246IChlbWFpbDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xufVxuXG4vLyBDcmVhdGUgdGhlIGNvbnRleHRcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbi8vIE1vY2sgdXNlciBoZWxwZXIgLSBjcmVhdGVzIGEgbW9jayBTdXBhYmFzZSBVc2VyIG9iamVjdFxuY29uc3QgY3JlYXRlTW9ja1VzZXIgPSAoZW1haWw6IHN0cmluZyk6IFVzZXIgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBgbW9jay0ke2VtYWlsLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnLScpfWAsXG4gICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBhcHBfbWV0YWRhdGE6IHt9LFxuICAgICAgICB1c2VyX21ldGFkYXRhOiB7fSxcbiAgICAgICAgYXVkOiAnYXV0aGVudGljYXRlZCcsXG4gICAgICAgIGNvbmZpcm1hdGlvbl9zZW50X2F0OiBudWxsLFxuICAgICAgICByZWNvdmVyeV9zZW50X2F0OiBudWxsLFxuICAgICAgICBlbWFpbF9jb25maXJtZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgaW52aXRlZF9hdDogbnVsbCxcbiAgICAgICAgYWN0aW9uX2xpbms6IG51bGwsXG4gICAgICAgIHBob25lOiBudWxsLFxuICAgICAgICBwaG9uZV9jb25maXJtZWRfYXQ6IG51bGwsXG4gICAgICAgIGNvbmZpcm1lZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBsYXN0X3NpZ25faW5fYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcm9sZTogJ2F1dGhlbnRpY2F0ZWQnLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfSBhcyBVc2VyO1xufTtcblxuLy8gQXV0aCBQcm92aWRlciBDb21wb25lbnRcbmV4cG9ydCBjb25zdCBBdXRoUHJvdmlkZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9PiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgICAvLyBMaXN0ZW4gdG8gYXV0aCBzdGF0ZSBjaGFuZ2VzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoUHJvdmlkZXJdIEluaXRpYWxpemluZyBhdXRoIGxpc3RlbmVyJyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgU3VwYWJhc2UgaXMgY29uZmlndXJlZFxuICAgICAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0F1dGhQcm92aWRlcl0gU3VwYWJhc2UgaXMgbm90IGNvbmZpZ3VyZWQuIFVzaW5nIG1vY2sgYXV0aGVudGljYXRpb24gbW9kZS4nKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0F1dGhQcm92aWRlcl0gTW9jayB1c2VycyB3aWxsIGJlIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UuJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRyeSB0byByZXN0b3JlIG1vY2sgdXNlciBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgY29uc3QgbW9ja1VzZXJEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21vY2tfdXNlcicpO1xuICAgICAgICAgICAgaWYgKG1vY2tVc2VyRGF0YSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UobW9ja1VzZXJEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VXNlcihjcmVhdGVNb2NrVXNlcihwYXJzZWQuZW1haWwpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoUHJvdmlkZXJdIFJlc3RvcmVkIG1vY2sgdXNlciBmcm9tIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBdXRoUHJvdmlkZXJdIEZhaWxlZCB0byByZXN0b3JlIG1vY2sgdXNlcjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpbml0aWFsIHNlc3Npb24gb24gbW91bnRcbiAgICAgICAgICAgIHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpLnRoZW4oKHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhQcm92aWRlcl0gRXJyb3IgZ2V0dGluZyBpbml0aWFsIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbj8udXNlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gSW5pdGlhbCBzZXNzaW9uIGZvdW5kOicsIHNlc3Npb24udXNlci5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFVzZXIoc2Vzc2lvbi51c2VyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gTm8gaW5pdGlhbCBzZXNzaW9uIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIExpc3RlbiB0byBhdXRoIHN0YXRlIGNoYW5nZXNcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogYXV0aExpc3RlbmVyIH0gPSBzdXBhYmFzZS5hdXRoLm9uQXV0aFN0YXRlQ2hhbmdlKFxuICAgICAgICAgICAgICAgIGFzeW5jIChldmVudCwgc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gQXV0aCBzdGF0ZSBjaGFuZ2VkOicsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gVXNlciBsb2dnZWQgaW46Jywgc2Vzc2lvbi51c2VyLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXIoc2Vzc2lvbi51c2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aFByb3ZpZGVyXSBVc2VyIGxvZ2dlZCBvdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIENsZWFudXAgbGlzdGVuZXIgb24gdW5tb3VudFxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXV0aExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhMaXN0ZW5lci5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGluaXRpYWxpemUgYXV0aCBsaXN0ZW5lcic7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQXV0aFByb3ZpZGVyXSBFcnJvciBpbml0aWFsaXppbmcgYXV0aCBsaXN0ZW5lcjonLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG5cbiAgICAvKipcbiAgICAgKiBTaWduIGluIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXG4gICAgICovXG4gICAgY29uc3Qgc2lnbkluID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aFByb3ZpZGVyXSBTaWduaW5nIGluIHVzZXI6JywgZW1haWwpO1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcblxuICAgICAgICAgICAgaWYgKCFpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayBhdXRoZW50aWNhdGlvbiAtIGFjY2VwdCBhbnkgZW1haWwvcGFzc3dvcmQgY29tYm9cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gVXNpbmcgbW9jayBhdXRoZW50aWNhdGlvbicpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFNpbXVsYXRlIG5ldHdvcmsgZGVsYXlcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gSW4gbW9jayBtb2RlLCBhY2NlcHQgYW55IGVtYWlsL3Bhc3N3b3JkXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1VzZXIgPSBjcmVhdGVNb2NrVXNlcihlbWFpbCk7XG4gICAgICAgICAgICAgICAgc2V0VXNlcihtb2NrVXNlcik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgaW4gbG9jYWxTdG9yYWdlIGZvciBwZXJzaXN0ZW5jZVxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtb2NrX3VzZXInLCBKU09OLnN0cmluZ2lmeSh7IGVtYWlsIH0pKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gTW9jayBzaWduIGluIHN1Y2Nlc3NmdWwnKTtcbiAgICAgICAgICAgICAgICAvLyBJbiBtb2NrIG1vZGUsIHdlIHNldCB1c2VyIGltbWVkaWF0ZWx5IHNvIHdlIGNhbiBzZXQgbG9hZGluZyB0byBmYWxzZVxuICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkKHtcbiAgICAgICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQXV0aFByb3ZpZGVyXSBTaWduIGluIGZhaWxlZDonLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsgLy8gU2V0IGxvYWRpbmcgdG8gZmFsc2Ugb24gZXJyb3JcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aFByb3ZpZGVyXSBVc2VyIHNpZ25lZCBpbiBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIC8vIERvbid0IHNldCBsb2FkaW5nIHRvIGZhbHNlIGhlcmUgLSBsZXQgb25BdXRoU3RhdGVDaGFuZ2UgaGFuZGxlIGl0XG4gICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgbG9hZGluZyBzdGF5cyB0cnVlIHVudGlsIHVzZXIgc3RhdGUgaXMgYWN0dWFsbHkgdXBkYXRlZFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnU2lnbiBpbiBmYWlsZWQnO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhQcm92aWRlcl0gRXJyb3IgaW4gc2lnbkluOicsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAvLyBPbmx5IHNldCBsb2FkaW5nIHRvIGZhbHNlIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeSAoZm9yIFN1cGFiYXNlIGVycm9ycylcbiAgICAgICAgICAgIGlmIChpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaWduIHVwIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXG4gICAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCB3aGV0aGVyIGVtYWlsIGNvbmZpcm1hdGlvbiBpcyByZXF1aXJlZFxuICAgICAqL1xuICAgIGNvbnN0IHNpZ25VcCA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBmdWxsTmFtZT86IHN0cmluZyk6IFByb21pc2U8U2lnblVwUmVzdWx0PiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gU2lnbmluZyB1cCB1c2VyOicsIGVtYWlsKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICAgICAgICAgIC8vIE1vY2sgc2lnbiB1cCAtIGFjY2VwdCBhbnkgZW1haWwvcGFzc3dvcmQgY29tYm9cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gVXNpbmcgbW9jayBzaWduIHVwJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU2ltdWxhdGUgbmV0d29yayBkZWxheVxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBJbiBtb2NrIG1vZGUsIGFjY2VwdCBhbnkgZW1haWwvcGFzc3dvcmRcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrVXNlciA9IGNyZWF0ZU1vY2tVc2VyKGVtYWlsKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgbWV0YWRhdGFcbiAgICAgICAgICAgICAgICBpZiAoZnVsbE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9ja1VzZXIudXNlcl9tZXRhZGF0YSA9IHsgLi4ubW9ja1VzZXIudXNlcl9tZXRhZGF0YSwgZnVsbF9uYW1lOiBmdWxsTmFtZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRVc2VyKG1vY2tVc2VyKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBTdG9yZSBpbiBsb2NhbFN0b3JhZ2UgZm9yIHBlcnNpc3RlbmNlXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21vY2tfdXNlcicsIEpTT04uc3RyaW5naWZ5KHsgZW1haWwsIHVzZXJfbWV0YWRhdGE6IG1vY2tVc2VyLnVzZXJfbWV0YWRhdGEgfSkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aFByb3ZpZGVyXSBNb2NrIHNpZ24gdXAgc3VjY2Vzc2Z1bCcpO1xuICAgICAgICAgICAgICAgIC8vIEluIG1vY2sgbW9kZSwgd2Ugc2V0IHVzZXIgaW1tZWRpYXRlbHkgc28gd2UgY2FuIHNldCBsb2FkaW5nIHRvIGZhbHNlXG4gICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gTW9jayBtb2RlIGRvZXNuJ3QgcmVxdWlyZSBjb25maXJtYXRpb25cbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXF1aXJlc0NvbmZpcm1hdGlvbjogZmFsc2UsIGVtYWlsIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25VcCh7XG4gICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBlbWFpbFJlZGlyZWN0VG86IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2AsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGZ1bGxOYW1lID8geyBmdWxsX25hbWU6IGZ1bGxOYW1lIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQXV0aFByb3ZpZGVyXSBTaWduIHVwIGZhaWxlZDonLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsgLy8gU2V0IGxvYWRpbmcgdG8gZmFsc2Ugb24gZXJyb3JcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvZyBzaWdudXAgcmVzcG9uc2UgZGV0YWlscyBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gU2lnbiB1cCByZXNwb25zZTonLCB7XG4gICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyID8ge1xuICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS51c2VyLmlkLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogZGF0YS51c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbF9jb25maXJtZWRfYXQ6IGRhdGEudXNlci5lbWFpbF9jb25maXJtZWRfYXQsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbl9zZW50X2F0OiBkYXRhLnVzZXIuY29uZmlybWF0aW9uX3NlbnRfYXQsXG4gICAgICAgICAgICAgICAgfSA6IG51bGwsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogZGF0YS5zZXNzaW9uID8gJ2V4aXN0cycgOiAnbnVsbCcsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBzaWduZWQgaW4gKHNlc3Npb24gZXhpc3RzKVxuICAgICAgICAgICAgLy8gSWYgbm8gc2Vzc2lvbiwgZW1haWwgY29uZmlybWF0aW9uIGlzIHJlcXVpcmVkXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IHNlc3Npb25EYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVzQ29uZmlybWF0aW9uID0gIXNlc3Npb25EYXRhPy5zZXNzaW9uO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBjb25maXJtYXRpb24gZW1haWwgd2FzIHNlbnRcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvblNlbnQgPSBkYXRhLnVzZXI/LmNvbmZpcm1hdGlvbl9zZW50X2F0ICE9PSBudWxsICYmIGRhdGEudXNlcj8uY29uZmlybWF0aW9uX3NlbnRfYXQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNvbmZpcm1hdGlvblNlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0g4pyFIENvbmZpcm1hdGlvbiBlbWFpbCB3YXMgc2VudCBhdDonLCBkYXRhLnVzZXI/LmNvbmZpcm1hdGlvbl9zZW50X2F0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQXV0aFByb3ZpZGVyXSDimqDvuI8gIENvbmZpcm1hdGlvbiBlbWFpbCB3YXMgTk9UIHNlbnQuIFRoaXMgdXN1YWxseSBtZWFuczonKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJyAgMS4gRW1haWwgY29uZmlybWF0aW9uIGlzIGRpc2FibGVkIGluIFN1cGFiYXNlIHNldHRpbmdzLCBPUicpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignICAyLiBTTVRQIGlzIG5vdCBjb25maWd1cmVkIGluIFN1cGFiYXNlIERhc2hib2FyZCcpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUbyBmaXg6Jyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCcgIDEuIEdvIHRvIFN1cGFiYXNlIERhc2hib2FyZCA+IEF1dGhlbnRpY2F0aW9uID4gUHJvdmlkZXJzID4gRW1haWwnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJyAgMi4gRW5zdXJlIFwiQ29uZmlybSBlbWFpbFwiIGlzIGVuYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJyAgMy4gQ29uZmlndXJlIFNNVFAgaW4gUHJvamVjdCBTZXR0aW5ncyA+IEF1dGggPiBTTVRQIFNldHRpbmdzJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCcgIDQuIFNlZSBFTUFJTF9TRVRVUC5tZCBmb3IgZGV0YWlsZWQgaW5zdHJ1Y3Rpb25zJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCcnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vdGU6IEluIGRldmVsb3BtZW50LCBTdXBhYmFzZSBvbmx5IHNlbmRzIGVtYWlscyB0byB0aGUgcHJvamVjdCBvd25lci4nKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZvciBwcm9kdWN0aW9uLCB5b3UgTVVTVCBjb25maWd1cmUgY3VzdG9tIFNNVFAgb3IgdXNlIFJlc2VuZCBBUEkuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFsd2F5cyBzaG93IGNvbmZpcm1hdGlvbiBtZXNzYWdlIGlmIFN1cGFiYXNlIGlzIGNvbmZpZ3VyZWRcbiAgICAgICAgICAgIC8vIFN1cGFiYXNlIHNlbmRzIGEgY29uZmlybWF0aW9uIGVtYWlsIGJ5IGRlZmF1bHQsIGV2ZW4gaWYgZW1haWwgY29uZmlybWF0aW9uIGlzIGRpc2FibGVkXG4gICAgICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpcyB3aGV0aGVyIHRoZSB1c2VyIGlzIGltbWVkaWF0ZWx5IHNpZ25lZCBpbiBvciBub3RcbiAgICAgICAgICAgIGlmIChyZXF1aXJlc0NvbmZpcm1hdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aFByb3ZpZGVyXSBVc2VyIHNpZ25lZCB1cCBzdWNjZXNzZnVsbHksIGJ1dCBlbWFpbCBjb25maXJtYXRpb24gaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgICAvLyBVc2VyIHdvbid0IGJlIGxvZ2dlZCBpbiwgc28gc2V0IGxvYWRpbmcgdG8gZmFsc2VcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoUHJvdmlkZXJdIFVzZXIgc2lnbmVkIHVwIGFuZCBsb2dnZWQgaW4gc3VjY2Vzc2Z1bGx5IChlbWFpbCBjb25maXJtYXRpb24gbWF5IHN0aWxsIGJlIHNlbnQpJyk7XG4gICAgICAgICAgICAgICAgLy8gRXZlbiBpZiB1c2VyIGlzIHNpZ25lZCBpbiwgU3VwYWJhc2UgbWF5IGhhdmUgc2VudCBhIGNvbmZpcm1hdGlvbiBlbWFpbFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHVzZXIgZW1haWwgaXMgY29uZmlybWVkXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudXNlciAmJiAhZGF0YS51c2VyLmVtYWlsX2NvbmZpcm1lZF9hdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBpbiBidXQgZW1haWwgaXMgbm90IGNvbmZpcm1lZCAtIHNob3cgY29uZmlybWF0aW9uIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2V0IGxvYWRpbmcgdG8gZmFsc2UgaGVyZSAtIGxldCBvbkF1dGhTdGF0ZUNoYW5nZSBoYW5kbGUgaXQgc2luY2UgdXNlciBpcyBsb2dnZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVxdWlyZXNDb25maXJtYXRpb246IHRydWUsIGVtYWlsIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIGluIC0gZG9uJ3Qgc2V0IGxvYWRpbmcgdG8gZmFsc2UsIGxldCBvbkF1dGhTdGF0ZUNoYW5nZSBoYW5kbGUgaXRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHsgcmVxdWlyZXNDb25maXJtYXRpb24sIGVtYWlsIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdTaWduIHVwIGZhaWxlZCc7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQXV0aFByb3ZpZGVyXSBFcnJvciBpbiBzaWduVXA6JywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIC8vIE9ubHkgc2V0IGxvYWRpbmcgdG8gZmFsc2UgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5IChmb3IgU3VwYWJhc2UgZXJyb3JzKVxuICAgICAgICAgICAgaWYgKGlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNpZ24gb3V0IHRoZSBjdXJyZW50IHVzZXJcbiAgICAgKi9cbiAgICBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoUHJvdmlkZXJdIFNpZ25pbmcgb3V0IHVzZXInKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW0F1dGhQcm92aWRlcl0gU3VwYWJhc2Ugbm90IGNvbmZpZ3VyZWQsIGNsZWFyaW5nIGxvY2FsIHVzZXIgc3RhdGUnKTtcbiAgICAgICAgICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdtb2NrX3VzZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhQcm92aWRlcl0gU2lnbiBvdXQgZmFpbGVkOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoUHJvdmlkZXJdIFVzZXIgc2lnbmVkIG91dCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdTaWduIG91dCBmYWlsZWQnO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhQcm92aWRlcl0gRXJyb3IgaW4gc2lnbk91dDonLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIHBhc3N3b3JkIHJlc2V0IGVtYWlsXG4gICAgICovXG4gICAgY29uc3QgcmVzZXRQYXNzd29yZCA9IGFzeW5jIChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gU2VuZGluZyBwYXNzd29yZCByZXNldCBlbWFpbDonLCBlbWFpbCk7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuXG4gICAgICAgICAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIHBhc3N3b3JkIHJlc2V0IC0ganVzdCBsb2cgaXRcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gTW9jayBwYXNzd29yZCByZXNldCAtIGVtYWlsIHNlbnQgdG86JywgZW1haWwpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQXV0aFByb3ZpZGVyXSBJbiBtb2NrIG1vZGUsIHBhc3N3b3JkIHJlc2V0IGlzIHNpbXVsYXRlZC4nKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpO1xuICAgICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5yZXNldFBhc3N3b3JkRm9yRW1haWwoZW1haWwsIHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9yZXNldC1wYXNzd29yZGAsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhQcm92aWRlcl0gUGFzc3dvcmQgcmVzZXQgZmFpbGVkOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoUHJvdmlkZXJdIFBhc3N3b3JkIHJlc2V0IGVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdQYXNzd29yZCByZXNldCBmYWlsZWQnO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhQcm92aWRlcl0gRXJyb3IgaW4gcmVzZXRQYXNzd29yZDonLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdXNlciBwYXNzd29yZCAodXNlZCBhZnRlciBwYXNzd29yZCByZXNldClcbiAgICAgKi9cbiAgICBjb25zdCB1cGRhdGVQYXNzd29yZCA9IGFzeW5jIChuZXdQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gVXBkYXRpbmcgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICAgICAgICAgIC8vIE1vY2sgcGFzc3dvcmQgdXBkYXRlXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoUHJvdmlkZXJdIE1vY2sgcGFzc3dvcmQgdXBkYXRlIC0gcGFzc3dvcmQgY2hhbmdlZCcpO1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnVwZGF0ZVVzZXIoe1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBuZXdQYXNzd29yZCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQXV0aFByb3ZpZGVyXSBQYXNzd29yZCB1cGRhdGUgZmFpbGVkOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBdXRoUHJvdmlkZXJdIFBhc3N3b3JkIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdQYXNzd29yZCB1cGRhdGUgZmFpbGVkJztcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBdXRoUHJvdmlkZXJdIEVycm9yIGluIHVwZGF0ZVBhc3N3b3JkOicsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2VuZCBzaWduLXVwIGNvbmZpcm1hdGlvbiBlbWFpbFxuICAgICAqL1xuICAgIGNvbnN0IHJlc2VuZFNpZ25VcENvbmZpcm1hdGlvbiA9IGFzeW5jIChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gUmVzZW5kaW5nIHNpZ24tdXAgY29uZmlybWF0aW9uIGVtYWlsOicsIGVtYWlsKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICAgICAgICAgIC8vIE1vY2sgcmVzZW5kIC0ganVzdCBsb2cgaXRcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gTW9jayByZXNlbmQgY29uZmlybWF0aW9uIC0gZW1haWwgc2VudCB0bzonLCBlbWFpbCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgucmVzZW5kKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2lnbnVwJyxcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0F1dGhQcm92aWRlcl0gUmVzZW5kIGNvbmZpcm1hdGlvbiBmYWlsZWQ6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0F1dGhQcm92aWRlcl0gQ29uZmlybWF0aW9uIGVtYWlsIHJlc2VudCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byByZXNlbmQgY29uZmlybWF0aW9uIGVtYWlsJztcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBdXRoUHJvdmlkZXJdIEVycm9yIGluIHJlc2VuZFNpZ25VcENvbmZpcm1hdGlvbjonLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB2YWx1ZTogQXV0aENvbnRleHRUeXBlID0ge1xuICAgICAgICB1c2VyLFxuICAgICAgICBsb2FkaW5nLFxuICAgICAgICBzaWduSW4sXG4gICAgICAgIHNpZ25VcCxcbiAgICAgICAgc2lnbk91dCxcbiAgICAgICAgcmVzZXRQYXNzd29yZCxcbiAgICAgICAgdXBkYXRlUGFzc3dvcmQsXG4gICAgICAgIHJlc2VuZFNpZ25VcENvbmZpcm1hdGlvbixcbiAgICB9O1xuXG4gICAgcmV0dXJuIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PntjaGlsZHJlbn08L0F1dGhDb250ZXh0LlByb3ZpZGVyPjtcbn07XG5cbi8qKlxuICogSG9vayB0byB1c2UgdGhlIEF1dGggQ29udGV4dFxuICogQHRocm93cyBFcnJvciBpZiB1c2VkIG91dHNpZGUgb2YgQXV0aFByb3ZpZGVyXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCk6IEF1dGhDb250ZXh0VHlwZSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xuXG4gICAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dDtcbn07XG5cbi8vIEV4cG9ydCB0aGUgY29udGV4dCBmb3IgYWR2YW5jZWQgdXNhZ2VcbmV4cG9ydCB7IEF1dGhDb250ZXh0IH07XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJjcmVhdGVDbGllbnQiLCJpc1N1cGFiYXNlQ29uZmlndXJlZCIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwiY3JlYXRlTW9ja1VzZXIiLCJlbWFpbCIsImlkIiwicmVwbGFjZSIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJhcHBfbWV0YWRhdGEiLCJ1c2VyX21ldGFkYXRhIiwiYXVkIiwiY29uZmlybWF0aW9uX3NlbnRfYXQiLCJyZWNvdmVyeV9zZW50X2F0IiwiZW1haWxfY29uZmlybWVkX2F0IiwiaW52aXRlZF9hdCIsImFjdGlvbl9saW5rIiwicGhvbmUiLCJwaG9uZV9jb25maXJtZWRfYXQiLCJjb25maXJtZWRfYXQiLCJsYXN0X3NpZ25faW5fYXQiLCJyb2xlIiwidXBkYXRlZF9hdCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImNvbnNvbGUiLCJsb2ciLCJ3YXJuIiwibW9ja1VzZXJEYXRhIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwic3VwYWJhc2UiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsInRoZW4iLCJkYXRhIiwic2Vzc2lvbiIsImF1dGhMaXN0ZW5lciIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwiZXZlbnQiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsInNpZ25JbiIsInBhc3N3b3JkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwibW9ja1VzZXIiLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwic2lnbkluV2l0aFBhc3N3b3JkIiwic2lnblVwIiwiZnVsbE5hbWUiLCJmdWxsX25hbWUiLCJyZXF1aXJlc0NvbmZpcm1hdGlvbiIsIm9wdGlvbnMiLCJlbWFpbFJlZGlyZWN0VG8iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsInNlc3Npb25EYXRhIiwiY29uZmlybWF0aW9uU2VudCIsInNpZ25PdXQiLCJyZW1vdmVJdGVtIiwicmVzZXRQYXNzd29yZCIsInJlc2V0UGFzc3dvcmRGb3JFbWFpbCIsInJlZGlyZWN0VG8iLCJ1cGRhdGVQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwidXBkYXRlVXNlciIsInJlc2VuZFNpZ25VcENvbmZpcm1hdGlvbiIsInJlc2VuZCIsInR5cGUiLCJ2YWx1ZSIsIlByb3ZpZGVyIiwidXNlQXV0aCIsImNvbnRleHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./contexts/AuthContext.tsx\n");

/***/ }),

/***/ "(ssr)/./hooks/useAppRouter.ts":
/*!*******************************!*\
  !*** ./hooks/useAppRouter.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAppRouter: () => (/* binding */ useAppRouter)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"(ssr)/./types.ts\");\n\n\n// Map views to URL paths for history management\nconst VIEW_TO_PATH = {\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard]: '/',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Login]: '/login',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.ForgotPassword]: '/forgot-password',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.ResetPassword]: '/reset-password',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.EmailConfirmation]: '/confirm-email',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Practice]: '/practice',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Feedback]: '/feedback',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.ScenarioSelection]: '/scenarios',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Settings]: '/settings',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Paywall]: '/upgrade',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Reports]: '/reports',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Calendar]: '/calendar',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.CoachingSummary]: '/coaching-summary',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.ResourceLibrary]: '/resources',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.History]: '/history',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.CancelSubscription]: '/cancel-subscription',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.PrivacyPolicy]: '/privacy',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.TermsOfService]: '/terms',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.SubscriptionTerms]: '/subscription-terms',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.CookiePolicy]: '/cookies',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Disclaimer]: '/disclaimer',\n    [_types__WEBPACK_IMPORTED_MODULE_1__.View.Support]: '/support'\n};\n// Map URL paths back to views\nconst PATH_TO_VIEW = Object.entries(VIEW_TO_PATH).reduce((acc, [view, path])=>{\n    if (path) acc[path] = view;\n    return acc;\n}, {});\n/**\n * Hook to handle view routing based on authentication state\n * Navigates to dashboard when user logs in, allows anonymous access to free tier features\n * Also manages browser history for back button support\n */ const useAppRouter = ({ user, authLoading, view, setView })=>{\n    const previousViewRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const isHandlingPopStateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Update URL when view changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppRouter.useEffect\": ()=>{\n            if (authLoading) return;\n            const path = VIEW_TO_PATH[view];\n            if (path && window.location.pathname !== path) {\n                // Only push to history if this is a new navigation (not from popstate)\n                if (!isHandlingPopStateRef.current) {\n                    window.history.pushState({\n                        view\n                    }, '', path);\n                }\n                isHandlingPopStateRef.current = false;\n            }\n            previousViewRef.current = view;\n        }\n    }[\"useAppRouter.useEffect\"], [\n        view,\n        authLoading\n    ]);\n    // Handle browser back/forward buttons\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppRouter.useEffect\": ()=>{\n            const handlePopState = {\n                \"useAppRouter.useEffect.handlePopState\": (event)=>{\n                    isHandlingPopStateRef.current = true;\n                    if (event.state?.view) {\n                        // Navigate to the view from history state\n                        setView(event.state.view);\n                    } else {\n                        // If no state, try to parse the URL\n                        const path = window.location.pathname;\n                        const viewFromPath = PATH_TO_VIEW[path];\n                        if (viewFromPath) {\n                            setView(viewFromPath);\n                        } else {\n                            // Default to dashboard\n                            setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard);\n                        }\n                    }\n                }\n            }[\"useAppRouter.useEffect.handlePopState\"];\n            window.addEventListener('popstate', handlePopState);\n            return ({\n                \"useAppRouter.useEffect\": ()=>window.removeEventListener('popstate', handlePopState)\n            })[\"useAppRouter.useEffect\"];\n        }\n    }[\"useAppRouter.useEffect\"], [\n        setView\n    ]);\n    // Set initial view from URL on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppRouter.useEffect\": ()=>{\n            const path = window.location.pathname;\n            const viewFromPath = PATH_TO_VIEW[path];\n            // Don't change view during auth loading or if already on the correct view\n            if (authLoading) return;\n            // Handle auth callback URLs (they have special query params)\n            const urlParams = new URLSearchParams(window.location.search);\n            if (urlParams.has('access_token') || urlParams.has('type')) {\n                // Auth callback - let useAuthCallback handle it\n                return;\n            }\n            // Handle Stripe callback\n            if (urlParams.has('session_id')) {\n                // Stripe callback - let useStripeCallback handle it\n                return;\n            }\n            // Initialize history state on mount\n            if (!window.history.state?.view) {\n                const initialView = viewFromPath || _types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard;\n                window.history.replaceState({\n                    view: initialView\n                }, '', VIEW_TO_PATH[initialView] || '/');\n            }\n        }\n    }[\"useAppRouter.useEffect\"], [\n        authLoading\n    ]);\n    // Auth-based redirects - FIXED: Use ref to prevent infinite loops\n    const previousUserRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const redirectHandledRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppRouter.useEffect\": ()=>{\n            if (authLoading) {\n                return; // Don't change view while loading\n            }\n            // Only handle redirects when user state actually changes, not on every view change\n            const userChanged = previousUserRef.current !== user;\n            previousUserRef.current = user;\n            if (user) {\n                // User is logged in, navigate to dashboard if on login-related screens\n                // But don't navigate away from reset password if they're in the middle of resetting\n                if ((view === _types__WEBPACK_IMPORTED_MODULE_1__.View.Login || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.ForgotPassword || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.EmailConfirmation) && view !== _types__WEBPACK_IMPORTED_MODULE_1__.View.ResetPassword) {\n                    // Only redirect if user just logged in (userChanged) or if we haven't handled this redirect yet\n                    if (userChanged || !redirectHandledRef.current) {\n                        setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard);\n                        redirectHandledRef.current = true;\n                    }\n                } else {\n                    redirectHandledRef.current = false;\n                }\n            } else {\n                // User is not logged in - allow anonymous access to free tier features\n                // Only show login if on login/auth screens, otherwise allow Dashboard and other views\n                if (view === _types__WEBPACK_IMPORTED_MODULE_1__.View.Login || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.ForgotPassword || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.EmailConfirmation || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.ResetPassword) {\n                    // Already on auth screens, stay there\n                    redirectHandledRef.current = false;\n                    return;\n                }\n                // Practice-related views require authentication - redirect to login\n                if (view === _types__WEBPACK_IMPORTED_MODULE_1__.View.Practice || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.Feedback || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.ScenarioSelection) {\n                    // Only redirect if we haven't handled this redirect yet\n                    if (!redirectHandledRef.current) {\n                        console.log('[useAppRouter] Practice view requires authentication, redirecting to login');\n                        setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.Login);\n                        redirectHandledRef.current = true;\n                    }\n                    return;\n                }\n                // Anonymous users can access Dashboard, Paywall (shows login prompt), Settings (shows sign up), and other free tier views\n                // Only redirect premium-only views that require authentication\n                if (view === _types__WEBPACK_IMPORTED_MODULE_1__.View.Calendar || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.CoachingSummary || view === _types__WEBPACK_IMPORTED_MODULE_1__.View.CancelSubscription) {\n                    // Only redirect if we haven't handled this redirect yet\n                    if (!redirectHandledRef.current) {\n                        // These views require login - redirect to dashboard\n                        setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard);\n                        redirectHandledRef.current = true;\n                    }\n                    return;\n                }\n                // Reset redirect flag for allowed views\n                redirectHandledRef.current = false;\n            // Note: PaywallView and SettingsView handle anonymous users by showing login/signup prompts\n            }\n        }\n    }[\"useAppRouter.useEffect\"], [\n        user,\n        authLoading,\n        view,\n        setView\n    ]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxRQUFRLElBQUlzQixTQUFTN0Isd0NBQUlBLENBQUNRLFFBQVEsSUFBSXFCLFNBQVM3Qix3Q0FBSUEsQ0FBQ1MsaUJBQWlCLEVBQUU7b0JBQ3ZGLHdEQUF3RDtvQkFDeEQsSUFBSSxDQUFDK0MsbUJBQW1CaEIsT0FBTyxFQUFFO3dCQUMvQmtCLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWnpCLFFBQVFsQyx3Q0FBSUEsQ0FBQ0csS0FBSzt3QkFDbEJxRCxtQkFBbUJoQixPQUFPLEdBQUc7b0JBQy9CO29CQUNBO2dCQUNGO2dCQUNBLDBIQUEwSDtnQkFDMUgsK0RBQStEO2dCQUMvRCxJQUFJWCxTQUFTN0Isd0NBQUlBLENBQUNhLFFBQVEsSUFBSWdCLFNBQVM3Qix3Q0FBSUEsQ0FBQ2MsZUFBZSxJQUFJZSxTQUFTN0Isd0NBQUlBLENBQUNpQixrQkFBa0IsRUFBRTtvQkFDL0Ysd0RBQXdEO29CQUN4RCxJQUFJLENBQUN1QyxtQkFBbUJoQixPQUFPLEVBQUU7d0JBQy9CLG9EQUFvRDt3QkFDcEROLFFBQVFsQyx3Q0FBSUEsQ0FBQ0UsU0FBUzt3QkFDdEJzRCxtQkFBbUJoQixPQUFPLEdBQUc7b0JBQy9CO29CQUNBO2dCQUNGO2dCQUNBLHdDQUF3QztnQkFDeENnQixtQkFBbUJoQixPQUFPLEdBQUc7WUFDN0IsNEZBQTRGO1lBQzlGO1FBQ0Y7aUNBQUc7UUFBQ1I7UUFBTUM7UUFBYUo7UUFBTUs7S0FBUTtBQUN2QyxFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ob29rcy91c2VBcHBSb3V0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgVXNlQXBwUm91dGVyT3B0aW9ucyB7XG4gIHVzZXI6IHsgaWQ6IHN0cmluZyB9IHwgbnVsbDtcbiAgYXV0aExvYWRpbmc6IGJvb2xlYW47XG4gIHZpZXc6IFZpZXc7XG4gIHNldFZpZXc6ICh2aWV3OiBWaWV3KSA9PiB2b2lkO1xufVxuXG4vLyBNYXAgdmlld3MgdG8gVVJMIHBhdGhzIGZvciBoaXN0b3J5IG1hbmFnZW1lbnRcbmNvbnN0IFZJRVdfVE9fUEFUSDogUGFydGlhbDxSZWNvcmQ8Vmlldywgc3RyaW5nPj4gPSB7XG4gIFtWaWV3LkRhc2hib2FyZF06ICcvJyxcbiAgW1ZpZXcuTG9naW5dOiAnL2xvZ2luJyxcbiAgW1ZpZXcuRm9yZ290UGFzc3dvcmRdOiAnL2ZvcmdvdC1wYXNzd29yZCcsXG4gIFtWaWV3LlJlc2V0UGFzc3dvcmRdOiAnL3Jlc2V0LXBhc3N3b3JkJyxcbiAgW1ZpZXcuRW1haWxDb25maXJtYXRpb25dOiAnL2NvbmZpcm0tZW1haWwnLFxuICBbVmlldy5QcmFjdGljZV06ICcvcHJhY3RpY2UnLFxuICBbVmlldy5GZWVkYmFja106ICcvZmVlZGJhY2snLFxuICBbVmlldy5TY2VuYXJpb1NlbGVjdGlvbl06ICcvc2NlbmFyaW9zJyxcbiAgW1ZpZXcuU2V0dGluZ3NdOiAnL3NldHRpbmdzJyxcbiAgW1ZpZXcuUGF5d2FsbF06ICcvdXBncmFkZScsXG4gIFtWaWV3LlJlcG9ydHNdOiAnL3JlcG9ydHMnLFxuICBbVmlldy5DYWxlbmRhcl06ICcvY2FsZW5kYXInLFxuICBbVmlldy5Db2FjaGluZ1N1bW1hcnldOiAnL2NvYWNoaW5nLXN1bW1hcnknLFxuICBbVmlldy5SZXNvdXJjZUxpYnJhcnldOiAnL3Jlc291cmNlcycsXG4gIFtWaWV3Lkhpc3RvcnldOiAnL2hpc3RvcnknLFxuICBbVmlldy5DYW5jZWxTdWJzY3JpcHRpb25dOiAnL2NhbmNlbC1zdWJzY3JpcHRpb24nLFxuICBbVmlldy5Qcml2YWN5UG9saWN5XTogJy9wcml2YWN5JyxcbiAgW1ZpZXcuVGVybXNPZlNlcnZpY2VdOiAnL3Rlcm1zJyxcbiAgW1ZpZXcuU3Vic2NyaXB0aW9uVGVybXNdOiAnL3N1YnNjcmlwdGlvbi10ZXJtcycsXG4gIFtWaWV3LkNvb2tpZVBvbGljeV06ICcvY29va2llcycsXG4gIFtWaWV3LkRpc2NsYWltZXJdOiAnL2Rpc2NsYWltZXInLFxuICBbVmlldy5TdXBwb3J0XTogJy9zdXBwb3J0Jyxcbn07XG5cbi8vIE1hcCBVUkwgcGF0aHMgYmFjayB0byB2aWV3c1xuY29uc3QgUEFUSF9UT19WSUVXOiBSZWNvcmQ8c3RyaW5nLCBWaWV3PiA9IE9iamVjdC5lbnRyaWVzKFZJRVdfVE9fUEFUSCkucmVkdWNlKFxuICAoYWNjLCBbdmlldywgcGF0aF0pID0+IHtcbiAgICBpZiAocGF0aCkgYWNjW3BhdGhdID0gdmlldyBhcyBWaWV3O1xuICAgIHJldHVybiBhY2M7XG4gIH0sXG4gIHt9IGFzIFJlY29yZDxzdHJpbmcsIFZpZXc+XG4pO1xuXG4vKipcbiAqIEhvb2sgdG8gaGFuZGxlIHZpZXcgcm91dGluZyBiYXNlZCBvbiBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICogTmF2aWdhdGVzIHRvIGRhc2hib2FyZCB3aGVuIHVzZXIgbG9ncyBpbiwgYWxsb3dzIGFub255bW91cyBhY2Nlc3MgdG8gZnJlZSB0aWVyIGZlYXR1cmVzXG4gKiBBbHNvIG1hbmFnZXMgYnJvd3NlciBoaXN0b3J5IGZvciBiYWNrIGJ1dHRvbiBzdXBwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCB1c2VBcHBSb3V0ZXIgPSAoeyB1c2VyLCBhdXRoTG9hZGluZywgdmlldywgc2V0VmlldyB9OiBVc2VBcHBSb3V0ZXJPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHByZXZpb3VzVmlld1JlZiA9IHVzZVJlZjxWaWV3IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGlzSGFuZGxpbmdQb3BTdGF0ZVJlZiA9IHVzZVJlZihmYWxzZSk7XG5cbiAgLy8gVXBkYXRlIFVSTCB3aGVuIHZpZXcgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdXRoTG9hZGluZykgcmV0dXJuO1xuXG4gICAgY29uc3QgcGF0aCA9IFZJRVdfVE9fUEFUSFt2aWV3XTtcbiAgICBpZiAocGF0aCAmJiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09IHBhdGgpIHtcbiAgICAgIC8vIE9ubHkgcHVzaCB0byBoaXN0b3J5IGlmIHRoaXMgaXMgYSBuZXcgbmF2aWdhdGlvbiAobm90IGZyb20gcG9wc3RhdGUpXG4gICAgICBpZiAoIWlzSGFuZGxpbmdQb3BTdGF0ZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7IHZpZXcgfSwgJycsIHBhdGgpO1xuICAgICAgfVxuICAgICAgaXNIYW5kbGluZ1BvcFN0YXRlUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcmV2aW91c1ZpZXdSZWYuY3VycmVudCA9IHZpZXc7XG4gIH0sIFt2aWV3LCBhdXRoTG9hZGluZ10pO1xuXG4gIC8vIEhhbmRsZSBicm93c2VyIGJhY2svZm9yd2FyZCBidXR0b25zXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUG9wU3RhdGUgPSAoZXZlbnQ6IFBvcFN0YXRlRXZlbnQpID0+IHtcbiAgICAgIGlzSGFuZGxpbmdQb3BTdGF0ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIFxuICAgICAgaWYgKGV2ZW50LnN0YXRlPy52aWV3KSB7XG4gICAgICAgIC8vIE5hdmlnYXRlIHRvIHRoZSB2aWV3IGZyb20gaGlzdG9yeSBzdGF0ZVxuICAgICAgICBzZXRWaWV3KGV2ZW50LnN0YXRlLnZpZXcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgbm8gc3RhdGUsIHRyeSB0byBwYXJzZSB0aGUgVVJMXG4gICAgICAgIGNvbnN0IHBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICAgIGNvbnN0IHZpZXdGcm9tUGF0aCA9IFBBVEhfVE9fVklFV1twYXRoXTtcbiAgICAgICAgaWYgKHZpZXdGcm9tUGF0aCkge1xuICAgICAgICAgIHNldFZpZXcodmlld0Zyb21QYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBEZWZhdWx0IHRvIGRhc2hib2FyZFxuICAgICAgICAgIHNldFZpZXcoVmlldy5EYXNoYm9hcmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgaGFuZGxlUG9wU3RhdGUpO1xuICB9LCBbc2V0Vmlld10pO1xuXG4gIC8vIFNldCBpbml0aWFsIHZpZXcgZnJvbSBVUkwgb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBwYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIGNvbnN0IHZpZXdGcm9tUGF0aCA9IFBBVEhfVE9fVklFV1twYXRoXTtcbiAgICBcbiAgICAvLyBEb24ndCBjaGFuZ2UgdmlldyBkdXJpbmcgYXV0aCBsb2FkaW5nIG9yIGlmIGFscmVhZHkgb24gdGhlIGNvcnJlY3Qgdmlld1xuICAgIGlmIChhdXRoTG9hZGluZykgcmV0dXJuO1xuICAgIFxuICAgIC8vIEhhbmRsZSBhdXRoIGNhbGxiYWNrIFVSTHMgKHRoZXkgaGF2ZSBzcGVjaWFsIHF1ZXJ5IHBhcmFtcylcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIGlmICh1cmxQYXJhbXMuaGFzKCdhY2Nlc3NfdG9rZW4nKSB8fCB1cmxQYXJhbXMuaGFzKCd0eXBlJykpIHtcbiAgICAgIC8vIEF1dGggY2FsbGJhY2sgLSBsZXQgdXNlQXV0aENhbGxiYWNrIGhhbmRsZSBpdFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgU3RyaXBlIGNhbGxiYWNrXG4gICAgaWYgKHVybFBhcmFtcy5oYXMoJ3Nlc3Npb25faWQnKSkge1xuICAgICAgLy8gU3RyaXBlIGNhbGxiYWNrIC0gbGV0IHVzZVN0cmlwZUNhbGxiYWNrIGhhbmRsZSBpdFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgaGlzdG9yeSBzdGF0ZSBvbiBtb3VudFxuICAgIGlmICghd2luZG93Lmhpc3Rvcnkuc3RhdGU/LnZpZXcpIHtcbiAgICAgIGNvbnN0IGluaXRpYWxWaWV3ID0gdmlld0Zyb21QYXRoIHx8IFZpZXcuRGFzaGJvYXJkO1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHsgdmlldzogaW5pdGlhbFZpZXcgfSwgJycsIFZJRVdfVE9fUEFUSFtpbml0aWFsVmlld10gfHwgJy8nKTtcbiAgICB9XG4gIH0sIFthdXRoTG9hZGluZ10pO1xuXG4gIC8vIEF1dGgtYmFzZWQgcmVkaXJlY3RzIC0gRklYRUQ6IFVzZSByZWYgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuICBjb25zdCBwcmV2aW91c1VzZXJSZWYgPSB1c2VSZWY8eyBpZDogc3RyaW5nIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgcmVkaXJlY3RIYW5kbGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dGhMb2FkaW5nKSB7XG4gICAgICByZXR1cm47IC8vIERvbid0IGNoYW5nZSB2aWV3IHdoaWxlIGxvYWRpbmdcbiAgICB9XG5cbiAgICAvLyBPbmx5IGhhbmRsZSByZWRpcmVjdHMgd2hlbiB1c2VyIHN0YXRlIGFjdHVhbGx5IGNoYW5nZXMsIG5vdCBvbiBldmVyeSB2aWV3IGNoYW5nZVxuICAgIGNvbnN0IHVzZXJDaGFuZ2VkID0gcHJldmlvdXNVc2VyUmVmLmN1cnJlbnQgIT09IHVzZXI7XG4gICAgcHJldmlvdXNVc2VyUmVmLmN1cnJlbnQgPSB1c2VyO1xuXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIC8vIFVzZXIgaXMgbG9nZ2VkIGluLCBuYXZpZ2F0ZSB0byBkYXNoYm9hcmQgaWYgb24gbG9naW4tcmVsYXRlZCBzY3JlZW5zXG4gICAgICAvLyBCdXQgZG9uJ3QgbmF2aWdhdGUgYXdheSBmcm9tIHJlc2V0IHBhc3N3b3JkIGlmIHRoZXkncmUgaW4gdGhlIG1pZGRsZSBvZiByZXNldHRpbmdcbiAgICAgIGlmICgodmlldyA9PT0gVmlldy5Mb2dpbiB8fCB2aWV3ID09PSBWaWV3LkZvcmdvdFBhc3N3b3JkIHx8IHZpZXcgPT09IFZpZXcuRW1haWxDb25maXJtYXRpb24pICYmIHZpZXcgIT09IFZpZXcuUmVzZXRQYXNzd29yZCkge1xuICAgICAgICAvLyBPbmx5IHJlZGlyZWN0IGlmIHVzZXIganVzdCBsb2dnZWQgaW4gKHVzZXJDaGFuZ2VkKSBvciBpZiB3ZSBoYXZlbid0IGhhbmRsZWQgdGhpcyByZWRpcmVjdCB5ZXRcbiAgICAgICAgaWYgKHVzZXJDaGFuZ2VkIHx8ICFyZWRpcmVjdEhhbmRsZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgIHNldFZpZXcoVmlldy5EYXNoYm9hcmQpO1xuICAgICAgICAgIHJlZGlyZWN0SGFuZGxlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVkaXJlY3RIYW5kbGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXNlciBpcyBub3QgbG9nZ2VkIGluIC0gYWxsb3cgYW5vbnltb3VzIGFjY2VzcyB0byBmcmVlIHRpZXIgZmVhdHVyZXNcbiAgICAgIC8vIE9ubHkgc2hvdyBsb2dpbiBpZiBvbiBsb2dpbi9hdXRoIHNjcmVlbnMsIG90aGVyd2lzZSBhbGxvdyBEYXNoYm9hcmQgYW5kIG90aGVyIHZpZXdzXG4gICAgICBpZiAodmlldyA9PT0gVmlldy5Mb2dpbiB8fCB2aWV3ID09PSBWaWV3LkZvcmdvdFBhc3N3b3JkIHx8IHZpZXcgPT09IFZpZXcuRW1haWxDb25maXJtYXRpb24gfHwgdmlldyA9PT0gVmlldy5SZXNldFBhc3N3b3JkKSB7XG4gICAgICAgIC8vIEFscmVhZHkgb24gYXV0aCBzY3JlZW5zLCBzdGF5IHRoZXJlXG4gICAgICAgIHJlZGlyZWN0SGFuZGxlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFByYWN0aWNlLXJlbGF0ZWQgdmlld3MgcmVxdWlyZSBhdXRoZW50aWNhdGlvbiAtIHJlZGlyZWN0IHRvIGxvZ2luXG4gICAgICBpZiAodmlldyA9PT0gVmlldy5QcmFjdGljZSB8fCB2aWV3ID09PSBWaWV3LkZlZWRiYWNrIHx8IHZpZXcgPT09IFZpZXcuU2NlbmFyaW9TZWxlY3Rpb24pIHtcbiAgICAgICAgLy8gT25seSByZWRpcmVjdCBpZiB3ZSBoYXZlbid0IGhhbmRsZWQgdGhpcyByZWRpcmVjdCB5ZXRcbiAgICAgICAgaWYgKCFyZWRpcmVjdEhhbmRsZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlQXBwUm91dGVyXSBQcmFjdGljZSB2aWV3IHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uLCByZWRpcmVjdGluZyB0byBsb2dpbicpO1xuICAgICAgICAgIHNldFZpZXcoVmlldy5Mb2dpbik7XG4gICAgICAgICAgcmVkaXJlY3RIYW5kbGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEFub255bW91cyB1c2VycyBjYW4gYWNjZXNzIERhc2hib2FyZCwgUGF5d2FsbCAoc2hvd3MgbG9naW4gcHJvbXB0KSwgU2V0dGluZ3MgKHNob3dzIHNpZ24gdXApLCBhbmQgb3RoZXIgZnJlZSB0aWVyIHZpZXdzXG4gICAgICAvLyBPbmx5IHJlZGlyZWN0IHByZW1pdW0tb25seSB2aWV3cyB0aGF0IHJlcXVpcmUgYXV0aGVudGljYXRpb25cbiAgICAgIGlmICh2aWV3ID09PSBWaWV3LkNhbGVuZGFyIHx8IHZpZXcgPT09IFZpZXcuQ29hY2hpbmdTdW1tYXJ5IHx8IHZpZXcgPT09IFZpZXcuQ2FuY2VsU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIC8vIE9ubHkgcmVkaXJlY3QgaWYgd2UgaGF2ZW4ndCBoYW5kbGVkIHRoaXMgcmVkaXJlY3QgeWV0XG4gICAgICAgIGlmICghcmVkaXJlY3RIYW5kbGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBUaGVzZSB2aWV3cyByZXF1aXJlIGxvZ2luIC0gcmVkaXJlY3QgdG8gZGFzaGJvYXJkXG4gICAgICAgICAgc2V0VmlldyhWaWV3LkRhc2hib2FyZCk7XG4gICAgICAgICAgcmVkaXJlY3RIYW5kbGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFJlc2V0IHJlZGlyZWN0IGZsYWcgZm9yIGFsbG93ZWQgdmlld3NcbiAgICAgIHJlZGlyZWN0SGFuZGxlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAvLyBOb3RlOiBQYXl3YWxsVmlldyBhbmQgU2V0dGluZ3NWaWV3IGhhbmRsZSBhbm9ueW1vdXMgdXNlcnMgYnkgc2hvd2luZyBsb2dpbi9zaWdudXAgcHJvbXB0c1xuICAgIH1cbiAgfSwgW3VzZXIsIGF1dGhMb2FkaW5nLCB2aWV3LCBzZXRWaWV3XSk7XG59O1xuXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwiVmlldyIsIlZJRVdfVE9fUEFUSCIsIkRhc2hib2FyZCIsIkxvZ2luIiwiRm9yZ290UGFzc3dvcmQiLCJSZXNldFBhc3N3b3JkIiwiRW1haWxDb25maXJtYXRpb24iLCJQcmFjdGljZSIsIkZlZWRiYWNrIiwiU2NlbmFyaW9TZWxlY3Rpb24iLCJTZXR0aW5ncyIsIlBheXdhbGwiLCJSZXBvcnRzIiwiQ2FsZW5kYXIiLCJDb2FjaGluZ1N1bW1hcnkiLCJSZXNvdXJjZUxpYnJhcnkiLCJIaXN0b3J5IiwiQ2FuY2VsU3Vic2NyaXB0aW9uIiwiUHJpdmFjeVBvbGljeSIsIlRlcm1zT2ZTZXJ2aWNlIiwiU3Vic2NyaXB0aW9uVGVybXMiLCJDb29raWVQb2xpY3kiLCJEaXNjbGFpbWVyIiwiU3VwcG9ydCIsIlBBVEhfVE9fVklFVyIsIk9iamVjdCIsImVudHJpZXMiLCJyZWR1Y2UiLCJhY2MiLCJ2aWV3IiwicGF0aCIsInVzZUFwcFJvdXRlciIsInVzZXIiLCJhdXRoTG9hZGluZyIsInNldFZpZXciLCJwcmV2aW91c1ZpZXdSZWYiLCJpc0hhbmRsaW5nUG9wU3RhdGVSZWYiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiY3VycmVudCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJoYW5kbGVQb3BTdGF0ZSIsImV2ZW50Iiwic3RhdGUiLCJ2aWV3RnJvbVBhdGgiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsImhhcyIsImluaXRpYWxWaWV3IiwicmVwbGFjZVN0YXRlIiwicHJldmlvdXNVc2VyUmVmIiwicmVkaXJlY3RIYW5kbGVkUmVmIiwidXNlckNoYW5nZWQiLCJjb25zb2xlIiwibG9nIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useAppRouter.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useAppState.ts":
/*!******************************!*\
  !*** ./hooks/useAppState.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAppState: () => (/* binding */ useAppState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"(ssr)/./types.ts\");\n\n\n/**\n * Consolidated app state hook\n * Manages all application-level state in one place\n */ const useAppState = ()=>{\n    const [userTier, setUserTier] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n    const [view, setView] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard);\n    const [sessions, setSessions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [sessionsLoading, setSessionsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [remainingFreeSessions, setRemainingFreeSessions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentPatient, setCurrentPatient] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentSession, setCurrentSession] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [showOnboarding, setShowOnboarding] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [coachingSummary, setCoachingSummary] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [coachingSummaryError, setCoachingSummaryError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isGeneratingSummary, setIsGeneratingSummary] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showReviewPrompt, setShowReviewPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [confirmationEmail, setConfirmationEmail] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n    const [loggingOut, setLoggingOut] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    return {\n        // State\n        userTier,\n        setUserTier,\n        view,\n        setView,\n        sessions,\n        setSessions,\n        sessionsLoading,\n        setSessionsLoading,\n        remainingFreeSessions,\n        setRemainingFreeSessions,\n        currentPatient,\n        setCurrentPatient,\n        currentSession,\n        setCurrentSession,\n        showOnboarding,\n        setShowOnboarding,\n        coachingSummary,\n        setCoachingSummary,\n        coachingSummaryError,\n        setCoachingSummaryError,\n        isGeneratingSummary,\n        setIsGeneratingSummary,\n        showReviewPrompt,\n        setShowReviewPrompt,\n        confirmationEmail,\n        setConfirmationEmail,\n        loggingOut,\n        setLoggingOut\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2VBcHBTdGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlDO0FBQ21EO0FBRXBGOzs7Q0FHQyxHQUNNLE1BQU1HLGNBQWM7SUFDekIsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdMLCtDQUFRQSxDQUFXQyw0Q0FBUUEsQ0FBQ0ssSUFBSTtJQUNoRSxNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR1IsK0NBQVFBLENBQU9FLHdDQUFJQSxDQUFDTyxTQUFTO0lBQ3JELE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHWCwrQ0FBUUEsQ0FBWSxFQUFFO0lBQ3RELE1BQU0sQ0FBQ1ksaUJBQWlCQyxtQkFBbUIsR0FBR2IsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDYyx1QkFBdUJDLHlCQUF5QixHQUFHZiwrQ0FBUUEsQ0FBZ0I7SUFDbEYsTUFBTSxDQUFDZ0IsZ0JBQWdCQyxrQkFBa0IsR0FBR2pCLCtDQUFRQSxDQUF3QjtJQUM1RSxNQUFNLENBQUNrQixnQkFBZ0JDLGtCQUFrQixHQUFHbkIsK0NBQVFBLENBQWlCO0lBQ3JFLE1BQU0sQ0FBQ29CLGdCQUFnQkMsa0JBQWtCLEdBQUdyQiwrQ0FBUUEsQ0FBaUI7SUFDckUsTUFBTSxDQUFDc0IsaUJBQWlCQyxtQkFBbUIsR0FBR3ZCLCtDQUFRQSxDQUF5QjtJQUMvRSxNQUFNLENBQUN3QixzQkFBc0JDLHdCQUF3QixHQUFHekIsK0NBQVFBLENBQWdCO0lBQ2hGLE1BQU0sQ0FBQzBCLHFCQUFxQkMsdUJBQXVCLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUMvRCxNQUFNLENBQUM0QixrQkFBa0JDLG9CQUFvQixHQUFHN0IsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDOEIsbUJBQW1CQyxxQkFBcUIsR0FBRy9CLCtDQUFRQSxDQUFTO0lBQ25FLE1BQU0sQ0FBQ2dDLFlBQVlDLGNBQWMsR0FBR2pDLCtDQUFRQSxDQUFDO0lBRTdDLE9BQU87UUFDTCxRQUFRO1FBQ1JJO1FBQ0FDO1FBQ0FFO1FBQ0FDO1FBQ0FFO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ob29rcy91c2VBcHBTdGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVzZXJUaWVyLCBWaWV3LCBQYXRpZW50UHJvZmlsZSwgU2Vzc2lvbiwgQ29hY2hpbmdTdW1tYXJ5IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIENvbnNvbGlkYXRlZCBhcHAgc3RhdGUgaG9va1xuICogTWFuYWdlcyBhbGwgYXBwbGljYXRpb24tbGV2ZWwgc3RhdGUgaW4gb25lIHBsYWNlXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VBcHBTdGF0ZSA9ICgpID0+IHtcbiAgY29uc3QgW3VzZXJUaWVyLCBzZXRVc2VyVGllcl0gPSB1c2VTdGF0ZTxVc2VyVGllcj4oVXNlclRpZXIuRnJlZSk7XG4gIGNvbnN0IFt2aWV3LCBzZXRWaWV3XSA9IHVzZVN0YXRlPFZpZXc+KFZpZXcuRGFzaGJvYXJkKTtcbiAgY29uc3QgW3Nlc3Npb25zLCBzZXRTZXNzaW9uc10gPSB1c2VTdGF0ZTxTZXNzaW9uW10+KFtdKTtcbiAgY29uc3QgW3Nlc3Npb25zTG9hZGluZywgc2V0U2Vzc2lvbnNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlbWFpbmluZ0ZyZWVTZXNzaW9ucywgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY3VycmVudFBhdGllbnQsIHNldEN1cnJlbnRQYXRpZW50XSA9IHVzZVN0YXRlPFBhdGllbnRQcm9maWxlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50U2Vzc2lvbiwgc2V0Q3VycmVudFNlc3Npb25dID0gdXNlU3RhdGU8U2Vzc2lvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd09uYm9hcmRpbmcsIHNldFNob3dPbmJvYXJkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NvYWNoaW5nU3VtbWFyeSwgc2V0Q29hY2hpbmdTdW1tYXJ5XSA9IHVzZVN0YXRlPENvYWNoaW5nU3VtbWFyeSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY29hY2hpbmdTdW1tYXJ5RXJyb3IsIHNldENvYWNoaW5nU3VtbWFyeUVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNHZW5lcmF0aW5nU3VtbWFyeSwgc2V0SXNHZW5lcmF0aW5nU3VtbWFyeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UmV2aWV3UHJvbXB0LCBzZXRTaG93UmV2aWV3UHJvbXB0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbmZpcm1hdGlvbkVtYWlsLCBzZXRDb25maXJtYXRpb25FbWFpbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2xvZ2dpbmdPdXQsIHNldExvZ2dpbmdPdXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHJldHVybiB7XG4gICAgLy8gU3RhdGVcbiAgICB1c2VyVGllcixcbiAgICBzZXRVc2VyVGllcixcbiAgICB2aWV3LFxuICAgIHNldFZpZXcsXG4gICAgc2Vzc2lvbnMsXG4gICAgc2V0U2Vzc2lvbnMsXG4gICAgc2Vzc2lvbnNMb2FkaW5nLFxuICAgIHNldFNlc3Npb25zTG9hZGluZyxcbiAgICByZW1haW5pbmdGcmVlU2Vzc2lvbnMsXG4gICAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zLFxuICAgIGN1cnJlbnRQYXRpZW50LFxuICAgIHNldEN1cnJlbnRQYXRpZW50LFxuICAgIGN1cnJlbnRTZXNzaW9uLFxuICAgIHNldEN1cnJlbnRTZXNzaW9uLFxuICAgIHNob3dPbmJvYXJkaW5nLFxuICAgIHNldFNob3dPbmJvYXJkaW5nLFxuICAgIGNvYWNoaW5nU3VtbWFyeSxcbiAgICBzZXRDb2FjaGluZ1N1bW1hcnksXG4gICAgY29hY2hpbmdTdW1tYXJ5RXJyb3IsXG4gICAgc2V0Q29hY2hpbmdTdW1tYXJ5RXJyb3IsXG4gICAgaXNHZW5lcmF0aW5nU3VtbWFyeSxcbiAgICBzZXRJc0dlbmVyYXRpbmdTdW1tYXJ5LFxuICAgIHNob3dSZXZpZXdQcm9tcHQsXG4gICAgc2V0U2hvd1Jldmlld1Byb21wdCxcbiAgICBjb25maXJtYXRpb25FbWFpbCxcbiAgICBzZXRDb25maXJtYXRpb25FbWFpbCxcbiAgICBsb2dnaW5nT3V0LFxuICAgIHNldExvZ2dpbmdPdXQsXG4gIH07XG59O1xuXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJVc2VyVGllciIsIlZpZXciLCJ1c2VBcHBTdGF0ZSIsInVzZXJUaWVyIiwic2V0VXNlclRpZXIiLCJGcmVlIiwidmlldyIsInNldFZpZXciLCJEYXNoYm9hcmQiLCJzZXNzaW9ucyIsInNldFNlc3Npb25zIiwic2Vzc2lvbnNMb2FkaW5nIiwic2V0U2Vzc2lvbnNMb2FkaW5nIiwicmVtYWluaW5nRnJlZVNlc3Npb25zIiwic2V0UmVtYWluaW5nRnJlZVNlc3Npb25zIiwiY3VycmVudFBhdGllbnQiLCJzZXRDdXJyZW50UGF0aWVudCIsImN1cnJlbnRTZXNzaW9uIiwic2V0Q3VycmVudFNlc3Npb24iLCJzaG93T25ib2FyZGluZyIsInNldFNob3dPbmJvYXJkaW5nIiwiY29hY2hpbmdTdW1tYXJ5Iiwic2V0Q29hY2hpbmdTdW1tYXJ5IiwiY29hY2hpbmdTdW1tYXJ5RXJyb3IiLCJzZXRDb2FjaGluZ1N1bW1hcnlFcnJvciIsImlzR2VuZXJhdGluZ1N1bW1hcnkiLCJzZXRJc0dlbmVyYXRpbmdTdW1tYXJ5Iiwic2hvd1Jldmlld1Byb21wdCIsInNldFNob3dSZXZpZXdQcm9tcHQiLCJjb25maXJtYXRpb25FbWFpbCIsInNldENvbmZpcm1hdGlvbkVtYWlsIiwibG9nZ2luZ091dCIsInNldExvZ2dpbmdPdXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useAppState.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useAuthCallback.ts":
/*!**********************************!*\
  !*** ./hooks/useAuthCallback.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAuthCallback: () => (/* binding */ useAuthCallback)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n\n\n\n/**\n * Hook to handle authentication callbacks from URL (password reset, email confirmation)\n */ const useAuthCallback = ({ setView })=>{\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAuthCallback.useEffect\": ()=>{\n            const handleAuthCallback = {\n                \"useAuthCallback.useEffect.handleAuthCallback\": async ()=>{\n                    // Check if URL contains auth token (Supabase sends it in hash)\n                    const hashParams = new URLSearchParams(window.location.hash.substring(1));\n                    const type = hashParams.get('type');\n                    const accessToken = hashParams.get('access_token');\n                    if ((0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                        try {\n                            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                            // Handle password reset\n                            if (window.location.pathname === '/reset-password' || type === 'recovery' && accessToken) {\n                                // If we have a recovery token in the URL, Supabase will handle it via auth state change\n                                // But we need to show the reset password view\n                                if (type === 'recovery' && accessToken) {\n                                    setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.ResetPassword);\n                                // Clear the hash after detecting it (the component will handle the session)\n                                // Don't clear immediately - let Supabase process it first\n                                } else {\n                                    // Check if we already have a session (user clicked link and Supabase created session)\n                                    const { data } = await supabase.auth.getSession();\n                                    if (data?.session) {\n                                        setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.ResetPassword);\n                                    }\n                                }\n                            } else if (type === 'signup' && accessToken) {\n                                console.log('[useAuthCallback] Email confirmation callback detected');\n                                // Supabase will automatically process the token and create a session\n                                // The auth state change listener will detect the user and navigate to dashboard\n                                // Clear the hash from URL\n                                window.history.replaceState({}, '', window.location.pathname);\n                            // The user will be automatically logged in via onAuthStateChange\n                            }\n                        } catch (error) {\n                            console.error('[useAuthCallback] Error handling auth callback:', error);\n                        }\n                    } else {\n                        // In mock mode, just show the reset password view if needed\n                        if (window.location.pathname === '/reset-password' || type === 'recovery' && accessToken) {\n                            setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.ResetPassword);\n                        }\n                    }\n                }\n            }[\"useAuthCallback.useEffect.handleAuthCallback\"];\n            handleAuthCallback();\n        }\n    }[\"useAuthCallback.useEffect\"], [\n        setView\n    ]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2VBdXRoQ2FsbGJhY2sudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0M7QUFDRjtBQUMwQztBQU0xRTs7Q0FFQyxHQUNNLE1BQU1JLGtCQUFrQixDQUFDLEVBQUVDLE9BQU8sRUFBMEI7SUFDakVMLGdEQUFTQTtxQ0FBQztZQUNSLE1BQU1NO2dFQUFxQjtvQkFDekIsK0RBQStEO29CQUMvRCxNQUFNQyxhQUFhLElBQUlDLGdCQUFnQkMsT0FBT0MsUUFBUSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsQ0FBQztvQkFDdEUsTUFBTUMsT0FBT04sV0FBV08sR0FBRyxDQUFDO29CQUM1QixNQUFNQyxjQUFjUixXQUFXTyxHQUFHLENBQUM7b0JBRW5DLElBQUlYLG1FQUFvQkEsSUFBSTt3QkFDMUIsSUFBSTs0QkFDRixNQUFNYSxXQUFXZCxnRUFBaUJBOzRCQUVsQyx3QkFBd0I7NEJBQ3hCLElBQUlPLE9BQU9DLFFBQVEsQ0FBQ08sUUFBUSxLQUFLLHFCQUFzQkosU0FBUyxjQUFjRSxhQUFjO2dDQUMxRix3RkFBd0Y7Z0NBQ3hGLDhDQUE4QztnQ0FDOUMsSUFBSUYsU0FBUyxjQUFjRSxhQUFhO29DQUN0Q1YsUUFBUUosd0NBQUlBLENBQUNpQixhQUFhO2dDQUMxQiw0RUFBNEU7Z0NBQzVFLDBEQUEwRDtnQ0FDNUQsT0FBTztvQ0FDTCxzRkFBc0Y7b0NBQ3RGLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUcsTUFBTUgsU0FBU0ksSUFBSSxDQUFDQyxVQUFVO29DQUMvQyxJQUFJRixNQUFNRyxTQUFTO3dDQUNqQmpCLFFBQVFKLHdDQUFJQSxDQUFDaUIsYUFBYTtvQ0FDNUI7Z0NBQ0Y7NEJBQ0YsT0FFSyxJQUFJTCxTQUFTLFlBQVlFLGFBQWE7Z0NBQ3pDUSxRQUFRQyxHQUFHLENBQUM7Z0NBQ1oscUVBQXFFO2dDQUNyRSxnRkFBZ0Y7Z0NBQ2hGLDBCQUEwQjtnQ0FDMUJmLE9BQU9nQixPQUFPLENBQUNDLFlBQVksQ0FBQyxDQUFDLEdBQUcsSUFBSWpCLE9BQU9DLFFBQVEsQ0FBQ08sUUFBUTs0QkFDNUQsaUVBQWlFOzRCQUNuRTt3QkFDRixFQUFFLE9BQU9VLE9BQU87NEJBQ2RKLFFBQVFJLEtBQUssQ0FBQyxtREFBbURBO3dCQUNuRTtvQkFDRixPQUFPO3dCQUNMLDREQUE0RDt3QkFDNUQsSUFBSWxCLE9BQU9DLFFBQVEsQ0FBQ08sUUFBUSxLQUFLLHFCQUFzQkosU0FBUyxjQUFjRSxhQUFjOzRCQUMxRlYsUUFBUUosd0NBQUlBLENBQUNpQixhQUFhO3dCQUM1QjtvQkFDRjtnQkFDRjs7WUFFQVo7UUFDRjtvQ0FBRztRQUFDRDtLQUFRO0FBQ2QsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvaG9va3MvdXNlQXV0aENhbGxiYWNrLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZpZXcgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRTdXBhYmFzZUNsaWVudCwgaXNTdXBhYmFzZUNvbmZpZ3VyZWQgfSBmcm9tICcuLi9saWIvc3VwYWJhc2UnO1xuXG5pbnRlcmZhY2UgVXNlQXV0aENhbGxiYWNrT3B0aW9ucyB7XG4gIHNldFZpZXc6ICh2aWV3OiBWaWV3KSA9PiB2b2lkO1xufVxuXG4vKipcbiAqIEhvb2sgdG8gaGFuZGxlIGF1dGhlbnRpY2F0aW9uIGNhbGxiYWNrcyBmcm9tIFVSTCAocGFzc3dvcmQgcmVzZXQsIGVtYWlsIGNvbmZpcm1hdGlvbilcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUF1dGhDYWxsYmFjayA9ICh7IHNldFZpZXcgfTogVXNlQXV0aENhbGxiYWNrT3B0aW9ucykgPT4ge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUF1dGhDYWxsYmFjayA9IGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENoZWNrIGlmIFVSTCBjb250YWlucyBhdXRoIHRva2VuIChTdXBhYmFzZSBzZW5kcyBpdCBpbiBoYXNoKVxuICAgICAgY29uc3QgaGFzaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKTtcbiAgICAgIGNvbnN0IHR5cGUgPSBoYXNoUGFyYW1zLmdldCgndHlwZScpO1xuICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBoYXNoUGFyYW1zLmdldCgnYWNjZXNzX3Rva2VuJyk7XG4gICAgICBcbiAgICAgIGlmIChpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEhhbmRsZSBwYXNzd29yZCByZXNldFxuICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcmVzZXQtcGFzc3dvcmQnIHx8ICh0eXBlID09PSAncmVjb3ZlcnknICYmIGFjY2Vzc1Rva2VuKSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHJlY292ZXJ5IHRva2VuIGluIHRoZSBVUkwsIFN1cGFiYXNlIHdpbGwgaGFuZGxlIGl0IHZpYSBhdXRoIHN0YXRlIGNoYW5nZVxuICAgICAgICAgICAgLy8gQnV0IHdlIG5lZWQgdG8gc2hvdyB0aGUgcmVzZXQgcGFzc3dvcmQgdmlld1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdyZWNvdmVyeScgJiYgYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgICAgc2V0VmlldyhWaWV3LlJlc2V0UGFzc3dvcmQpO1xuICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgaGFzaCBhZnRlciBkZXRlY3RpbmcgaXQgKHRoZSBjb21wb25lbnQgd2lsbCBoYW5kbGUgdGhlIHNlc3Npb24pXG4gICAgICAgICAgICAgIC8vIERvbid0IGNsZWFyIGltbWVkaWF0ZWx5IC0gbGV0IFN1cGFiYXNlIHByb2Nlc3MgaXQgZmlyc3RcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIHNlc3Npb24gKHVzZXIgY2xpY2tlZCBsaW5rIGFuZCBTdXBhYmFzZSBjcmVhdGVkIHNlc3Npb24pXG4gICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICAgICAgICAgIGlmIChkYXRhPy5zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgc2V0VmlldyhWaWV3LlJlc2V0UGFzc3dvcmQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEhhbmRsZSBlbWFpbCBjb25maXJtYXRpb25cbiAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnc2lnbnVwJyAmJiBhY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1t1c2VBdXRoQ2FsbGJhY2tdIEVtYWlsIGNvbmZpcm1hdGlvbiBjYWxsYmFjayBkZXRlY3RlZCcpO1xuICAgICAgICAgICAgLy8gU3VwYWJhc2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHByb2Nlc3MgdGhlIHRva2VuIGFuZCBjcmVhdGUgYSBzZXNzaW9uXG4gICAgICAgICAgICAvLyBUaGUgYXV0aCBzdGF0ZSBjaGFuZ2UgbGlzdGVuZXIgd2lsbCBkZXRlY3QgdGhlIHVzZXIgYW5kIG5hdmlnYXRlIHRvIGRhc2hib2FyZFxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGhhc2ggZnJvbSBVUkxcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICAgICAgICAvLyBUaGUgdXNlciB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgbG9nZ2VkIGluIHZpYSBvbkF1dGhTdGF0ZUNoYW5nZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbdXNlQXV0aENhbGxiYWNrXSBFcnJvciBoYW5kbGluZyBhdXRoIGNhbGxiYWNrOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW4gbW9jayBtb2RlLCBqdXN0IHNob3cgdGhlIHJlc2V0IHBhc3N3b3JkIHZpZXcgaWYgbmVlZGVkXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcmVzZXQtcGFzc3dvcmQnIHx8ICh0eXBlID09PSAncmVjb3ZlcnknICYmIGFjY2Vzc1Rva2VuKSkge1xuICAgICAgICAgIHNldFZpZXcoVmlldy5SZXNldFBhc3N3b3JkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBoYW5kbGVBdXRoQ2FsbGJhY2soKTtcbiAgfSwgW3NldFZpZXddKTtcbn07XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJWaWV3IiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJpc1N1cGFiYXNlQ29uZmlndXJlZCIsInVzZUF1dGhDYWxsYmFjayIsInNldFZpZXciLCJoYW5kbGVBdXRoQ2FsbGJhY2siLCJoYXNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJoYXNoIiwic3Vic3RyaW5nIiwidHlwZSIsImdldCIsImFjY2Vzc1Rva2VuIiwic3VwYWJhc2UiLCJwYXRobmFtZSIsIlJlc2V0UGFzc3dvcmQiLCJkYXRhIiwiYXV0aCIsImdldFNlc3Npb24iLCJzZXNzaW9uIiwiY29uc29sZSIsImxvZyIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJlcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useAuthCallback.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useBadges.ts":
/*!****************************!*\
  !*** ./hooks/useBadges.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useBadges: () => (/* binding */ useBadges)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts/AuthContext */ \"(ssr)/./contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"(ssr)/./constants.ts\");\n\n\n\n\n// Storage key for anonymous/fallback badge data\nconst BADGES_STORAGE_KEY = 'mi-coach-badges';\n// Storage key for badges pending sync to Supabase\nconst BADGE_SYNC_QUEUE_KEY = 'mi-coach-badge-sync-queue';\n/**\n * Get badges queued for sync to Supabase\n */ const getQueuedBadges = ()=>{\n    try {\n        const stored = localStorage.getItem(BADGE_SYNC_QUEUE_KEY);\n        return stored ? JSON.parse(stored) : [];\n    } catch  {\n        return [];\n    }\n};\n/**\n * Add a badge to the sync queue\n */ const addToQueue = (badgeId, unlockedAt)=>{\n    try {\n        const queue = getQueuedBadges();\n        if (!queue.some((q)=>q.badgeId === badgeId)) {\n            queue.push({\n                badgeId,\n                unlockedAt\n            });\n            localStorage.setItem(BADGE_SYNC_QUEUE_KEY, JSON.stringify(queue));\n        }\n    } catch  {\n    // Ignore storage errors\n    }\n};\n/**\n * Remove a badge from the sync queue\n */ const removeFromQueue = (badgeId)=>{\n    try {\n        const queue = getQueuedBadges().filter((q)=>q.badgeId !== badgeId);\n        localStorage.setItem(BADGE_SYNC_QUEUE_KEY, JSON.stringify(queue));\n    } catch  {\n    // Ignore storage errors\n    }\n};\n/**\n * Hook to manage user badges\n * Tracks badge unlocks and provides methods to check/unlock badges\n */ const useBadges = ()=>{\n    const { user, loading: authLoading } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.useAuth)();\n    const [unlockedBadges, setUnlockedBadges] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    /**\n   * Convert stored badge data to UnlockedBadge\n   */ const toUnlockedBadge = (badgeId, unlockedAt, seen)=>{\n        const badge = (0,_constants__WEBPACK_IMPORTED_MODULE_3__.getBadgeById)(badgeId);\n        if (!badge) return null;\n        return {\n            ...badge,\n            unlockedAt,\n            seen\n        };\n    };\n    /**\n   * Load badges from localStorage (fallback/anonymous)\n   */ const loadFromLocalStorage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBadges.useCallback[loadFromLocalStorage]\": ()=>{\n            try {\n                const stored = localStorage.getItem(BADGES_STORAGE_KEY);\n                if (stored) {\n                    const parsed = JSON.parse(stored);\n                    return parsed.map({\n                        \"useBadges.useCallback[loadFromLocalStorage]\": (b)=>toUnlockedBadge(b.badgeId, new Date(b.unlockedAt), b.seen)\n                    }[\"useBadges.useCallback[loadFromLocalStorage]\"]).filter({\n                        \"useBadges.useCallback[loadFromLocalStorage]\": (b)=>b !== null\n                    }[\"useBadges.useCallback[loadFromLocalStorage]\"]);\n                }\n            } catch (error) {\n                console.error('[useBadges] Failed to parse badges from localStorage:', error);\n            }\n            return [];\n        }\n    }[\"useBadges.useCallback[loadFromLocalStorage]\"], []);\n    /**\n   * Save badges to localStorage\n   */ const saveToLocalStorage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBadges.useCallback[saveToLocalStorage]\": (badges)=>{\n            try {\n                const toStore = badges.map({\n                    \"useBadges.useCallback[saveToLocalStorage].toStore\": (b)=>({\n                            badgeId: b.id,\n                            unlockedAt: b.unlockedAt.toISOString(),\n                            seen: b.seen\n                        })\n                }[\"useBadges.useCallback[saveToLocalStorage].toStore\"]);\n                localStorage.setItem(BADGES_STORAGE_KEY, JSON.stringify(toStore));\n            } catch (error) {\n                console.error('[useBadges] Failed to save badges to localStorage:', error);\n            }\n        }\n    }[\"useBadges.useCallback[saveToLocalStorage]\"], []);\n    /**\n   * Load badges from Supabase\n   */ const loadFromSupabase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBadges.useCallback[loadFromSupabase]\": async (userId)=>{\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                console.warn('[useBadges] Supabase not configured, using localStorage');\n                return loadFromLocalStorage();\n            }\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                const { data, error } = await supabase.from('user_badges').select('badge_id, unlocked_at, seen').eq('user_id', userId).order('unlocked_at', {\n                    ascending: false\n                });\n                if (error) {\n                    // Table might not exist yet\n                    if (error.code === '42P01' || error.message.includes('does not exist')) {\n                        console.log('[useBadges] user_badges table not found, using defaults');\n                        return [];\n                    }\n                    console.error('[useBadges] Failed to load badges from Supabase:', error);\n                    return loadFromLocalStorage();\n                }\n                if (!data) return [];\n                return data.map({\n                    \"useBadges.useCallback[loadFromSupabase]\": (row)=>toUnlockedBadge(row.badge_id, new Date(row.unlocked_at), row.seen)\n                }[\"useBadges.useCallback[loadFromSupabase]\"]).filter({\n                    \"useBadges.useCallback[loadFromSupabase]\": (b)=>b !== null\n                }[\"useBadges.useCallback[loadFromSupabase]\"]);\n            } catch (error) {\n                console.error('[useBadges] Error loading badges from Supabase:', error);\n                return loadFromLocalStorage();\n            }\n        }\n    }[\"useBadges.useCallback[loadFromSupabase]\"], [\n        loadFromLocalStorage\n    ]);\n    /**\n   * Save a single badge to Supabase\n   * If save fails, queues the badge for retry on next load\n   */ const saveBadgeToSupabase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBadges.useCallback[saveBadgeToSupabase]\": async (userId, badgeId, unlockedAt)=>{\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                // Queue for later sync when Supabase becomes available\n                addToQueue(badgeId, unlockedAt);\n                return false;\n            }\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                const { error } = await supabase.from('user_badges').insert({\n                    user_id: userId,\n                    badge_id: badgeId,\n                    unlocked_at: unlockedAt,\n                    seen: false\n                });\n                if (error) {\n                    // Ignore duplicate key errors (badge already unlocked)\n                    if (error.code === '23505') {\n                        console.log('[useBadges] Badge already unlocked:', badgeId);\n                        // Remove from queue if it was queued\n                        removeFromQueue(badgeId);\n                        return true; // Treat as success since badge exists\n                    }\n                    console.error('[useBadges] Failed to save badge to Supabase:', error);\n                    // Queue for retry\n                    addToQueue(badgeId, unlockedAt);\n                    return false;\n                }\n                console.log('[useBadges] Badge saved to Supabase:', badgeId);\n                // Remove from queue on success\n                removeFromQueue(badgeId);\n                return true;\n            } catch (error) {\n                console.error('[useBadges] Error saving badge to Supabase:', error);\n                // Queue for retry\n                addToQueue(badgeId, unlockedAt);\n                return false;\n            }\n        }\n    }[\"useBadges.useCallback[saveBadgeToSupabase]\"], []);\n    /**\n   * Check conditions and unlock any new badges\n   */ const checkAndUnlockBadges = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBadges.useCallback[checkAndUnlockBadges]\": async (context)=>{\n            const { streak, totalSessions } = context;\n            const unlockedIds = new Set(unlockedBadges.map({\n                \"useBadges.useCallback[checkAndUnlockBadges]\": (b)=>b.id\n            }[\"useBadges.useCallback[checkAndUnlockBadges]\"]));\n            const newlyUnlocked = [];\n            // Check streak badges\n            const streakBadges = _constants__WEBPACK_IMPORTED_MODULE_3__.BADGES.filter({\n                \"useBadges.useCallback[checkAndUnlockBadges].streakBadges\": (b)=>b.category === 'streak'\n            }[\"useBadges.useCallback[checkAndUnlockBadges].streakBadges\"]);\n            for (const badge of streakBadges){\n                if (!unlockedIds.has(badge.id) && streak >= badge.requirement) {\n                    newlyUnlocked.push(badge);\n                }\n            }\n            // Check milestone badges\n            const milestoneBadges = _constants__WEBPACK_IMPORTED_MODULE_3__.BADGES.filter({\n                \"useBadges.useCallback[checkAndUnlockBadges].milestoneBadges\": (b)=>b.category === 'milestone'\n            }[\"useBadges.useCallback[checkAndUnlockBadges].milestoneBadges\"]);\n            for (const badge of milestoneBadges){\n                if (!unlockedIds.has(badge.id) && totalSessions >= badge.requirement) {\n                    newlyUnlocked.push(badge);\n                }\n            }\n            if (newlyUnlocked.length === 0) {\n                return [];\n            }\n            // Unlock the new badges\n            const now = new Date();\n            const nowStr = now.toISOString();\n            const newUnlockedBadges = newlyUnlocked.map({\n                \"useBadges.useCallback[checkAndUnlockBadges].newUnlockedBadges\": (badge)=>({\n                        ...badge,\n                        unlockedAt: now,\n                        seen: false\n                    })\n            }[\"useBadges.useCallback[checkAndUnlockBadges].newUnlockedBadges\"]);\n            // Update state optimistically\n            const updatedBadges = [\n                ...unlockedBadges,\n                ...newUnlockedBadges\n            ];\n            setUnlockedBadges(updatedBadges);\n            // Persist to storage\n            if (user) {\n                for (const badge of newlyUnlocked){\n                    // Pass the timestamp so it can be queued if save fails\n                    await saveBadgeToSupabase(user.id, badge.id, nowStr);\n                }\n            }\n            // Always save to localStorage (for offline access or anonymous users)\n            saveToLocalStorage(updatedBadges);\n            console.log('[useBadges] Newly unlocked badges:', newlyUnlocked.map({\n                \"useBadges.useCallback[checkAndUnlockBadges]\": (b)=>b.name\n            }[\"useBadges.useCallback[checkAndUnlockBadges]\"]));\n            return newlyUnlocked;\n        }\n    }[\"useBadges.useCallback[checkAndUnlockBadges]\"], [\n        user,\n        unlockedBadges,\n        saveBadgeToSupabase,\n        saveToLocalStorage\n    ]);\n    /**\n   * Mark a badge as seen\n   */ const markBadgeAsSeen = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBadges.useCallback[markBadgeAsSeen]\": async (badgeId)=>{\n            // Update local state\n            const updatedBadges = unlockedBadges.map({\n                \"useBadges.useCallback[markBadgeAsSeen].updatedBadges\": (b)=>b.id === badgeId ? {\n                        ...b,\n                        seen: true\n                    } : b\n            }[\"useBadges.useCallback[markBadgeAsSeen].updatedBadges\"]);\n            setUnlockedBadges(updatedBadges);\n            saveToLocalStorage(updatedBadges);\n            // Update in Supabase\n            if (user && (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                try {\n                    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                    await supabase.from('user_badges').update({\n                        seen: true\n                    }).eq('user_id', user.id).eq('badge_id', badgeId);\n                } catch (error) {\n                    console.error('[useBadges] Failed to mark badge as seen:', error);\n                }\n            }\n        }\n    }[\"useBadges.useCallback[markBadgeAsSeen]\"], [\n        user,\n        unlockedBadges,\n        saveToLocalStorage\n    ]);\n    /**\n   * Mark all badges as seen\n   */ const markAllBadgesAsSeen = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBadges.useCallback[markAllBadgesAsSeen]\": async ()=>{\n            // Update local state\n            const updatedBadges = unlockedBadges.map({\n                \"useBadges.useCallback[markAllBadgesAsSeen].updatedBadges\": (b)=>({\n                        ...b,\n                        seen: true\n                    })\n            }[\"useBadges.useCallback[markAllBadgesAsSeen].updatedBadges\"]);\n            setUnlockedBadges(updatedBadges);\n            saveToLocalStorage(updatedBadges);\n            // Update in Supabase\n            if (user && (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                try {\n                    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                    await supabase.from('user_badges').update({\n                        seen: true\n                    }).eq('user_id', user.id).eq('seen', false);\n                } catch (error) {\n                    console.error('[useBadges] Failed to mark all badges as seen:', error);\n                }\n            }\n        }\n    }[\"useBadges.useCallback[markAllBadgesAsSeen]\"], [\n        user,\n        unlockedBadges,\n        saveToLocalStorage\n    ]);\n    // Load badges on mount or when user changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useBadges.useEffect\": ()=>{\n            if (authLoading) {\n                return;\n            }\n            const loadBadges = {\n                \"useBadges.useEffect.loadBadges\": async ()=>{\n                    setIsLoading(true);\n                    try {\n                        let badges;\n                        if (user) {\n                            // First, retry syncing any queued badges from previous failed saves\n                            const queuedBadges = getQueuedBadges();\n                            if (queuedBadges.length > 0 && (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                                console.log('[useBadges] Retrying sync for', queuedBadges.length, 'queued badges');\n                                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                                for (const queued of queuedBadges){\n                                    try {\n                                        const { error } = await supabase.from('user_badges').insert({\n                                            user_id: user.id,\n                                            badge_id: queued.badgeId,\n                                            unlocked_at: queued.unlockedAt,\n                                            seen: false\n                                        });\n                                        if (error) {\n                                            // Duplicate key means it's already synced\n                                            if (error.code === '23505') {\n                                                console.log('[useBadges] Queued badge already exists:', queued.badgeId);\n                                                removeFromQueue(queued.badgeId);\n                                            } else {\n                                                console.warn('[useBadges] Failed to sync queued badge:', queued.badgeId, error);\n                                            // Keep in queue for next attempt\n                                            }\n                                        } else {\n                                            console.log('[useBadges] Successfully synced queued badge:', queued.badgeId);\n                                            removeFromQueue(queued.badgeId);\n                                        }\n                                    } catch (err) {\n                                        console.warn('[useBadges] Error syncing queued badge:', queued.badgeId, err);\n                                    // Keep in queue for next attempt\n                                    }\n                                }\n                            }\n                            // Now load from Supabase (which should include newly synced badges)\n                            badges = await loadFromSupabase(user.id);\n                            // Merge any still-queued badges into local state so they remain visible\n                            const remainingQueued = getQueuedBadges();\n                            if (remainingQueued.length > 0) {\n                                const badgeIds = new Set(badges.map({\n                                    \"useBadges.useEffect.loadBadges\": (b)=>b.id\n                                }[\"useBadges.useEffect.loadBadges\"]));\n                                for (const queued of remainingQueued){\n                                    if (!badgeIds.has(queued.badgeId)) {\n                                        const badge = toUnlockedBadge(queued.badgeId, new Date(queued.unlockedAt), false);\n                                        if (badge) {\n                                            badges.push(badge);\n                                        }\n                                    }\n                                }\n                            }\n                        } else {\n                            badges = loadFromLocalStorage();\n                        }\n                        setUnlockedBadges(badges);\n                    } catch (error) {\n                        console.error('[useBadges] Failed to load badges:', error);\n                        setUnlockedBadges([]);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"useBadges.useEffect.loadBadges\"];\n            loadBadges();\n        }\n    }[\"useBadges.useEffect\"], [\n        user,\n        authLoading,\n        loadFromSupabase,\n        loadFromLocalStorage\n    ]);\n    // Compute newly unlocked (unseen) badges\n    const newlyUnlockedBadges = unlockedBadges.filter((b)=>!b.seen);\n    return {\n        unlockedBadges,\n        newlyUnlockedBadges,\n        checkAndUnlockBadges,\n        markBadgeAsSeen,\n        markAllBadgesAsSeen,\n        isLoading\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WCxrQkFBa0IsRUFBRTtvQkFDdEIsU0FBVTt3QkFDUkUsYUFBYTtvQkFDZjtnQkFDRjs7WUFFQXlEO1FBQ0Y7OEJBQUc7UUFBQy9EO1FBQU1FO1FBQWFvQjtRQUFrQlo7S0FBcUI7SUFFOUQseUNBQXlDO0lBQ3pDLE1BQU0yRCxzQkFBc0JsRSxlQUFlTCxNQUFNLENBQUNlLENBQUFBLElBQUssQ0FBQ0EsRUFBRUwsSUFBSTtJQUU5RCxPQUFPO1FBQ0xMO1FBQ0FrRTtRQUNBM0I7UUFDQWtCO1FBQ0FFO1FBQ0F6RDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvaG9va3MvdXNlQmFkZ2VzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4uL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IGdldFN1cGFiYXNlQ2xpZW50LCBpc1N1cGFiYXNlQ29uZmlndXJlZCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcbmltcG9ydCB7IEJBREdFUywgQmFkZ2VEZWZpbml0aW9uLCBnZXRCYWRnZUJ5SWQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbnRlcmZhY2UgVW5sb2NrZWRCYWRnZSBleHRlbmRzIEJhZGdlRGVmaW5pdGlvbiB7XG4gIHVubG9ja2VkQXQ6IERhdGU7XG4gIHNlZW46IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBCYWRnZUNoZWNrQ29udGV4dCB7XG4gIHN0cmVhazogbnVtYmVyO1xuICB0b3RhbFNlc3Npb25zOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBVc2VCYWRnZXNSZXR1cm4ge1xuICB1bmxvY2tlZEJhZGdlczogVW5sb2NrZWRCYWRnZVtdO1xuICBuZXdseVVubG9ja2VkQmFkZ2VzOiBVbmxvY2tlZEJhZGdlW107XG4gIGNoZWNrQW5kVW5sb2NrQmFkZ2VzOiAoY29udGV4dDogQmFkZ2VDaGVja0NvbnRleHQpID0+IFByb21pc2U8QmFkZ2VEZWZpbml0aW9uW10+O1xuICBtYXJrQmFkZ2VBc1NlZW46IChiYWRnZUlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIG1hcmtBbGxCYWRnZXNBc1NlZW46ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbn1cblxuLy8gU3RvcmFnZSBrZXkgZm9yIGFub255bW91cy9mYWxsYmFjayBiYWRnZSBkYXRhXG5jb25zdCBCQURHRVNfU1RPUkFHRV9LRVkgPSAnbWktY29hY2gtYmFkZ2VzJztcbi8vIFN0b3JhZ2Uga2V5IGZvciBiYWRnZXMgcGVuZGluZyBzeW5jIHRvIFN1cGFiYXNlXG5jb25zdCBCQURHRV9TWU5DX1FVRVVFX0tFWSA9ICdtaS1jb2FjaC1iYWRnZS1zeW5jLXF1ZXVlJztcblxuaW50ZXJmYWNlIFN0b3JlZEJhZGdlIHtcbiAgYmFkZ2VJZDogc3RyaW5nO1xuICB1bmxvY2tlZEF0OiBzdHJpbmc7XG4gIHNlZW46IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBRdWV1ZWRCYWRnZSB7XG4gIGJhZGdlSWQ6IHN0cmluZztcbiAgdW5sb2NrZWRBdDogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdldCBiYWRnZXMgcXVldWVkIGZvciBzeW5jIHRvIFN1cGFiYXNlXG4gKi9cbmNvbnN0IGdldFF1ZXVlZEJhZGdlcyA9ICgpOiBRdWV1ZWRCYWRnZVtdID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShCQURHRV9TWU5DX1FVRVVFX0tFWSk7XG4gICAgcmV0dXJuIHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbi8qKlxuICogQWRkIGEgYmFkZ2UgdG8gdGhlIHN5bmMgcXVldWVcbiAqL1xuY29uc3QgYWRkVG9RdWV1ZSA9IChiYWRnZUlkOiBzdHJpbmcsIHVubG9ja2VkQXQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHF1ZXVlID0gZ2V0UXVldWVkQmFkZ2VzKCk7XG4gICAgaWYgKCFxdWV1ZS5zb21lKHEgPT4gcS5iYWRnZUlkID09PSBiYWRnZUlkKSkge1xuICAgICAgcXVldWUucHVzaCh7IGJhZGdlSWQsIHVubG9ja2VkQXQgfSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShCQURHRV9TWU5DX1FVRVVFX0tFWSwgSlNPTi5zdHJpbmdpZnkocXVldWUpKTtcbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIC8vIElnbm9yZSBzdG9yYWdlIGVycm9yc1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhIGJhZGdlIGZyb20gdGhlIHN5bmMgcXVldWVcbiAqL1xuY29uc3QgcmVtb3ZlRnJvbVF1ZXVlID0gKGJhZGdlSWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHF1ZXVlID0gZ2V0UXVldWVkQmFkZ2VzKCkuZmlsdGVyKHEgPT4gcS5iYWRnZUlkICE9PSBiYWRnZUlkKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShCQURHRV9TWU5DX1FVRVVFX0tFWSwgSlNPTi5zdHJpbmdpZnkocXVldWUpKTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gSWdub3JlIHN0b3JhZ2UgZXJyb3JzXG4gIH1cbn07XG5cbi8qKlxuICogSG9vayB0byBtYW5hZ2UgdXNlciBiYWRnZXNcbiAqIFRyYWNrcyBiYWRnZSB1bmxvY2tzIGFuZCBwcm92aWRlcyBtZXRob2RzIHRvIGNoZWNrL3VubG9jayBiYWRnZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUJhZGdlcyA9ICgpOiBVc2VCYWRnZXNSZXR1cm4gPT4ge1xuICBjb25zdCB7IHVzZXIsIGxvYWRpbmc6IGF1dGhMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFt1bmxvY2tlZEJhZGdlcywgc2V0VW5sb2NrZWRCYWRnZXNdID0gdXNlU3RhdGU8VW5sb2NrZWRCYWRnZVtdPihbXSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcblxuICAvKipcbiAgICogQ29udmVydCBzdG9yZWQgYmFkZ2UgZGF0YSB0byBVbmxvY2tlZEJhZGdlXG4gICAqL1xuICBjb25zdCB0b1VubG9ja2VkQmFkZ2UgPSAoYmFkZ2VJZDogc3RyaW5nLCB1bmxvY2tlZEF0OiBEYXRlLCBzZWVuOiBib29sZWFuKTogVW5sb2NrZWRCYWRnZSB8IG51bGwgPT4ge1xuICAgIGNvbnN0IGJhZGdlID0gZ2V0QmFkZ2VCeUlkKGJhZGdlSWQpO1xuICAgIGlmICghYmFkZ2UpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5iYWRnZSxcbiAgICAgIHVubG9ja2VkQXQsXG4gICAgICBzZWVuLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWQgYmFkZ2VzIGZyb20gbG9jYWxTdG9yYWdlIChmYWxsYmFjay9hbm9ueW1vdXMpXG4gICAqL1xuICBjb25zdCBsb2FkRnJvbUxvY2FsU3RvcmFnZSA9IHVzZUNhbGxiYWNrKCgpOiBVbmxvY2tlZEJhZGdlW10gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShCQURHRVNfU1RPUkFHRV9LRVkpO1xuICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICBjb25zdCBwYXJzZWQ6IFN0b3JlZEJhZGdlW10gPSBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICAgIHJldHVybiBwYXJzZWRcbiAgICAgICAgICAubWFwKGIgPT4gdG9VbmxvY2tlZEJhZGdlKGIuYmFkZ2VJZCwgbmV3IERhdGUoYi51bmxvY2tlZEF0KSwgYi5zZWVuKSlcbiAgICAgICAgICAuZmlsdGVyKChiKTogYiBpcyBVbmxvY2tlZEJhZGdlID0+IGIgIT09IG51bGwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbdXNlQmFkZ2VzXSBGYWlsZWQgdG8gcGFyc2UgYmFkZ2VzIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIFNhdmUgYmFkZ2VzIHRvIGxvY2FsU3RvcmFnZVxuICAgKi9cbiAgY29uc3Qgc2F2ZVRvTG9jYWxTdG9yYWdlID0gdXNlQ2FsbGJhY2soKGJhZGdlczogVW5sb2NrZWRCYWRnZVtdKTogdm9pZCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRvU3RvcmU6IFN0b3JlZEJhZGdlW10gPSBiYWRnZXMubWFwKGIgPT4gKHtcbiAgICAgICAgYmFkZ2VJZDogYi5pZCxcbiAgICAgICAgdW5sb2NrZWRBdDogYi51bmxvY2tlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHNlZW46IGIuc2VlbixcbiAgICAgIH0pKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEJBREdFU19TVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkodG9TdG9yZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbdXNlQmFkZ2VzXSBGYWlsZWQgdG8gc2F2ZSBiYWRnZXMgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogTG9hZCBiYWRnZXMgZnJvbSBTdXBhYmFzZVxuICAgKi9cbiAgY29uc3QgbG9hZEZyb21TdXBhYmFzZSA9IHVzZUNhbGxiYWNrKGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VW5sb2NrZWRCYWRnZVtdPiA9PiB7XG4gICAgaWYgKCFpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1t1c2VCYWRnZXNdIFN1cGFiYXNlIG5vdCBjb25maWd1cmVkLCB1c2luZyBsb2NhbFN0b3JhZ2UnKTtcbiAgICAgIHJldHVybiBsb2FkRnJvbUxvY2FsU3RvcmFnZSgpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcl9iYWRnZXMnKVxuICAgICAgICAuc2VsZWN0KCdiYWRnZV9pZCwgdW5sb2NrZWRfYXQsIHNlZW4nKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAgIC5vcmRlcigndW5sb2NrZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAvLyBUYWJsZSBtaWdodCBub3QgZXhpc3QgeWV0XG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnNDJQMDEnIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2RvZXMgbm90IGV4aXN0JykpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW3VzZUJhZGdlc10gdXNlcl9iYWRnZXMgdGFibGUgbm90IGZvdW5kLCB1c2luZyBkZWZhdWx0cycpO1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKCdbdXNlQmFkZ2VzXSBGYWlsZWQgdG8gbG9hZCBiYWRnZXMgZnJvbSBTdXBhYmFzZTonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBsb2FkRnJvbUxvY2FsU3RvcmFnZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRhdGEpIHJldHVybiBbXTtcblxuICAgICAgcmV0dXJuIGRhdGFcbiAgICAgICAgLm1hcChyb3cgPT4gdG9VbmxvY2tlZEJhZGdlKHJvdy5iYWRnZV9pZCwgbmV3IERhdGUocm93LnVubG9ja2VkX2F0KSwgcm93LnNlZW4pKVxuICAgICAgICAuZmlsdGVyKChiKTogYiBpcyBVbmxvY2tlZEJhZGdlID0+IGIgIT09IG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbdXNlQmFkZ2VzXSBFcnJvciBsb2FkaW5nIGJhZGdlcyBmcm9tIFN1cGFiYXNlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBsb2FkRnJvbUxvY2FsU3RvcmFnZSgpO1xuICAgIH1cbiAgfSwgW2xvYWRGcm9tTG9jYWxTdG9yYWdlXSk7XG5cbiAgLyoqXG4gICAqIFNhdmUgYSBzaW5nbGUgYmFkZ2UgdG8gU3VwYWJhc2VcbiAgICogSWYgc2F2ZSBmYWlscywgcXVldWVzIHRoZSBiYWRnZSBmb3IgcmV0cnkgb24gbmV4dCBsb2FkXG4gICAqL1xuICBjb25zdCBzYXZlQmFkZ2VUb1N1cGFiYXNlID0gdXNlQ2FsbGJhY2soYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBiYWRnZUlkOiBzdHJpbmcsIHVubG9ja2VkQXQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgLy8gUXVldWUgZm9yIGxhdGVyIHN5bmMgd2hlbiBTdXBhYmFzZSBiZWNvbWVzIGF2YWlsYWJsZVxuICAgICAgYWRkVG9RdWV1ZShiYWRnZUlkLCB1bmxvY2tlZEF0KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJfYmFkZ2VzJylcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgIGJhZGdlX2lkOiBiYWRnZUlkLFxuICAgICAgICAgIHVubG9ja2VkX2F0OiB1bmxvY2tlZEF0LFxuICAgICAgICAgIHNlZW46IGZhbHNlLFxuICAgICAgICB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIC8vIElnbm9yZSBkdXBsaWNhdGUga2V5IGVycm9ycyAoYmFkZ2UgYWxyZWFkeSB1bmxvY2tlZClcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICcyMzUwNScpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW3VzZUJhZGdlc10gQmFkZ2UgYWxyZWFkeSB1bmxvY2tlZDonLCBiYWRnZUlkKTtcbiAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBxdWV1ZSBpZiBpdCB3YXMgcXVldWVkXG4gICAgICAgICAgcmVtb3ZlRnJvbVF1ZXVlKGJhZGdlSWQpO1xuICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBUcmVhdCBhcyBzdWNjZXNzIHNpbmNlIGJhZGdlIGV4aXN0c1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VCYWRnZXNdIEZhaWxlZCB0byBzYXZlIGJhZGdlIHRvIFN1cGFiYXNlOicsIGVycm9yKTtcbiAgICAgICAgLy8gUXVldWUgZm9yIHJldHJ5XG4gICAgICAgIGFkZFRvUXVldWUoYmFkZ2VJZCwgdW5sb2NrZWRBdCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ1t1c2VCYWRnZXNdIEJhZGdlIHNhdmVkIHRvIFN1cGFiYXNlOicsIGJhZGdlSWQpO1xuICAgICAgLy8gUmVtb3ZlIGZyb20gcXVldWUgb24gc3VjY2Vzc1xuICAgICAgcmVtb3ZlRnJvbVF1ZXVlKGJhZGdlSWQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VCYWRnZXNdIEVycm9yIHNhdmluZyBiYWRnZSB0byBTdXBhYmFzZTonLCBlcnJvcik7XG4gICAgICAvLyBRdWV1ZSBmb3IgcmV0cnlcbiAgICAgIGFkZFRvUXVldWUoYmFkZ2VJZCwgdW5sb2NrZWRBdCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIENoZWNrIGNvbmRpdGlvbnMgYW5kIHVubG9jayBhbnkgbmV3IGJhZGdlc1xuICAgKi9cbiAgY29uc3QgY2hlY2tBbmRVbmxvY2tCYWRnZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoY29udGV4dDogQmFkZ2VDaGVja0NvbnRleHQpOiBQcm9taXNlPEJhZGdlRGVmaW5pdGlvbltdPiA9PiB7XG4gICAgY29uc3QgeyBzdHJlYWssIHRvdGFsU2Vzc2lvbnMgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgdW5sb2NrZWRJZHMgPSBuZXcgU2V0KHVubG9ja2VkQmFkZ2VzLm1hcChiID0+IGIuaWQpKTtcbiAgICBjb25zdCBuZXdseVVubG9ja2VkOiBCYWRnZURlZmluaXRpb25bXSA9IFtdO1xuXG4gICAgLy8gQ2hlY2sgc3RyZWFrIGJhZGdlc1xuICAgIGNvbnN0IHN0cmVha0JhZGdlcyA9IEJBREdFUy5maWx0ZXIoYiA9PiBiLmNhdGVnb3J5ID09PSAnc3RyZWFrJyk7XG4gICAgZm9yIChjb25zdCBiYWRnZSBvZiBzdHJlYWtCYWRnZXMpIHtcbiAgICAgIGlmICghdW5sb2NrZWRJZHMuaGFzKGJhZGdlLmlkKSAmJiBzdHJlYWsgPj0gYmFkZ2UucmVxdWlyZW1lbnQpIHtcbiAgICAgICAgbmV3bHlVbmxvY2tlZC5wdXNoKGJhZGdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBtaWxlc3RvbmUgYmFkZ2VzXG4gICAgY29uc3QgbWlsZXN0b25lQmFkZ2VzID0gQkFER0VTLmZpbHRlcihiID0+IGIuY2F0ZWdvcnkgPT09ICdtaWxlc3RvbmUnKTtcbiAgICBmb3IgKGNvbnN0IGJhZGdlIG9mIG1pbGVzdG9uZUJhZGdlcykge1xuICAgICAgaWYgKCF1bmxvY2tlZElkcy5oYXMoYmFkZ2UuaWQpICYmIHRvdGFsU2Vzc2lvbnMgPj0gYmFkZ2UucmVxdWlyZW1lbnQpIHtcbiAgICAgICAgbmV3bHlVbmxvY2tlZC5wdXNoKGJhZGdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3bHlVbmxvY2tlZC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvLyBVbmxvY2sgdGhlIG5ldyBiYWRnZXNcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5vd1N0ciA9IG5vdy50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IG5ld1VubG9ja2VkQmFkZ2VzOiBVbmxvY2tlZEJhZGdlW10gPSBuZXdseVVubG9ja2VkLm1hcChiYWRnZSA9PiAoe1xuICAgICAgLi4uYmFkZ2UsXG4gICAgICB1bmxvY2tlZEF0OiBub3csXG4gICAgICBzZWVuOiBmYWxzZSxcbiAgICB9KSk7XG5cbiAgICAvLyBVcGRhdGUgc3RhdGUgb3B0aW1pc3RpY2FsbHlcbiAgICBjb25zdCB1cGRhdGVkQmFkZ2VzID0gWy4uLnVubG9ja2VkQmFkZ2VzLCAuLi5uZXdVbmxvY2tlZEJhZGdlc107XG4gICAgc2V0VW5sb2NrZWRCYWRnZXModXBkYXRlZEJhZGdlcyk7XG5cbiAgICAvLyBQZXJzaXN0IHRvIHN0b3JhZ2VcbiAgICBpZiAodXNlcikge1xuICAgICAgZm9yIChjb25zdCBiYWRnZSBvZiBuZXdseVVubG9ja2VkKSB7XG4gICAgICAgIC8vIFBhc3MgdGhlIHRpbWVzdGFtcCBzbyBpdCBjYW4gYmUgcXVldWVkIGlmIHNhdmUgZmFpbHNcbiAgICAgICAgYXdhaXQgc2F2ZUJhZGdlVG9TdXBhYmFzZSh1c2VyLmlkLCBiYWRnZS5pZCwgbm93U3RyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQWx3YXlzIHNhdmUgdG8gbG9jYWxTdG9yYWdlIChmb3Igb2ZmbGluZSBhY2Nlc3Mgb3IgYW5vbnltb3VzIHVzZXJzKVxuICAgIHNhdmVUb0xvY2FsU3RvcmFnZSh1cGRhdGVkQmFkZ2VzKTtcblxuICAgIGNvbnNvbGUubG9nKCdbdXNlQmFkZ2VzXSBOZXdseSB1bmxvY2tlZCBiYWRnZXM6JywgbmV3bHlVbmxvY2tlZC5tYXAoYiA9PiBiLm5hbWUpKTtcbiAgICByZXR1cm4gbmV3bHlVbmxvY2tlZDtcbiAgfSwgW3VzZXIsIHVubG9ja2VkQmFkZ2VzLCBzYXZlQmFkZ2VUb1N1cGFiYXNlLCBzYXZlVG9Mb2NhbFN0b3JhZ2VdKTtcblxuICAvKipcbiAgICogTWFyayBhIGJhZGdlIGFzIHNlZW5cbiAgICovXG4gIGNvbnN0IG1hcmtCYWRnZUFzU2VlbiA9IHVzZUNhbGxiYWNrKGFzeW5jIChiYWRnZUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICBjb25zdCB1cGRhdGVkQmFkZ2VzID0gdW5sb2NrZWRCYWRnZXMubWFwKGIgPT5cbiAgICAgIGIuaWQgPT09IGJhZGdlSWQgPyB7IC4uLmIsIHNlZW46IHRydWUgfSA6IGJcbiAgICApO1xuICAgIHNldFVubG9ja2VkQmFkZ2VzKHVwZGF0ZWRCYWRnZXMpO1xuICAgIHNhdmVUb0xvY2FsU3RvcmFnZSh1cGRhdGVkQmFkZ2VzKTtcblxuICAgIC8vIFVwZGF0ZSBpbiBTdXBhYmFzZVxuICAgIGlmICh1c2VyICYmIGlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndXNlcl9iYWRnZXMnKVxuICAgICAgICAgIC51cGRhdGUoeyBzZWVuOiB0cnVlIH0pXG4gICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcbiAgICAgICAgICAuZXEoJ2JhZGdlX2lkJywgYmFkZ2VJZCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbdXNlQmFkZ2VzXSBGYWlsZWQgdG8gbWFyayBiYWRnZSBhcyBzZWVuOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt1c2VyLCB1bmxvY2tlZEJhZGdlcywgc2F2ZVRvTG9jYWxTdG9yYWdlXSk7XG5cbiAgLyoqXG4gICAqIE1hcmsgYWxsIGJhZGdlcyBhcyBzZWVuXG4gICAqL1xuICBjb25zdCBtYXJrQWxsQmFkZ2VzQXNTZWVuID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgIGNvbnN0IHVwZGF0ZWRCYWRnZXMgPSB1bmxvY2tlZEJhZGdlcy5tYXAoYiA9PiAoeyAuLi5iLCBzZWVuOiB0cnVlIH0pKTtcbiAgICBzZXRVbmxvY2tlZEJhZGdlcyh1cGRhdGVkQmFkZ2VzKTtcbiAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UodXBkYXRlZEJhZGdlcyk7XG5cbiAgICAvLyBVcGRhdGUgaW4gU3VwYWJhc2VcbiAgICBpZiAodXNlciAmJiBpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3VzZXJfYmFkZ2VzJylcbiAgICAgICAgICAudXBkYXRlKHsgc2VlbjogdHJ1ZSB9KVxuICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICAgICAgLmVxKCdzZWVuJywgZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3VzZUJhZGdlc10gRmFpbGVkIHRvIG1hcmsgYWxsIGJhZGdlcyBhcyBzZWVuOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt1c2VyLCB1bmxvY2tlZEJhZGdlcywgc2F2ZVRvTG9jYWxTdG9yYWdlXSk7XG5cbiAgLy8gTG9hZCBiYWRnZXMgb24gbW91bnQgb3Igd2hlbiB1c2VyIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXV0aExvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsb2FkQmFkZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGJhZGdlczogVW5sb2NrZWRCYWRnZVtdO1xuXG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgLy8gRmlyc3QsIHJldHJ5IHN5bmNpbmcgYW55IHF1ZXVlZCBiYWRnZXMgZnJvbSBwcmV2aW91cyBmYWlsZWQgc2F2ZXNcbiAgICAgICAgICBjb25zdCBxdWV1ZWRCYWRnZXMgPSBnZXRRdWV1ZWRCYWRnZXMoKTtcbiAgICAgICAgICBpZiAocXVldWVkQmFkZ2VzLmxlbmd0aCA+IDAgJiYgaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1t1c2VCYWRnZXNdIFJldHJ5aW5nIHN5bmMgZm9yJywgcXVldWVkQmFkZ2VzLmxlbmd0aCwgJ3F1ZXVlZCBiYWRnZXMnKTtcbiAgICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcXVldWVkIG9mIHF1ZXVlZEJhZGdlcykge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgICAuZnJvbSgndXNlcl9iYWRnZXMnKVxuICAgICAgICAgICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIGJhZGdlX2lkOiBxdWV1ZWQuYmFkZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgdW5sb2NrZWRfYXQ6IHF1ZXVlZC51bmxvY2tlZEF0LFxuICAgICAgICAgICAgICAgICAgICBzZWVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAvLyBEdXBsaWNhdGUga2V5IG1lYW5zIGl0J3MgYWxyZWFkeSBzeW5jZWRcbiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnMjM1MDUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlQmFkZ2VzXSBRdWV1ZWQgYmFkZ2UgYWxyZWFkeSBleGlzdHM6JywgcXVldWVkLmJhZGdlSWQpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVGcm9tUXVldWUocXVldWVkLmJhZGdlSWQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbdXNlQmFkZ2VzXSBGYWlsZWQgdG8gc3luYyBxdWV1ZWQgYmFkZ2U6JywgcXVldWVkLmJhZGdlSWQsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCBpbiBxdWV1ZSBmb3IgbmV4dCBhdHRlbXB0XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlQmFkZ2VzXSBTdWNjZXNzZnVsbHkgc3luY2VkIHF1ZXVlZCBiYWRnZTonLCBxdWV1ZWQuYmFkZ2VJZCk7XG4gICAgICAgICAgICAgICAgICByZW1vdmVGcm9tUXVldWUocXVldWVkLmJhZGdlSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbdXNlQmFkZ2VzXSBFcnJvciBzeW5jaW5nIHF1ZXVlZCBiYWRnZTonLCBxdWV1ZWQuYmFkZ2VJZCwgZXJyKTtcbiAgICAgICAgICAgICAgICAvLyBLZWVwIGluIHF1ZXVlIGZvciBuZXh0IGF0dGVtcHRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE5vdyBsb2FkIGZyb20gU3VwYWJhc2UgKHdoaWNoIHNob3VsZCBpbmNsdWRlIG5ld2x5IHN5bmNlZCBiYWRnZXMpXG4gICAgICAgICAgYmFkZ2VzID0gYXdhaXQgbG9hZEZyb21TdXBhYmFzZSh1c2VyLmlkKTtcblxuICAgICAgICAgIC8vIE1lcmdlIGFueSBzdGlsbC1xdWV1ZWQgYmFkZ2VzIGludG8gbG9jYWwgc3RhdGUgc28gdGhleSByZW1haW4gdmlzaWJsZVxuICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1F1ZXVlZCA9IGdldFF1ZXVlZEJhZGdlcygpO1xuICAgICAgICAgIGlmIChyZW1haW5pbmdRdWV1ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYmFkZ2VJZHMgPSBuZXcgU2V0KGJhZGdlcy5tYXAoYiA9PiBiLmlkKSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHF1ZXVlZCBvZiByZW1haW5pbmdRdWV1ZWQpIHtcbiAgICAgICAgICAgICAgaWYgKCFiYWRnZUlkcy5oYXMocXVldWVkLmJhZGdlSWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFkZ2UgPSB0b1VubG9ja2VkQmFkZ2UocXVldWVkLmJhZGdlSWQsIG5ldyBEYXRlKHF1ZXVlZC51bmxvY2tlZEF0KSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChiYWRnZSkge1xuICAgICAgICAgICAgICAgICAgYmFkZ2VzLnB1c2goYmFkZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiYWRnZXMgPSBsb2FkRnJvbUxvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VW5sb2NrZWRCYWRnZXMoYmFkZ2VzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VCYWRnZXNdIEZhaWxlZCB0byBsb2FkIGJhZGdlczonLCBlcnJvcik7XG4gICAgICAgIHNldFVubG9ja2VkQmFkZ2VzKFtdKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRCYWRnZXMoKTtcbiAgfSwgW3VzZXIsIGF1dGhMb2FkaW5nLCBsb2FkRnJvbVN1cGFiYXNlLCBsb2FkRnJvbUxvY2FsU3RvcmFnZV0pO1xuXG4gIC8vIENvbXB1dGUgbmV3bHkgdW5sb2NrZWQgKHVuc2VlbikgYmFkZ2VzXG4gIGNvbnN0IG5ld2x5VW5sb2NrZWRCYWRnZXMgPSB1bmxvY2tlZEJhZGdlcy5maWx0ZXIoYiA9PiAhYi5zZWVuKTtcblxuICByZXR1cm4ge1xuICAgIHVubG9ja2VkQmFkZ2VzLFxuICAgIG5ld2x5VW5sb2NrZWRCYWRnZXMsXG4gICAgY2hlY2tBbmRVbmxvY2tCYWRnZXMsXG4gICAgbWFya0JhZGdlQXNTZWVuLFxuICAgIG1hcmtBbGxCYWRnZXNBc1NlZW4sXG4gICAgaXNMb2FkaW5nLFxuICB9O1xufTtcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlQXV0aCIsImdldFN1cGFiYXNlQ2xpZW50IiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJCQURHRVMiLCJnZXRCYWRnZUJ5SWQiLCJCQURHRVNfU1RPUkFHRV9LRVkiLCJCQURHRV9TWU5DX1FVRVVFX0tFWSIsImdldFF1ZXVlZEJhZGdlcyIsInN0b3JlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJhZGRUb1F1ZXVlIiwiYmFkZ2VJZCIsInVubG9ja2VkQXQiLCJxdWV1ZSIsInNvbWUiLCJxIiwicHVzaCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW1vdmVGcm9tUXVldWUiLCJmaWx0ZXIiLCJ1c2VCYWRnZXMiLCJ1c2VyIiwibG9hZGluZyIsImF1dGhMb2FkaW5nIiwidW5sb2NrZWRCYWRnZXMiLCJzZXRVbmxvY2tlZEJhZGdlcyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInRvVW5sb2NrZWRCYWRnZSIsInNlZW4iLCJiYWRnZSIsImxvYWRGcm9tTG9jYWxTdG9yYWdlIiwicGFyc2VkIiwibWFwIiwiYiIsIkRhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJiYWRnZXMiLCJ0b1N0b3JlIiwiaWQiLCJ0b0lTT1N0cmluZyIsImxvYWRGcm9tU3VwYWJhc2UiLCJ1c2VySWQiLCJ3YXJuIiwic3VwYWJhc2UiLCJkYXRhIiwiZnJvbSIsInNlbGVjdCIsImVxIiwib3JkZXIiLCJhc2NlbmRpbmciLCJjb2RlIiwibWVzc2FnZSIsImluY2x1ZGVzIiwibG9nIiwicm93IiwiYmFkZ2VfaWQiLCJ1bmxvY2tlZF9hdCIsInNhdmVCYWRnZVRvU3VwYWJhc2UiLCJpbnNlcnQiLCJ1c2VyX2lkIiwiY2hlY2tBbmRVbmxvY2tCYWRnZXMiLCJjb250ZXh0Iiwic3RyZWFrIiwidG90YWxTZXNzaW9ucyIsInVubG9ja2VkSWRzIiwiU2V0IiwibmV3bHlVbmxvY2tlZCIsInN0cmVha0JhZGdlcyIsImNhdGVnb3J5IiwiaGFzIiwicmVxdWlyZW1lbnQiLCJtaWxlc3RvbmVCYWRnZXMiLCJsZW5ndGgiLCJub3ciLCJub3dTdHIiLCJuZXdVbmxvY2tlZEJhZGdlcyIsInVwZGF0ZWRCYWRnZXMiLCJuYW1lIiwibWFya0JhZGdlQXNTZWVuIiwidXBkYXRlIiwibWFya0FsbEJhZGdlc0FzU2VlbiIsImxvYWRCYWRnZXMiLCJxdWV1ZWRCYWRnZXMiLCJxdWV1ZWQiLCJlcnIiLCJyZW1haW5pbmdRdWV1ZWQiLCJiYWRnZUlkcyIsIm5ld2x5VW5sb2NrZWRCYWRnZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useBadges.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useOnlineSync.ts":
/*!********************************!*\
  !*** ./hooks/useOnlineSync.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useOnlineSync: () => (/* binding */ useOnlineSync)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_syncQueue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/syncQueue */ \"(ssr)/./utils/syncQueue.ts\");\n\n\n/**\n * Hook to trigger sync queue processing when the app comes back online\n * \n * Listens for the browser 'online' event and processes any pending\n * sync operations that failed while offline.\n */ const useOnlineSync = ({ processStreakQueue, processXPQueue, isAuthenticated })=>{\n    // Track if sync is in progress to prevent double-syncing\n    const isSyncing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    /**\n   * Process all pending sync operations\n   */ const syncPendingOperations = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOnlineSync.useCallback[syncPendingOperations]\": async ()=>{\n            if (!isAuthenticated) {\n                console.log('[useOnlineSync] User not authenticated, skipping sync');\n                return;\n            }\n            if (isSyncing.current) {\n                console.log('[useOnlineSync] Sync already in progress, skipping');\n                return;\n            }\n            if (!(0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_1__.hasPendingOperations)()) {\n                console.log('[useOnlineSync] No pending operations to sync');\n                return;\n            }\n            isSyncing.current = true;\n            const counts = (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_1__.getPendingOperationCounts)();\n            console.log('[useOnlineSync] Starting sync of pending operations:', counts);\n            try {\n                // Process streak queue first (usually just one operation)\n                if (processStreakQueue && counts.streak > 0) {\n                    console.log('[useOnlineSync] Processing streak queue...');\n                    await processStreakQueue();\n                }\n                // Process XP queue (may have multiple operations)\n                if (processXPQueue && counts.xp > 0) {\n                    console.log('[useOnlineSync] Processing XP queue...');\n                    await processXPQueue();\n                }\n                console.log('[useOnlineSync] Sync complete');\n            } catch (error) {\n                console.error('[useOnlineSync] Error during sync:', error);\n            } finally{\n                isSyncing.current = false;\n            }\n        }\n    }[\"useOnlineSync.useCallback[syncPendingOperations]\"], [\n        isAuthenticated,\n        processStreakQueue,\n        processXPQueue\n    ]);\n    /**\n   * Handle online event\n   */ const handleOnline = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOnlineSync.useCallback[handleOnline]\": ()=>{\n            console.log('[useOnlineSync] Connection restored, triggering sync');\n            // Small delay to ensure network is stable\n            setTimeout({\n                \"useOnlineSync.useCallback[handleOnline]\": ()=>{\n                    syncPendingOperations();\n                }\n            }[\"useOnlineSync.useCallback[handleOnline]\"], 1000);\n        }\n    }[\"useOnlineSync.useCallback[handleOnline]\"], [\n        syncPendingOperations\n    ]);\n    /**\n   * Handle visibility change (app comes to foreground)\n   * This catches cases where the user switches back to the app\n   */ const handleVisibilityChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useOnlineSync.useCallback[handleVisibilityChange]\": ()=>{\n            if (document.visibilityState === 'visible' && navigator.onLine) {\n                console.log('[useOnlineSync] App became visible and online, checking for pending syncs');\n                syncPendingOperations();\n            }\n        }\n    }[\"useOnlineSync.useCallback[handleVisibilityChange]\"], [\n        syncPendingOperations\n    ]);\n    // Set up event listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useOnlineSync.useEffect\": ()=>{\n            // Listen for online event\n            window.addEventListener('online', handleOnline);\n            // Listen for visibility change (PWA coming to foreground)\n            document.addEventListener('visibilitychange', handleVisibilityChange);\n            // Check on mount if we're online and have pending operations\n            if (navigator.onLine && isAuthenticated) {\n                syncPendingOperations();\n            }\n            return ({\n                \"useOnlineSync.useEffect\": ()=>{\n                    window.removeEventListener('online', handleOnline);\n                    document.removeEventListener('visibilitychange', handleVisibilityChange);\n                }\n            })[\"useOnlineSync.useEffect\"];\n        }\n    }[\"useOnlineSync.useEffect\"], [\n        handleOnline,\n        handleVisibilityChange,\n        isAuthenticated,\n        syncPendingOperations\n    ]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2VPbmxpbmVTeW5jLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUQ7QUFDOEI7QUFXckY7Ozs7O0NBS0MsR0FDTSxNQUFNSyxnQkFBZ0IsQ0FBQyxFQUM1QkMsa0JBQWtCLEVBQ2xCQyxjQUFjLEVBQ2RDLGVBQWUsRUFDTTtJQUNyQix5REFBeUQ7SUFDekQsTUFBTUMsWUFBWVAsNkNBQU1BLENBQUM7SUFFekI7O0dBRUMsR0FDRCxNQUFNUSx3QkFBd0JULGtEQUFXQTs0REFBQztZQUN4QyxJQUFJLENBQUNPLGlCQUFpQjtnQkFDcEJHLFFBQVFDLEdBQUcsQ0FBQztnQkFDWjtZQUNGO1lBRUEsSUFBSUgsVUFBVUksT0FBTyxFQUFFO2dCQUNyQkYsUUFBUUMsR0FBRyxDQUFDO2dCQUNaO1lBQ0Y7WUFFQSxJQUFJLENBQUNULHNFQUFvQkEsSUFBSTtnQkFDM0JRLFFBQVFDLEdBQUcsQ0FBQztnQkFDWjtZQUNGO1lBRUFILFVBQVVJLE9BQU8sR0FBRztZQUNwQixNQUFNQyxTQUFTViwyRUFBeUJBO1lBQ3hDTyxRQUFRQyxHQUFHLENBQUMsd0RBQXdERTtZQUVwRSxJQUFJO2dCQUNGLDBEQUEwRDtnQkFDMUQsSUFBSVIsc0JBQXNCUSxPQUFPQyxNQUFNLEdBQUcsR0FBRztvQkFDM0NKLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixNQUFNTjtnQkFDUjtnQkFFQSxrREFBa0Q7Z0JBQ2xELElBQUlDLGtCQUFrQk8sT0FBT0UsRUFBRSxHQUFHLEdBQUc7b0JBQ25DTCxRQUFRQyxHQUFHLENBQUM7b0JBQ1osTUFBTUw7Z0JBQ1I7Z0JBRUFJLFFBQVFDLEdBQUcsQ0FBQztZQUNkLEVBQUUsT0FBT0ssT0FBTztnQkFDZE4sUUFBUU0sS0FBSyxDQUFDLHNDQUFzQ0E7WUFDdEQsU0FBVTtnQkFDUlIsVUFBVUksT0FBTyxHQUFHO1lBQ3RCO1FBQ0Y7MkRBQUc7UUFBQ0w7UUFBaUJGO1FBQW9CQztLQUFlO0lBRXhEOztHQUVDLEdBQ0QsTUFBTVcsZUFBZWpCLGtEQUFXQTttREFBQztZQUMvQlUsUUFBUUMsR0FBRyxDQUFDO1lBQ1osMENBQTBDO1lBQzFDTzsyREFBVztvQkFDVFQ7Z0JBQ0Y7MERBQUc7UUFDTDtrREFBRztRQUFDQTtLQUFzQjtJQUUxQjs7O0dBR0MsR0FDRCxNQUFNVSx5QkFBeUJuQixrREFBV0E7NkRBQUM7WUFDekMsSUFBSW9CLFNBQVNDLGVBQWUsS0FBSyxhQUFhQyxVQUFVQyxNQUFNLEVBQUU7Z0JBQzlEYixRQUFRQyxHQUFHLENBQUM7Z0JBQ1pGO1lBQ0Y7UUFDRjs0REFBRztRQUFDQTtLQUFzQjtJQUUxQix5QkFBeUI7SUFDekJWLGdEQUFTQTttQ0FBQztZQUNSLDBCQUEwQjtZQUMxQnlCLE9BQU9DLGdCQUFnQixDQUFDLFVBQVVSO1lBRWxDLDBEQUEwRDtZQUMxREcsU0FBU0ssZ0JBQWdCLENBQUMsb0JBQW9CTjtZQUU5Qyw2REFBNkQ7WUFDN0QsSUFBSUcsVUFBVUMsTUFBTSxJQUFJaEIsaUJBQWlCO2dCQUN2Q0U7WUFDRjtZQUVBOzJDQUFPO29CQUNMZSxPQUFPRSxtQkFBbUIsQ0FBQyxVQUFVVDtvQkFDckNHLFNBQVNNLG1CQUFtQixDQUFDLG9CQUFvQlA7Z0JBQ25EOztRQUNGO2tDQUFHO1FBQUNGO1FBQWNFO1FBQXdCWjtRQUFpQkU7S0FBc0I7QUFDbkYsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvaG9va3MvdXNlT25saW5lU3luYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBoYXNQZW5kaW5nT3BlcmF0aW9ucywgZ2V0UGVuZGluZ09wZXJhdGlvbkNvdW50cyB9IGZyb20gJy4uL3V0aWxzL3N5bmNRdWV1ZSc7XG5cbmludGVyZmFjZSBVc2VPbmxpbmVTeW5jT3B0aW9ucyB7XG4gIC8qKiBQcm9jZXNzIHF1ZXVlZCBzdHJlYWsgb3BlcmF0aW9ucyAqL1xuICBwcm9jZXNzU3RyZWFrUXVldWU/OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogUHJvY2VzcyBxdWV1ZWQgWFAgb3BlcmF0aW9ucyAqL1xuICBwcm9jZXNzWFBRdWV1ZT86ICgpID0+IFByb21pc2U8dm9pZD47XG4gIC8qKiBXaGV0aGVyIHRoZSB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgKi9cbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEhvb2sgdG8gdHJpZ2dlciBzeW5jIHF1ZXVlIHByb2Nlc3Npbmcgd2hlbiB0aGUgYXBwIGNvbWVzIGJhY2sgb25saW5lXG4gKiBcbiAqIExpc3RlbnMgZm9yIHRoZSBicm93c2VyICdvbmxpbmUnIGV2ZW50IGFuZCBwcm9jZXNzZXMgYW55IHBlbmRpbmdcbiAqIHN5bmMgb3BlcmF0aW9ucyB0aGF0IGZhaWxlZCB3aGlsZSBvZmZsaW5lLlxuICovXG5leHBvcnQgY29uc3QgdXNlT25saW5lU3luYyA9ICh7XG4gIHByb2Nlc3NTdHJlYWtRdWV1ZSxcbiAgcHJvY2Vzc1hQUXVldWUsXG4gIGlzQXV0aGVudGljYXRlZCxcbn06IFVzZU9ubGluZVN5bmNPcHRpb25zKTogdm9pZCA9PiB7XG4gIC8vIFRyYWNrIGlmIHN5bmMgaXMgaW4gcHJvZ3Jlc3MgdG8gcHJldmVudCBkb3VibGUtc3luY2luZ1xuICBjb25zdCBpc1N5bmNpbmcgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBQcm9jZXNzIGFsbCBwZW5kaW5nIHN5bmMgb3BlcmF0aW9uc1xuICAgKi9cbiAgY29uc3Qgc3luY1BlbmRpbmdPcGVyYXRpb25zID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBjb25zb2xlLmxvZygnW3VzZU9ubGluZVN5bmNdIFVzZXIgbm90IGF1dGhlbnRpY2F0ZWQsIHNraXBwaW5nIHN5bmMnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNTeW5jaW5nLmN1cnJlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbdXNlT25saW5lU3luY10gU3luYyBhbHJlYWR5IGluIHByb2dyZXNzLCBza2lwcGluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaGFzUGVuZGluZ09wZXJhdGlvbnMoKSkge1xuICAgICAgY29uc29sZS5sb2coJ1t1c2VPbmxpbmVTeW5jXSBObyBwZW5kaW5nIG9wZXJhdGlvbnMgdG8gc3luYycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlzU3luY2luZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICBjb25zdCBjb3VudHMgPSBnZXRQZW5kaW5nT3BlcmF0aW9uQ291bnRzKCk7XG4gICAgY29uc29sZS5sb2coJ1t1c2VPbmxpbmVTeW5jXSBTdGFydGluZyBzeW5jIG9mIHBlbmRpbmcgb3BlcmF0aW9uczonLCBjb3VudHMpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFByb2Nlc3Mgc3RyZWFrIHF1ZXVlIGZpcnN0ICh1c3VhbGx5IGp1c3Qgb25lIG9wZXJhdGlvbilcbiAgICAgIGlmIChwcm9jZXNzU3RyZWFrUXVldWUgJiYgY291bnRzLnN0cmVhayA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1t1c2VPbmxpbmVTeW5jXSBQcm9jZXNzaW5nIHN0cmVhayBxdWV1ZS4uLicpO1xuICAgICAgICBhd2FpdCBwcm9jZXNzU3RyZWFrUXVldWUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gUHJvY2VzcyBYUCBxdWV1ZSAobWF5IGhhdmUgbXVsdGlwbGUgb3BlcmF0aW9ucylcbiAgICAgIGlmIChwcm9jZXNzWFBRdWV1ZSAmJiBjb3VudHMueHAgPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbdXNlT25saW5lU3luY10gUHJvY2Vzc2luZyBYUCBxdWV1ZS4uLicpO1xuICAgICAgICBhd2FpdCBwcm9jZXNzWFBRdWV1ZSgpO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW3VzZU9ubGluZVN5bmNdIFN5bmMgY29tcGxldGUnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW3VzZU9ubGluZVN5bmNdIEVycm9yIGR1cmluZyBzeW5jOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNTeW5jaW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIHByb2Nlc3NTdHJlYWtRdWV1ZSwgcHJvY2Vzc1hQUXVldWVdKTtcblxuICAvKipcbiAgICogSGFuZGxlIG9ubGluZSBldmVudFxuICAgKi9cbiAgY29uc3QgaGFuZGxlT25saW5lID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbdXNlT25saW5lU3luY10gQ29ubmVjdGlvbiByZXN0b3JlZCwgdHJpZ2dlcmluZyBzeW5jJyk7XG4gICAgLy8gU21hbGwgZGVsYXkgdG8gZW5zdXJlIG5ldHdvcmsgaXMgc3RhYmxlXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzeW5jUGVuZGluZ09wZXJhdGlvbnMoKTtcbiAgICB9LCAxMDAwKTtcbiAgfSwgW3N5bmNQZW5kaW5nT3BlcmF0aW9uc10pO1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgdmlzaWJpbGl0eSBjaGFuZ2UgKGFwcCBjb21lcyB0byBmb3JlZ3JvdW5kKVxuICAgKiBUaGlzIGNhdGNoZXMgY2FzZXMgd2hlcmUgdGhlIHVzZXIgc3dpdGNoZXMgYmFjayB0byB0aGUgYXBwXG4gICAqL1xuICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJyAmJiBuYXZpZ2F0b3Iub25MaW5lKSB7XG4gICAgICBjb25zb2xlLmxvZygnW3VzZU9ubGluZVN5bmNdIEFwcCBiZWNhbWUgdmlzaWJsZSBhbmQgb25saW5lLCBjaGVja2luZyBmb3IgcGVuZGluZyBzeW5jcycpO1xuICAgICAgc3luY1BlbmRpbmdPcGVyYXRpb25zKCk7XG4gICAgfVxuICB9LCBbc3luY1BlbmRpbmdPcGVyYXRpb25zXSk7XG5cbiAgLy8gU2V0IHVwIGV2ZW50IGxpc3RlbmVyc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIExpc3RlbiBmb3Igb25saW5lIGV2ZW50XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIGhhbmRsZU9ubGluZSk7XG4gICAgXG4gICAgLy8gTGlzdGVuIGZvciB2aXNpYmlsaXR5IGNoYW5nZSAoUFdBIGNvbWluZyB0byBmb3JlZ3JvdW5kKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcblxuICAgIC8vIENoZWNrIG9uIG1vdW50IGlmIHdlJ3JlIG9ubGluZSBhbmQgaGF2ZSBwZW5kaW5nIG9wZXJhdGlvbnNcbiAgICBpZiAobmF2aWdhdG9yLm9uTGluZSAmJiBpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHN5bmNQZW5kaW5nT3BlcmF0aW9ucygpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgaGFuZGxlT25saW5lKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICB9O1xuICB9LCBbaGFuZGxlT25saW5lLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlLCBpc0F1dGhlbnRpY2F0ZWQsIHN5bmNQZW5kaW5nT3BlcmF0aW9uc10pO1xufTtcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsImhhc1BlbmRpbmdPcGVyYXRpb25zIiwiZ2V0UGVuZGluZ09wZXJhdGlvbkNvdW50cyIsInVzZU9ubGluZVN5bmMiLCJwcm9jZXNzU3RyZWFrUXVldWUiLCJwcm9jZXNzWFBRdWV1ZSIsImlzQXV0aGVudGljYXRlZCIsImlzU3luY2luZyIsInN5bmNQZW5kaW5nT3BlcmF0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50IiwiY291bnRzIiwic3RyZWFrIiwieHAiLCJlcnJvciIsImhhbmRsZU9ubGluZSIsInNldFRpbWVvdXQiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwiZG9jdW1lbnQiLCJ2aXNpYmlsaXR5U3RhdGUiLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useOnlineSync.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useSessionManager.ts":
/*!************************************!*\
  !*** ./hooks/useSessionManager.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSessionManager: () => (/* binding */ useSessionManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _services_databaseService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/databaseService */ \"(ssr)/./services/databaseService.ts\");\n/* harmony import */ var _services_subscriptionService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/subscriptionService */ \"(ssr)/./services/subscriptionService.ts\");\n\n\n\n\n// Storage key for sessions that have already been awarded XP (prevents duplicate awards)\nconst XP_AWARDED_KEY = 'mi-coach-xp-awarded-sessions';\n/**\n * Get the set of session IDs that have already been awarded XP\n */ const getAwardedSessions = ()=>{\n    try {\n        const stored = localStorage.getItem(XP_AWARDED_KEY);\n        return stored ? new Set(JSON.parse(stored)) : new Set();\n    } catch  {\n        return new Set();\n    }\n};\n/**\n * Mark a session as having been awarded XP\n */ const markSessionAwarded = (sessionId)=>{\n    try {\n        const awarded = getAwardedSessions();\n        awarded.add(sessionId);\n        // Keep only the last 100 session IDs to avoid unbounded growth\n        const awardedArray = [\n            ...awarded\n        ].slice(-100);\n        localStorage.setItem(XP_AWARDED_KEY, JSON.stringify(awardedArray));\n    } catch  {\n    // Ignore storage errors\n    }\n};\n/**\n * Hook to manage session loading and saving\n * Handles both authenticated (Supabase) and anonymous (localStorage) users\n */ const useSessionManager = ({ user, authLoading, userTier, setSessions, setSessionsLoading, setRemainingFreeSessions, updateStreak, addXP, checkAndUnlockBadges, currentStreak })=>{\n    // Load sessions from Supabase when user is authenticated, or from localStorage for anonymous users\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useSessionManager.useEffect\": ()=>{\n            if (authLoading) {\n                return;\n            }\n            const loadSessions = {\n                \"useSessionManager.useEffect.loadSessions\": async ()=>{\n                    setSessionsLoading(true);\n                    try {\n                        if (user) {\n                            // Authenticated user - load from Supabase\n                            const supabaseSessions = await (0,_services_databaseService__WEBPACK_IMPORTED_MODULE_2__.getUserSessions)(user.id);\n                            setSessions(supabaseSessions);\n                            // Update remaining free sessions if user is on free tier\n                            if (userTier === _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free) {\n                                const remaining = await (0,_services_subscriptionService__WEBPACK_IMPORTED_MODULE_3__.getRemainingFreeSessions)(user.id);\n                                setRemainingFreeSessions(remaining);\n                            } else {\n                                setRemainingFreeSessions(null); // Premium users don't have limits\n                            }\n                            // If no sessions in Supabase, try to migrate from localStorage (old logged-in sessions)\n                            if (supabaseSessions.length === 0) {\n                                const savedSessions = localStorage.getItem('mi-coach-sessions');\n                                if (savedSessions) {\n                                    try {\n                                        const localSessions = JSON.parse(savedSessions);\n                                        // Optionally migrate old sessions to Supabase (could be done in background)\n                                        console.log('[useSessionManager] Found', localSessions.length, 'sessions in localStorage (migration may be needed)');\n                                    } catch (error) {\n                                        console.error(\"[useSessionManager] Failed to parse sessions from localStorage:\", error);\n                                        localStorage.removeItem('mi-coach-sessions');\n                                    }\n                                }\n                            }\n                        } else {\n                            // Anonymous user - load from localStorage\n                            const anonymousSessionsJson = localStorage.getItem('mi-coach-anonymous-sessions');\n                            if (anonymousSessionsJson) {\n                                try {\n                                    const anonymousSessions = JSON.parse(anonymousSessionsJson);\n                                    setSessions(anonymousSessions);\n                                    // Calculate remaining free sessions for anonymous user\n                                    if (userTier === _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free) {\n                                        const remaining = (0,_services_subscriptionService__WEBPACK_IMPORTED_MODULE_3__.getRemainingFreeSessionsAnonymous)();\n                                        setRemainingFreeSessions(remaining);\n                                    } else {\n                                        setRemainingFreeSessions(null);\n                                    }\n                                } catch (error) {\n                                    console.error(\"[useSessionManager] Failed to parse anonymous sessions from localStorage:\", error);\n                                    localStorage.removeItem('mi-coach-anonymous-sessions');\n                                    setSessions([]);\n                                    setRemainingFreeSessions(3); // Default to 3 remaining if we can't load\n                                }\n                            } else {\n                                // No anonymous sessions yet\n                                setSessions([]);\n                                setRemainingFreeSessions(3); // Start with 3 free sessions\n                            }\n                        }\n                    } catch (error) {\n                        console.error(\"[useSessionManager] Failed to load sessions:\", error);\n                        // Fallback: try localStorage for anonymous users\n                        if (!user) {\n                            try {\n                                const anonymousSessionsJson = localStorage.getItem('mi-coach-anonymous-sessions');\n                                if (anonymousSessionsJson) {\n                                    const anonymousSessions = JSON.parse(anonymousSessionsJson);\n                                    setSessions(anonymousSessions);\n                                    setRemainingFreeSessions((0,_services_subscriptionService__WEBPACK_IMPORTED_MODULE_3__.getRemainingFreeSessionsAnonymous)());\n                                } else {\n                                    setSessions([]);\n                                    setRemainingFreeSessions(3);\n                                }\n                            } catch (parseError) {\n                                console.error(\"[useSessionManager] Failed to parse anonymous sessions from localStorage:\", parseError);\n                                setSessions([]);\n                                setRemainingFreeSessions(3);\n                            }\n                        } else {\n                            // For authenticated users, fallback to empty sessions\n                            setSessions([]);\n                            setRemainingFreeSessions(userTier === _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free ? 3 : null);\n                        }\n                    } finally{\n                        setSessionsLoading(false);\n                    }\n                }\n            }[\"useSessionManager.useEffect.loadSessions\"];\n            loadSessions();\n        }\n    }[\"useSessionManager.useEffect\"], [\n        user,\n        authLoading,\n        userTier,\n        setSessions,\n        setSessionsLoading,\n        setRemainingFreeSessions\n    ]);\n    /**\n   * Save a new session after practice is finished\n   */ const saveNewSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionManager.useCallback[saveNewSession]\": async (transcript, feedback, patient, currentSessions, userTier)=>{\n            const newSession = {\n                id: new Date().toISOString(),\n                date: new Date().toISOString(),\n                patient,\n                transcript,\n                feedback,\n                tier: userTier\n            };\n            // Optimistically update local state for immediate UI feedback\n            const updatedSessions = [\n                ...currentSessions,\n                newSession\n            ];\n            setSessions(updatedSessions);\n            localStorage.setItem('mi-coach-session-count', updatedSessions.length.toString());\n            // Save based on whether user is authenticated or anonymous\n            if (user) {\n                // Authenticated user - save to Supabase\n                try {\n                    await (0,_services_databaseService__WEBPACK_IMPORTED_MODULE_2__.saveSession)(newSession, user.id);\n                    console.log('[useSessionManager] Session saved to Supabase successfully');\n                    // Refresh remaining free sessions if user is on free tier\n                    if (userTier === _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free) {\n                        const remaining = await (0,_services_subscriptionService__WEBPACK_IMPORTED_MODULE_3__.getRemainingFreeSessions)(user.id);\n                        setRemainingFreeSessions(remaining);\n                    }\n                } catch (error) {\n                    console.error('[useSessionManager] Failed to save session to Supabase:', error);\n                // Session is already in local state, so UI remains functional\n                }\n            } else {\n                // Anonymous user - save to localStorage\n                try {\n                    localStorage.setItem('mi-coach-anonymous-sessions', JSON.stringify(updatedSessions));\n                    console.log('[useSessionManager] Session saved to localStorage for anonymous user');\n                    // Update remaining free sessions\n                    if (userTier === _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free) {\n                        const remaining = (0,_services_subscriptionService__WEBPACK_IMPORTED_MODULE_3__.getRemainingFreeSessionsAnonymous)();\n                        setRemainingFreeSessions(remaining);\n                    }\n                } catch (error) {\n                    console.error('[useSessionManager] Failed to save anonymous session to localStorage:', error);\n                // Session is already in local state, so UI remains functional\n                }\n            }\n            // Update streak after successful session save and capture fresh value\n            let freshStreak = currentStreak ?? 0;\n            if (updateStreak) {\n                try {\n                    freshStreak = await updateStreak();\n                    console.log('[useSessionManager] Streak updated successfully:', freshStreak);\n                } catch (error) {\n                    console.error('[useSessionManager] Failed to update streak:', error);\n                // Non-critical - don't fail the session save\n                }\n            }\n            // Award XP for completing the session (only if not already awarded for this session)\n            const alreadyAwarded = getAwardedSessions().has(newSession.id);\n            if (addXP && !alreadyAwarded) {\n                try {\n                    // Base XP for completing a session\n                    let xpAmount = 10;\n                    let xpReason = 'Session completed';\n                    // Check empathy score for bonus XP\n                    // Score is 1-5, so 70% = 3.5, 90% = 4.5\n                    const empathyScore = feedback.empathyScore ?? 0;\n                    if (empathyScore >= 4.5) {\n                        // 90%+ score: +10 bonus (replaces +5)\n                        xpAmount += 10;\n                        xpReason = 'Session completed with excellent score (90%+)';\n                    } else if (empathyScore >= 3.5) {\n                        // 70%+ score: +5 bonus\n                        xpAmount += 5;\n                        xpReason = 'Session completed with good score (70%+)';\n                    }\n                    await addXP(xpAmount, xpReason);\n                    markSessionAwarded(newSession.id);\n                    console.log('[useSessionManager] XP awarded:', xpAmount, xpReason);\n                } catch (error) {\n                    console.error('[useSessionManager] Failed to award XP:', error);\n                // Non-critical - don't fail the session save\n                }\n            } else if (alreadyAwarded) {\n                console.log('[useSessionManager] XP already awarded for session:', newSession.id);\n            }\n            // Check and unlock badges using fresh streak value\n            if (checkAndUnlockBadges) {\n                try {\n                    const newBadges = await checkAndUnlockBadges({\n                        streak: freshStreak,\n                        totalSessions: updatedSessions.length\n                    });\n                    if (newBadges.length > 0) {\n                        console.log('[useSessionManager] Badges unlocked:', newBadges.map({\n                            \"useSessionManager.useCallback[saveNewSession]\": (b)=>b.name\n                        }[\"useSessionManager.useCallback[saveNewSession]\"]));\n                    }\n                } catch (error) {\n                    console.error('[useSessionManager] Failed to check badges:', error);\n                // Non-critical - don't fail the session save\n                }\n            }\n            return newSession;\n        }\n    }[\"useSessionManager.useCallback[saveNewSession]\"], [\n        user,\n        setSessions,\n        setRemainingFreeSessions,\n        updateStreak,\n        addXP,\n        checkAndUnlockBadges,\n        currentStreak\n    ]);\n    return {\n        saveNewSession\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TztvQkFDZEYsUUFBUUUsS0FBSyxDQUFDLCtDQUErQ0E7Z0JBQzdELDZDQUE2QztnQkFDL0M7WUFDRjtZQUVBLE9BQU9VO1FBQ1Q7d0RBQUc7UUFBQzlCO1FBQU1HO1FBQWFFO1FBQTBCQztRQUFjQztRQUFPQztRQUFzQkM7S0FBYztJQUUxRyxPQUFPO1FBQ0xnQjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvaG9va3MvdXNlU2Vzc2lvbk1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNlc3Npb24sIFVzZXJUaWVyLCBDaGF0TWVzc2FnZSwgRmVlZGJhY2ssIFBhdGllbnRQcm9maWxlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc2F2ZVNlc3Npb24sIGdldFVzZXJTZXNzaW9ucyB9IGZyb20gJy4uL3NlcnZpY2VzL2RhdGFiYXNlU2VydmljZSc7XG5pbXBvcnQgeyBnZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMsIGdldFJlbWFpbmluZ0ZyZWVTZXNzaW9uc0Fub255bW91cyB9IGZyb20gJy4uL3NlcnZpY2VzL3N1YnNjcmlwdGlvblNlcnZpY2UnO1xuaW1wb3J0IHsgQmFkZ2VEZWZpbml0aW9uIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuLy8gU3RvcmFnZSBrZXkgZm9yIHNlc3Npb25zIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYXdhcmRlZCBYUCAocHJldmVudHMgZHVwbGljYXRlIGF3YXJkcylcbmNvbnN0IFhQX0FXQVJERURfS0VZID0gJ21pLWNvYWNoLXhwLWF3YXJkZWQtc2Vzc2lvbnMnO1xuXG4vKipcbiAqIEdldCB0aGUgc2V0IG9mIHNlc3Npb24gSURzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYXdhcmRlZCBYUFxuICovXG5jb25zdCBnZXRBd2FyZGVkU2Vzc2lvbnMgPSAoKTogU2V0PHN0cmluZz4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFhQX0FXQVJERURfS0VZKTtcbiAgICByZXR1cm4gc3RvcmVkID8gbmV3IFNldChKU09OLnBhcnNlKHN0b3JlZCkpIDogbmV3IFNldCgpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbmV3IFNldCgpO1xuICB9XG59O1xuXG4vKipcbiAqIE1hcmsgYSBzZXNzaW9uIGFzIGhhdmluZyBiZWVuIGF3YXJkZWQgWFBcbiAqL1xuY29uc3QgbWFya1Nlc3Npb25Bd2FyZGVkID0gKHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYXdhcmRlZCA9IGdldEF3YXJkZWRTZXNzaW9ucygpO1xuICAgIGF3YXJkZWQuYWRkKHNlc3Npb25JZCk7XG4gICAgLy8gS2VlcCBvbmx5IHRoZSBsYXN0IDEwMCBzZXNzaW9uIElEcyB0byBhdm9pZCB1bmJvdW5kZWQgZ3Jvd3RoXG4gICAgY29uc3QgYXdhcmRlZEFycmF5ID0gWy4uLmF3YXJkZWRdLnNsaWNlKC0xMDApO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFhQX0FXQVJERURfS0VZLCBKU09OLnN0cmluZ2lmeShhd2FyZGVkQXJyYXkpKTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gSWdub3JlIHN0b3JhZ2UgZXJyb3JzXG4gIH1cbn07XG5cbmludGVyZmFjZSBVc2VTZXNzaW9uTWFuYWdlck9wdGlvbnMge1xuICB1c2VyOiB7IGlkOiBzdHJpbmcgfSB8IG51bGw7XG4gIGF1dGhMb2FkaW5nOiBib29sZWFuO1xuICB1c2VyVGllcjogVXNlclRpZXI7XG4gIHNldFNlc3Npb25zOiAoc2Vzc2lvbnM6IFNlc3Npb25bXSkgPT4gdm9pZDtcbiAgc2V0U2Vzc2lvbnNMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zOiAoY291bnQ6IG51bWJlciB8IG51bGwpID0+IHZvaWQ7XG4gIHVwZGF0ZVN0cmVhaz86ICgpID0+IFByb21pc2U8bnVtYmVyPjtcbiAgYWRkWFA/OiAoYW1vdW50OiBudW1iZXIsIHJlYXNvbjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBjaGVja0FuZFVubG9ja0JhZGdlcz86IChjb250ZXh0OiB7IHN0cmVhazogbnVtYmVyOyB0b3RhbFNlc3Npb25zOiBudW1iZXIgfSkgPT4gUHJvbWlzZTxCYWRnZURlZmluaXRpb25bXT47XG4gIGN1cnJlbnRTdHJlYWs/OiBudW1iZXI7XG59XG5cbi8qKlxuICogSG9vayB0byBtYW5hZ2Ugc2Vzc2lvbiBsb2FkaW5nIGFuZCBzYXZpbmdcbiAqIEhhbmRsZXMgYm90aCBhdXRoZW50aWNhdGVkIChTdXBhYmFzZSkgYW5kIGFub255bW91cyAobG9jYWxTdG9yYWdlKSB1c2Vyc1xuICovXG5leHBvcnQgY29uc3QgdXNlU2Vzc2lvbk1hbmFnZXIgPSAoe1xuICB1c2VyLFxuICBhdXRoTG9hZGluZyxcbiAgdXNlclRpZXIsXG4gIHNldFNlc3Npb25zLFxuICBzZXRTZXNzaW9uc0xvYWRpbmcsXG4gIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyxcbiAgdXBkYXRlU3RyZWFrLFxuICBhZGRYUCxcbiAgY2hlY2tBbmRVbmxvY2tCYWRnZXMsXG4gIGN1cnJlbnRTdHJlYWssXG59OiBVc2VTZXNzaW9uTWFuYWdlck9wdGlvbnMpID0+IHtcbiAgLy8gTG9hZCBzZXNzaW9ucyBmcm9tIFN1cGFiYXNlIHdoZW4gdXNlciBpcyBhdXRoZW50aWNhdGVkLCBvciBmcm9tIGxvY2FsU3RvcmFnZSBmb3IgYW5vbnltb3VzIHVzZXJzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dGhMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbG9hZFNlc3Npb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0U2Vzc2lvbnNMb2FkaW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAvLyBBdXRoZW50aWNhdGVkIHVzZXIgLSBsb2FkIGZyb20gU3VwYWJhc2VcbiAgICAgICAgICBjb25zdCBzdXBhYmFzZVNlc3Npb25zID0gYXdhaXQgZ2V0VXNlclNlc3Npb25zKHVzZXIuaWQpO1xuICAgICAgICAgIHNldFNlc3Npb25zKHN1cGFiYXNlU2Vzc2lvbnMpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVwZGF0ZSByZW1haW5pbmcgZnJlZSBzZXNzaW9ucyBpZiB1c2VyIGlzIG9uIGZyZWUgdGllclxuICAgICAgICAgIGlmICh1c2VyVGllciA9PT0gVXNlclRpZXIuRnJlZSkge1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gYXdhaXQgZ2V0UmVtYWluaW5nRnJlZVNlc3Npb25zKHVzZXIuaWQpO1xuICAgICAgICAgICAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zKHJlbWFpbmluZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyhudWxsKTsgLy8gUHJlbWl1bSB1c2VycyBkb24ndCBoYXZlIGxpbWl0c1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBubyBzZXNzaW9ucyBpbiBTdXBhYmFzZSwgdHJ5IHRvIG1pZ3JhdGUgZnJvbSBsb2NhbFN0b3JhZ2UgKG9sZCBsb2dnZWQtaW4gc2Vzc2lvbnMpXG4gICAgICAgICAgaWYgKHN1cGFiYXNlU2Vzc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzYXZlZFNlc3Npb25zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21pLWNvYWNoLXNlc3Npb25zJyk7XG4gICAgICAgICAgICBpZiAoc2F2ZWRTZXNzaW9ucykge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsU2Vzc2lvbnMgPSBKU09OLnBhcnNlKHNhdmVkU2Vzc2lvbnMpIGFzIFNlc3Npb25bXTtcbiAgICAgICAgICAgICAgICAvLyBPcHRpb25hbGx5IG1pZ3JhdGUgb2xkIHNlc3Npb25zIHRvIFN1cGFiYXNlIChjb3VsZCBiZSBkb25lIGluIGJhY2tncm91bmQpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1t1c2VTZXNzaW9uTWFuYWdlcl0gRm91bmQnLCBsb2NhbFNlc3Npb25zLmxlbmd0aCwgJ3Nlc3Npb25zIGluIGxvY2FsU3RvcmFnZSAobWlncmF0aW9uIG1heSBiZSBuZWVkZWQpJyk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlt1c2VTZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIHBhcnNlIHNlc3Npb25zIGZyb20gbG9jYWxTdG9yYWdlOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ21pLWNvYWNoLXNlc3Npb25zJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQW5vbnltb3VzIHVzZXIgLSBsb2FkIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgY29uc3QgYW5vbnltb3VzU2Vzc2lvbnNKc29uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21pLWNvYWNoLWFub255bW91cy1zZXNzaW9ucycpO1xuICAgICAgICAgIGlmIChhbm9ueW1vdXNTZXNzaW9uc0pzb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFub255bW91c1Nlc3Npb25zID0gSlNPTi5wYXJzZShhbm9ueW1vdXNTZXNzaW9uc0pzb24pIGFzIFNlc3Npb25bXTtcbiAgICAgICAgICAgICAgc2V0U2Vzc2lvbnMoYW5vbnltb3VzU2Vzc2lvbnMpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHJlbWFpbmluZyBmcmVlIHNlc3Npb25zIGZvciBhbm9ueW1vdXMgdXNlclxuICAgICAgICAgICAgICBpZiAodXNlclRpZXIgPT09IFVzZXJUaWVyLkZyZWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSBnZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnNBbm9ueW1vdXMoKTtcbiAgICAgICAgICAgICAgICBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMocmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMobnVsbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdXNlU2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byBwYXJzZSBhbm9ueW1vdXMgc2Vzc2lvbnMgZnJvbSBsb2NhbFN0b3JhZ2U6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ21pLWNvYWNoLWFub255bW91cy1zZXNzaW9ucycpO1xuICAgICAgICAgICAgICBzZXRTZXNzaW9ucyhbXSk7XG4gICAgICAgICAgICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucygzKTsgLy8gRGVmYXVsdCB0byAzIHJlbWFpbmluZyBpZiB3ZSBjYW4ndCBsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIGFub255bW91cyBzZXNzaW9ucyB5ZXRcbiAgICAgICAgICAgIHNldFNlc3Npb25zKFtdKTtcbiAgICAgICAgICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucygzKTsgLy8gU3RhcnQgd2l0aCAzIGZyZWUgc2Vzc2lvbnNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdXNlU2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byBsb2FkIHNlc3Npb25zOlwiLCBlcnJvcik7XG4gICAgICAgIC8vIEZhbGxiYWNrOiB0cnkgbG9jYWxTdG9yYWdlIGZvciBhbm9ueW1vdXMgdXNlcnNcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFub255bW91c1Nlc3Npb25zSnNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaS1jb2FjaC1hbm9ueW1vdXMtc2Vzc2lvbnMnKTtcbiAgICAgICAgICAgIGlmIChhbm9ueW1vdXNTZXNzaW9uc0pzb24pIHtcbiAgICAgICAgICAgICAgY29uc3QgYW5vbnltb3VzU2Vzc2lvbnMgPSBKU09OLnBhcnNlKGFub255bW91c1Nlc3Npb25zSnNvbikgYXMgU2Vzc2lvbltdO1xuICAgICAgICAgICAgICBzZXRTZXNzaW9ucyhhbm9ueW1vdXNTZXNzaW9ucyk7XG4gICAgICAgICAgICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyhnZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnNBbm9ueW1vdXMoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRTZXNzaW9ucyhbXSk7XG4gICAgICAgICAgICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucygzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiW3VzZVNlc3Npb25NYW5hZ2VyXSBGYWlsZWQgdG8gcGFyc2UgYW5vbnltb3VzIHNlc3Npb25zIGZyb20gbG9jYWxTdG9yYWdlOlwiLCBwYXJzZUVycm9yKTtcbiAgICAgICAgICAgIHNldFNlc3Npb25zKFtdKTtcbiAgICAgICAgICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucygzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRm9yIGF1dGhlbnRpY2F0ZWQgdXNlcnMsIGZhbGxiYWNrIHRvIGVtcHR5IHNlc3Npb25zXG4gICAgICAgICAgc2V0U2Vzc2lvbnMoW10pO1xuICAgICAgICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyh1c2VyVGllciA9PT0gVXNlclRpZXIuRnJlZSA/IDMgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2Vzc2lvbnNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9hZFNlc3Npb25zKCk7XG4gIH0sIFt1c2VyLCBhdXRoTG9hZGluZywgdXNlclRpZXIsIHNldFNlc3Npb25zLCBzZXRTZXNzaW9uc0xvYWRpbmcsIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9uc10pO1xuXG4gIC8qKlxuICAgKiBTYXZlIGEgbmV3IHNlc3Npb24gYWZ0ZXIgcHJhY3RpY2UgaXMgZmluaXNoZWRcbiAgICovXG4gIGNvbnN0IHNhdmVOZXdTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKFxuICAgIHRyYW5zY3JpcHQ6IENoYXRNZXNzYWdlW10sXG4gICAgZmVlZGJhY2s6IEZlZWRiYWNrLFxuICAgIHBhdGllbnQ6IFBhdGllbnRQcm9maWxlLFxuICAgIGN1cnJlbnRTZXNzaW9uczogU2Vzc2lvbltdLFxuICAgIHVzZXJUaWVyOiBVc2VyVGllclxuICApOiBQcm9taXNlPFNlc3Npb24+ID0+IHtcbiAgICBjb25zdCBuZXdTZXNzaW9uOiBTZXNzaW9uID0ge1xuICAgICAgaWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHBhdGllbnQsXG4gICAgICB0cmFuc2NyaXB0LFxuICAgICAgZmVlZGJhY2ssXG4gICAgICB0aWVyOiB1c2VyVGllcixcbiAgICB9O1xuXG4gICAgLy8gT3B0aW1pc3RpY2FsbHkgdXBkYXRlIGxvY2FsIHN0YXRlIGZvciBpbW1lZGlhdGUgVUkgZmVlZGJhY2tcbiAgICBjb25zdCB1cGRhdGVkU2Vzc2lvbnMgPSBbLi4uY3VycmVudFNlc3Npb25zLCBuZXdTZXNzaW9uXTtcbiAgICBzZXRTZXNzaW9ucyh1cGRhdGVkU2Vzc2lvbnMpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaS1jb2FjaC1zZXNzaW9uLWNvdW50JywgdXBkYXRlZFNlc3Npb25zLmxlbmd0aC50b1N0cmluZygpKTtcblxuICAgIC8vIFNhdmUgYmFzZWQgb24gd2hldGhlciB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgb3IgYW5vbnltb3VzXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIC8vIEF1dGhlbnRpY2F0ZWQgdXNlciAtIHNhdmUgdG8gU3VwYWJhc2VcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNhdmVTZXNzaW9uKG5ld1Nlc3Npb24sIHVzZXIuaWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnW3VzZVNlc3Npb25NYW5hZ2VyXSBTZXNzaW9uIHNhdmVkIHRvIFN1cGFiYXNlIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVmcmVzaCByZW1haW5pbmcgZnJlZSBzZXNzaW9ucyBpZiB1c2VyIGlzIG9uIGZyZWUgdGllclxuICAgICAgICBpZiAodXNlclRpZXIgPT09IFVzZXJUaWVyLkZyZWUpIHtcbiAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSBhd2FpdCBnZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnModXNlci5pZCk7XG4gICAgICAgICAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zKHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VTZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIHNhdmUgc2Vzc2lvbiB0byBTdXBhYmFzZTonLCBlcnJvcik7XG4gICAgICAgIC8vIFNlc3Npb24gaXMgYWxyZWFkeSBpbiBsb2NhbCBzdGF0ZSwgc28gVUkgcmVtYWlucyBmdW5jdGlvbmFsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFub255bW91cyB1c2VyIC0gc2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICAgIHRyeSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaS1jb2FjaC1hbm9ueW1vdXMtc2Vzc2lvbnMnLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkU2Vzc2lvbnMpKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1t1c2VTZXNzaW9uTWFuYWdlcl0gU2Vzc2lvbiBzYXZlZCB0byBsb2NhbFN0b3JhZ2UgZm9yIGFub255bW91cyB1c2VyJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcmVtYWluaW5nIGZyZWUgc2Vzc2lvbnNcbiAgICAgICAgaWYgKHVzZXJUaWVyID09PSBVc2VyVGllci5GcmVlKSB7XG4gICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gZ2V0UmVtYWluaW5nRnJlZVNlc3Npb25zQW5vbnltb3VzKCk7XG4gICAgICAgICAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zKHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VTZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIHNhdmUgYW5vbnltb3VzIHNlc3Npb24gdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgICAgLy8gU2Vzc2lvbiBpcyBhbHJlYWR5IGluIGxvY2FsIHN0YXRlLCBzbyBVSSByZW1haW5zIGZ1bmN0aW9uYWxcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgc3RyZWFrIGFmdGVyIHN1Y2Nlc3NmdWwgc2Vzc2lvbiBzYXZlIGFuZCBjYXB0dXJlIGZyZXNoIHZhbHVlXG4gICAgbGV0IGZyZXNoU3RyZWFrID0gY3VycmVudFN0cmVhayA/PyAwO1xuICAgIGlmICh1cGRhdGVTdHJlYWspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZyZXNoU3RyZWFrID0gYXdhaXQgdXBkYXRlU3RyZWFrKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbdXNlU2Vzc2lvbk1hbmFnZXJdIFN0cmVhayB1cGRhdGVkIHN1Y2Nlc3NmdWxseTonLCBmcmVzaFN0cmVhayk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbdXNlU2Vzc2lvbk1hbmFnZXJdIEZhaWxlZCB0byB1cGRhdGUgc3RyZWFrOicsIGVycm9yKTtcbiAgICAgICAgLy8gTm9uLWNyaXRpY2FsIC0gZG9uJ3QgZmFpbCB0aGUgc2Vzc2lvbiBzYXZlXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQXdhcmQgWFAgZm9yIGNvbXBsZXRpbmcgdGhlIHNlc3Npb24gKG9ubHkgaWYgbm90IGFscmVhZHkgYXdhcmRlZCBmb3IgdGhpcyBzZXNzaW9uKVxuICAgIGNvbnN0IGFscmVhZHlBd2FyZGVkID0gZ2V0QXdhcmRlZFNlc3Npb25zKCkuaGFzKG5ld1Nlc3Npb24uaWQpO1xuICAgIGlmIChhZGRYUCAmJiAhYWxyZWFkeUF3YXJkZWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEJhc2UgWFAgZm9yIGNvbXBsZXRpbmcgYSBzZXNzaW9uXG4gICAgICAgIGxldCB4cEFtb3VudCA9IDEwO1xuICAgICAgICBsZXQgeHBSZWFzb24gPSAnU2Vzc2lvbiBjb21wbGV0ZWQnO1xuXG4gICAgICAgIC8vIENoZWNrIGVtcGF0aHkgc2NvcmUgZm9yIGJvbnVzIFhQXG4gICAgICAgIC8vIFNjb3JlIGlzIDEtNSwgc28gNzAlID0gMy41LCA5MCUgPSA0LjVcbiAgICAgICAgY29uc3QgZW1wYXRoeVNjb3JlID0gZmVlZGJhY2suZW1wYXRoeVNjb3JlID8/IDA7XG4gICAgICAgIGlmIChlbXBhdGh5U2NvcmUgPj0gNC41KSB7XG4gICAgICAgICAgLy8gOTAlKyBzY29yZTogKzEwIGJvbnVzIChyZXBsYWNlcyArNSlcbiAgICAgICAgICB4cEFtb3VudCArPSAxMDtcbiAgICAgICAgICB4cFJlYXNvbiA9ICdTZXNzaW9uIGNvbXBsZXRlZCB3aXRoIGV4Y2VsbGVudCBzY29yZSAoOTAlKyknO1xuICAgICAgICB9IGVsc2UgaWYgKGVtcGF0aHlTY29yZSA+PSAzLjUpIHtcbiAgICAgICAgICAvLyA3MCUrIHNjb3JlOiArNSBib251c1xuICAgICAgICAgIHhwQW1vdW50ICs9IDU7XG4gICAgICAgICAgeHBSZWFzb24gPSAnU2Vzc2lvbiBjb21wbGV0ZWQgd2l0aCBnb29kIHNjb3JlICg3MCUrKSc7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBhZGRYUCh4cEFtb3VudCwgeHBSZWFzb24pO1xuICAgICAgICBtYXJrU2Vzc2lvbkF3YXJkZWQobmV3U2Vzc2lvbi5pZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbdXNlU2Vzc2lvbk1hbmFnZXJdIFhQIGF3YXJkZWQ6JywgeHBBbW91bnQsIHhwUmVhc29uKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VTZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIGF3YXJkIFhQOicsIGVycm9yKTtcbiAgICAgICAgLy8gTm9uLWNyaXRpY2FsIC0gZG9uJ3QgZmFpbCB0aGUgc2Vzc2lvbiBzYXZlXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhbHJlYWR5QXdhcmRlZCkge1xuICAgICAgY29uc29sZS5sb2coJ1t1c2VTZXNzaW9uTWFuYWdlcl0gWFAgYWxyZWFkeSBhd2FyZGVkIGZvciBzZXNzaW9uOicsIG5ld1Nlc3Npb24uaWQpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGFuZCB1bmxvY2sgYmFkZ2VzIHVzaW5nIGZyZXNoIHN0cmVhayB2YWx1ZVxuICAgIGlmIChjaGVja0FuZFVubG9ja0JhZGdlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbmV3QmFkZ2VzID0gYXdhaXQgY2hlY2tBbmRVbmxvY2tCYWRnZXMoe1xuICAgICAgICAgIHN0cmVhazogZnJlc2hTdHJlYWssXG4gICAgICAgICAgdG90YWxTZXNzaW9uczogdXBkYXRlZFNlc3Npb25zLmxlbmd0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChuZXdCYWRnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlU2Vzc2lvbk1hbmFnZXJdIEJhZGdlcyB1bmxvY2tlZDonLCBuZXdCYWRnZXMubWFwKGIgPT4gYi5uYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VTZXNzaW9uTWFuYWdlcl0gRmFpbGVkIHRvIGNoZWNrIGJhZGdlczonLCBlcnJvcik7XG4gICAgICAgIC8vIE5vbi1jcml0aWNhbCAtIGRvbid0IGZhaWwgdGhlIHNlc3Npb24gc2F2ZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXdTZXNzaW9uO1xuICB9LCBbdXNlciwgc2V0U2Vzc2lvbnMsIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucywgdXBkYXRlU3RyZWFrLCBhZGRYUCwgY2hlY2tBbmRVbmxvY2tCYWRnZXMsIGN1cnJlbnRTdHJlYWtdKTtcblxuICByZXR1cm4ge1xuICAgIHNhdmVOZXdTZXNzaW9uLFxuICB9O1xufTtcblxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiVXNlclRpZXIiLCJzYXZlU2Vzc2lvbiIsImdldFVzZXJTZXNzaW9ucyIsImdldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyIsImdldFJlbWFpbmluZ0ZyZWVTZXNzaW9uc0Fub255bW91cyIsIlhQX0FXQVJERURfS0VZIiwiZ2V0QXdhcmRlZFNlc3Npb25zIiwic3RvcmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIlNldCIsIkpTT04iLCJwYXJzZSIsIm1hcmtTZXNzaW9uQXdhcmRlZCIsInNlc3Npb25JZCIsImF3YXJkZWQiLCJhZGQiLCJhd2FyZGVkQXJyYXkiLCJzbGljZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJ1c2VTZXNzaW9uTWFuYWdlciIsInVzZXIiLCJhdXRoTG9hZGluZyIsInVzZXJUaWVyIiwic2V0U2Vzc2lvbnMiLCJzZXRTZXNzaW9uc0xvYWRpbmciLCJzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMiLCJ1cGRhdGVTdHJlYWsiLCJhZGRYUCIsImNoZWNrQW5kVW5sb2NrQmFkZ2VzIiwiY3VycmVudFN0cmVhayIsImxvYWRTZXNzaW9ucyIsInN1cGFiYXNlU2Vzc2lvbnMiLCJpZCIsIkZyZWUiLCJyZW1haW5pbmciLCJsZW5ndGgiLCJzYXZlZFNlc3Npb25zIiwibG9jYWxTZXNzaW9ucyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInJlbW92ZUl0ZW0iLCJhbm9ueW1vdXNTZXNzaW9uc0pzb24iLCJhbm9ueW1vdXNTZXNzaW9ucyIsInBhcnNlRXJyb3IiLCJzYXZlTmV3U2Vzc2lvbiIsInRyYW5zY3JpcHQiLCJmZWVkYmFjayIsInBhdGllbnQiLCJjdXJyZW50U2Vzc2lvbnMiLCJuZXdTZXNzaW9uIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZGF0ZSIsInRpZXIiLCJ1cGRhdGVkU2Vzc2lvbnMiLCJ0b1N0cmluZyIsImZyZXNoU3RyZWFrIiwiYWxyZWFkeUF3YXJkZWQiLCJoYXMiLCJ4cEFtb3VudCIsInhwUmVhc29uIiwiZW1wYXRoeVNjb3JlIiwibmV3QmFkZ2VzIiwic3RyZWFrIiwidG90YWxTZXNzaW9ucyIsIm1hcCIsImIiLCJuYW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useSessionManager.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useStreak.ts":
/*!****************************!*\
  !*** ./hooks/useStreak.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useStreak: () => (/* binding */ useStreak)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts/AuthContext */ \"(ssr)/./contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _utils_syncQueue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/syncQueue */ \"(ssr)/./utils/syncQueue.ts\");\n\n\n\n\n// Storage key for anonymous/fallback streak data\nconst STREAK_STORAGE_KEY = 'mi-coach-streak';\n/**\n * Get today's date in LOCAL timezone as YYYY-MM-DD string\n * This ensures streaks roll over at local midnight, not UTC midnight\n */ const getTodayLocal = ()=>{\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0');\n    const day = String(now.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n};\n/**\n * Get yesterday's date in LOCAL timezone as YYYY-MM-DD string\n */ const getYesterdayLocal = ()=>{\n    const now = new Date();\n    now.setDate(now.getDate() - 1); // Use local date arithmetic\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0');\n    const day = String(now.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n};\n/**\n * Parse a date string to Date object at LOCAL midnight\n * The stored format is YYYY-MM-DD, we interpret it as local time\n */ const parseLocalDate = (dateStr)=>{\n    // Parse as local date (not UTC) by using Date constructor with parts\n    const [year, month, day] = dateStr.split('-').map(Number);\n    return new Date(year, month - 1, day, 0, 0, 0, 0);\n};\n/**\n * Get the YYYY-MM-DD string from a Date object in LOCAL timezone\n */ const toLocalDateString = (date)=>{\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n};\n/**\n * Hook to manage user practice streaks\n * Tracks consecutive calendar days with at least 1 completed session\n * All date calculations are done in user's LOCAL timezone\n */ const useStreak = ()=>{\n    const { user, loading: authLoading } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.useAuth)();\n    const [currentStreak, setCurrentStreak] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [longestStreak, setLongestStreak] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [lastPracticeDate, setLastPracticeDate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    /**\n   * Load streak data from localStorage (fallback/anonymous)\n   */ const loadFromLocalStorage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStreak.useCallback[loadFromLocalStorage]\": ()=>{\n            try {\n                const stored = localStorage.getItem(STREAK_STORAGE_KEY);\n                if (stored) {\n                    const parsed = JSON.parse(stored);\n                    return {\n                        currentStreak: parsed.currentStreak ?? 0,\n                        longestStreak: parsed.longestStreak ?? 0,\n                        lastPracticeDate: parsed.lastPracticeDate ? parseLocalDate(parsed.lastPracticeDate) : null\n                    };\n                }\n            } catch (error) {\n                console.error('[useStreak] Failed to parse streak from localStorage:', error);\n            }\n            return {\n                currentStreak: 0,\n                longestStreak: 0,\n                lastPracticeDate: null\n            };\n        }\n    }[\"useStreak.useCallback[loadFromLocalStorage]\"], []);\n    /**\n   * Save streak data to localStorage\n   * Stores date in YYYY-MM-DD format (local timezone)\n   */ const saveToLocalStorage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStreak.useCallback[saveToLocalStorage]\": (data)=>{\n            try {\n                const toStore = {\n                    currentStreak: data.currentStreak,\n                    longestStreak: data.longestStreak,\n                    lastPracticeDate: data.lastPracticeDate ? toLocalDateString(data.lastPracticeDate) : null\n                };\n                localStorage.setItem(STREAK_STORAGE_KEY, JSON.stringify(toStore));\n            } catch (error) {\n                console.error('[useStreak] Failed to save streak to localStorage:', error);\n            }\n        }\n    }[\"useStreak.useCallback[saveToLocalStorage]\"], []);\n    /**\n   * Load streak data from Supabase\n   */ const loadFromSupabase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStreak.useCallback[loadFromSupabase]\": async (userId)=>{\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                console.warn('[useStreak] Supabase not configured, using localStorage');\n                return loadFromLocalStorage();\n            }\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                const { data, error } = await supabase.from('profiles').select('current_streak, longest_streak, last_practice_date').eq('user_id', userId).single();\n                if (error) {\n                    // Profile might not have streak columns yet - return defaults\n                    if (error.code === 'PGRST116' || error.message.includes('column')) {\n                        console.log('[useStreak] Streak columns not found, using defaults');\n                        return {\n                            currentStreak: 0,\n                            longestStreak: 0,\n                            lastPracticeDate: null\n                        };\n                    }\n                    console.error('[useStreak] Failed to load streak from Supabase:', error);\n                    return loadFromLocalStorage();\n                }\n                if (!data) {\n                    return {\n                        currentStreak: 0,\n                        longestStreak: 0,\n                        lastPracticeDate: null\n                    };\n                }\n                return {\n                    currentStreak: data.current_streak ?? 0,\n                    longestStreak: data.longest_streak ?? 0,\n                    // Parse stored date as local date (YYYY-MM-DD format)\n                    lastPracticeDate: data.last_practice_date ? parseLocalDate(data.last_practice_date) : null\n                };\n            } catch (error) {\n                console.error('[useStreak] Error loading streak from Supabase:', error);\n                return loadFromLocalStorage();\n            }\n        }\n    }[\"useStreak.useCallback[loadFromSupabase]\"], [\n        loadFromLocalStorage\n    ]);\n    /**\n   * Save streak data to Supabase\n   * On failure, queues the operation for retry when connectivity is restored\n   * Dates are stored in YYYY-MM-DD format (local timezone)\n   */ const saveToSupabase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStreak.useCallback[saveToSupabase]\": async (userId, data)=>{\n            // Always save to localStorage first for offline access\n            saveToLocalStorage(data);\n            // Format date as local YYYY-MM-DD string\n            const dateStr = data.lastPracticeDate ? toLocalDateString(data.lastPracticeDate) : null;\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                console.warn('[useStreak] Supabase not configured, queuing for later sync');\n                (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_3__.queueOperation)('streak', userId, {\n                    currentStreak: data.currentStreak,\n                    longestStreak: data.longestStreak,\n                    lastPracticeDate: dateStr\n                });\n                return false;\n            }\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                const { error } = await supabase.from('profiles').update({\n                    current_streak: data.currentStreak,\n                    longest_streak: data.longestStreak,\n                    last_practice_date: dateStr,\n                    updated_at: new Date().toISOString()\n                }).eq('user_id', userId);\n                if (error) {\n                    console.error('[useStreak] Failed to save streak to Supabase:', error);\n                    // Queue for retry\n                    (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_3__.queueOperation)('streak', userId, {\n                        currentStreak: data.currentStreak,\n                        longestStreak: data.longestStreak,\n                        lastPracticeDate: dateStr\n                    });\n                    return false;\n                }\n                console.log('[useStreak] Streak saved to Supabase successfully');\n                return true;\n            } catch (error) {\n                console.error('[useStreak] Error saving streak to Supabase:', error);\n                // Queue for retry\n                (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_3__.queueOperation)('streak', userId, {\n                    currentStreak: data.currentStreak,\n                    longestStreak: data.longestStreak,\n                    lastPracticeDate: dateStr\n                });\n                return false;\n            }\n        }\n    }[\"useStreak.useCallback[saveToSupabase]\"], [\n        saveToLocalStorage\n    ]);\n    /**\n   * Handler for processing queued streak operations\n   */ const handleQueuedStreakSync = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStreak.useCallback[handleQueuedStreakSync]\": async (operation)=>{\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                return false;\n            }\n            const streakData = operation.data;\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getSupabaseClient)();\n                const { error } = await supabase.from('profiles').update({\n                    current_streak: streakData.currentStreak,\n                    longest_streak: streakData.longestStreak,\n                    last_practice_date: streakData.lastPracticeDate,\n                    updated_at: new Date().toISOString()\n                }).eq('user_id', operation.userId);\n                if (error) {\n                    console.error('[useStreak] Failed to sync queued streak:', error);\n                    return false;\n                }\n                console.log('[useStreak] Successfully synced queued streak');\n                return true;\n            } catch (error) {\n                console.error('[useStreak] Error syncing queued streak:', error);\n                return false;\n            }\n        }\n    }[\"useStreak.useCallback[handleQueuedStreakSync]\"], []);\n    /**\n   * Check if streak is still valid (practiced yesterday or today in LOCAL timezone)\n   * If not practiced yesterday and not today, streak resets to 0\n   */ const validateStreak = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStreak.useCallback[validateStreak]\": (data)=>{\n            if (!data.lastPracticeDate) {\n                return {\n                    ...data,\n                    currentStreak: 0\n                };\n            }\n            // Compare dates in local timezone\n            const lastPracticeDateStr = toLocalDateString(data.lastPracticeDate);\n            const todayStr = getTodayLocal();\n            const yesterdayStr = getYesterdayLocal();\n            // If last practice was today or yesterday, streak is valid\n            if (lastPracticeDateStr === todayStr || lastPracticeDateStr === yesterdayStr) {\n                return data;\n            }\n            // Streak has broken - reset current streak but keep longest\n            console.log('[useStreak] Streak broken - last practice was:', lastPracticeDateStr);\n            return {\n                ...data,\n                currentStreak: 0\n            };\n        }\n    }[\"useStreak.useCallback[validateStreak]\"], []);\n    /**\n   * Update streak when a session is completed\n   * Call this after a practice session finishes\n   * Uses LOCAL timezone for \"today\" and \"yesterday\" calculations\n   */ const updateStreak = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStreak.useCallback[updateStreak]\": async ()=>{\n            const todayStr = getTodayLocal();\n            const todayDate = parseLocalDate(todayStr);\n            // Check if already practiced today (in local timezone)\n            if (lastPracticeDate) {\n                const lastPracticeDateStr = toLocalDateString(lastPracticeDate);\n                if (lastPracticeDateStr === todayStr) {\n                    console.log('[useStreak] Already practiced today (local time), streak unchanged');\n                    return currentStreak;\n                }\n            }\n            // Calculate new streak\n            let newCurrentStreak = 1;\n            if (lastPracticeDate) {\n                const lastPracticeDateStr = toLocalDateString(lastPracticeDate);\n                const yesterdayStr = getYesterdayLocal();\n                if (lastPracticeDateStr === yesterdayStr) {\n                    // Practiced yesterday (local time) - extend streak\n                    newCurrentStreak = currentStreak + 1;\n                }\n            // If last practice was before yesterday, streak resets to 1\n            }\n            const newLongestStreak = Math.max(longestStreak, newCurrentStreak);\n            // Update local state (optimistic update)\n            setCurrentStreak(newCurrentStreak);\n            setLongestStreak(newLongestStreak);\n            setLastPracticeDate(todayDate);\n            const newData = {\n                currentStreak: newCurrentStreak,\n                longestStreak: newLongestStreak,\n                lastPracticeDate: todayDate\n            };\n            // Persist to storage\n            if (user) {\n                await saveToSupabase(user.id, newData);\n            } else {\n                saveToLocalStorage(newData);\n            }\n            console.log('[useStreak] Streak updated (local timezone):', {\n                currentStreak: newCurrentStreak,\n                longestStreak: newLongestStreak,\n                lastPracticeDate: todayStr,\n                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\n            });\n            return newCurrentStreak;\n        }\n    }[\"useStreak.useCallback[updateStreak]\"], [\n        user,\n        currentStreak,\n        longestStreak,\n        lastPracticeDate,\n        saveToSupabase,\n        saveToLocalStorage\n    ]);\n    /**\n   * Process any queued streak operations (called on load and when online)\n   */ const processQueue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStreak.useCallback[processQueue]\": async ()=>{\n            if (!user || !(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                return;\n            }\n            const synced = await (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_3__.processSyncQueue)('streak', user.id, handleQueuedStreakSync);\n            if (synced > 0) {\n                console.log(`[useStreak] Synced ${synced} queued streak operations`);\n            }\n        }\n    }[\"useStreak.useCallback[processQueue]\"], [\n        user,\n        handleQueuedStreakSync\n    ]);\n    // Load streak data on mount or when user changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useStreak.useEffect\": ()=>{\n            if (authLoading) {\n                return;\n            }\n            const loadStreak = {\n                \"useStreak.useEffect.loadStreak\": async ()=>{\n                    setIsLoading(true);\n                    try {\n                        // First, try to sync any queued operations from previous failures\n                        if (user) {\n                            await processQueue();\n                        }\n                        let data;\n                        if (user) {\n                            // Authenticated user - load from Supabase\n                            data = await loadFromSupabase(user.id);\n                        } else {\n                            // Anonymous user - load from localStorage\n                            data = loadFromLocalStorage();\n                        }\n                        // Validate streak (check if it's still active)\n                        const validatedData = validateStreak(data);\n                        // If streak was invalidated, persist the reset\n                        if (validatedData.currentStreak !== data.currentStreak) {\n                            if (user) {\n                                await saveToSupabase(user.id, validatedData);\n                            } else {\n                                saveToLocalStorage(validatedData);\n                            }\n                        }\n                        setCurrentStreak(validatedData.currentStreak);\n                        setLongestStreak(validatedData.longestStreak);\n                        setLastPracticeDate(validatedData.lastPracticeDate);\n                    } catch (error) {\n                        console.error('[useStreak] Failed to load streak:', error);\n                        // Default to zero streak on error\n                        setCurrentStreak(0);\n                        setLongestStreak(0);\n                        setLastPracticeDate(null);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"useStreak.useEffect.loadStreak\"];\n            loadStreak();\n        }\n    }[\"useStreak.useEffect\"], [\n        user,\n        authLoading,\n        loadFromSupabase,\n        loadFromLocalStorage,\n        validateStreak,\n        saveToSupabase,\n        saveToLocalStorage,\n        processQueue\n    ]);\n    return {\n        currentStreak,\n        longestStreak,\n        lastPracticeDate,\n        isLoading,\n        updateStreak,\n        processQueue\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0U3VwYWJhc2VDbGllbnQsIGlzU3VwYWJhc2VDb25maWd1cmVkIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xuaW1wb3J0IHsgXG4gIHF1ZXVlT3BlcmF0aW9uLCBcbiAgcHJvY2Vzc1N5bmNRdWV1ZSwgXG4gIFN0cmVha1N5bmNEYXRhLFxuICBRdWV1ZWRPcGVyYXRpb24gXG59IGZyb20gJy4uL3V0aWxzL3N5bmNRdWV1ZSc7XG5cbmludGVyZmFjZSBTdHJlYWtEYXRhIHtcbiAgY3VycmVudFN0cmVhazogbnVtYmVyO1xuICBsb25nZXN0U3RyZWFrOiBudW1iZXI7XG4gIGxhc3RQcmFjdGljZURhdGU6IERhdGUgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgVXNlU3RyZWFrUmV0dXJuIGV4dGVuZHMgU3RyZWFrRGF0YSB7XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgdXBkYXRlU3RyZWFrOiAoKSA9PiBQcm9taXNlPG51bWJlcj47XG4gIHByb2Nlc3NRdWV1ZTogKCkgPT4gUHJvbWlzZTx2b2lkPjsgLy8gUHJvY2VzcyBxdWV1ZWQgb3BlcmF0aW9ucyAoZm9yIG9ubGluZSBzeW5jKVxufVxuXG4vLyBTdG9yYWdlIGtleSBmb3IgYW5vbnltb3VzL2ZhbGxiYWNrIHN0cmVhayBkYXRhXG5jb25zdCBTVFJFQUtfU1RPUkFHRV9LRVkgPSAnbWktY29hY2gtc3RyZWFrJztcblxuLyoqXG4gKiBHZXQgdG9kYXkncyBkYXRlIGluIExPQ0FMIHRpbWV6b25lIGFzIFlZWVktTU0tREQgc3RyaW5nXG4gKiBUaGlzIGVuc3VyZXMgc3RyZWFrcyByb2xsIG92ZXIgYXQgbG9jYWwgbWlkbmlnaHQsIG5vdCBVVEMgbWlkbmlnaHRcbiAqL1xuY29uc3QgZ2V0VG9kYXlMb2NhbCA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1vbnRoID0gU3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgY29uc3QgZGF5ID0gU3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gO1xufTtcblxuLyoqXG4gKiBHZXQgeWVzdGVyZGF5J3MgZGF0ZSBpbiBMT0NBTCB0aW1lem9uZSBhcyBZWVlZLU1NLUREIHN0cmluZ1xuICovXG5jb25zdCBnZXRZZXN0ZXJkYXlMb2NhbCA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gMSk7IC8vIFVzZSBsb2NhbCBkYXRlIGFyaXRobWV0aWNcbiAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtb250aCA9IFN0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIGNvbnN0IGRheSA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcbn07XG5cbi8qKlxuICogUGFyc2UgYSBkYXRlIHN0cmluZyB0byBEYXRlIG9iamVjdCBhdCBMT0NBTCBtaWRuaWdodFxuICogVGhlIHN0b3JlZCBmb3JtYXQgaXMgWVlZWS1NTS1ERCwgd2UgaW50ZXJwcmV0IGl0IGFzIGxvY2FsIHRpbWVcbiAqL1xuY29uc3QgcGFyc2VMb2NhbERhdGUgPSAoZGF0ZVN0cjogc3RyaW5nKTogRGF0ZSA9PiB7XG4gIC8vIFBhcnNlIGFzIGxvY2FsIGRhdGUgKG5vdCBVVEMpIGJ5IHVzaW5nIERhdGUgY29uc3RydWN0b3Igd2l0aCBwYXJ0c1xuICBjb25zdCBbeWVhciwgbW9udGgsIGRheV0gPSBkYXRlU3RyLnNwbGl0KCctJykubWFwKE51bWJlcik7XG4gIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgMCwgMCwgMCwgMCk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgWVlZWS1NTS1ERCBzdHJpbmcgZnJvbSBhIERhdGUgb2JqZWN0IGluIExPQ0FMIHRpbWV6b25lXG4gKi9cbmNvbnN0IHRvTG9jYWxEYXRlU3RyaW5nID0gKGRhdGU6IERhdGUpOiBzdHJpbmcgPT4ge1xuICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gO1xufTtcblxuLyoqXG4gKiBIb29rIHRvIG1hbmFnZSB1c2VyIHByYWN0aWNlIHN0cmVha3NcbiAqIFRyYWNrcyBjb25zZWN1dGl2ZSBjYWxlbmRhciBkYXlzIHdpdGggYXQgbGVhc3QgMSBjb21wbGV0ZWQgc2Vzc2lvblxuICogQWxsIGRhdGUgY2FsY3VsYXRpb25zIGFyZSBkb25lIGluIHVzZXIncyBMT0NBTCB0aW1lem9uZVxuICovXG5leHBvcnQgY29uc3QgdXNlU3RyZWFrID0gKCk6IFVzZVN0cmVha1JldHVybiA9PiB7XG4gIGNvbnN0IHsgdXNlciwgbG9hZGluZzogYXV0aExvYWRpbmcgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW2N1cnJlbnRTdHJlYWssIHNldEN1cnJlbnRTdHJlYWtdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2xvbmdlc3RTdHJlYWssIHNldExvbmdlc3RTdHJlYWtdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2xhc3RQcmFjdGljZURhdGUsIHNldExhc3RQcmFjdGljZURhdGVdID0gdXNlU3RhdGU8RGF0ZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XG5cbiAgLyoqXG4gICAqIExvYWQgc3RyZWFrIGRhdGEgZnJvbSBsb2NhbFN0b3JhZ2UgKGZhbGxiYWNrL2Fub255bW91cylcbiAgICovXG4gIGNvbnN0IGxvYWRGcm9tTG9jYWxTdG9yYWdlID0gdXNlQ2FsbGJhY2soKCk6IFN0cmVha0RhdGEgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVFJFQUtfU1RPUkFHRV9LRVkpO1xuICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY3VycmVudFN0cmVhazogcGFyc2VkLmN1cnJlbnRTdHJlYWsgPz8gMCxcbiAgICAgICAgICBsb25nZXN0U3RyZWFrOiBwYXJzZWQubG9uZ2VzdFN0cmVhayA/PyAwLFxuICAgICAgICAgIGxhc3RQcmFjdGljZURhdGU6IHBhcnNlZC5sYXN0UHJhY3RpY2VEYXRlID8gcGFyc2VMb2NhbERhdGUocGFyc2VkLmxhc3RQcmFjdGljZURhdGUpIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW3VzZVN0cmVha10gRmFpbGVkIHRvIHBhcnNlIHN0cmVhayBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiB7IGN1cnJlbnRTdHJlYWs6IDAsIGxvbmdlc3RTdHJlYWs6IDAsIGxhc3RQcmFjdGljZURhdGU6IG51bGwgfTtcbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBTYXZlIHN0cmVhayBkYXRhIHRvIGxvY2FsU3RvcmFnZVxuICAgKiBTdG9yZXMgZGF0ZSBpbiBZWVlZLU1NLUREIGZvcm1hdCAobG9jYWwgdGltZXpvbmUpXG4gICAqL1xuICBjb25zdCBzYXZlVG9Mb2NhbFN0b3JhZ2UgPSB1c2VDYWxsYmFjaygoZGF0YTogU3RyZWFrRGF0YSk6IHZvaWQgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b1N0b3JlID0ge1xuICAgICAgICBjdXJyZW50U3RyZWFrOiBkYXRhLmN1cnJlbnRTdHJlYWssXG4gICAgICAgIGxvbmdlc3RTdHJlYWs6IGRhdGEubG9uZ2VzdFN0cmVhayxcbiAgICAgICAgbGFzdFByYWN0aWNlRGF0ZTogZGF0YS5sYXN0UHJhY3RpY2VEYXRlID8gdG9Mb2NhbERhdGVTdHJpbmcoZGF0YS5sYXN0UHJhY3RpY2VEYXRlKSA6IG51bGwsXG4gICAgICB9O1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RSRUFLX1NUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeSh0b1N0b3JlKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VTdHJlYWtdIEZhaWxlZCB0byBzYXZlIHN0cmVhayB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBMb2FkIHN0cmVhayBkYXRhIGZyb20gU3VwYWJhc2VcbiAgICovXG4gIGNvbnN0IGxvYWRGcm9tU3VwYWJhc2UgPSB1c2VDYWxsYmFjayhhc3luYyAodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFN0cmVha0RhdGE+ID0+IHtcbiAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybignW3VzZVN0cmVha10gU3VwYWJhc2Ugbm90IGNvbmZpZ3VyZWQsIHVzaW5nIGxvY2FsU3RvcmFnZScpO1xuICAgICAgcmV0dXJuIGxvYWRGcm9tTG9jYWxTdG9yYWdlKCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgIC5zZWxlY3QoJ2N1cnJlbnRfc3RyZWFrLCBsb25nZXN0X3N0cmVhaywgbGFzdF9wcmFjdGljZV9kYXRlJylcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAvLyBQcm9maWxlIG1pZ2h0IG5vdCBoYXZlIHN0cmVhayBjb2x1bW5zIHlldCAtIHJldHVybiBkZWZhdWx0c1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JyB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdjb2x1bW4nKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlU3RyZWFrXSBTdHJlYWsgY29sdW1ucyBub3QgZm91bmQsIHVzaW5nIGRlZmF1bHRzJyk7XG4gICAgICAgICAgcmV0dXJuIHsgY3VycmVudFN0cmVhazogMCwgbG9uZ2VzdFN0cmVhazogMCwgbGFzdFByYWN0aWNlRGF0ZTogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VTdHJlYWtdIEZhaWxlZCB0byBsb2FkIHN0cmVhayBmcm9tIFN1cGFiYXNlOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGxvYWRGcm9tTG9jYWxTdG9yYWdlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICByZXR1cm4geyBjdXJyZW50U3RyZWFrOiAwLCBsb25nZXN0U3RyZWFrOiAwLCBsYXN0UHJhY3RpY2VEYXRlOiBudWxsIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGN1cnJlbnRTdHJlYWs6IGRhdGEuY3VycmVudF9zdHJlYWsgPz8gMCxcbiAgICAgICAgbG9uZ2VzdFN0cmVhazogZGF0YS5sb25nZXN0X3N0cmVhayA/PyAwLFxuICAgICAgICAvLyBQYXJzZSBzdG9yZWQgZGF0ZSBhcyBsb2NhbCBkYXRlIChZWVlZLU1NLUREIGZvcm1hdClcbiAgICAgICAgbGFzdFByYWN0aWNlRGF0ZTogZGF0YS5sYXN0X3ByYWN0aWNlX2RhdGUgPyBwYXJzZUxvY2FsRGF0ZShkYXRhLmxhc3RfcHJhY3RpY2VfZGF0ZSkgOiBudWxsLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW3VzZVN0cmVha10gRXJyb3IgbG9hZGluZyBzdHJlYWsgZnJvbSBTdXBhYmFzZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbG9hZEZyb21Mb2NhbFN0b3JhZ2UoKTtcbiAgICB9XG4gIH0sIFtsb2FkRnJvbUxvY2FsU3RvcmFnZV0pO1xuXG4gIC8qKlxuICAgKiBTYXZlIHN0cmVhayBkYXRhIHRvIFN1cGFiYXNlXG4gICAqIE9uIGZhaWx1cmUsIHF1ZXVlcyB0aGUgb3BlcmF0aW9uIGZvciByZXRyeSB3aGVuIGNvbm5lY3Rpdml0eSBpcyByZXN0b3JlZFxuICAgKiBEYXRlcyBhcmUgc3RvcmVkIGluIFlZWVktTU0tREQgZm9ybWF0IChsb2NhbCB0aW1lem9uZSlcbiAgICovXG4gIGNvbnN0IHNhdmVUb1N1cGFiYXNlID0gdXNlQ2FsbGJhY2soYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBkYXRhOiBTdHJlYWtEYXRhKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgLy8gQWx3YXlzIHNhdmUgdG8gbG9jYWxTdG9yYWdlIGZpcnN0IGZvciBvZmZsaW5lIGFjY2Vzc1xuICAgIHNhdmVUb0xvY2FsU3RvcmFnZShkYXRhKTtcblxuICAgIC8vIEZvcm1hdCBkYXRlIGFzIGxvY2FsIFlZWVktTU0tREQgc3RyaW5nXG4gICAgY29uc3QgZGF0ZVN0ciA9IGRhdGEubGFzdFByYWN0aWNlRGF0ZSA/IHRvTG9jYWxEYXRlU3RyaW5nKGRhdGEubGFzdFByYWN0aWNlRGF0ZSkgOiBudWxsO1xuXG4gICAgaWYgKCFpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1t1c2VTdHJlYWtdIFN1cGFiYXNlIG5vdCBjb25maWd1cmVkLCBxdWV1aW5nIGZvciBsYXRlciBzeW5jJyk7XG4gICAgICBxdWV1ZU9wZXJhdGlvbignc3RyZWFrJywgdXNlcklkLCB7XG4gICAgICAgIGN1cnJlbnRTdHJlYWs6IGRhdGEuY3VycmVudFN0cmVhayxcbiAgICAgICAgbG9uZ2VzdFN0cmVhazogZGF0YS5sb25nZXN0U3RyZWFrLFxuICAgICAgICBsYXN0UHJhY3RpY2VEYXRlOiBkYXRlU3RyLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgIGN1cnJlbnRfc3RyZWFrOiBkYXRhLmN1cnJlbnRTdHJlYWssXG4gICAgICAgICAgbG9uZ2VzdF9zdHJlYWs6IGRhdGEubG9uZ2VzdFN0cmVhayxcbiAgICAgICAgICBsYXN0X3ByYWN0aWNlX2RhdGU6IGRhdGVTdHIsXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3VzZVN0cmVha10gRmFpbGVkIHRvIHNhdmUgc3RyZWFrIHRvIFN1cGFiYXNlOicsIGVycm9yKTtcbiAgICAgICAgLy8gUXVldWUgZm9yIHJldHJ5XG4gICAgICAgIHF1ZXVlT3BlcmF0aW9uKCdzdHJlYWsnLCB1c2VySWQsIHtcbiAgICAgICAgICBjdXJyZW50U3RyZWFrOiBkYXRhLmN1cnJlbnRTdHJlYWssXG4gICAgICAgICAgbG9uZ2VzdFN0cmVhazogZGF0YS5sb25nZXN0U3RyZWFrLFxuICAgICAgICAgIGxhc3RQcmFjdGljZURhdGU6IGRhdGVTdHIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbdXNlU3RyZWFrXSBTdHJlYWsgc2F2ZWQgdG8gU3VwYWJhc2Ugc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW3VzZVN0cmVha10gRXJyb3Igc2F2aW5nIHN0cmVhayB0byBTdXBhYmFzZTonLCBlcnJvcik7XG4gICAgICAvLyBRdWV1ZSBmb3IgcmV0cnlcbiAgICAgIHF1ZXVlT3BlcmF0aW9uKCdzdHJlYWsnLCB1c2VySWQsIHtcbiAgICAgICAgY3VycmVudFN0cmVhazogZGF0YS5jdXJyZW50U3RyZWFrLFxuICAgICAgICBsb25nZXN0U3RyZWFrOiBkYXRhLmxvbmdlc3RTdHJlYWssXG4gICAgICAgIGxhc3RQcmFjdGljZURhdGU6IGRhdGVTdHIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIFtzYXZlVG9Mb2NhbFN0b3JhZ2VdKTtcblxuICAvKipcbiAgICogSGFuZGxlciBmb3IgcHJvY2Vzc2luZyBxdWV1ZWQgc3RyZWFrIG9wZXJhdGlvbnNcbiAgICovXG4gIGNvbnN0IGhhbmRsZVF1ZXVlZFN0cmVha1N5bmMgPSB1c2VDYWxsYmFjayhhc3luYyAob3BlcmF0aW9uOiBRdWV1ZWRPcGVyYXRpb24pOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJlYWtEYXRhID0gb3BlcmF0aW9uLmRhdGEgYXMgU3RyZWFrU3luY0RhdGE7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgY3VycmVudF9zdHJlYWs6IHN0cmVha0RhdGEuY3VycmVudFN0cmVhayxcbiAgICAgICAgICBsb25nZXN0X3N0cmVhazogc3RyZWFrRGF0YS5sb25nZXN0U3RyZWFrLFxuICAgICAgICAgIGxhc3RfcHJhY3RpY2VfZGF0ZTogc3RyZWFrRGF0YS5sYXN0UHJhY3RpY2VEYXRlLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSlcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgb3BlcmF0aW9uLnVzZXJJZCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbdXNlU3RyZWFrXSBGYWlsZWQgdG8gc3luYyBxdWV1ZWQgc3RyZWFrOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW3VzZVN0cmVha10gU3VjY2Vzc2Z1bGx5IHN5bmNlZCBxdWV1ZWQgc3RyZWFrJyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW3VzZVN0cmVha10gRXJyb3Igc3luY2luZyBxdWV1ZWQgc3RyZWFrOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgc3RyZWFrIGlzIHN0aWxsIHZhbGlkIChwcmFjdGljZWQgeWVzdGVyZGF5IG9yIHRvZGF5IGluIExPQ0FMIHRpbWV6b25lKVxuICAgKiBJZiBub3QgcHJhY3RpY2VkIHllc3RlcmRheSBhbmQgbm90IHRvZGF5LCBzdHJlYWsgcmVzZXRzIHRvIDBcbiAgICovXG4gIGNvbnN0IHZhbGlkYXRlU3RyZWFrID0gdXNlQ2FsbGJhY2soKGRhdGE6IFN0cmVha0RhdGEpOiBTdHJlYWtEYXRhID0+IHtcbiAgICBpZiAoIWRhdGEubGFzdFByYWN0aWNlRGF0ZSkge1xuICAgICAgcmV0dXJuIHsgLi4uZGF0YSwgY3VycmVudFN0cmVhazogMCB9O1xuICAgIH1cblxuICAgIC8vIENvbXBhcmUgZGF0ZXMgaW4gbG9jYWwgdGltZXpvbmVcbiAgICBjb25zdCBsYXN0UHJhY3RpY2VEYXRlU3RyID0gdG9Mb2NhbERhdGVTdHJpbmcoZGF0YS5sYXN0UHJhY3RpY2VEYXRlKTtcbiAgICBjb25zdCB0b2RheVN0ciA9IGdldFRvZGF5TG9jYWwoKTtcbiAgICBjb25zdCB5ZXN0ZXJkYXlTdHIgPSBnZXRZZXN0ZXJkYXlMb2NhbCgpO1xuXG4gICAgLy8gSWYgbGFzdCBwcmFjdGljZSB3YXMgdG9kYXkgb3IgeWVzdGVyZGF5LCBzdHJlYWsgaXMgdmFsaWRcbiAgICBpZiAobGFzdFByYWN0aWNlRGF0ZVN0ciA9PT0gdG9kYXlTdHIgfHwgbGFzdFByYWN0aWNlRGF0ZVN0ciA9PT0geWVzdGVyZGF5U3RyKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvLyBTdHJlYWsgaGFzIGJyb2tlbiAtIHJlc2V0IGN1cnJlbnQgc3RyZWFrIGJ1dCBrZWVwIGxvbmdlc3RcbiAgICBjb25zb2xlLmxvZygnW3VzZVN0cmVha10gU3RyZWFrIGJyb2tlbiAtIGxhc3QgcHJhY3RpY2Ugd2FzOicsIGxhc3RQcmFjdGljZURhdGVTdHIpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5kYXRhLFxuICAgICAgY3VycmVudFN0cmVhazogMCxcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBzdHJlYWsgd2hlbiBhIHNlc3Npb24gaXMgY29tcGxldGVkXG4gICAqIENhbGwgdGhpcyBhZnRlciBhIHByYWN0aWNlIHNlc3Npb24gZmluaXNoZXNcbiAgICogVXNlcyBMT0NBTCB0aW1lem9uZSBmb3IgXCJ0b2RheVwiIGFuZCBcInllc3RlcmRheVwiIGNhbGN1bGF0aW9uc1xuICAgKi9cbiAgY29uc3QgdXBkYXRlU3RyZWFrID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8bnVtYmVyPiA9PiB7XG4gICAgY29uc3QgdG9kYXlTdHIgPSBnZXRUb2RheUxvY2FsKCk7XG4gICAgY29uc3QgdG9kYXlEYXRlID0gcGFyc2VMb2NhbERhdGUodG9kYXlTdHIpO1xuXG4gICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBwcmFjdGljZWQgdG9kYXkgKGluIGxvY2FsIHRpbWV6b25lKVxuICAgIGlmIChsYXN0UHJhY3RpY2VEYXRlKSB7XG4gICAgICBjb25zdCBsYXN0UHJhY3RpY2VEYXRlU3RyID0gdG9Mb2NhbERhdGVTdHJpbmcobGFzdFByYWN0aWNlRGF0ZSk7XG4gICAgICBpZiAobGFzdFByYWN0aWNlRGF0ZVN0ciA9PT0gdG9kYXlTdHIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1t1c2VTdHJlYWtdIEFscmVhZHkgcHJhY3RpY2VkIHRvZGF5IChsb2NhbCB0aW1lKSwgc3RyZWFrIHVuY2hhbmdlZCcpO1xuICAgICAgICByZXR1cm4gY3VycmVudFN0cmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgbmV3IHN0cmVha1xuICAgIGxldCBuZXdDdXJyZW50U3RyZWFrID0gMTtcbiAgICBcbiAgICBpZiAobGFzdFByYWN0aWNlRGF0ZSkge1xuICAgICAgY29uc3QgbGFzdFByYWN0aWNlRGF0ZVN0ciA9IHRvTG9jYWxEYXRlU3RyaW5nKGxhc3RQcmFjdGljZURhdGUpO1xuICAgICAgY29uc3QgeWVzdGVyZGF5U3RyID0gZ2V0WWVzdGVyZGF5TG9jYWwoKTtcbiAgICAgIFxuICAgICAgaWYgKGxhc3RQcmFjdGljZURhdGVTdHIgPT09IHllc3RlcmRheVN0cikge1xuICAgICAgICAvLyBQcmFjdGljZWQgeWVzdGVyZGF5IChsb2NhbCB0aW1lKSAtIGV4dGVuZCBzdHJlYWtcbiAgICAgICAgbmV3Q3VycmVudFN0cmVhayA9IGN1cnJlbnRTdHJlYWsgKyAxO1xuICAgICAgfVxuICAgICAgLy8gSWYgbGFzdCBwcmFjdGljZSB3YXMgYmVmb3JlIHllc3RlcmRheSwgc3RyZWFrIHJlc2V0cyB0byAxXG4gICAgfVxuXG4gICAgY29uc3QgbmV3TG9uZ2VzdFN0cmVhayA9IE1hdGgubWF4KGxvbmdlc3RTdHJlYWssIG5ld0N1cnJlbnRTdHJlYWspO1xuXG4gICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlIChvcHRpbWlzdGljIHVwZGF0ZSlcbiAgICBzZXRDdXJyZW50U3RyZWFrKG5ld0N1cnJlbnRTdHJlYWspO1xuICAgIHNldExvbmdlc3RTdHJlYWsobmV3TG9uZ2VzdFN0cmVhayk7XG4gICAgc2V0TGFzdFByYWN0aWNlRGF0ZSh0b2RheURhdGUpO1xuXG4gICAgY29uc3QgbmV3RGF0YTogU3RyZWFrRGF0YSA9IHtcbiAgICAgIGN1cnJlbnRTdHJlYWs6IG5ld0N1cnJlbnRTdHJlYWssXG4gICAgICBsb25nZXN0U3RyZWFrOiBuZXdMb25nZXN0U3RyZWFrLFxuICAgICAgbGFzdFByYWN0aWNlRGF0ZTogdG9kYXlEYXRlLFxuICAgIH07XG5cbiAgICAvLyBQZXJzaXN0IHRvIHN0b3JhZ2VcbiAgICBpZiAodXNlcikge1xuICAgICAgYXdhaXQgc2F2ZVRvU3VwYWJhc2UodXNlci5pZCwgbmV3RGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZShuZXdEYXRhKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnW3VzZVN0cmVha10gU3RyZWFrIHVwZGF0ZWQgKGxvY2FsIHRpbWV6b25lKTonLCB7XG4gICAgICBjdXJyZW50U3RyZWFrOiBuZXdDdXJyZW50U3RyZWFrLFxuICAgICAgbG9uZ2VzdFN0cmVhazogbmV3TG9uZ2VzdFN0cmVhayxcbiAgICAgIGxhc3RQcmFjdGljZURhdGU6IHRvZGF5U3RyLFxuICAgICAgdGltZXpvbmU6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSxcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXdDdXJyZW50U3RyZWFrO1xuICB9LCBbdXNlciwgY3VycmVudFN0cmVhaywgbG9uZ2VzdFN0cmVhaywgbGFzdFByYWN0aWNlRGF0ZSwgc2F2ZVRvU3VwYWJhc2UsIHNhdmVUb0xvY2FsU3RvcmFnZV0pO1xuXG4gIC8qKlxuICAgKiBQcm9jZXNzIGFueSBxdWV1ZWQgc3RyZWFrIG9wZXJhdGlvbnMgKGNhbGxlZCBvbiBsb2FkIGFuZCB3aGVuIG9ubGluZSlcbiAgICovXG4gIGNvbnN0IHByb2Nlc3NRdWV1ZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAoIXVzZXIgfHwgIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzeW5jZWQgPSBhd2FpdCBwcm9jZXNzU3luY1F1ZXVlKCdzdHJlYWsnLCB1c2VyLmlkLCBoYW5kbGVRdWV1ZWRTdHJlYWtTeW5jKTtcbiAgICBpZiAoc3luY2VkID4gMCkge1xuICAgICAgY29uc29sZS5sb2coYFt1c2VTdHJlYWtdIFN5bmNlZCAke3N5bmNlZH0gcXVldWVkIHN0cmVhayBvcGVyYXRpb25zYCk7XG4gICAgfVxuICB9LCBbdXNlciwgaGFuZGxlUXVldWVkU3RyZWFrU3luY10pO1xuXG4gIC8vIExvYWQgc3RyZWFrIGRhdGEgb24gbW91bnQgb3Igd2hlbiB1c2VyIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXV0aExvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsb2FkU3RyZWFrID0gYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmlyc3QsIHRyeSB0byBzeW5jIGFueSBxdWV1ZWQgb3BlcmF0aW9ucyBmcm9tIHByZXZpb3VzIGZhaWx1cmVzXG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgYXdhaXQgcHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YTogU3RyZWFrRGF0YTtcblxuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgIC8vIEF1dGhlbnRpY2F0ZWQgdXNlciAtIGxvYWQgZnJvbSBTdXBhYmFzZVxuICAgICAgICAgIGRhdGEgPSBhd2FpdCBsb2FkRnJvbVN1cGFiYXNlKHVzZXIuaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFub255bW91cyB1c2VyIC0gbG9hZCBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICAgIGRhdGEgPSBsb2FkRnJvbUxvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgc3RyZWFrIChjaGVjayBpZiBpdCdzIHN0aWxsIGFjdGl2ZSlcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHZhbGlkYXRlU3RyZWFrKGRhdGEpO1xuXG4gICAgICAgIC8vIElmIHN0cmVhayB3YXMgaW52YWxpZGF0ZWQsIHBlcnNpc3QgdGhlIHJlc2V0XG4gICAgICAgIGlmICh2YWxpZGF0ZWREYXRhLmN1cnJlbnRTdHJlYWsgIT09IGRhdGEuY3VycmVudFN0cmVhaykge1xuICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICBhd2FpdCBzYXZlVG9TdXBhYmFzZSh1c2VyLmlkLCB2YWxpZGF0ZWREYXRhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKHZhbGlkYXRlZERhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNldEN1cnJlbnRTdHJlYWsodmFsaWRhdGVkRGF0YS5jdXJyZW50U3RyZWFrKTtcbiAgICAgICAgc2V0TG9uZ2VzdFN0cmVhayh2YWxpZGF0ZWREYXRhLmxvbmdlc3RTdHJlYWspO1xuICAgICAgICBzZXRMYXN0UHJhY3RpY2VEYXRlKHZhbGlkYXRlZERhdGEubGFzdFByYWN0aWNlRGF0ZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbdXNlU3RyZWFrXSBGYWlsZWQgdG8gbG9hZCBzdHJlYWs6JywgZXJyb3IpO1xuICAgICAgICAvLyBEZWZhdWx0IHRvIHplcm8gc3RyZWFrIG9uIGVycm9yXG4gICAgICAgIHNldEN1cnJlbnRTdHJlYWsoMCk7XG4gICAgICAgIHNldExvbmdlc3RTdHJlYWsoMCk7XG4gICAgICAgIHNldExhc3RQcmFjdGljZURhdGUobnVsbCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2FkU3RyZWFrKCk7XG4gIH0sIFt1c2VyLCBhdXRoTG9hZGluZywgbG9hZEZyb21TdXBhYmFzZSwgbG9hZEZyb21Mb2NhbFN0b3JhZ2UsIHZhbGlkYXRlU3RyZWFrLCBzYXZlVG9TdXBhYmFzZSwgc2F2ZVRvTG9jYWxTdG9yYWdlLCBwcm9jZXNzUXVldWVdKTtcblxuICByZXR1cm4ge1xuICAgIGN1cnJlbnRTdHJlYWssXG4gICAgbG9uZ2VzdFN0cmVhayxcbiAgICBsYXN0UHJhY3RpY2VEYXRlLFxuICAgIGlzTG9hZGluZyxcbiAgICB1cGRhdGVTdHJlYWssXG4gICAgcHJvY2Vzc1F1ZXVlLCAvLyBFeHBvc2UgZm9yIG9ubGluZSBzeW5jIGhvb2tcbiAgfTtcbn07XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZUF1dGgiLCJnZXRTdXBhYmFzZUNsaWVudCIsImlzU3VwYWJhc2VDb25maWd1cmVkIiwicXVldWVPcGVyYXRpb24iLCJwcm9jZXNzU3luY1F1ZXVlIiwiU1RSRUFLX1NUT1JBR0VfS0VZIiwiZ2V0VG9kYXlMb2NhbCIsIm5vdyIsIkRhdGUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsIlN0cmluZyIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiZ2V0WWVzdGVyZGF5TG9jYWwiLCJzZXREYXRlIiwicGFyc2VMb2NhbERhdGUiLCJkYXRlU3RyIiwic3BsaXQiLCJtYXAiLCJOdW1iZXIiLCJ0b0xvY2FsRGF0ZVN0cmluZyIsImRhdGUiLCJ1c2VTdHJlYWsiLCJ1c2VyIiwibG9hZGluZyIsImF1dGhMb2FkaW5nIiwiY3VycmVudFN0cmVhayIsInNldEN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwic2V0TG9uZ2VzdFN0cmVhayIsImxhc3RQcmFjdGljZURhdGUiLCJzZXRMYXN0UHJhY3RpY2VEYXRlIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwibG9hZEZyb21Mb2NhbFN0b3JhZ2UiLCJzdG9yZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2F2ZVRvTG9jYWxTdG9yYWdlIiwiZGF0YSIsInRvU3RvcmUiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwibG9hZEZyb21TdXBhYmFzZSIsInVzZXJJZCIsIndhcm4iLCJzdXBhYmFzZSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImNvZGUiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJsb2ciLCJjdXJyZW50X3N0cmVhayIsImxvbmdlc3Rfc3RyZWFrIiwibGFzdF9wcmFjdGljZV9kYXRlIiwic2F2ZVRvU3VwYWJhc2UiLCJ1cGRhdGUiLCJ1cGRhdGVkX2F0IiwidG9JU09TdHJpbmciLCJoYW5kbGVRdWV1ZWRTdHJlYWtTeW5jIiwib3BlcmF0aW9uIiwic3RyZWFrRGF0YSIsInZhbGlkYXRlU3RyZWFrIiwibGFzdFByYWN0aWNlRGF0ZVN0ciIsInRvZGF5U3RyIiwieWVzdGVyZGF5U3RyIiwidXBkYXRlU3RyZWFrIiwidG9kYXlEYXRlIiwibmV3Q3VycmVudFN0cmVhayIsIm5ld0xvbmdlc3RTdHJlYWsiLCJNYXRoIiwibWF4IiwibmV3RGF0YSIsImlkIiwidGltZXpvbmUiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJyZXNvbHZlZE9wdGlvbnMiLCJ0aW1lWm9uZSIsInByb2Nlc3NRdWV1ZSIsInN5bmNlZCIsImxvYWRTdHJlYWsiLCJ2YWxpZGF0ZWREYXRhIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useStreak.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useStripeCallback.ts":
/*!************************************!*\
  !*** ./hooks/useStripeCallback.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useStripeCallback: () => (/* binding */ useStripeCallback)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _services_databaseService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/databaseService */ \"(ssr)/./services/databaseService.ts\");\n\n\n\n/**\n * Hook to handle Stripe checkout success redirect\n * Attempts to update tier directly via API, then falls back to polling\n */ const useStripeCallback = ({ user, authLoading, setUserTier, setRemainingFreeSessions, setView })=>{\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useStripeCallback.useEffect\": ()=>{\n            if (!user || authLoading) {\n                return;\n            }\n            const urlParams = new URLSearchParams(window.location.search);\n            const sessionId = urlParams.get('session_id');\n            const plan = urlParams.get('plan');\n            if (sessionId && plan) {\n                console.log('[useStripeCallback]  Stripe checkout success detected. Session:', sessionId, 'Plan:', plan);\n                // Clear URL params\n                window.history.replaceState({}, '', window.location.pathname);\n                // First, try to update tier directly via Edge Function (works even without webhooks)\n                const updateTierDirectly = {\n                    \"useStripeCallback.useEffect.updateTierDirectly\": async ()=>{\n                        try {\n                            const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n                            const supabaseAnonKey = \"sb_publishable_M3lPF1QDbmWcriDBkUoWCw_4hv9OB12\";\n                            if (!supabaseUrl || !supabaseAnonKey) {\n                                console.warn('[useStripeCallback]  VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY not configured');\n                                return false;\n                            }\n                            console.log('[useStripeCallback]  Attempting to update tier directly from checkout session...');\n                            const response = await fetch(`${supabaseUrl}/functions/v1/update-tier-from-session`, {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json',\n                                    'Authorization': `Bearer ${supabaseAnonKey}`\n                                },\n                                body: JSON.stringify({\n                                    sessionId\n                                })\n                            });\n                            if (!response.ok) {\n                                const error = await response.json().catch({\n                                    \"useStripeCallback.useEffect.updateTierDirectly\": ()=>({\n                                            message: 'Failed to update tier'\n                                        })\n                                }[\"useStripeCallback.useEffect.updateTierDirectly\"]);\n                                throw new Error(error.message || 'Failed to update tier');\n                            }\n                            const result = await response.json();\n                            console.log('[useStripeCallback]  Tier updated successfully via Edge Function:', result);\n                            // Update local state immediately\n                            setUserTier(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Premium);\n                            localStorage.setItem('mi-coach-tier', _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Premium);\n                            setRemainingFreeSessions(null);\n                            // Show success and navigate to dashboard\n                            alert(` Payment successful! Your ${plan} subscription is now active. Enjoy unlimited practice sessions!`);\n                            setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard);\n                            return true;\n                        } catch (error) {\n                            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n                            console.warn('[useStripeCallback]  Direct tier update failed, falling back to polling:', errorMessage);\n                            console.warn('[useStripeCallback] Error details:', error);\n                            return false;\n                        }\n                    }\n                }[\"useStripeCallback.useEffect.updateTierDirectly\"];\n                // Refresh user tier from Supabase with enhanced retry logic (fallback)\n                const refreshTierWithRetry = {\n                    \"useStripeCallback.useEffect.refreshTierWithRetry\": async ()=>{\n                        const maxRetries = 5;\n                        const initialDelay = 2000; // 2 seconds initial delay for webhook processing\n                        let retryCount = 0;\n                        let tierUpdated = false;\n                        console.log('[useStripeCallback] Starting tier refresh with retry logic (max', maxRetries, 'attempts)');\n                        while(retryCount < maxRetries && !tierUpdated){\n                            try {\n                                if (retryCount === 0) {\n                                    // Initial wait for webhook to process\n                                    console.log('[useStripeCallback]  Waiting for webhook to process...');\n                                    await new Promise({\n                                        \"useStripeCallback.useEffect.refreshTierWithRetry\": (resolve)=>setTimeout(resolve, initialDelay)\n                                    }[\"useStripeCallback.useEffect.refreshTierWithRetry\"]);\n                                } else {\n                                    // Exponential backoff: 2s, 4s, 8s, 16s\n                                    const delayMs = initialDelay * Math.pow(2, retryCount - 1);\n                                    console.log(`[useStripeCallback]  Retry attempt ${retryCount}/${maxRetries - 1}, waiting ${delayMs}ms...`);\n                                    await new Promise({\n                                        \"useStripeCallback.useEffect.refreshTierWithRetry\": (resolve)=>setTimeout(resolve, delayMs)\n                                    }[\"useStripeCallback.useEffect.refreshTierWithRetry\"]);\n                                }\n                                console.log('[useStripeCallback]  Fetching user profile for tier check...');\n                                const profile = await (0,_services_databaseService__WEBPACK_IMPORTED_MODULE_2__.getUserProfile)(user.id);\n                                if (profile && profile.tier === 'premium') {\n                                    console.log('[useStripeCallback]  Tier successfully updated to premium!');\n                                    setUserTier(profile.tier);\n                                    localStorage.setItem('mi-coach-tier', profile.tier);\n                                    setRemainingFreeSessions(null); // Clear free sessions limit immediately for premium users\n                                    tierUpdated = true;\n                                    // Show success and navigate to dashboard\n                                    alert(` Payment successful! Your ${plan} subscription is now active. Enjoy unlimited practice sessions!`);\n                                    setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard);\n                                } else if (profile && profile.tier) {\n                                    console.warn(`[useStripeCallback]  Tier still ${profile.tier} (expected premium). Retrying...`);\n                                    retryCount++;\n                                } else {\n                                    console.warn('[useStripeCallback]  No profile found or tier is empty. Retrying...');\n                                    retryCount++;\n                                }\n                            } catch (error) {\n                                console.error('[useStripeCallback]  Error refreshing tier:', error);\n                                retryCount++;\n                            }\n                        }\n                        // If tier wasn't updated after retries\n                        if (!tierUpdated) {\n                            console.warn(`[useStripeCallback]   Tier was not updated after ${maxRetries} attempts`);\n                            console.warn('[useStripeCallback] Possible causes:');\n                            console.warn('  1. Supabase Edge Functions not deployed');\n                            console.warn('  2. Stripe webhook not configured for Edge Function');\n                            console.warn('  3. Supabase credentials are missing or incorrect');\n                            console.warn('  4. Database connection failed');\n                            console.warn('[useStripeCallback] Action: Deploy Edge Functions with: supabase functions deploy');\n                            alert(' Payment received! Your subscription is being activated.\\n\\n' + 'If premium features don\\'t appear after 30 seconds:\\n' + '1. Refresh the page\\n' + '2. Ensure Supabase Edge Functions are deployed\\n' + '3. Verify Supabase credentials in .env.local');\n                            setView(_types__WEBPACK_IMPORTED_MODULE_1__.View.Dashboard);\n                            // Still try to refresh tier from localStorage as fallback\n                            const savedTier = localStorage.getItem('mi-coach-tier');\n                            if (savedTier && Object.values(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier).includes(savedTier)) {\n                                setUserTier(savedTier);\n                            }\n                        }\n                    }\n                }[\"useStripeCallback.useEffect.refreshTierWithRetry\"];\n                ({\n                    \"useStripeCallback.useEffect\": async ()=>{\n                        const directUpdateSuccess = await updateTierDirectly();\n                        if (!directUpdateSuccess) {\n                            refreshTierWithRetry();\n                        }\n                    }\n                })[\"useStripeCallback.useEffect\"]();\n            }\n        }\n    }[\"useStripeCallback.useEffect\"], [\n        user,\n        authLoading,\n        setUserTier,\n        setRemainingFreeSessions,\n        setView\n    ]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aEJyQyxRQUFRWSxJQUFJLENBQUMsQ0FBQyxtREFBbUQsRUFBRXNCLFdBQVcsU0FBUyxDQUFDOzRCQUN4RmxDLFFBQVFZLElBQUksQ0FBQzs0QkFDYlosUUFBUVksSUFBSSxDQUFDOzRCQUNiWixRQUFRWSxJQUFJLENBQUM7NEJBQ2JaLFFBQVFZLElBQUksQ0FBQzs0QkFDYlosUUFBUVksSUFBSSxDQUFDOzRCQUNiWixRQUFRWSxJQUFJLENBQUM7NEJBRWJrQixNQUFNLGtFQUNBLDBEQUNBLDBCQUNBLHFEQUNBOzRCQUNOdkMsUUFBUVAsd0NBQUlBLENBQUMrQyxTQUFTOzRCQUV0QiwwREFBMEQ7NEJBQzFELE1BQU1nQixZQUFZbkIsYUFBYW9CLE9BQU8sQ0FBQzs0QkFDdkMsSUFBSUQsYUFBYUUsT0FBT0MsTUFBTSxDQUFDbkUsNENBQVFBLEVBQUVvRSxRQUFRLENBQUNKLFlBQVk7Z0NBQzVEMUQsWUFBWTBEOzRCQUNkO3dCQUNGO29CQUNGOztnQkFHQTttREFBQzt3QkFDQyxNQUFNSyxzQkFBc0IsTUFBTS9DO3dCQUNsQyxJQUFJLENBQUMrQyxxQkFBcUI7NEJBQ3hCbkI7d0JBQ0Y7b0JBQ0Y7O1lBQ0Y7UUFDRjtzQ0FBRztRQUFDOUM7UUFBTUM7UUFBYUM7UUFBYUM7UUFBMEJDO0tBQVE7QUFDeEUsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvaG9va3MvdXNlU3RyaXBlQ2FsbGJhY2sudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXNlclRpZXIsIFZpZXcgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSB9IGZyb20gJy4uL3NlcnZpY2VzL2RhdGFiYXNlU2VydmljZSc7XG5cbmludGVyZmFjZSBVc2VTdHJpcGVDYWxsYmFja09wdGlvbnMge1xuICB1c2VyOiB7IGlkOiBzdHJpbmcgfSB8IG51bGw7XG4gIGF1dGhMb2FkaW5nOiBib29sZWFuO1xuICBzZXRVc2VyVGllcjogKHRpZXI6IFVzZXJUaWVyKSA9PiB2b2lkO1xuICBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnM6IChjb3VudDogbnVtYmVyIHwgbnVsbCkgPT4gdm9pZDtcbiAgc2V0VmlldzogKHZpZXc6IFZpZXcpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogSG9vayB0byBoYW5kbGUgU3RyaXBlIGNoZWNrb3V0IHN1Y2Nlc3MgcmVkaXJlY3RcbiAqIEF0dGVtcHRzIHRvIHVwZGF0ZSB0aWVyIGRpcmVjdGx5IHZpYSBBUEksIHRoZW4gZmFsbHMgYmFjayB0byBwb2xsaW5nXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VTdHJpcGVDYWxsYmFjayA9ICh7XG4gIHVzZXIsXG4gIGF1dGhMb2FkaW5nLFxuICBzZXRVc2VyVGllcixcbiAgc2V0UmVtYWluaW5nRnJlZVNlc3Npb25zLFxuICBzZXRWaWV3LFxufTogVXNlU3RyaXBlQ2FsbGJhY2tPcHRpb25zKSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF1c2VyIHx8IGF1dGhMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICBjb25zdCBzZXNzaW9uSWQgPSB1cmxQYXJhbXMuZ2V0KCdzZXNzaW9uX2lkJyk7XG4gICAgY29uc3QgcGxhbiA9IHVybFBhcmFtcy5nZXQoJ3BsYW4nKTtcblxuICAgIGlmIChzZXNzaW9uSWQgJiYgcGxhbikge1xuICAgICAgY29uc29sZS5sb2coJ1t1c2VTdHJpcGVDYWxsYmFja10g4pyFIFN0cmlwZSBjaGVja291dCBzdWNjZXNzIGRldGVjdGVkLiBTZXNzaW9uOicsIHNlc3Npb25JZCwgJ1BsYW46JywgcGxhbik7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIFVSTCBwYXJhbXNcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICBcbiAgICAgIC8vIEZpcnN0LCB0cnkgdG8gdXBkYXRlIHRpZXIgZGlyZWN0bHkgdmlhIEVkZ2UgRnVuY3Rpb24gKHdvcmtzIGV2ZW4gd2l0aG91dCB3ZWJob29rcylcbiAgICAgIGNvbnN0IHVwZGF0ZVRpZXJEaXJlY3RseSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbiAgICAgICAgICBjb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcbiAgICAgICAgICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW3VzZVN0cmlwZUNhbGxiYWNrXSDimqDvuI8gVklURV9TVVBBQkFTRV9VUkwgb3IgVklURV9TVVBBQkFTRV9BTk9OX0tFWSBub3QgY29uZmlndXJlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlU3RyaXBlQ2FsbGJhY2tdIPCflIQgQXR0ZW1wdGluZyB0byB1cGRhdGUgdGllciBkaXJlY3RseSBmcm9tIGNoZWNrb3V0IHNlc3Npb24uLi4nKTtcblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7c3VwYWJhc2VVcmx9L2Z1bmN0aW9ucy92MS91cGRhdGUtdGllci1mcm9tLXNlc3Npb25gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7c3VwYWJhc2VBbm9uS2V5fWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzZXNzaW9uSWQgfSksXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBtZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSB0aWVyJyB9KSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHVwZGF0ZSB0aWVyJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlU3RyaXBlQ2FsbGJhY2tdIOKchSBUaWVyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IHZpYSBFZGdlIEZ1bmN0aW9uOicsIHJlc3VsdCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlIGltbWVkaWF0ZWx5XG4gICAgICAgICAgc2V0VXNlclRpZXIoVXNlclRpZXIuUHJlbWl1bSk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pLWNvYWNoLXRpZXInLCBVc2VyVGllci5QcmVtaXVtKTtcbiAgICAgICAgICBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMobnVsbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIGFuZCBuYXZpZ2F0ZSB0byBkYXNoYm9hcmRcbiAgICAgICAgICBhbGVydChg8J+OiSBQYXltZW50IHN1Y2Nlc3NmdWwhIFlvdXIgJHtwbGFufSBzdWJzY3JpcHRpb24gaXMgbm93IGFjdGl2ZS4gRW5qb3kgdW5saW1pdGVkIHByYWN0aWNlIHNlc3Npb25zIWApO1xuICAgICAgICAgIHNldFZpZXcoVmlldy5EYXNoYm9hcmQpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgIGNvbnNvbGUud2FybignW3VzZVN0cmlwZUNhbGxiYWNrXSDimqDvuI8gRGlyZWN0IHRpZXIgdXBkYXRlIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIHBvbGxpbmc6JywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1t1c2VTdHJpcGVDYWxsYmFja10gRXJyb3IgZGV0YWlsczonLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBSZWZyZXNoIHVzZXIgdGllciBmcm9tIFN1cGFiYXNlIHdpdGggZW5oYW5jZWQgcmV0cnkgbG9naWMgKGZhbGxiYWNrKVxuICAgICAgY29uc3QgcmVmcmVzaFRpZXJXaXRoUmV0cnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1heFJldHJpZXMgPSA1O1xuICAgICAgICBjb25zdCBpbml0aWFsRGVsYXkgPSAyMDAwOyAvLyAyIHNlY29uZHMgaW5pdGlhbCBkZWxheSBmb3Igd2ViaG9vayBwcm9jZXNzaW5nXG4gICAgICAgIGxldCByZXRyeUNvdW50ID0gMDtcbiAgICAgICAgbGV0IHRpZXJVcGRhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1t1c2VTdHJpcGVDYWxsYmFja10gU3RhcnRpbmcgdGllciByZWZyZXNoIHdpdGggcmV0cnkgbG9naWMgKG1heCcsIG1heFJldHJpZXMsICdhdHRlbXB0cyknKTtcblxuICAgICAgICB3aGlsZSAocmV0cnlDb3VudCA8IG1heFJldHJpZXMgJiYgIXRpZXJVcGRhdGVkKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXRyeUNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgIC8vIEluaXRpYWwgd2FpdCBmb3Igd2ViaG9vayB0byBwcm9jZXNzXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlU3RyaXBlQ2FsbGJhY2tdIOKPsyBXYWl0aW5nIGZvciB3ZWJob29rIHRvIHByb2Nlc3MuLi4nKTtcbiAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGluaXRpYWxEZWxheSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gRXhwb25lbnRpYWwgYmFja29mZjogMnMsIDRzLCA4cywgMTZzXG4gICAgICAgICAgICAgIGNvbnN0IGRlbGF5TXMgPSBpbml0aWFsRGVsYXkgKiBNYXRoLnBvdygyLCByZXRyeUNvdW50IC0gMSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbdXNlU3RyaXBlQ2FsbGJhY2tdIPCflIQgUmV0cnkgYXR0ZW1wdCAke3JldHJ5Q291bnR9LyR7bWF4UmV0cmllcyAtIDF9LCB3YWl0aW5nICR7ZGVsYXlNc31tcy4uLmApO1xuICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXlNcykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW3VzZVN0cmlwZUNhbGxiYWNrXSDwn5OhIEZldGNoaW5nIHVzZXIgcHJvZmlsZSBmb3IgdGllciBjaGVjay4uLicpO1xuICAgICAgICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGdldFVzZXJQcm9maWxlKHVzZXIuaWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocHJvZmlsZSAmJiBwcm9maWxlLnRpZXIgPT09ICdwcmVtaXVtJykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW3VzZVN0cmlwZUNhbGxiYWNrXSDinIUgVGllciBzdWNjZXNzZnVsbHkgdXBkYXRlZCB0byBwcmVtaXVtIScpO1xuICAgICAgICAgICAgICBzZXRVc2VyVGllcihwcm9maWxlLnRpZXIgYXMgVXNlclRpZXIpO1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWktY29hY2gtdGllcicsIHByb2ZpbGUudGllcik7XG4gICAgICAgICAgICAgIHNldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyhudWxsKTsgLy8gQ2xlYXIgZnJlZSBzZXNzaW9ucyBsaW1pdCBpbW1lZGlhdGVseSBmb3IgcHJlbWl1bSB1c2Vyc1xuICAgICAgICAgICAgICB0aWVyVXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgYW5kIG5hdmlnYXRlIHRvIGRhc2hib2FyZFxuICAgICAgICAgICAgICBhbGVydChg8J+OiSBQYXltZW50IHN1Y2Nlc3NmdWwhIFlvdXIgJHtwbGFufSBzdWJzY3JpcHRpb24gaXMgbm93IGFjdGl2ZS4gRW5qb3kgdW5saW1pdGVkIHByYWN0aWNlIHNlc3Npb25zIWApO1xuICAgICAgICAgICAgICBzZXRWaWV3KFZpZXcuRGFzaGJvYXJkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvZmlsZSAmJiBwcm9maWxlLnRpZXIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbdXNlU3RyaXBlQ2FsbGJhY2tdIOKPsyBUaWVyIHN0aWxsICR7cHJvZmlsZS50aWVyfSAoZXhwZWN0ZWQgcHJlbWl1bSkuIFJldHJ5aW5nLi4uYCk7XG4gICAgICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignW3VzZVN0cmlwZUNhbGxiYWNrXSDij7MgTm8gcHJvZmlsZSBmb3VuZCBvciB0aWVyIGlzIGVtcHR5LiBSZXRyeWluZy4uLicpO1xuICAgICAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VTdHJpcGVDYWxsYmFja10g4p2MIEVycm9yIHJlZnJlc2hpbmcgdGllcjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGllciB3YXNuJ3QgdXBkYXRlZCBhZnRlciByZXRyaWVzXG4gICAgICAgIGlmICghdGllclVwZGF0ZWQpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFt1c2VTdHJpcGVDYWxsYmFja10g4pqg77iPICBUaWVyIHdhcyBub3QgdXBkYXRlZCBhZnRlciAke21heFJldHJpZXN9IGF0dGVtcHRzYCk7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdbdXNlU3RyaXBlQ2FsbGJhY2tdIFBvc3NpYmxlIGNhdXNlczonKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJyAgMS4gU3VwYWJhc2UgRWRnZSBGdW5jdGlvbnMgbm90IGRlcGxveWVkJyk7XG4gICAgICAgICAgY29uc29sZS53YXJuKCcgIDIuIFN0cmlwZSB3ZWJob29rIG5vdCBjb25maWd1cmVkIGZvciBFZGdlIEZ1bmN0aW9uJyk7XG4gICAgICAgICAgY29uc29sZS53YXJuKCcgIDMuIFN1cGFiYXNlIGNyZWRlbnRpYWxzIGFyZSBtaXNzaW5nIG9yIGluY29ycmVjdCcpO1xuICAgICAgICAgIGNvbnNvbGUud2FybignICA0LiBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAgICAgIGNvbnNvbGUud2FybignW3VzZVN0cmlwZUNhbGxiYWNrXSBBY3Rpb246IERlcGxveSBFZGdlIEZ1bmN0aW9ucyB3aXRoOiBzdXBhYmFzZSBmdW5jdGlvbnMgZGVwbG95Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgYWxlcnQoJ+KchSBQYXltZW50IHJlY2VpdmVkISBZb3VyIHN1YnNjcmlwdGlvbiBpcyBiZWluZyBhY3RpdmF0ZWQuXFxuXFxuJyArXG4gICAgICAgICAgICAgICAgJ0lmIHByZW1pdW0gZmVhdHVyZXMgZG9uXFwndCBhcHBlYXIgYWZ0ZXIgMzAgc2Vjb25kczpcXG4nICtcbiAgICAgICAgICAgICAgICAnMS4gUmVmcmVzaCB0aGUgcGFnZVxcbicgK1xuICAgICAgICAgICAgICAgICcyLiBFbnN1cmUgU3VwYWJhc2UgRWRnZSBGdW5jdGlvbnMgYXJlIGRlcGxveWVkXFxuJyArXG4gICAgICAgICAgICAgICAgJzMuIFZlcmlmeSBTdXBhYmFzZSBjcmVkZW50aWFscyBpbiAuZW52LmxvY2FsJyk7XG4gICAgICAgICAgc2V0VmlldyhWaWV3LkRhc2hib2FyZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RpbGwgdHJ5IHRvIHJlZnJlc2ggdGllciBmcm9tIGxvY2FsU3RvcmFnZSBhcyBmYWxsYmFja1xuICAgICAgICAgIGNvbnN0IHNhdmVkVGllciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaS1jb2FjaC10aWVyJykgYXMgVXNlclRpZXI7XG4gICAgICAgICAgaWYgKHNhdmVkVGllciAmJiBPYmplY3QudmFsdWVzKFVzZXJUaWVyKS5pbmNsdWRlcyhzYXZlZFRpZXIpKSB7XG4gICAgICAgICAgICBzZXRVc2VyVGllcihzYXZlZFRpZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gVHJ5IGRpcmVjdCB1cGRhdGUgZmlyc3QsIHRoZW4gZmFsbCBiYWNrIHRvIHBvbGxpbmcgaWYgbmVlZGVkXG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBkaXJlY3RVcGRhdGVTdWNjZXNzID0gYXdhaXQgdXBkYXRlVGllckRpcmVjdGx5KCk7XG4gICAgICAgIGlmICghZGlyZWN0VXBkYXRlU3VjY2Vzcykge1xuICAgICAgICAgIHJlZnJlc2hUaWVyV2l0aFJldHJ5KCk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfVxuICB9LCBbdXNlciwgYXV0aExvYWRpbmcsIHNldFVzZXJUaWVyLCBzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMsIHNldFZpZXddKTtcbn07XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJVc2VyVGllciIsIlZpZXciLCJnZXRVc2VyUHJvZmlsZSIsInVzZVN0cmlwZUNhbGxiYWNrIiwidXNlciIsImF1dGhMb2FkaW5nIiwic2V0VXNlclRpZXIiLCJzZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMiLCJzZXRWaWV3IiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzZXNzaW9uSWQiLCJnZXQiLCJwbGFuIiwiY29uc29sZSIsImxvZyIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJwYXRobmFtZSIsInVwZGF0ZVRpZXJEaXJlY3RseSIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwid2FybiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImVycm9yIiwianNvbiIsImNhdGNoIiwibWVzc2FnZSIsIkVycm9yIiwicmVzdWx0IiwiUHJlbWl1bSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJhbGVydCIsIkRhc2hib2FyZCIsImVycm9yTWVzc2FnZSIsInJlZnJlc2hUaWVyV2l0aFJldHJ5IiwibWF4UmV0cmllcyIsImluaXRpYWxEZWxheSIsInJldHJ5Q291bnQiLCJ0aWVyVXBkYXRlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImRlbGF5TXMiLCJNYXRoIiwicG93IiwicHJvZmlsZSIsImlkIiwidGllciIsInNhdmVkVGllciIsImdldEl0ZW0iLCJPYmplY3QiLCJ2YWx1ZXMiLCJpbmNsdWRlcyIsImRpcmVjdFVwZGF0ZVN1Y2Nlc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useStripeCallback.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useTierManager.ts":
/*!*********************************!*\
  !*** ./hooks/useTierManager.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTierManager: () => (/* binding */ useTierManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _services_databaseService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/databaseService */ \"(ssr)/./services/databaseService.ts\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contexts/AuthContext */ \"(ssr)/./contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n\n\n\n\n\nconst VERIFICATION_CACHE_KEY = 'mi-coach-premium-verification';\nconst VERIFICATION_CACHE_TTL = 5 * 60 * 1000; // 5 minutes\n/**\n * Get cached verification if still valid\n */ const getCachedVerification = ()=>{\n    try {\n        const cached = localStorage.getItem(VERIFICATION_CACHE_KEY);\n        if (cached) {\n            const verification = JSON.parse(cached);\n            if (verification.expiresAt > Date.now()) {\n                return verification;\n            }\n        }\n    } catch  {\n    // Ignore cache errors\n    }\n    return null;\n};\n/**\n * Cache verification result\n */ const cacheVerification = (verification)=>{\n    try {\n        const cached = {\n            ...verification,\n            expiresAt: Date.now() + VERIFICATION_CACHE_TTL\n        };\n        localStorage.setItem(VERIFICATION_CACHE_KEY, JSON.stringify(cached));\n    } catch  {\n    // Ignore cache errors\n    }\n};\n/**\n * Clear verification cache\n */ const clearVerificationCache = ()=>{\n    try {\n        localStorage.removeItem(VERIFICATION_CACHE_KEY);\n    } catch  {\n    // Ignore cache errors\n    }\n};\n/**\n * Hook to manage user tier state and updates\n * Handles loading tier from Supabase, localStorage fallback, and tier updates\n * \n * SECURITY: Premium status is verified server-side via Edge Function\n * Client-side state is used for optimistic UI but never trusted for gating\n */ const useTierManager = ()=>{\n    const { user, loading: authLoading } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const [userTier, setUserTier] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n    const [isPremiumVerified, setIsPremiumVerified] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isVerifying, setIsVerifying] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    /**\n   * Verify premium status via Edge Function (server-side, cannot be spoofed)\n   * Falls back to database tier if Edge Function is unavailable\n   */ const verifyPremiumStatus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTierManager.useCallback[verifyPremiumStatus]\": async (forceRefresh = false, databaseTier)=>{\n            if (!user || !(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_4__.isSupabaseConfigured)()) {\n                setIsPremiumVerified(false);\n                return false;\n            }\n            // Check cache first (unless force refresh)\n            if (!forceRefresh) {\n                const cached = getCachedVerification();\n                if (cached) {\n                    console.log('[useTierManager] Using cached premium verification:', cached.isPremium);\n                    setIsPremiumVerified(cached.isPremium);\n                    return cached.isPremium;\n                }\n            }\n            setIsVerifying(true);\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_4__.getSupabaseClient)();\n                const { data: sessionData } = await supabase.auth.getSession();\n                const accessToken = sessionData?.session?.access_token;\n                if (!accessToken) {\n                    console.warn('[useTierManager] No access token available for verification');\n                    // Fallback to database tier if available\n                    if (databaseTier === _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Premium) {\n                        console.log('[useTierManager] Falling back to database tier (premium)');\n                        setIsPremiumVerified(true);\n                        return true;\n                    }\n                    setIsPremiumVerified(false);\n                    return false;\n                }\n                const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n                const response = await fetch(`${supabaseUrl}/functions/v1/verify-premium-status`, {\n                    method: 'GET',\n                    headers: {\n                        'Authorization': `Bearer ${accessToken}`,\n                        'Content-Type': 'application/json'\n                    }\n                });\n                if (!response.ok) {\n                    // Edge Function unavailable (404, 500, etc.) - fallback to database tier\n                    console.warn('[useTierManager] Edge Function unavailable (status:', response.status, '), falling back to database tier');\n                    if (databaseTier === _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Premium) {\n                        console.log('[useTierManager] Database tier is premium, trusting it as fallback');\n                        setIsPremiumVerified(true);\n                        cacheVerification({\n                            isPremium: true,\n                            tier: 'premium',\n                            verifiedAt: new Date().toISOString()\n                        });\n                        return true;\n                    }\n                    // User is free tier in database, so they're definitely not premium\n                    setIsPremiumVerified(false);\n                    return false;\n                }\n                const data = await response.json();\n                const isPremium = data.isPremium === true;\n                console.log('[useTierManager] Server verified premium status:', isPremium);\n                // Cache the verification\n                cacheVerification({\n                    isPremium,\n                    tier: data.tier || 'free',\n                    verifiedAt: data.verifiedAt || new Date().toISOString()\n                });\n                setIsPremiumVerified(isPremium);\n                // Also update the tier state to match server\n                if (isPremium) {\n                    setUserTier(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Premium);\n                    localStorage.setItem('mi-coach-tier', _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Premium);\n                } else {\n                    setUserTier(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n                    localStorage.setItem('mi-coach-tier', _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n                }\n                return isPremium;\n            } catch (error) {\n                // Network error, Edge Function not deployed, etc. - fallback to database tier\n                console.warn('[useTierManager] Error verifying premium status, falling back to database tier:', error);\n                if (databaseTier === _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Premium) {\n                    console.log('[useTierManager] Database tier is premium, trusting it as fallback');\n                    setIsPremiumVerified(true);\n                    cacheVerification({\n                        isPremium: true,\n                        tier: 'premium',\n                        verifiedAt: new Date().toISOString()\n                    });\n                    return true;\n                }\n                // User is free tier in database, so they're definitely not premium\n                setIsPremiumVerified(false);\n                return false;\n            } finally{\n                setIsVerifying(false);\n            }\n        }\n    }[\"useTierManager.useCallback[verifyPremiumStatus]\"], [\n        user\n    ]);\n    // Load user tier from localStorage when the app starts (optimistic UI only)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTierManager.useEffect\": ()=>{\n            // For anonymous users, always use Free tier\n            // For authenticated users, load from localStorage as fallback (will be overridden by server)\n            if (!user) {\n                setUserTier(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n                setIsPremiumVerified(false);\n                clearVerificationCache();\n            } else {\n                // Authenticated user - load saved tier from localStorage (fallback, will be overridden by server)\n                const savedTier = localStorage.getItem('mi-coach-tier');\n                if (savedTier && Object.values(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier).includes(savedTier)) {\n                    setUserTier(savedTier);\n                }\n            }\n        }\n    }[\"useTierManager.useEffect\"], [\n        user\n    ]);\n    // Load user tier from Supabase and verify server-side after authentication\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTierManager.useEffect\": ()=>{\n            if (!user || authLoading) {\n                return;\n            }\n            const loadAndVerifyTier = {\n                \"useTierManager.useEffect.loadAndVerifyTier\": async ()=>{\n                    let databaseTier = _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free;\n                    try {\n                        console.log('[useTierManager] Loading tier from Supabase for user:', user.id);\n                        const profile = await (0,_services_databaseService__WEBPACK_IMPORTED_MODULE_2__.getUserProfile)(user.id);\n                        if (profile && profile.tier) {\n                            console.log('[useTierManager] Loaded tier from Supabase:', profile.tier);\n                            databaseTier = profile.tier;\n                            setUserTier(databaseTier);\n                            localStorage.setItem('mi-coach-tier', profile.tier);\n                        } else {\n                            console.log('[useTierManager] No profile found. Creating new profile with Free tier.');\n                            // Create a new profile for the user\n                            const newProfile = await (0,_services_databaseService__WEBPACK_IMPORTED_MODULE_2__.createUserProfile)(user.id, _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n                            if (newProfile && newProfile.tier) {\n                                databaseTier = newProfile.tier;\n                                setUserTier(databaseTier);\n                                localStorage.setItem('mi-coach-tier', newProfile.tier);\n                            } else {\n                                // Fallback to Free tier if creation fails\n                                setUserTier(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n                                localStorage.setItem('mi-coach-tier', _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n                            }\n                        }\n                        // After loading from Supabase, verify server-side for premium users\n                        // Pass the database tier so we can fallback if Edge Function is unavailable\n                        await verifyPremiumStatus(false, databaseTier);\n                    } catch (error) {\n                        console.error('[useTierManager] Failed to load tier from Supabase:', error);\n                        // Fallback to localStorage or Free\n                        const savedTier = localStorage.getItem('mi-coach-tier');\n                        if (savedTier && Object.values(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier).includes(savedTier)) {\n                            setUserTier(savedTier);\n                            databaseTier = savedTier;\n                        } else {\n                            setUserTier(_types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n                            localStorage.setItem('mi-coach-tier', _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free);\n                        }\n                        // Try to verify with the fallback tier\n                        await verifyPremiumStatus(false, databaseTier);\n                    }\n                }\n            }[\"useTierManager.useEffect.loadAndVerifyTier\"];\n            loadAndVerifyTier();\n        }\n    }[\"useTierManager.useEffect\"], [\n        user,\n        authLoading,\n        verifyPremiumStatus\n    ]);\n    /**\n   * Update tier and sync to localStorage\n   */ const updateTier = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTierManager.useCallback[updateTier]\": (newTier)=>{\n            setUserTier(newTier);\n            localStorage.setItem('mi-coach-tier', newTier);\n            // Clear verification cache when tier changes - will re-verify on next check\n            clearVerificationCache();\n            setIsPremiumVerified(false);\n        }\n    }[\"useTierManager.useCallback[updateTier]\"], []);\n    /**\n   * Refresh tier from Supabase and re-verify\n   */ const refreshTier = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTierManager.useCallback[refreshTier]\": async ()=>{\n            if (!user) {\n                return;\n            }\n            try {\n                const profile = await (0,_services_databaseService__WEBPACK_IMPORTED_MODULE_2__.getUserProfile)(user.id);\n                if (profile && profile.tier) {\n                    const databaseTier = profile.tier;\n                    updateTier(databaseTier);\n                    // Re-verify server-side, passing database tier as fallback\n                    await verifyPremiumStatus(true, databaseTier);\n                    return databaseTier;\n                }\n            } catch (error) {\n                console.error('[useTierManager] Failed to refresh tier:', error);\n            }\n            return null;\n        }\n    }[\"useTierManager.useCallback[refreshTier]\"], [\n        user,\n        updateTier,\n        verifyPremiumStatus\n    ]);\n    return {\n        userTier,\n        setUserTier: updateTier,\n        refreshTier,\n        // New exports for server-side verification\n        isPremiumVerified,\n        isVerifying,\n        verifyPremiumStatus\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUU7UUFBYVE7S0FBb0I7SUFFM0M7O0dBRUMsR0FDRCxNQUFNdUMsYUFBYTFFLGtEQUFXQTtrREFBQyxDQUFDMkU7WUFDOUI5QyxZQUFZOEM7WUFDWmhFLGFBQWFTLE9BQU8sQ0FBQyxpQkFBaUJ1RDtZQUN0Qyw0RUFBNEU7WUFDNUVyRDtZQUNBVSxxQkFBcUI7UUFDdkI7aURBQUcsRUFBRTtJQUVMOztHQUVDLEdBQ0QsTUFBTTRDLGNBQWM1RSxrREFBV0E7bURBQUM7WUFDOUIsSUFBSSxDQUFDeUIsTUFBTTtnQkFDVDtZQUNGO1lBRUEsSUFBSTtnQkFDRixNQUFNK0MsVUFBVSxNQUFNdEUseUVBQWNBLENBQUN1QixLQUFLOEMsRUFBRTtnQkFDNUMsSUFBSUMsV0FBV0EsUUFBUVgsSUFBSSxFQUFFO29CQUMzQixNQUFNeEIsZUFBZW1DLFFBQVFYLElBQUk7b0JBQ2pDYSxXQUFXckM7b0JBQ1gsMkRBQTJEO29CQUMzRCxNQUFNRixvQkFBb0IsTUFBTUU7b0JBQ2hDLE9BQU9BO2dCQUNUO1lBQ0YsRUFBRSxPQUFPNEIsT0FBTztnQkFDZDNCLFFBQVEyQixLQUFLLENBQUMsNENBQTRDQTtZQUM1RDtZQUNBLE9BQU87UUFDVDtrREFBRztRQUFDeEM7UUFBTWlEO1FBQVl2QztLQUFvQjtJQUUxQyxPQUFPO1FBQ0xQO1FBQ0FDLGFBQWE2QztRQUNiRTtRQUNBLDJDQUEyQztRQUMzQzdDO1FBQ0FFO1FBQ0FFO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ob29rcy91c2VUaWVyTWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVzZXJUaWVyIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0VXNlclByb2ZpbGUsIGNyZWF0ZVVzZXJQcm9maWxlIH0gZnJvbSAnLi4vc2VydmljZXMvZGF0YWJhc2VTZXJ2aWNlJztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICcuLi9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5pbXBvcnQgeyBpc1N1cGFiYXNlQ29uZmlndXJlZCwgZ2V0U3VwYWJhc2VDbGllbnQgfSBmcm9tICcuLi9saWIvc3VwYWJhc2UnO1xuXG4vLyBDYWNoZSBmb3Igc2VydmVyLXZlcmlmaWVkIHByZW1pdW0gc3RhdHVzXG5pbnRlcmZhY2UgUHJlbWl1bVZlcmlmaWNhdGlvbiB7XG4gIGlzUHJlbWl1bTogYm9vbGVhbjtcbiAgdGllcjogc3RyaW5nO1xuICB2ZXJpZmllZEF0OiBzdHJpbmc7XG4gIGV4cGlyZXNBdDogbnVtYmVyOyAvLyB0aW1lc3RhbXAgd2hlbiBjYWNoZSBleHBpcmVzXG59XG5cbmNvbnN0IFZFUklGSUNBVElPTl9DQUNIRV9LRVkgPSAnbWktY29hY2gtcHJlbWl1bS12ZXJpZmljYXRpb24nO1xuY29uc3QgVkVSSUZJQ0FUSU9OX0NBQ0hFX1RUTCA9IDUgKiA2MCAqIDEwMDA7IC8vIDUgbWludXRlc1xuXG4vKipcbiAqIEdldCBjYWNoZWQgdmVyaWZpY2F0aW9uIGlmIHN0aWxsIHZhbGlkXG4gKi9cbmNvbnN0IGdldENhY2hlZFZlcmlmaWNhdGlvbiA9ICgpOiBQcmVtaXVtVmVyaWZpY2F0aW9uIHwgbnVsbCA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2FjaGVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVkVSSUZJQ0FUSU9OX0NBQ0hFX0tFWSk7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgY29uc3QgdmVyaWZpY2F0aW9uID0gSlNPTi5wYXJzZShjYWNoZWQpIGFzIFByZW1pdW1WZXJpZmljYXRpb247XG4gICAgICBpZiAodmVyaWZpY2F0aW9uLmV4cGlyZXNBdCA+IERhdGUubm93KCkpIHtcbiAgICAgICAgcmV0dXJuIHZlcmlmaWNhdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIC8vIElnbm9yZSBjYWNoZSBlcnJvcnNcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogQ2FjaGUgdmVyaWZpY2F0aW9uIHJlc3VsdFxuICovXG5jb25zdCBjYWNoZVZlcmlmaWNhdGlvbiA9ICh2ZXJpZmljYXRpb246IE9taXQ8UHJlbWl1bVZlcmlmaWNhdGlvbiwgJ2V4cGlyZXNBdCc+KTogdm9pZCA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2FjaGVkOiBQcmVtaXVtVmVyaWZpY2F0aW9uID0ge1xuICAgICAgLi4udmVyaWZpY2F0aW9uLFxuICAgICAgZXhwaXJlc0F0OiBEYXRlLm5vdygpICsgVkVSSUZJQ0FUSU9OX0NBQ0hFX1RUTCxcbiAgICB9O1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFZFUklGSUNBVElPTl9DQUNIRV9LRVksIEpTT04uc3RyaW5naWZ5KGNhY2hlZCkpO1xuICB9IGNhdGNoIHtcbiAgICAvLyBJZ25vcmUgY2FjaGUgZXJyb3JzXG4gIH1cbn07XG5cbi8qKlxuICogQ2xlYXIgdmVyaWZpY2F0aW9uIGNhY2hlXG4gKi9cbmNvbnN0IGNsZWFyVmVyaWZpY2F0aW9uQ2FjaGUgPSAoKTogdm9pZCA9PiB7XG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVkVSSUZJQ0FUSU9OX0NBQ0hFX0tFWSk7XG4gIH0gY2F0Y2gge1xuICAgIC8vIElnbm9yZSBjYWNoZSBlcnJvcnNcbiAgfVxufTtcblxuLyoqXG4gKiBIb29rIHRvIG1hbmFnZSB1c2VyIHRpZXIgc3RhdGUgYW5kIHVwZGF0ZXNcbiAqIEhhbmRsZXMgbG9hZGluZyB0aWVyIGZyb20gU3VwYWJhc2UsIGxvY2FsU3RvcmFnZSBmYWxsYmFjaywgYW5kIHRpZXIgdXBkYXRlc1xuICogXG4gKiBTRUNVUklUWTogUHJlbWl1bSBzdGF0dXMgaXMgdmVyaWZpZWQgc2VydmVyLXNpZGUgdmlhIEVkZ2UgRnVuY3Rpb25cbiAqIENsaWVudC1zaWRlIHN0YXRlIGlzIHVzZWQgZm9yIG9wdGltaXN0aWMgVUkgYnV0IG5ldmVyIHRydXN0ZWQgZm9yIGdhdGluZ1xuICovXG5leHBvcnQgY29uc3QgdXNlVGllck1hbmFnZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlciwgbG9hZGluZzogYXV0aExvYWRpbmcgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW3VzZXJUaWVyLCBzZXRVc2VyVGllcl0gPSB1c2VTdGF0ZTxVc2VyVGllcj4oVXNlclRpZXIuRnJlZSk7XG4gIGNvbnN0IFtpc1ByZW1pdW1WZXJpZmllZCwgc2V0SXNQcmVtaXVtVmVyaWZpZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbaXNWZXJpZnlpbmcsIHNldElzVmVyaWZ5aW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuICAvKipcbiAgICogVmVyaWZ5IHByZW1pdW0gc3RhdHVzIHZpYSBFZGdlIEZ1bmN0aW9uIChzZXJ2ZXItc2lkZSwgY2Fubm90IGJlIHNwb29mZWQpXG4gICAqIEZhbGxzIGJhY2sgdG8gZGF0YWJhc2UgdGllciBpZiBFZGdlIEZ1bmN0aW9uIGlzIHVuYXZhaWxhYmxlXG4gICAqL1xuICBjb25zdCB2ZXJpZnlQcmVtaXVtU3RhdHVzID0gdXNlQ2FsbGJhY2soYXN5bmMgKGZvcmNlUmVmcmVzaCA9IGZhbHNlLCBkYXRhYmFzZVRpZXI/OiBVc2VyVGllcik6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGlmICghdXNlciB8fCAhaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgc2V0SXNQcmVtaXVtVmVyaWZpZWQoZmFsc2UpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0ICh1bmxlc3MgZm9yY2UgcmVmcmVzaClcbiAgICBpZiAoIWZvcmNlUmVmcmVzaCkge1xuICAgICAgY29uc3QgY2FjaGVkID0gZ2V0Q2FjaGVkVmVyaWZpY2F0aW9uKCk7XG4gICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbdXNlVGllck1hbmFnZXJdIFVzaW5nIGNhY2hlZCBwcmVtaXVtIHZlcmlmaWNhdGlvbjonLCBjYWNoZWQuaXNQcmVtaXVtKTtcbiAgICAgICAgc2V0SXNQcmVtaXVtVmVyaWZpZWQoY2FjaGVkLmlzUHJlbWl1bSk7XG4gICAgICAgIHJldHVybiBjYWNoZWQuaXNQcmVtaXVtO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldElzVmVyaWZ5aW5nKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBzZXNzaW9uRGF0YT8uc2Vzc2lvbj8uYWNjZXNzX3Rva2VuO1xuXG4gICAgICBpZiAoIWFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW3VzZVRpZXJNYW5hZ2VyXSBObyBhY2Nlc3MgdG9rZW4gYXZhaWxhYmxlIGZvciB2ZXJpZmljYXRpb24nKTtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gZGF0YWJhc2UgdGllciBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKGRhdGFiYXNlVGllciA9PT0gVXNlclRpZXIuUHJlbWl1bSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlVGllck1hbmFnZXJdIEZhbGxpbmcgYmFjayB0byBkYXRhYmFzZSB0aWVyIChwcmVtaXVtKScpO1xuICAgICAgICAgIHNldElzUHJlbWl1bVZlcmlmaWVkKHRydWUpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHNldElzUHJlbWl1bVZlcmlmaWVkKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7c3VwYWJhc2VVcmx9L2Z1bmN0aW9ucy92MS92ZXJpZnktcHJlbWl1bS1zdGF0dXNgLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthY2Nlc3NUb2tlbn1gLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAvLyBFZGdlIEZ1bmN0aW9uIHVuYXZhaWxhYmxlICg0MDQsIDUwMCwgZXRjLikgLSBmYWxsYmFjayB0byBkYXRhYmFzZSB0aWVyXG4gICAgICAgIGNvbnNvbGUud2FybignW3VzZVRpZXJNYW5hZ2VyXSBFZGdlIEZ1bmN0aW9uIHVuYXZhaWxhYmxlIChzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzLCAnKSwgZmFsbGluZyBiYWNrIHRvIGRhdGFiYXNlIHRpZXInKTtcbiAgICAgICAgaWYgKGRhdGFiYXNlVGllciA9PT0gVXNlclRpZXIuUHJlbWl1bSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlVGllck1hbmFnZXJdIERhdGFiYXNlIHRpZXIgaXMgcHJlbWl1bSwgdHJ1c3RpbmcgaXQgYXMgZmFsbGJhY2snKTtcbiAgICAgICAgICBzZXRJc1ByZW1pdW1WZXJpZmllZCh0cnVlKTtcbiAgICAgICAgICBjYWNoZVZlcmlmaWNhdGlvbih7XG4gICAgICAgICAgICBpc1ByZW1pdW06IHRydWUsXG4gICAgICAgICAgICB0aWVyOiAncHJlbWl1bScsXG4gICAgICAgICAgICB2ZXJpZmllZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXNlciBpcyBmcmVlIHRpZXIgaW4gZGF0YWJhc2UsIHNvIHRoZXkncmUgZGVmaW5pdGVseSBub3QgcHJlbWl1bVxuICAgICAgICBzZXRJc1ByZW1pdW1WZXJpZmllZChmYWxzZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGlzUHJlbWl1bSA9IGRhdGEuaXNQcmVtaXVtID09PSB0cnVlO1xuXG4gICAgICBjb25zb2xlLmxvZygnW3VzZVRpZXJNYW5hZ2VyXSBTZXJ2ZXIgdmVyaWZpZWQgcHJlbWl1bSBzdGF0dXM6JywgaXNQcmVtaXVtKTtcblxuICAgICAgLy8gQ2FjaGUgdGhlIHZlcmlmaWNhdGlvblxuICAgICAgY2FjaGVWZXJpZmljYXRpb24oe1xuICAgICAgICBpc1ByZW1pdW0sXG4gICAgICAgIHRpZXI6IGRhdGEudGllciB8fCAnZnJlZScsXG4gICAgICAgIHZlcmlmaWVkQXQ6IGRhdGEudmVyaWZpZWRBdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KTtcblxuICAgICAgc2V0SXNQcmVtaXVtVmVyaWZpZWQoaXNQcmVtaXVtKTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIHRpZXIgc3RhdGUgdG8gbWF0Y2ggc2VydmVyXG4gICAgICBpZiAoaXNQcmVtaXVtKSB7XG4gICAgICAgIHNldFVzZXJUaWVyKFVzZXJUaWVyLlByZW1pdW0pO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWktY29hY2gtdGllcicsIFVzZXJUaWVyLlByZW1pdW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VXNlclRpZXIoVXNlclRpZXIuRnJlZSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaS1jb2FjaC10aWVyJywgVXNlclRpZXIuRnJlZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc1ByZW1pdW07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIE5ldHdvcmsgZXJyb3IsIEVkZ2UgRnVuY3Rpb24gbm90IGRlcGxveWVkLCBldGMuIC0gZmFsbGJhY2sgdG8gZGF0YWJhc2UgdGllclxuICAgICAgY29uc29sZS53YXJuKCdbdXNlVGllck1hbmFnZXJdIEVycm9yIHZlcmlmeWluZyBwcmVtaXVtIHN0YXR1cywgZmFsbGluZyBiYWNrIHRvIGRhdGFiYXNlIHRpZXI6JywgZXJyb3IpO1xuICAgICAgaWYgKGRhdGFiYXNlVGllciA9PT0gVXNlclRpZXIuUHJlbWl1bSkge1xuICAgICAgICBjb25zb2xlLmxvZygnW3VzZVRpZXJNYW5hZ2VyXSBEYXRhYmFzZSB0aWVyIGlzIHByZW1pdW0sIHRydXN0aW5nIGl0IGFzIGZhbGxiYWNrJyk7XG4gICAgICAgIHNldElzUHJlbWl1bVZlcmlmaWVkKHRydWUpO1xuICAgICAgICBjYWNoZVZlcmlmaWNhdGlvbih7XG4gICAgICAgICAgaXNQcmVtaXVtOiB0cnVlLFxuICAgICAgICAgIHRpZXI6ICdwcmVtaXVtJyxcbiAgICAgICAgICB2ZXJpZmllZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZXIgaXMgZnJlZSB0aWVyIGluIGRhdGFiYXNlLCBzbyB0aGV5J3JlIGRlZmluaXRlbHkgbm90IHByZW1pdW1cbiAgICAgIHNldElzUHJlbWl1bVZlcmlmaWVkKGZhbHNlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNWZXJpZnlpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3VzZXJdKTtcblxuICAvLyBMb2FkIHVzZXIgdGllciBmcm9tIGxvY2FsU3RvcmFnZSB3aGVuIHRoZSBhcHAgc3RhcnRzIChvcHRpbWlzdGljIFVJIG9ubHkpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gRm9yIGFub255bW91cyB1c2VycywgYWx3YXlzIHVzZSBGcmVlIHRpZXJcbiAgICAvLyBGb3IgYXV0aGVudGljYXRlZCB1c2VycywgbG9hZCBmcm9tIGxvY2FsU3RvcmFnZSBhcyBmYWxsYmFjayAod2lsbCBiZSBvdmVycmlkZGVuIGJ5IHNlcnZlcilcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHNldFVzZXJUaWVyKFVzZXJUaWVyLkZyZWUpO1xuICAgICAgc2V0SXNQcmVtaXVtVmVyaWZpZWQoZmFsc2UpO1xuICAgICAgY2xlYXJWZXJpZmljYXRpb25DYWNoZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBdXRoZW50aWNhdGVkIHVzZXIgLSBsb2FkIHNhdmVkIHRpZXIgZnJvbSBsb2NhbFN0b3JhZ2UgKGZhbGxiYWNrLCB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgc2VydmVyKVxuICAgICAgY29uc3Qgc2F2ZWRUaWVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21pLWNvYWNoLXRpZXInKSBhcyBVc2VyVGllcjtcbiAgICAgIGlmIChzYXZlZFRpZXIgJiYgT2JqZWN0LnZhbHVlcyhVc2VyVGllcikuaW5jbHVkZXMoc2F2ZWRUaWVyKSkge1xuICAgICAgICBzZXRVc2VyVGllcihzYXZlZFRpZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3VzZXJdKTtcblxuICAvLyBMb2FkIHVzZXIgdGllciBmcm9tIFN1cGFiYXNlIGFuZCB2ZXJpZnkgc2VydmVyLXNpZGUgYWZ0ZXIgYXV0aGVudGljYXRpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXVzZXIgfHwgYXV0aExvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsb2FkQW5kVmVyaWZ5VGllciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkYXRhYmFzZVRpZXI6IFVzZXJUaWVyID0gVXNlclRpZXIuRnJlZTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1t1c2VUaWVyTWFuYWdlcl0gTG9hZGluZyB0aWVyIGZyb20gU3VwYWJhc2UgZm9yIHVzZXI6JywgdXNlci5pZCk7XG4gICAgICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBnZXRVc2VyUHJvZmlsZSh1c2VyLmlkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChwcm9maWxlICYmIHByb2ZpbGUudGllcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlVGllck1hbmFnZXJdIExvYWRlZCB0aWVyIGZyb20gU3VwYWJhc2U6JywgcHJvZmlsZS50aWVyKTtcbiAgICAgICAgICBkYXRhYmFzZVRpZXIgPSBwcm9maWxlLnRpZXIgYXMgVXNlclRpZXI7XG4gICAgICAgICAgc2V0VXNlclRpZXIoZGF0YWJhc2VUaWVyKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWktY29hY2gtdGllcicsIHByb2ZpbGUudGllcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1t1c2VUaWVyTWFuYWdlcl0gTm8gcHJvZmlsZSBmb3VuZC4gQ3JlYXRpbmcgbmV3IHByb2ZpbGUgd2l0aCBGcmVlIHRpZXIuJyk7XG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHByb2ZpbGUgZm9yIHRoZSB1c2VyXG4gICAgICAgICAgY29uc3QgbmV3UHJvZmlsZSA9IGF3YWl0IGNyZWF0ZVVzZXJQcm9maWxlKHVzZXIuaWQsIFVzZXJUaWVyLkZyZWUpO1xuICAgICAgICAgIGlmIChuZXdQcm9maWxlICYmIG5ld1Byb2ZpbGUudGllcikge1xuICAgICAgICAgICAgZGF0YWJhc2VUaWVyID0gbmV3UHJvZmlsZS50aWVyIGFzIFVzZXJUaWVyO1xuICAgICAgICAgICAgc2V0VXNlclRpZXIoZGF0YWJhc2VUaWVyKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaS1jb2FjaC10aWVyJywgbmV3UHJvZmlsZS50aWVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gRnJlZSB0aWVyIGlmIGNyZWF0aW9uIGZhaWxzXG4gICAgICAgICAgICBzZXRVc2VyVGllcihVc2VyVGllci5GcmVlKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaS1jb2FjaC10aWVyJywgVXNlclRpZXIuRnJlZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWZ0ZXIgbG9hZGluZyBmcm9tIFN1cGFiYXNlLCB2ZXJpZnkgc2VydmVyLXNpZGUgZm9yIHByZW1pdW0gdXNlcnNcbiAgICAgICAgLy8gUGFzcyB0aGUgZGF0YWJhc2UgdGllciBzbyB3ZSBjYW4gZmFsbGJhY2sgaWYgRWRnZSBGdW5jdGlvbiBpcyB1bmF2YWlsYWJsZVxuICAgICAgICBhd2FpdCB2ZXJpZnlQcmVtaXVtU3RhdHVzKGZhbHNlLCBkYXRhYmFzZVRpZXIpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3VzZVRpZXJNYW5hZ2VyXSBGYWlsZWQgdG8gbG9hZCB0aWVyIGZyb20gU3VwYWJhc2U6JywgZXJyb3IpO1xuICAgICAgICAvLyBGYWxsYmFjayB0byBsb2NhbFN0b3JhZ2Ugb3IgRnJlZVxuICAgICAgICBjb25zdCBzYXZlZFRpZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWktY29hY2gtdGllcicpIGFzIFVzZXJUaWVyO1xuICAgICAgICBpZiAoc2F2ZWRUaWVyICYmIE9iamVjdC52YWx1ZXMoVXNlclRpZXIpLmluY2x1ZGVzKHNhdmVkVGllcikpIHtcbiAgICAgICAgICBzZXRVc2VyVGllcihzYXZlZFRpZXIpO1xuICAgICAgICAgIGRhdGFiYXNlVGllciA9IHNhdmVkVGllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRVc2VyVGllcihVc2VyVGllci5GcmVlKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWktY29hY2gtdGllcicsIFVzZXJUaWVyLkZyZWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyeSB0byB2ZXJpZnkgd2l0aCB0aGUgZmFsbGJhY2sgdGllclxuICAgICAgICBhd2FpdCB2ZXJpZnlQcmVtaXVtU3RhdHVzKGZhbHNlLCBkYXRhYmFzZVRpZXIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2FkQW5kVmVyaWZ5VGllcigpO1xuICB9LCBbdXNlciwgYXV0aExvYWRpbmcsIHZlcmlmeVByZW1pdW1TdGF0dXNdKTtcblxuICAvKipcbiAgICogVXBkYXRlIHRpZXIgYW5kIHN5bmMgdG8gbG9jYWxTdG9yYWdlXG4gICAqL1xuICBjb25zdCB1cGRhdGVUaWVyID0gdXNlQ2FsbGJhY2soKG5ld1RpZXI6IFVzZXJUaWVyKSA9PiB7XG4gICAgc2V0VXNlclRpZXIobmV3VGllcik7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pLWNvYWNoLXRpZXInLCBuZXdUaWVyKTtcbiAgICAvLyBDbGVhciB2ZXJpZmljYXRpb24gY2FjaGUgd2hlbiB0aWVyIGNoYW5nZXMgLSB3aWxsIHJlLXZlcmlmeSBvbiBuZXh0IGNoZWNrXG4gICAgY2xlYXJWZXJpZmljYXRpb25DYWNoZSgpO1xuICAgIHNldElzUHJlbWl1bVZlcmlmaWVkKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHRpZXIgZnJvbSBTdXBhYmFzZSBhbmQgcmUtdmVyaWZ5XG4gICAqL1xuICBjb25zdCByZWZyZXNoVGllciA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGdldFVzZXJQcm9maWxlKHVzZXIuaWQpO1xuICAgICAgaWYgKHByb2ZpbGUgJiYgcHJvZmlsZS50aWVyKSB7XG4gICAgICAgIGNvbnN0IGRhdGFiYXNlVGllciA9IHByb2ZpbGUudGllciBhcyBVc2VyVGllcjtcbiAgICAgICAgdXBkYXRlVGllcihkYXRhYmFzZVRpZXIpO1xuICAgICAgICAvLyBSZS12ZXJpZnkgc2VydmVyLXNpZGUsIHBhc3NpbmcgZGF0YWJhc2UgdGllciBhcyBmYWxsYmFja1xuICAgICAgICBhd2FpdCB2ZXJpZnlQcmVtaXVtU3RhdHVzKHRydWUsIGRhdGFiYXNlVGllcik7XG4gICAgICAgIHJldHVybiBkYXRhYmFzZVRpZXI7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VUaWVyTWFuYWdlcl0gRmFpbGVkIHRvIHJlZnJlc2ggdGllcjonLCBlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LCBbdXNlciwgdXBkYXRlVGllciwgdmVyaWZ5UHJlbWl1bVN0YXR1c10pO1xuXG4gIHJldHVybiB7XG4gICAgdXNlclRpZXIsXG4gICAgc2V0VXNlclRpZXI6IHVwZGF0ZVRpZXIsXG4gICAgcmVmcmVzaFRpZXIsXG4gICAgLy8gTmV3IGV4cG9ydHMgZm9yIHNlcnZlci1zaWRlIHZlcmlmaWNhdGlvblxuICAgIGlzUHJlbWl1bVZlcmlmaWVkLFxuICAgIGlzVmVyaWZ5aW5nLFxuICAgIHZlcmlmeVByZW1pdW1TdGF0dXMsXG4gIH07XG59O1xuXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsIlVzZXJUaWVyIiwiZ2V0VXNlclByb2ZpbGUiLCJjcmVhdGVVc2VyUHJvZmlsZSIsInVzZUF1dGgiLCJpc1N1cGFiYXNlQ29uZmlndXJlZCIsImdldFN1cGFiYXNlQ2xpZW50IiwiVkVSSUZJQ0FUSU9OX0NBQ0hFX0tFWSIsIlZFUklGSUNBVElPTl9DQUNIRV9UVEwiLCJnZXRDYWNoZWRWZXJpZmljYXRpb24iLCJjYWNoZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidmVyaWZpY2F0aW9uIiwiSlNPTiIsInBhcnNlIiwiZXhwaXJlc0F0IiwiRGF0ZSIsIm5vdyIsImNhY2hlVmVyaWZpY2F0aW9uIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImNsZWFyVmVyaWZpY2F0aW9uQ2FjaGUiLCJyZW1vdmVJdGVtIiwidXNlVGllck1hbmFnZXIiLCJ1c2VyIiwibG9hZGluZyIsImF1dGhMb2FkaW5nIiwidXNlclRpZXIiLCJzZXRVc2VyVGllciIsIkZyZWUiLCJpc1ByZW1pdW1WZXJpZmllZCIsInNldElzUHJlbWl1bVZlcmlmaWVkIiwiaXNWZXJpZnlpbmciLCJzZXRJc1ZlcmlmeWluZyIsInZlcmlmeVByZW1pdW1TdGF0dXMiLCJmb3JjZVJlZnJlc2giLCJkYXRhYmFzZVRpZXIiLCJjb25zb2xlIiwibG9nIiwiaXNQcmVtaXVtIiwic3VwYWJhc2UiLCJkYXRhIiwic2Vzc2lvbkRhdGEiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImFjY2Vzc1Rva2VuIiwic2Vzc2lvbiIsImFjY2Vzc190b2tlbiIsIndhcm4iLCJQcmVtaXVtIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsInN0YXR1cyIsInRpZXIiLCJ2ZXJpZmllZEF0IiwidG9JU09TdHJpbmciLCJqc29uIiwiZXJyb3IiLCJzYXZlZFRpZXIiLCJPYmplY3QiLCJ2YWx1ZXMiLCJpbmNsdWRlcyIsImxvYWRBbmRWZXJpZnlUaWVyIiwiaWQiLCJwcm9maWxlIiwibmV3UHJvZmlsZSIsInVwZGF0ZVRpZXIiLCJuZXdUaWVyIiwicmVmcmVzaFRpZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useTierManager.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useXP.ts":
/*!************************!*\
  !*** ./hooks/useXP.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useXP: () => (/* binding */ useXP)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts/AuthContext */ \"(ssr)/./contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"(ssr)/./constants.ts\");\n/* harmony import */ var _utils_syncQueue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/syncQueue */ \"(ssr)/./utils/syncQueue.ts\");\n/* __next_internal_client_entry_do_not_use__ useXP auto */ \n\n\n\n\n// Storage key for anonymous/fallback XP data\nconst XP_STORAGE_KEY = 'mi-coach-xp';\n/**\n * Get level info from XP amount\n */ const getLevelFromXP = (xp)=>{\n    // Find the highest level the user qualifies for\n    for(let i = _constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS.length - 1; i >= 0; i--){\n        if (xp >= _constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS[i].minXP) {\n            return {\n                ..._constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS[i]\n            };\n        }\n    }\n    // Fallback to level 1\n    return {\n        ..._constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS[0]\n    };\n};\n/**\n * Calculate XP needed to reach next level\n */ const getXPToNextLevel = (xp)=>{\n    const currentLevel = getLevelFromXP(xp);\n    // If at max level, return 0\n    if (currentLevel.level === _constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS.length) {\n        return 0;\n    }\n    // Find next level threshold\n    const nextLevelIndex = _constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS.findIndex((l)=>l.level === currentLevel.level + 1);\n    if (nextLevelIndex === -1) {\n        return 0;\n    }\n    return _constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS[nextLevelIndex].minXP - xp;\n};\n/**\n * Calculate progress percentage within current level (0-100)\n */ const getXPProgress = (xp)=>{\n    const currentLevel = getLevelFromXP(xp);\n    // If at max level, return 100\n    if (currentLevel.level === _constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS.length) {\n        return 100;\n    }\n    const nextLevelIndex = _constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS.findIndex((l)=>l.level === currentLevel.level + 1);\n    if (nextLevelIndex === -1) {\n        return 100;\n    }\n    const levelRange = _constants__WEBPACK_IMPORTED_MODULE_3__.XP_LEVELS[nextLevelIndex].minXP - currentLevel.minXP;\n    const xpIntoLevel = xp - currentLevel.minXP;\n    return Math.round(xpIntoLevel / levelRange * 100);\n};\n/**\n * Hook to manage user XP and levels\n * Tracks experience points and calculates level from XP thresholds\n */ const useXP = ()=>{\n    const { user, loading: authLoading } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.useAuth)();\n    const [currentXP, setCurrentXP] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    /**\n   * Load XP from localStorage (fallback/anonymous)\n   */ const loadFromLocalStorage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useXP.useCallback[loadFromLocalStorage]\": ()=>{\n            try {\n                const stored = localStorage.getItem(XP_STORAGE_KEY);\n                if (stored) {\n                    const parsed = JSON.parse(stored);\n                    return parsed.currentXP ?? 0;\n                }\n            } catch (error) {\n                console.error('[useXP] Failed to parse XP from localStorage:', error);\n            }\n            return 0;\n        }\n    }[\"useXP.useCallback[loadFromLocalStorage]\"], []);\n    /**\n   * Save XP to localStorage\n   */ const saveToLocalStorage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useXP.useCallback[saveToLocalStorage]\": (xp)=>{\n            try {\n                localStorage.setItem(XP_STORAGE_KEY, JSON.stringify({\n                    currentXP: xp\n                }));\n            } catch (error) {\n                console.error('[useXP] Failed to save XP to localStorage:', error);\n            }\n        }\n    }[\"useXP.useCallback[saveToLocalStorage]\"], []);\n    /**\n   * Load XP from Supabase\n   */ const loadFromSupabase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useXP.useCallback[loadFromSupabase]\": async (userId)=>{\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                console.warn('[useXP] Supabase not configured, using localStorage');\n                return loadFromLocalStorage();\n            }\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n                const { data, error } = await supabase.from('profiles').select('current_xp').eq('user_id', userId).single();\n                if (error) {\n                    // Column might not exist yet\n                    if (error.code === 'PGRST116' || error.message.includes('column')) {\n                        console.log('[useXP] XP column not found, using defaults');\n                        return 0;\n                    }\n                    console.error('[useXP] Failed to load XP from Supabase:', error);\n                    return loadFromLocalStorage();\n                }\n                return data?.current_xp ?? 0;\n            } catch (error) {\n                console.error('[useXP] Error loading XP from Supabase:', error);\n                return loadFromLocalStorage();\n            }\n        }\n    }[\"useXP.useCallback[loadFromSupabase]\"], [\n        loadFromLocalStorage\n    ]);\n    /**\n   * Save XP to Supabase\n   * On failure, queues the XP delta for retry when connectivity is restored\n   */ const saveToSupabase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useXP.useCallback[saveToSupabase]\": async (userId, xp, xpDelta, reason)=>{\n            // Always save to localStorage first for offline access\n            saveToLocalStorage(xp);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                console.warn('[useXP] Supabase not configured, queuing for later sync');\n                (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_4__.queueOperation)('xp', userId, {\n                    xpDelta,\n                    reason,\n                    timestamp: new Date().toISOString()\n                });\n                return false;\n            }\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n                const { error } = await supabase.from('profiles').update({\n                    current_xp: xp,\n                    updated_at: new Date().toISOString()\n                }).eq('user_id', userId);\n                if (error) {\n                    console.error('[useXP] Failed to save XP to Supabase:', error);\n                    // Queue the delta for retry\n                    (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_4__.queueOperation)('xp', userId, {\n                        xpDelta,\n                        reason,\n                        timestamp: new Date().toISOString()\n                    });\n                    return false;\n                }\n                console.log('[useXP] XP saved to Supabase successfully');\n                return true;\n            } catch (error) {\n                console.error('[useXP] Error saving XP to Supabase:', error);\n                // Queue the delta for retry\n                (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_4__.queueOperation)('xp', userId, {\n                    xpDelta,\n                    reason,\n                    timestamp: new Date().toISOString()\n                });\n                return false;\n            }\n        }\n    }[\"useXP.useCallback[saveToSupabase]\"], [\n        saveToLocalStorage\n    ]);\n    /**\n   * Handler for processing queued XP operations\n   * Applies the XP delta to the current server value\n   */ const handleQueuedXPSync = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useXP.useCallback[handleQueuedXPSync]\": async (operation)=>{\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                return false;\n            }\n            const xpData = operation.data;\n            try {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n                // First, get current XP from Supabase\n                const { data: profile, error: readError } = await supabase.from('profiles').select('current_xp').eq('user_id', operation.userId).single();\n                if (readError) {\n                    console.error('[useXP] Failed to read current XP for sync:', readError);\n                    return false;\n                }\n                const currentServerXP = profile?.current_xp ?? 0;\n                const newXP = currentServerXP + xpData.xpDelta;\n                // Apply the delta\n                const { error: updateError } = await supabase.from('profiles').update({\n                    current_xp: newXP,\n                    updated_at: new Date().toISOString()\n                }).eq('user_id', operation.userId);\n                if (updateError) {\n                    console.error('[useXP] Failed to sync queued XP:', updateError);\n                    return false;\n                }\n                console.log(`[useXP] Successfully synced queued XP: +${xpData.xpDelta} (${xpData.reason})`);\n                return true;\n            } catch (error) {\n                console.error('[useXP] Error syncing queued XP:', error);\n                return false;\n            }\n        }\n    }[\"useXP.useCallback[handleQueuedXPSync]\"], []);\n    /**\n   * Add XP to the user's total\n   */ const addXP = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useXP.useCallback[addXP]\": async (amount, reason)=>{\n            if (amount <= 0) {\n                console.warn('[useXP] Attempted to add non-positive XP:', amount);\n                return;\n            }\n            const newXP = currentXP + amount;\n            const oldLevel = getLevelFromXP(currentXP);\n            const newLevel = getLevelFromXP(newXP);\n            // Optimistic update\n            setCurrentXP(newXP);\n            // Log XP gain\n            console.log('[useXP] XP added:', {\n                amount,\n                reason,\n                oldXP: currentXP,\n                newXP,\n                leveledUp: newLevel.level > oldLevel.level,\n                newLevel: newLevel.name\n            });\n            // Persist to storage (pass the delta for queue if it fails)\n            if (user) {\n                await saveToSupabase(user.id, newXP, amount, reason);\n            } else {\n                saveToLocalStorage(newXP);\n            }\n        }\n    }[\"useXP.useCallback[addXP]\"], [\n        user,\n        currentXP,\n        saveToSupabase,\n        saveToLocalStorage\n    ]);\n    /**\n   * Process any queued XP operations (called on load and when online)\n   */ const processQueue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useXP.useCallback[processQueue]\": async ()=>{\n            if (!user || !(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                return;\n            }\n            const synced = await (0,_utils_syncQueue__WEBPACK_IMPORTED_MODULE_4__.processSyncQueue)('xp', user.id, handleQueuedXPSync);\n            if (synced > 0) {\n                console.log(`[useXP] Synced ${synced} queued XP operations`);\n                // Reload XP from Supabase to get the updated value\n                const updatedXP = await loadFromSupabase(user.id);\n                setCurrentXP(updatedXP);\n            }\n        }\n    }[\"useXP.useCallback[processQueue]\"], [\n        user,\n        handleQueuedXPSync,\n        loadFromSupabase\n    ]);\n    // Load XP on mount or when user changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useXP.useEffect\": ()=>{\n            if (authLoading) {\n                return;\n            }\n            const loadXP = {\n                \"useXP.useEffect.loadXP\": async ()=>{\n                    setIsLoading(true);\n                    try {\n                        // First, try to sync any queued operations from previous failures\n                        if (user) {\n                            await processQueue();\n                        }\n                        let xp;\n                        if (user) {\n                            xp = await loadFromSupabase(user.id);\n                        } else {\n                            xp = loadFromLocalStorage();\n                        }\n                        setCurrentXP(xp);\n                    } catch (error) {\n                        console.error('[useXP] Failed to load XP:', error);\n                        setCurrentXP(0);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"useXP.useEffect.loadXP\"];\n            loadXP();\n        }\n    }[\"useXP.useEffect\"], [\n        user,\n        authLoading,\n        loadFromSupabase,\n        loadFromLocalStorage,\n        processQueue\n    ]);\n    // Calculate derived values\n    const levelInfo = getLevelFromXP(currentXP);\n    return {\n        currentXP,\n        currentLevel: levelInfo.level,\n        levelName: levelInfo.name,\n        xpToNextLevel: getXPToNextLevel(currentXP),\n        xpProgress: getXPProgress(currentXP),\n        addXP,\n        isLoading,\n        processQueue\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhO29CQUNmLFNBQVU7d0JBQ1JFLGFBQWE7b0JBQ2Y7Z0JBQ0Y7O1lBRUFzRDtRQUNGOzBCQUFHO1FBQUM1RDtRQUFNRTtRQUFhaUI7UUFBa0JaO1FBQXNCa0Q7S0FBYTtJQUU1RSwyQkFBMkI7SUFDM0IsTUFBTUksWUFBWTlFLGVBQWVvQjtJQUVqQyxPQUFPO1FBQ0xBO1FBQ0FkLGNBQWN3RSxVQUFVdkUsS0FBSztRQUM3QndFLFdBQVdELFVBQVVOLElBQUk7UUFDekJRLGVBQWUzRSxpQkFBaUJlO1FBQ2hDNkQsWUFBWXRFLGNBQWNTO1FBQzFCOEM7UUFDQTVDO1FBQ0FvRDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvaG9va3MvdXNlWFAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICcuLi9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQsIGlzU3VwYWJhc2VDb25maWd1cmVkIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xuaW1wb3J0IHsgWFBfTEVWRUxTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIHF1ZXVlT3BlcmF0aW9uLFxuICBwcm9jZXNzU3luY1F1ZXVlLFxuICBYUFN5bmNEYXRhLFxuICBRdWV1ZWRPcGVyYXRpb24sXG59IGZyb20gJy4uL3V0aWxzL3N5bmNRdWV1ZSc7XG5cbmludGVyZmFjZSBMZXZlbEluZm8ge1xuICBsZXZlbDogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIG1pblhQOiBudW1iZXI7XG4gIG1heFhQOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBVc2VYUFJldHVybiB7XG4gIGN1cnJlbnRYUDogbnVtYmVyO1xuICBjdXJyZW50TGV2ZWw6IG51bWJlcjtcbiAgbGV2ZWxOYW1lOiBzdHJpbmc7XG4gIHhwVG9OZXh0TGV2ZWw6IG51bWJlcjtcbiAgeHBQcm9ncmVzczogbnVtYmVyOyAvLyAwLTEwMCBwZXJjZW50YWdlIHdpdGhpbiBjdXJyZW50IGxldmVsXG4gIGFkZFhQOiAoYW1vdW50OiBudW1iZXIsIHJlYXNvbjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIHByb2Nlc3NRdWV1ZTogKCkgPT4gUHJvbWlzZTx2b2lkPjsgLy8gUHJvY2VzcyBxdWV1ZWQgb3BlcmF0aW9ucyAoZm9yIG9ubGluZSBzeW5jKVxufVxuXG4vLyBTdG9yYWdlIGtleSBmb3IgYW5vbnltb3VzL2ZhbGxiYWNrIFhQIGRhdGFcbmNvbnN0IFhQX1NUT1JBR0VfS0VZID0gJ21pLWNvYWNoLXhwJztcblxuLyoqXG4gKiBHZXQgbGV2ZWwgaW5mbyBmcm9tIFhQIGFtb3VudFxuICovXG5jb25zdCBnZXRMZXZlbEZyb21YUCA9ICh4cDogbnVtYmVyKTogTGV2ZWxJbmZvID0+IHtcbiAgLy8gRmluZCB0aGUgaGlnaGVzdCBsZXZlbCB0aGUgdXNlciBxdWFsaWZpZXMgZm9yXG4gIGZvciAobGV0IGkgPSBYUF9MRVZFTFMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoeHAgPj0gWFBfTEVWRUxTW2ldLm1pblhQKSB7XG4gICAgICByZXR1cm4geyAuLi5YUF9MRVZFTFNbaV0gfTtcbiAgICB9XG4gIH1cbiAgLy8gRmFsbGJhY2sgdG8gbGV2ZWwgMVxuICByZXR1cm4geyAuLi5YUF9MRVZFTFNbMF0gfTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIFhQIG5lZWRlZCB0byByZWFjaCBuZXh0IGxldmVsXG4gKi9cbmNvbnN0IGdldFhQVG9OZXh0TGV2ZWwgPSAoeHA6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGNvbnN0IGN1cnJlbnRMZXZlbCA9IGdldExldmVsRnJvbVhQKHhwKTtcbiAgXG4gIC8vIElmIGF0IG1heCBsZXZlbCwgcmV0dXJuIDBcbiAgaWYgKGN1cnJlbnRMZXZlbC5sZXZlbCA9PT0gWFBfTEVWRUxTLmxlbmd0aCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIFxuICAvLyBGaW5kIG5leHQgbGV2ZWwgdGhyZXNob2xkXG4gIGNvbnN0IG5leHRMZXZlbEluZGV4ID0gWFBfTEVWRUxTLmZpbmRJbmRleChsID0+IGwubGV2ZWwgPT09IGN1cnJlbnRMZXZlbC5sZXZlbCArIDEpO1xuICBpZiAobmV4dExldmVsSW5kZXggPT09IC0xKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgXG4gIHJldHVybiBYUF9MRVZFTFNbbmV4dExldmVsSW5kZXhdLm1pblhQIC0geHA7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSBwcm9ncmVzcyBwZXJjZW50YWdlIHdpdGhpbiBjdXJyZW50IGxldmVsICgwLTEwMClcbiAqL1xuY29uc3QgZ2V0WFBQcm9ncmVzcyA9ICh4cDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgY3VycmVudExldmVsID0gZ2V0TGV2ZWxGcm9tWFAoeHApO1xuICBcbiAgLy8gSWYgYXQgbWF4IGxldmVsLCByZXR1cm4gMTAwXG4gIGlmIChjdXJyZW50TGV2ZWwubGV2ZWwgPT09IFhQX0xFVkVMUy5sZW5ndGgpIHtcbiAgICByZXR1cm4gMTAwO1xuICB9XG4gIFxuICBjb25zdCBuZXh0TGV2ZWxJbmRleCA9IFhQX0xFVkVMUy5maW5kSW5kZXgobCA9PiBsLmxldmVsID09PSBjdXJyZW50TGV2ZWwubGV2ZWwgKyAxKTtcbiAgaWYgKG5leHRMZXZlbEluZGV4ID09PSAtMSkge1xuICAgIHJldHVybiAxMDA7XG4gIH1cbiAgXG4gIGNvbnN0IGxldmVsUmFuZ2UgPSBYUF9MRVZFTFNbbmV4dExldmVsSW5kZXhdLm1pblhQIC0gY3VycmVudExldmVsLm1pblhQO1xuICBjb25zdCB4cEludG9MZXZlbCA9IHhwIC0gY3VycmVudExldmVsLm1pblhQO1xuICBcbiAgcmV0dXJuIE1hdGgucm91bmQoKHhwSW50b0xldmVsIC8gbGV2ZWxSYW5nZSkgKiAxMDApO1xufTtcblxuLyoqXG4gKiBIb29rIHRvIG1hbmFnZSB1c2VyIFhQIGFuZCBsZXZlbHNcbiAqIFRyYWNrcyBleHBlcmllbmNlIHBvaW50cyBhbmQgY2FsY3VsYXRlcyBsZXZlbCBmcm9tIFhQIHRocmVzaG9sZHNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVhQID0gKCk6IFVzZVhQUmV0dXJuID0+IHtcbiAgY29uc3QgeyB1c2VyLCBsb2FkaW5nOiBhdXRoTG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbY3VycmVudFhQLCBzZXRDdXJyZW50WFBdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuXG4gIC8qKlxuICAgKiBMb2FkIFhQIGZyb20gbG9jYWxTdG9yYWdlIChmYWxsYmFjay9hbm9ueW1vdXMpXG4gICAqL1xuICBjb25zdCBsb2FkRnJvbUxvY2FsU3RvcmFnZSA9IHVzZUNhbGxiYWNrKCgpOiBudW1iZXIgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShYUF9TVE9SQUdFX0tFWSk7XG4gICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uoc3RvcmVkKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZC5jdXJyZW50WFAgPz8gMDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW3VzZVhQXSBGYWlsZWQgdG8gcGFyc2UgWFAgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBTYXZlIFhQIHRvIGxvY2FsU3RvcmFnZVxuICAgKi9cbiAgY29uc3Qgc2F2ZVRvTG9jYWxTdG9yYWdlID0gdXNlQ2FsbGJhY2soKHhwOiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oWFBfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHsgY3VycmVudFhQOiB4cCB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VYUF0gRmFpbGVkIHRvIHNhdmUgWFAgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogTG9hZCBYUCBmcm9tIFN1cGFiYXNlXG4gICAqL1xuICBjb25zdCBsb2FkRnJvbVN1cGFiYXNlID0gdXNlQ2FsbGJhY2soYXN5bmMgKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+ID0+IHtcbiAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybignW3VzZVhQXSBTdXBhYmFzZSBub3QgY29uZmlndXJlZCwgdXNpbmcgbG9jYWxTdG9yYWdlJyk7XG4gICAgICByZXR1cm4gbG9hZEZyb21Mb2NhbFN0b3JhZ2UoKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgIC5zZWxlY3QoJ2N1cnJlbnRfeHAnKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIC8vIENvbHVtbiBtaWdodCBub3QgZXhpc3QgeWV0XG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2NvbHVtbicpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1t1c2VYUF0gWFAgY29sdW1uIG5vdCBmb3VuZCwgdXNpbmcgZGVmYXVsdHMnKTtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKCdbdXNlWFBdIEZhaWxlZCB0byBsb2FkIFhQIGZyb20gU3VwYWJhc2U6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gbG9hZEZyb21Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE/LmN1cnJlbnRfeHAgPz8gMDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW3VzZVhQXSBFcnJvciBsb2FkaW5nIFhQIGZyb20gU3VwYWJhc2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGxvYWRGcm9tTG9jYWxTdG9yYWdlKCk7XG4gICAgfVxuICB9LCBbbG9hZEZyb21Mb2NhbFN0b3JhZ2VdKTtcblxuICAvKipcbiAgICogU2F2ZSBYUCB0byBTdXBhYmFzZVxuICAgKiBPbiBmYWlsdXJlLCBxdWV1ZXMgdGhlIFhQIGRlbHRhIGZvciByZXRyeSB3aGVuIGNvbm5lY3Rpdml0eSBpcyByZXN0b3JlZFxuICAgKi9cbiAgY29uc3Qgc2F2ZVRvU3VwYWJhc2UgPSB1c2VDYWxsYmFjayhhc3luYyAodXNlcklkOiBzdHJpbmcsIHhwOiBudW1iZXIsIHhwRGVsdGE6IG51bWJlciwgcmVhc29uOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICAvLyBBbHdheXMgc2F2ZSB0byBsb2NhbFN0b3JhZ2UgZmlyc3QgZm9yIG9mZmxpbmUgYWNjZXNzXG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKHhwKTtcblxuICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgY29uc29sZS53YXJuKCdbdXNlWFBdIFN1cGFiYXNlIG5vdCBjb25maWd1cmVkLCBxdWV1aW5nIGZvciBsYXRlciBzeW5jJyk7XG4gICAgICBxdWV1ZU9wZXJhdGlvbigneHAnLCB1c2VySWQsIHtcbiAgICAgICAgeHBEZWx0YSxcbiAgICAgICAgcmVhc29uLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpO1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgY3VycmVudF94cDogeHAsXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3VzZVhQXSBGYWlsZWQgdG8gc2F2ZSBYUCB0byBTdXBhYmFzZTonLCBlcnJvcik7XG4gICAgICAgIC8vIFF1ZXVlIHRoZSBkZWx0YSBmb3IgcmV0cnlcbiAgICAgICAgcXVldWVPcGVyYXRpb24oJ3hwJywgdXNlcklkLCB7XG4gICAgICAgICAgeHBEZWx0YSxcbiAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbdXNlWFBdIFhQIHNhdmVkIHRvIFN1cGFiYXNlIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VYUF0gRXJyb3Igc2F2aW5nIFhQIHRvIFN1cGFiYXNlOicsIGVycm9yKTtcbiAgICAgIC8vIFF1ZXVlIHRoZSBkZWx0YSBmb3IgcmV0cnlcbiAgICAgIHF1ZXVlT3BlcmF0aW9uKCd4cCcsIHVzZXJJZCwge1xuICAgICAgICB4cERlbHRhLFxuICAgICAgICByZWFzb24sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCBbc2F2ZVRvTG9jYWxTdG9yYWdlXSk7XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHByb2Nlc3NpbmcgcXVldWVkIFhQIG9wZXJhdGlvbnNcbiAgICogQXBwbGllcyB0aGUgWFAgZGVsdGEgdG8gdGhlIGN1cnJlbnQgc2VydmVyIHZhbHVlXG4gICAqL1xuICBjb25zdCBoYW5kbGVRdWV1ZWRYUFN5bmMgPSB1c2VDYWxsYmFjayhhc3luYyAob3BlcmF0aW9uOiBRdWV1ZWRPcGVyYXRpb24pOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB4cERhdGEgPSBvcGVyYXRpb24uZGF0YSBhcyBYUFN5bmNEYXRhO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gICAgICBcbiAgICAgIC8vIEZpcnN0LCBnZXQgY3VycmVudCBYUCBmcm9tIFN1cGFiYXNlXG4gICAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiByZWFkRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgIC5zZWxlY3QoJ2N1cnJlbnRfeHAnKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCBvcGVyYXRpb24udXNlcklkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChyZWFkRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3VzZVhQXSBGYWlsZWQgdG8gcmVhZCBjdXJyZW50IFhQIGZvciBzeW5jOicsIHJlYWRFcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY3VycmVudFNlcnZlclhQID0gcHJvZmlsZT8uY3VycmVudF94cCA/PyAwO1xuICAgICAgY29uc3QgbmV3WFAgPSBjdXJyZW50U2VydmVyWFAgKyB4cERhdGEueHBEZWx0YTtcblxuICAgICAgLy8gQXBwbHkgdGhlIGRlbHRhXG4gICAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgY3VycmVudF94cDogbmV3WFAsXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCBvcGVyYXRpb24udXNlcklkKTtcblxuICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VYUF0gRmFpbGVkIHRvIHN5bmMgcXVldWVkIFhQOicsIHVwZGF0ZUVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhgW3VzZVhQXSBTdWNjZXNzZnVsbHkgc3luY2VkIHF1ZXVlZCBYUDogKyR7eHBEYXRhLnhwRGVsdGF9ICgke3hwRGF0YS5yZWFzb259KWApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VYUF0gRXJyb3Igc3luY2luZyBxdWV1ZWQgWFA6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBBZGQgWFAgdG8gdGhlIHVzZXIncyB0b3RhbFxuICAgKi9cbiAgY29uc3QgYWRkWFAgPSB1c2VDYWxsYmFjayhhc3luYyAoYW1vdW50OiBudW1iZXIsIHJlYXNvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgaWYgKGFtb3VudCA8PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1t1c2VYUF0gQXR0ZW1wdGVkIHRvIGFkZCBub24tcG9zaXRpdmUgWFA6JywgYW1vdW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdYUCA9IGN1cnJlbnRYUCArIGFtb3VudDtcbiAgICBjb25zdCBvbGRMZXZlbCA9IGdldExldmVsRnJvbVhQKGN1cnJlbnRYUCk7XG4gICAgY29uc3QgbmV3TGV2ZWwgPSBnZXRMZXZlbEZyb21YUChuZXdYUCk7XG5cbiAgICAvLyBPcHRpbWlzdGljIHVwZGF0ZVxuICAgIHNldEN1cnJlbnRYUChuZXdYUCk7XG5cbiAgICAvLyBMb2cgWFAgZ2FpblxuICAgIGNvbnNvbGUubG9nKCdbdXNlWFBdIFhQIGFkZGVkOicsIHtcbiAgICAgIGFtb3VudCxcbiAgICAgIHJlYXNvbixcbiAgICAgIG9sZFhQOiBjdXJyZW50WFAsXG4gICAgICBuZXdYUCxcbiAgICAgIGxldmVsZWRVcDogbmV3TGV2ZWwubGV2ZWwgPiBvbGRMZXZlbC5sZXZlbCxcbiAgICAgIG5ld0xldmVsOiBuZXdMZXZlbC5uYW1lLFxuICAgIH0pO1xuXG4gICAgLy8gUGVyc2lzdCB0byBzdG9yYWdlIChwYXNzIHRoZSBkZWx0YSBmb3IgcXVldWUgaWYgaXQgZmFpbHMpXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGF3YWl0IHNhdmVUb1N1cGFiYXNlKHVzZXIuaWQsIG5ld1hQLCBhbW91bnQsIHJlYXNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZShuZXdYUCk7XG4gICAgfVxuICB9LCBbdXNlciwgY3VycmVudFhQLCBzYXZlVG9TdXBhYmFzZSwgc2F2ZVRvTG9jYWxTdG9yYWdlXSk7XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgYW55IHF1ZXVlZCBYUCBvcGVyYXRpb25zIChjYWxsZWQgb24gbG9hZCBhbmQgd2hlbiBvbmxpbmUpXG4gICAqL1xuICBjb25zdCBwcm9jZXNzUXVldWUgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgaWYgKCF1c2VyIHx8ICFpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3luY2VkID0gYXdhaXQgcHJvY2Vzc1N5bmNRdWV1ZSgneHAnLCB1c2VyLmlkLCBoYW5kbGVRdWV1ZWRYUFN5bmMpO1xuICAgIGlmIChzeW5jZWQgPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW3VzZVhQXSBTeW5jZWQgJHtzeW5jZWR9IHF1ZXVlZCBYUCBvcGVyYXRpb25zYCk7XG4gICAgICAvLyBSZWxvYWQgWFAgZnJvbSBTdXBhYmFzZSB0byBnZXQgdGhlIHVwZGF0ZWQgdmFsdWVcbiAgICAgIGNvbnN0IHVwZGF0ZWRYUCA9IGF3YWl0IGxvYWRGcm9tU3VwYWJhc2UodXNlci5pZCk7XG4gICAgICBzZXRDdXJyZW50WFAodXBkYXRlZFhQKTtcbiAgICB9XG4gIH0sIFt1c2VyLCBoYW5kbGVRdWV1ZWRYUFN5bmMsIGxvYWRGcm9tU3VwYWJhc2VdKTtcblxuICAvLyBMb2FkIFhQIG9uIG1vdW50IG9yIHdoZW4gdXNlciBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dGhMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbG9hZFhQID0gYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmlyc3QsIHRyeSB0byBzeW5jIGFueSBxdWV1ZWQgb3BlcmF0aW9ucyBmcm9tIHByZXZpb3VzIGZhaWx1cmVzXG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgYXdhaXQgcHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgeHA6IG51bWJlcjtcblxuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgIHhwID0gYXdhaXQgbG9hZEZyb21TdXBhYmFzZSh1c2VyLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4cCA9IGxvYWRGcm9tTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRDdXJyZW50WFAoeHApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3VzZVhQXSBGYWlsZWQgdG8gbG9hZCBYUDonLCBlcnJvcik7XG4gICAgICAgIHNldEN1cnJlbnRYUCgwKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRYUCgpO1xuICB9LCBbdXNlciwgYXV0aExvYWRpbmcsIGxvYWRGcm9tU3VwYWJhc2UsIGxvYWRGcm9tTG9jYWxTdG9yYWdlLCBwcm9jZXNzUXVldWVdKTtcblxuICAvLyBDYWxjdWxhdGUgZGVyaXZlZCB2YWx1ZXNcbiAgY29uc3QgbGV2ZWxJbmZvID0gZ2V0TGV2ZWxGcm9tWFAoY3VycmVudFhQKTtcblxuICByZXR1cm4ge1xuICAgIGN1cnJlbnRYUCxcbiAgICBjdXJyZW50TGV2ZWw6IGxldmVsSW5mby5sZXZlbCxcbiAgICBsZXZlbE5hbWU6IGxldmVsSW5mby5uYW1lLFxuICAgIHhwVG9OZXh0TGV2ZWw6IGdldFhQVG9OZXh0TGV2ZWwoY3VycmVudFhQKSxcbiAgICB4cFByb2dyZXNzOiBnZXRYUFByb2dyZXNzKGN1cnJlbnRYUCksXG4gICAgYWRkWFAsXG4gICAgaXNMb2FkaW5nLFxuICAgIHByb2Nlc3NRdWV1ZSwgLy8gRXhwb3NlIGZvciBvbmxpbmUgc3luYyBob29rXG4gIH07XG59O1xuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VBdXRoIiwiY3JlYXRlQ2xpZW50IiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJYUF9MRVZFTFMiLCJxdWV1ZU9wZXJhdGlvbiIsInByb2Nlc3NTeW5jUXVldWUiLCJYUF9TVE9SQUdFX0tFWSIsImdldExldmVsRnJvbVhQIiwieHAiLCJpIiwibGVuZ3RoIiwibWluWFAiLCJnZXRYUFRvTmV4dExldmVsIiwiY3VycmVudExldmVsIiwibGV2ZWwiLCJuZXh0TGV2ZWxJbmRleCIsImZpbmRJbmRleCIsImwiLCJnZXRYUFByb2dyZXNzIiwibGV2ZWxSYW5nZSIsInhwSW50b0xldmVsIiwiTWF0aCIsInJvdW5kIiwidXNlWFAiLCJ1c2VyIiwibG9hZGluZyIsImF1dGhMb2FkaW5nIiwiY3VycmVudFhQIiwic2V0Q3VycmVudFhQIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwibG9hZEZyb21Mb2NhbFN0b3JhZ2UiLCJzdG9yZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2F2ZVRvTG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImxvYWRGcm9tU3VwYWJhc2UiLCJ1c2VySWQiLCJ3YXJuIiwic3VwYWJhc2UiLCJkYXRhIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY29kZSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImxvZyIsImN1cnJlbnRfeHAiLCJzYXZlVG9TdXBhYmFzZSIsInhwRGVsdGEiLCJyZWFzb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGUiLCJ1cGRhdGVkX2F0IiwiaGFuZGxlUXVldWVkWFBTeW5jIiwib3BlcmF0aW9uIiwieHBEYXRhIiwicHJvZmlsZSIsInJlYWRFcnJvciIsImN1cnJlbnRTZXJ2ZXJYUCIsIm5ld1hQIiwidXBkYXRlRXJyb3IiLCJhZGRYUCIsImFtb3VudCIsIm9sZExldmVsIiwibmV3TGV2ZWwiLCJvbGRYUCIsImxldmVsZWRVcCIsIm5hbWUiLCJpZCIsInByb2Nlc3NRdWV1ZSIsInN5bmNlZCIsInVwZGF0ZWRYUCIsImxvYWRYUCIsImxldmVsSW5mbyIsImxldmVsTmFtZSIsInhwVG9OZXh0TGV2ZWwiLCJ4cFByb2dyZXNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useXP.ts\n");

/***/ }),

/***/ "(ssr)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   createServerSupabaseClient: () => (/* binding */ createServerSupabaseClient),\n/* harmony export */   getSupabaseClient: () => (/* binding */ getSupabaseClient),\n/* harmony export */   isSupabaseConfigured: () => (/* binding */ isSupabaseConfigured),\n/* harmony export */   supabase: () => (/* binding */ getSupabaseClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(ssr)/./node_modules/@supabase/ssr/dist/module/index.js\");\n\n// Check if we're in development mode\nconst isDevelopment = \"development\" === 'development';\n// Get Supabase URL from environment variables\nconst getSupabaseUrl = ()=>{\n    const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n    if (!supabaseUrl) {\n        const errorMessage = 'NEXT_PUBLIC_SUPABASE_URL is required but not found. Please set it in your .env.local file.\\n\\n' + 'Setup instructions:\\n' + '1. Create a .env.local file in the project root directory\\n' + '2. Add this line:\\n' + '   NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url\\n' + '3. Get your project URL from: https://app.supabase.com/project/_/settings/api\\n' + '4. Restart your development server';\n        if (isDevelopment) {\n            console.warn(' [supabase] Supabase URL Missing:', errorMessage);\n        }\n        console.error('[supabase] Supabase URL check failed');\n        throw new Error(errorMessage);\n    }\n    // Validate URL format\n    const trimmedUrl = supabaseUrl.trim();\n    if (!trimmedUrl || trimmedUrl.length === 0) {\n        const errorMessage = 'NEXT_PUBLIC_SUPABASE_URL is set but appears to be empty. Please check your .env.local file.';\n        if (isDevelopment) {\n            console.warn(' [supabase] Invalid Supabase URL:', errorMessage);\n        }\n        throw new Error(errorMessage);\n    }\n    // Log status in development\n    if (isDevelopment) {\n        console.log('[supabase] Supabase URL found:', trimmedUrl);\n    }\n    return trimmedUrl;\n};\n// Get Supabase anonymous key from environment variables\nconst getSupabaseAnonKey = ()=>{\n    const anonKey = \"sb_publishable_M3lPF1QDbmWcriDBkUoWCw_4hv9OB12\";\n    if (!anonKey) {\n        const errorMessage = 'NEXT_PUBLIC_SUPABASE_ANON_KEY is required but not found. Please set it in your .env.local file.\\n\\n' + 'Setup instructions:\\n' + '1. Create a .env.local file in the project root directory\\n' + '2. Add this line:\\n' + '   NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key\\n' + '3. Get your anon key from: https://app.supabase.com/project/_/settings/api\\n' + '4. Restart your development server';\n        if (isDevelopment) {\n            console.warn(' [supabase] Supabase Anon Key Missing:', errorMessage);\n        }\n        console.error('[supabase] Supabase anon key check failed');\n        throw new Error(errorMessage);\n    }\n    // Validate key format\n    const trimmedKey = anonKey.trim();\n    if (!trimmedKey || trimmedKey.length === 0) {\n        const errorMessage = 'NEXT_PUBLIC_SUPABASE_ANON_KEY is set but appears to be empty. Please check your .env.local file.';\n        if (isDevelopment) {\n            console.warn(' [supabase] Invalid Supabase Anon Key:', errorMessage);\n        }\n        throw new Error(errorMessage);\n    }\n    // Log status in development (only show prefix, never expose full key)\n    if (isDevelopment) {\n        console.log('[supabase] Supabase anon key found:', {\n            hasKey: true,\n            keyLength: trimmedKey.length,\n            keyPrefix: `${trimmedKey.substring(0, 20)}...`\n        });\n    }\n    return trimmedKey;\n};\n// Check if Supabase is configured (lazy check)\nconst isSupabaseConfigured = ()=>{\n    const supabaseUrl = \"https://alszwgqoicjgfrhecscj.supabase.co\";\n    const supabaseAnonKey = \"sb_publishable_M3lPF1QDbmWcriDBkUoWCw_4hv9OB12\";\n    const hasUrl = !!(supabaseUrl && supabaseUrl.trim());\n    const hasKey = !!(supabaseAnonKey && supabaseAnonKey.trim());\n    return hasUrl && hasKey;\n};\n/**\n * Create browser client for client components\n * Use this in client components and hooks\n */ function createClient() {\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createBrowserClient)(getSupabaseUrl(), getSupabaseAnonKey());\n}\n/**\n * Create server client for server components and server actions\n * Use this in server components and API routes\n */ async function createServerSupabaseClient() {\n    // Dynamic import to avoid bundling server-only code in client\n    const { cookies } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/next\").then(__webpack_require__.bind(__webpack_require__, /*! next/headers */ \"(ssr)/./node_modules/next/dist/api/headers.js\"));\n    const cookieStore = await cookies();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(getSupabaseUrl(), getSupabaseAnonKey(), {\n        cookies: {\n            getAll () {\n                return cookieStore.getAll();\n            },\n            setAll (cookiesToSet) {\n                try {\n                    cookiesToSet.forEach(({ name, value, options })=>cookieStore.set(name, value, options));\n                } catch (error) {\n                    // Handle error silently in server context\n                    console.error('[supabase] Error setting cookies:', error);\n                }\n            }\n        }\n    });\n}\n// Legacy export for backwards compatibility (use createClient() instead)\nlet browserClient = null;\nconst getSupabaseClient = ()=>{\n    if (!browserClient) {\n        browserClient = createClient();\n    }\n    return browserClient;\n};\n// Export as default for backwards compatibility\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsQ0FBQ0gsTUFBTUMsT0FBT0M7Z0JBRWpDLEVBQUUsT0FBTzNCLE9BQU87b0JBQ2QsMENBQTBDO29CQUMxQ0YsUUFBUUUsS0FBSyxDQUFDLHFDQUFxQ0E7Z0JBQ3JEO1lBQ0Y7UUFDRjtJQUNGO0FBRUo7QUFFQSx5RUFBeUU7QUFDekUsSUFBSTZCLGdCQUErRDtBQUU1RCxNQUFNQyxvQkFBb0I7SUFDL0IsSUFBSSxDQUFDRCxlQUFlO1FBQ2xCQSxnQkFBZ0JaO0lBQ2xCO0lBQ0EsT0FBT1k7QUFDVCxFQUFFO0FBRUYsZ0RBQWdEO0FBQ1AiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2xpYi9zdXBhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVCcm93c2VyQ2xpZW50LCBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcblxuLy8gQ2hlY2sgaWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQgbW9kZVxuY29uc3QgaXNEZXZlbG9wbWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xuXG4vLyBHZXQgU3VwYWJhc2UgVVJMIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzXG5jb25zdCBnZXRTdXBhYmFzZVVybCA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbiAgXG4gIGlmICghc3VwYWJhc2VVcmwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIGlzIHJlcXVpcmVkIGJ1dCBub3QgZm91bmQuIFBsZWFzZSBzZXQgaXQgaW4geW91ciAuZW52LmxvY2FsIGZpbGUuXFxuXFxuJyArXG4gICAgICAnU2V0dXAgaW5zdHJ1Y3Rpb25zOlxcbicgK1xuICAgICAgJzEuIENyZWF0ZSBhIC5lbnYubG9jYWwgZmlsZSBpbiB0aGUgcHJvamVjdCByb290IGRpcmVjdG9yeVxcbicgK1xuICAgICAgJzIuIEFkZCB0aGlzIGxpbmU6XFxuJyArXG4gICAgICAnICAgTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMPXlvdXJfc3VwYWJhc2VfcHJvamVjdF91cmxcXG4nICtcbiAgICAgICczLiBHZXQgeW91ciBwcm9qZWN0IFVSTCBmcm9tOiBodHRwczovL2FwcC5zdXBhYmFzZS5jb20vcHJvamVjdC9fL3NldHRpbmdzL2FwaVxcbicgK1xuICAgICAgJzQuIFJlc3RhcnQgeW91ciBkZXZlbG9wbWVudCBzZXJ2ZXInO1xuICAgIFxuICAgIGlmIChpc0RldmVsb3BtZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbc3VwYWJhc2VdIFN1cGFiYXNlIFVSTCBNaXNzaW5nOicsIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoJ1tzdXBhYmFzZV0gU3VwYWJhc2UgVVJMIGNoZWNrIGZhaWxlZCcpO1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICB9XG4gIFxuICAvLyBWYWxpZGF0ZSBVUkwgZm9ybWF0XG4gIGNvbnN0IHRyaW1tZWRVcmwgPSBzdXBhYmFzZVVybC50cmltKCk7XG4gIGlmICghdHJpbW1lZFVybCB8fCB0cmltbWVkVXJsLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICdORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgaXMgc2V0IGJ1dCBhcHBlYXJzIHRvIGJlIGVtcHR5LiBQbGVhc2UgY2hlY2sgeW91ciAuZW52LmxvY2FsIGZpbGUuJztcbiAgICBpZiAoaXNEZXZlbG9wbWVudCkge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW3N1cGFiYXNlXSBJbnZhbGlkIFN1cGFiYXNlIFVSTDonLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgfVxuICBcbiAgLy8gTG9nIHN0YXR1cyBpbiBkZXZlbG9wbWVudFxuICBpZiAoaXNEZXZlbG9wbWVudCkge1xuICAgIGNvbnNvbGUubG9nKCdbc3VwYWJhc2VdIFN1cGFiYXNlIFVSTCBmb3VuZDonLCB0cmltbWVkVXJsKTtcbiAgfVxuICBcbiAgcmV0dXJuIHRyaW1tZWRVcmw7XG59O1xuXG4vLyBHZXQgU3VwYWJhc2UgYW5vbnltb3VzIGtleSBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3QgZ2V0U3VwYWJhc2VBbm9uS2V5ID0gKCk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcbiAgXG4gIGlmICghYW5vbktleSkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICdORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSBpcyByZXF1aXJlZCBidXQgbm90IGZvdW5kLiBQbGVhc2Ugc2V0IGl0IGluIHlvdXIgLmVudi5sb2NhbCBmaWxlLlxcblxcbicgK1xuICAgICAgJ1NldHVwIGluc3RydWN0aW9uczpcXG4nICtcbiAgICAgICcxLiBDcmVhdGUgYSAuZW52LmxvY2FsIGZpbGUgaW4gdGhlIHByb2plY3Qgcm9vdCBkaXJlY3RvcnlcXG4nICtcbiAgICAgICcyLiBBZGQgdGhpcyBsaW5lOlxcbicgK1xuICAgICAgJyAgIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZPXlvdXJfc3VwYWJhc2VfYW5vbl9rZXlcXG4nICtcbiAgICAgICczLiBHZXQgeW91ciBhbm9uIGtleSBmcm9tOiBodHRwczovL2FwcC5zdXBhYmFzZS5jb20vcHJvamVjdC9fL3NldHRpbmdzL2FwaVxcbicgK1xuICAgICAgJzQuIFJlc3RhcnQgeW91ciBkZXZlbG9wbWVudCBzZXJ2ZXInO1xuICAgIFxuICAgIGlmIChpc0RldmVsb3BtZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbc3VwYWJhc2VdIFN1cGFiYXNlIEFub24gS2V5IE1pc3Npbmc6JywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgY29uc29sZS5lcnJvcignW3N1cGFiYXNlXSBTdXBhYmFzZSBhbm9uIGtleSBjaGVjayBmYWlsZWQnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgfVxuICBcbiAgLy8gVmFsaWRhdGUga2V5IGZvcm1hdFxuICBjb25zdCB0cmltbWVkS2V5ID0gYW5vbktleS50cmltKCk7XG4gIGlmICghdHJpbW1lZEtleSB8fCB0cmltbWVkS2V5Lmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICdORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSBpcyBzZXQgYnV0IGFwcGVhcnMgdG8gYmUgZW1wdHkuIFBsZWFzZSBjaGVjayB5b3VyIC5lbnYubG9jYWwgZmlsZS4nO1xuICAgIGlmIChpc0RldmVsb3BtZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbc3VwYWJhc2VdIEludmFsaWQgU3VwYWJhc2UgQW5vbiBLZXk6JywgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gIH1cbiAgXG4gIC8vIExvZyBzdGF0dXMgaW4gZGV2ZWxvcG1lbnQgKG9ubHkgc2hvdyBwcmVmaXgsIG5ldmVyIGV4cG9zZSBmdWxsIGtleSlcbiAgaWYgKGlzRGV2ZWxvcG1lbnQpIHtcbiAgICBjb25zb2xlLmxvZygnW3N1cGFiYXNlXSBTdXBhYmFzZSBhbm9uIGtleSBmb3VuZDonLCB7XG4gICAgICBoYXNLZXk6IHRydWUsXG4gICAgICBrZXlMZW5ndGg6IHRyaW1tZWRLZXkubGVuZ3RoLFxuICAgICAga2V5UHJlZml4OiBgJHt0cmltbWVkS2V5LnN1YnN0cmluZygwLCAyMCl9Li4uYFxuICAgIH0pO1xuICB9XG4gIFxuICByZXR1cm4gdHJpbW1lZEtleTtcbn07XG5cbi8vIENoZWNrIGlmIFN1cGFiYXNlIGlzIGNvbmZpZ3VyZWQgKGxhenkgY2hlY2spXG5leHBvcnQgY29uc3QgaXNTdXBhYmFzZUNvbmZpZ3VyZWQgPSAoKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuICBjb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcbiAgXG4gIGNvbnN0IGhhc1VybCA9ICEhKHN1cGFiYXNlVXJsICYmIHN1cGFiYXNlVXJsLnRyaW0oKSk7XG4gIGNvbnN0IGhhc0tleSA9ICEhKHN1cGFiYXNlQW5vbktleSAmJiBzdXBhYmFzZUFub25LZXkudHJpbSgpKTtcbiAgXG4gIHJldHVybiBoYXNVcmwgJiYgaGFzS2V5O1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYnJvd3NlciBjbGllbnQgZm9yIGNsaWVudCBjb21wb25lbnRzXG4gKiBVc2UgdGhpcyBpbiBjbGllbnQgY29tcG9uZW50cyBhbmQgaG9va3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHtcbiAgcmV0dXJuIGNyZWF0ZUJyb3dzZXJDbGllbnQoXG4gICAgZ2V0U3VwYWJhc2VVcmwoKSxcbiAgICBnZXRTdXBhYmFzZUFub25LZXkoKVxuICApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBzZXJ2ZXIgY2xpZW50IGZvciBzZXJ2ZXIgY29tcG9uZW50cyBhbmQgc2VydmVyIGFjdGlvbnNcbiAqIFVzZSB0aGlzIGluIHNlcnZlciBjb21wb25lbnRzIGFuZCBBUEkgcm91dGVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCgpIHtcbiAgLy8gRHluYW1pYyBpbXBvcnQgdG8gYXZvaWQgYnVuZGxpbmcgc2VydmVyLW9ubHkgY29kZSBpbiBjbGllbnRcbiAgY29uc3QgeyBjb29raWVzIH0gPSBhd2FpdCBpbXBvcnQoJ25leHQvaGVhZGVycycpO1xuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcbiAgXG4gIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQoXG4gICAgZ2V0U3VwYWJhc2VVcmwoKSxcbiAgICBnZXRTdXBhYmFzZUFub25LZXkoKSxcbiAgICB7XG4gICAgICBjb29raWVzOiB7XG4gICAgICAgIGdldEFsbCgpIHtcbiAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0QWxsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29va2llc1RvU2V0LmZvckVhY2goKHsgbmFtZSwgdmFsdWUsIG9wdGlvbnMgfSkgPT5cbiAgICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGVycm9yIHNpbGVudGx5IGluIHNlcnZlciBjb250ZXh0XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc3VwYWJhc2VdIEVycm9yIHNldHRpbmcgY29va2llczonLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XG4gICk7XG59XG5cbi8vIExlZ2FjeSBleHBvcnQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5ICh1c2UgY3JlYXRlQ2xpZW50KCkgaW5zdGVhZClcbmxldCBicm93c2VyQ2xpZW50OiBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVCcm93c2VyQ2xpZW50PiB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgY29uc3QgZ2V0U3VwYWJhc2VDbGllbnQgPSAoKSA9PiB7XG4gIGlmICghYnJvd3NlckNsaWVudCkge1xuICAgIGJyb3dzZXJDbGllbnQgPSBjcmVhdGVDbGllbnQoKTtcbiAgfVxuICByZXR1cm4gYnJvd3NlckNsaWVudDtcbn07XG5cbi8vIEV4cG9ydCBhcyBkZWZhdWx0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuZXhwb3J0IHsgZ2V0U3VwYWJhc2VDbGllbnQgYXMgc3VwYWJhc2UgfTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVCcm93c2VyQ2xpZW50IiwiY3JlYXRlU2VydmVyQ2xpZW50IiwiaXNEZXZlbG9wbWVudCIsInByb2Nlc3MiLCJnZXRTdXBhYmFzZVVybCIsInN1cGFiYXNlVXJsIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiZXJyb3JNZXNzYWdlIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsIkVycm9yIiwidHJpbW1lZFVybCIsInRyaW0iLCJsZW5ndGgiLCJsb2ciLCJnZXRTdXBhYmFzZUFub25LZXkiLCJhbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJ0cmltbWVkS2V5IiwiaGFzS2V5Iiwia2V5TGVuZ3RoIiwia2V5UHJlZml4Iiwic3Vic3RyaW5nIiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJzdXBhYmFzZUFub25LZXkiLCJoYXNVcmwiLCJjcmVhdGVDbGllbnQiLCJjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCIsImNvb2tpZXMiLCJjb29raWVTdG9yZSIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwic2V0IiwiYnJvd3NlckNsaWVudCIsImdldFN1cGFiYXNlQ2xpZW50Iiwic3VwYWJhc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/supabase.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FCookieConsent.tsx%22%2C%22ids%22%3A%5B%22CookieConsent%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FErrorBoundary.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FOfflineIndicator.tsx%22%2C%22ids%22%3A%5B%22OfflineIndicator%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcontexts%2FAuthContext.tsx%22%2C%22ids%22%3A%5B%22AuthProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Mulish%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-mulish%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22mulish%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FCookieConsent.tsx%22%2C%22ids%22%3A%5B%22CookieConsent%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FErrorBoundary.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FOfflineIndicator.tsx%22%2C%22ids%22%3A%5B%22OfflineIndicator%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcontexts%2FAuthContext.tsx%22%2C%22ids%22%3A%5B%22AuthProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Mulish%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-mulish%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22mulish%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/CookieConsent.tsx */ \"(ssr)/./components/ui/CookieConsent.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/ErrorBoundary.tsx */ \"(ssr)/./components/ui/ErrorBoundary.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/OfflineIndicator.tsx */ \"(ssr)/./components/ui/OfflineIndicator.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./contexts/AuthContext.tsx */ \"(ssr)/./contexts/AuthContext.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZhcHAlMkZnbG9iYWxzLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmphdmklMkZkZXYlMkZNYWluMk1JJTJGY29tcG9uZW50cyUyRnVpJTJGQ29va2llQ29uc2VudC50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJDb29raWVDb25zZW50JTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZjb21wb25lbnRzJTJGdWklMkZFcnJvckJvdW5kYXJ5LnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRmNvbXBvbmVudHMlMkZ1aSUyRk9mZmxpbmVJbmRpY2F0b3IudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyT2ZmbGluZUluZGljYXRvciUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmphdmklMkZkZXYlMkZNYWluMk1JJTJGY29udGV4dHMlMkZBdXRoQ29udGV4dC50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJBdXRoUHJvdmlkZXIlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZmb250JTJGZ29vZ2xlJTJGdGFyZ2V0LmNzcyUzRiU3QiU1QyUyMnBhdGglNUMlMjIlM0ElNUMlMjJhcHAlMkZsYXlvdXQudHN4JTVDJTIyJTJDJTVDJTIyaW1wb3J0JTVDJTIyJTNBJTVDJTIySW50ZXIlNUMlMjIlMkMlNUMlMjJhcmd1bWVudHMlNUMlMjIlM0ElNUIlN0IlNUMlMjJzdWJzZXRzJTVDJTIyJTNBJTVCJTVDJTIybGF0aW4lNUMlMjIlNUQlMkMlNUMlMjJ3ZWlnaHQlNUMlMjIlM0ElNUIlNUMlMjI0MDAlNUMlMjIlMkMlNUMlMjI1MDAlNUMlMjIlMkMlNUMlMjI2MDAlNUMlMjIlMkMlNUMlMjI3MDAlNUMlMjIlNUQlMkMlNUMlMjJ2YXJpYWJsZSU1QyUyMiUzQSU1QyUyMi0tZm9udC1pbnRlciU1QyUyMiUyQyU1QyUyMmRpc3BsYXklNUMlMjIlM0ElNUMlMjJzd2FwJTVDJTIyJTdEJTVEJTJDJTVDJTIydmFyaWFibGVOYW1lJTVDJTIyJTNBJTVDJTIyaW50ZXIlNUMlMjIlN0QlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZmb250JTJGZ29vZ2xlJTJGdGFyZ2V0LmNzcyUzRiU3QiU1QyUyMnBhdGglNUMlMjIlM0ElNUMlMjJhcHAlMkZsYXlvdXQudHN4JTVDJTIyJTJDJTVDJTIyaW1wb3J0JTVDJTIyJTNBJTVDJTIyTXVsaXNoJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTJDJTVDJTIyd2VpZ2h0JTVDJTIyJTNBJTVCJTVDJTIyNDAwJTVDJTIyJTJDJTVDJTIyNTAwJTVDJTIyJTJDJTVDJTIyNjAwJTVDJTIyJTJDJTVDJTIyNzAwJTVDJTIyJTVEJTJDJTVDJTIydmFyaWFibGUlNUMlMjIlM0ElNUMlMjItLWZvbnQtbXVsaXNoJTVDJTIyJTJDJTVDJTIyZGlzcGxheSU1QyUyMiUzQSU1QyUyMnN3YXAlNUMlMjIlN0QlNUQlMkMlNUMlMjJ2YXJpYWJsZU5hbWUlNUMlMjIlM0ElNUMlMjJtdWxpc2glNUMlMjIlN0QlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLDhLQUErSDtBQUMvSDtBQUNBLDhLQUF5SDtBQUN6SDtBQUNBLG9MQUFxSTtBQUNySTtBQUNBLGdLQUF1SCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQ29va2llQ29uc2VudFwiXSAqLyBcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL2NvbXBvbmVudHMvdWkvQ29va2llQ29uc2VudC50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9jb21wb25lbnRzL3VpL0Vycm9yQm91bmRhcnkudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJPZmZsaW5lSW5kaWNhdG9yXCJdICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29tcG9uZW50cy91aS9PZmZsaW5lSW5kaWNhdG9yLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQXV0aFByb3ZpZGVyXCJdICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvY29udGV4dHMvQXV0aENvbnRleHQudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FCookieConsent.tsx%22%2C%22ids%22%3A%5B%22CookieConsent%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FErrorBoundary.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcomponents%2Fui%2FOfflineIndicator.tsx%22%2C%22ids%22%3A%5B%22OfflineIndicator%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fcontexts%2FAuthContext.tsx%22%2C%22ids%22%3A%5B%22AuthProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Mulish%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-mulish%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22mulish%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(ssr)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZhcHAlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsd0lBQXlFIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9hcHAvcGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fframework%2Fboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fmetadata%2Fgenerate%2Ficon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fnext-devtools%2Fuserspace%2Fapp%2Fsegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fframework%2Fboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fmetadata%2Fgenerate%2Ficon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fnext-devtools%2Fuserspace%2Fapp%2Fsegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/builtin/global-error.js */ \"(ssr)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-segment.js */ \"(ssr)/./node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/framework/boundary-components.js */ \"(ssr)/./node_modules/next/dist/lib/framework/boundary-components.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/metadata/generate/icon-mark.js */ \"(ssr)/./node_modules/next/dist/lib/metadata/generate/icon-mark.js\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js */ \"(ssr)/./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZidWlsdGluJTJGZ2xvYmFsLWVycm9yLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmphdmklMkZkZXYlMkZNYWluMk1JJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmh0dHAtYWNjZXNzLWZhbGxiYWNrJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRnJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqYXZpJTJGZGV2JTJGTWFpbjJNSSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGbGliJTJGZnJhbWV3b3JrJTJGYm91bmRhcnktY29tcG9uZW50cy5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmphdmklMkZkZXYlMkZNYWluMk1JJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZsaWIlMkZtZXRhZGF0YSUyRmdlbmVyYXRlJTJGaWNvbi1tYXJrLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRm5leHQtZGV2dG9vbHMlMkZ1c2Vyc3BhY2UlMkZhcHAlMkZzZWdtZW50LWV4cGxvcmVyLW5vZGUuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNQQUE2SDtBQUM3SDtBQUNBLG9PQUFvSDtBQUNwSDtBQUNBLDBPQUF1SDtBQUN2SDtBQUNBLG9SQUE0STtBQUM1STtBQUNBLHdPQUFzSDtBQUN0SDtBQUNBLHNRQUFxSTtBQUNySTtBQUNBLDRPQUF3SDtBQUN4SDtBQUNBLGtPQUFzSDtBQUN0SDtBQUNBLDRRQUF3SSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9idWlsdGluL2dsb2JhbC1lcnJvci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtc2VnbWVudC5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9odHRwLWFjY2Vzcy1mYWxsYmFjay9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvbGliL2ZyYW1ld29yay9ib3VuZGFyeS1jb21wb25lbnRzLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2xpYi9tZXRhZGF0YS9nZW5lcmF0ZS9pY29uLW1hcmsuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvbmV4dC1kZXZ0b29scy91c2Vyc3BhY2UvYXBwL3NlZ21lbnQtZXhwbG9yZXItbm9kZS5qc1wiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fframework%2Fboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Flib%2Fmetadata%2Fgenerate%2Ficon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fnext-devtools%2Fuserspace%2Fapp%2Fsegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/builtin/global-error.js */ \"(ssr)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamF2aSUyRmRldiUyRk1haW4yTUklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZidWlsdGluJTJGZ2xvYmFsLWVycm9yLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxzUEFBNkgiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9nbG9iYWwtZXJyb3IuanNcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./services/databaseService.ts":
/*!*************************************!*\
  !*** ./services/databaseService.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUserProfile: () => (/* binding */ createUserProfile),\n/* harmony export */   getSessionCount: () => (/* binding */ getSessionCount),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   getUserSessions: () => (/* binding */ getUserSessions),\n/* harmony export */   saveSession: () => (/* binding */ saveSession),\n/* harmony export */   updateUserTier: () => (/* binding */ updateUserTier)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/errorHandler */ \"(ssr)/./utils/errorHandler.ts\");\n\n\n\n/**\n * Save a practice session to the database\n */ const saveSession = async (session, userId)=>{\n    try {\n        console.log('[databaseService] Saving session for user:', userId);\n        if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n            const errorMsg = 'Supabase is not configured. Session cannot be saved to database.';\n            console.warn('[databaseService]', errorMsg);\n            throw new Error(errorMsg);\n        }\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { data, error } = await supabase.from('sessions').insert({\n            user_id: userId,\n            session_data: session,\n            created_at: new Date().toISOString()\n        }).select('id').single();\n        if (error) {\n            _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n                userId,\n                action: 'saveSession',\n                level: 'error'\n            });\n            throw _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.createError(`Failed to save session: ${error.message}`, 'SAVE_SESSION_ERROR', error, userId, 'saveSession');\n        }\n        if (!data || !data.id) {\n            const error = _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.createError('No session ID returned from database', 'NO_SESSION_ID', {\n                userId\n            }, userId, 'saveSession');\n            _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n                userId,\n                action: 'saveSession',\n                level: 'error'\n            });\n            throw error;\n        }\n        console.log('[databaseService] Session saved with ID:', data.id);\n        return data.id;\n    } catch (error) {\n        // Re-throw if it's already an AppError, otherwise wrap it\n        if (error && typeof error === 'object' && 'error' in error) {\n            throw error;\n        }\n        const appError = _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.createError(error instanceof Error ? error.message : 'Unknown error', 'SAVE_SESSION_UNKNOWN', error, userId, 'saveSession');\n        _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(appError, {\n            userId,\n            action: 'saveSession',\n            level: 'error'\n        });\n        throw appError;\n    }\n};\n/**\n * Get all sessions for a user\n */ const getUserSessions = async (userId)=>{\n    try {\n        console.log('[databaseService] Fetching sessions for user:', userId);\n        if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n            console.warn('[databaseService] Supabase is not configured. Cannot fetch sessions from database.');\n            return [];\n        }\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { data, error } = await supabase.from('sessions').select('session_data').eq('user_id', userId).order('created_at', {\n            ascending: false\n        });\n        if (error) {\n            _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n                userId,\n                action: 'getUserSessions',\n                level: 'error'\n            });\n            throw _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.createError(`Failed to fetch sessions: ${error.message}`, 'FETCH_SESSIONS_ERROR', error, userId, 'getUserSessions');\n        }\n        if (!data) {\n            console.log('[databaseService] No sessions found for user');\n            return [];\n        }\n        const sessions = data.map((row)=>row.session_data);\n        console.log(`[databaseService] Retrieved ${sessions.length} sessions for user`);\n        return sessions;\n    } catch (error) {\n        // Re-throw if it's already an AppError, otherwise wrap it\n        if (error && typeof error === 'object' && 'error' in error) {\n            throw error;\n        }\n        const appError = _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.createError(error instanceof Error ? error.message : 'Unknown error', 'GET_SESSIONS_UNKNOWN', error, userId, 'getUserSessions');\n        _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(appError, {\n            userId,\n            action: 'getUserSessions',\n            level: 'error'\n        });\n        throw appError;\n    }\n};\n/**\n * Count sessions for a user within a time period\n */ const getSessionCount = async (userId, startDate)=>{\n    try {\n        console.log('[databaseService] Counting sessions for user:', userId, 'since:', startDate);\n        if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n            console.warn('[databaseService] Supabase is not configured. Returning 0 for session count.');\n            return 0;\n        }\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { count, error } = await supabase.from('sessions').select('*', {\n            count: 'exact',\n            head: true\n        }).eq('user_id', userId).gte('created_at', startDate.toISOString());\n        if (error) {\n            console.error('[databaseService] Failed to count sessions:', error);\n            throw new Error(`Failed to count sessions: ${error.message}`);\n        }\n        const sessionCount = count ?? 0;\n        console.log(`[databaseService] User has ${sessionCount} sessions since ${startDate}`);\n        return sessionCount;\n    } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n        console.error('[databaseService] Error in getSessionCount:', errorMessage);\n        throw error;\n    }\n};\n/**\n * Update user's subscription tier\n */ const updateUserTier = async (userId, tier)=>{\n    try {\n        console.log('[databaseService] Updating tier for user:', userId, 'to:', tier);\n        if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n            console.warn('[databaseService] Supabase is not configured. Cannot update user tier.');\n            return;\n        }\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { error } = await supabase.from('profiles').update({\n            tier,\n            updated_at: new Date().toISOString()\n        }).eq('user_id', userId);\n        if (error) {\n            console.error('[databaseService] Failed to update tier:', error);\n            throw new Error(`Failed to update user tier: ${error.message}`);\n        }\n        console.log('[databaseService] User tier updated successfully');\n    } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n        console.error('[databaseService] Error in updateUserTier:', errorMessage);\n        throw error;\n    }\n};\n/**\n * Get user profile data\n */ const getUserProfile = async (userId)=>{\n    try {\n        console.log('[databaseService] Fetching profile for user:', userId);\n        if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n            console.warn('[databaseService] Supabase is not configured. Cannot fetch user profile.');\n            return null;\n        }\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { data, error } = await supabase.from('profiles').select('*').eq('user_id', userId).single();\n        if (error) {\n            // If the error is \"not found\", return null to signal profile doesn't exist yet\n            if (error.code === 'PGRST116') {\n                console.log('[databaseService] User profile not found for user:', userId);\n                return null;\n            }\n            _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n                userId,\n                action: 'getUserProfile',\n                level: 'error'\n            });\n            // Return null instead of throwing so the app can handle gracefully\n            return null;\n        }\n        if (!data) {\n            console.log('[databaseService] User profile not found (no data)');\n            return null;\n        }\n        console.log('[databaseService] User profile retrieved successfully');\n        return data;\n    } catch (error) {\n        _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n            userId,\n            action: 'getUserProfile',\n            level: 'warn'\n        });\n        return null; // Return null instead of throwing so the app can handle gracefully\n    }\n};\n/**\n * Create a new user profile\n */ const createUserProfile = async (userId, tier = _types__WEBPACK_IMPORTED_MODULE_1__.UserTier.Free)=>{\n    try {\n        console.log('[databaseService] Creating profile for user:', userId, 'with tier:', tier);\n        if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.isSupabaseConfigured)()) {\n            console.warn('[databaseService] Supabase is not configured. Cannot create user profile.');\n            return null;\n        }\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const now = new Date().toISOString();\n        const { data, error } = await supabase.from('profiles').insert({\n            user_id: userId,\n            tier,\n            created_at: now,\n            updated_at: now\n        }).select('*').single();\n        if (error) {\n            _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n                userId,\n                action: 'createUserProfile',\n                level: 'error'\n            });\n            // Return null instead of throwing so the app can handle gracefully\n            return null;\n        }\n        if (!data) {\n            const error = _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.createError('No profile data returned after creation', 'NO_PROFILE_DATA', {\n                userId,\n                tier\n            }, userId, 'createUserProfile');\n            _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n                userId,\n                action: 'createUserProfile',\n                level: 'error'\n            });\n            return null;\n        }\n        console.log('[databaseService] User profile created successfully');\n        return data;\n    } catch (error) {\n        _utils_errorHandler__WEBPACK_IMPORTED_MODULE_2__.ErrorHandler.logError(error, {\n            userId,\n            action: 'createUserProfile',\n            level: 'warn'\n        });\n        return null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNsQyxNQUFNc0QsTUFBTSxJQUFJbEMsT0FBT0MsV0FBVztRQUVsQyxNQUFNLEVBQUVSLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUYsU0FDekJHLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUM7WUFDSkMsU0FBU1g7WUFDVHlDO1lBQ0E1QixZQUFZbUM7WUFDWkwsWUFBWUs7UUFDaEIsR0FDQ2hDLE1BQU0sQ0FBQyxLQUNQQyxNQUFNO1FBRVgsSUFBSVQsT0FBTztZQUNQWCw2REFBWUEsQ0FBQ3FCLFFBQVEsQ0FBQ1YsT0FBTztnQkFBRVI7Z0JBQVFtQixRQUFRO2dCQUFxQkMsT0FBTztZQUFRO1lBQ25GLG1FQUFtRTtZQUNuRSxPQUFPO1FBQ1g7UUFFQSxJQUFJLENBQUNiLE1BQU07WUFDUCxNQUFNQyxRQUFRWCw2REFBWUEsQ0FBQ3dCLFdBQVcsQ0FDbEMsMkNBQ0EsbUJBQ0E7Z0JBQUVyQjtnQkFBUXlDO1lBQUssR0FDZnpDLFFBQ0E7WUFFSkgsNkRBQVlBLENBQUNxQixRQUFRLENBQUNWLE9BQU87Z0JBQUVSO2dCQUFRbUIsUUFBUTtnQkFBcUJDLE9BQU87WUFBUTtZQUNuRixPQUFPO1FBQ1g7UUFFQW5CLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9LO0lBQ1gsRUFBRSxPQUFPQyxPQUFPO1FBQ1pYLDZEQUFZQSxDQUFDcUIsUUFBUSxDQUFDVixPQUFPO1lBQUVSO1lBQVFtQixRQUFRO1lBQXFCQyxPQUFPO1FBQU87UUFDbEYsT0FBTztJQUNYO0FBQ0osRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvc2VydmljZXMvZGF0YWJhc2VTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFN1cGFiYXNlQ2xpZW50LCBpc1N1cGFiYXNlQ29uZmlndXJlZCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcbmltcG9ydCB7IFNlc3Npb24sIFVzZXJUaWVyIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBFcnJvckhhbmRsZXIgfSBmcm9tICcuLi91dGlscy9lcnJvckhhbmRsZXInO1xuXG4vLyBEYXRhYmFzZSB0eXBlIGRlZmluaXRpb25zXG5pbnRlcmZhY2UgRGJTZXNzaW9uIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHVzZXJfaWQ6IHN0cmluZztcbiAgICBzZXNzaW9uX2RhdGE6IFNlc3Npb247XG4gICAgY3JlYXRlZF9hdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRGJVc2VyUHJvZmlsZSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB1c2VyX2lkOiBzdHJpbmc7XG4gICAgdGllcjogVXNlclRpZXI7XG4gICAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAgIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBTYXZlIGEgcHJhY3RpY2Ugc2Vzc2lvbiB0byB0aGUgZGF0YWJhc2VcbiAqL1xuZXhwb3J0IGNvbnN0IHNhdmVTZXNzaW9uID0gYXN5bmMgKHNlc3Npb246IFNlc3Npb24sIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnW2RhdGFiYXNlU2VydmljZV0gU2F2aW5nIHNlc3Npb24gZm9yIHVzZXI6JywgdXNlcklkKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSAnU3VwYWJhc2UgaXMgbm90IGNvbmZpZ3VyZWQuIFNlc3Npb24gY2Fubm90IGJlIHNhdmVkIHRvIGRhdGFiYXNlLic7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tkYXRhYmFzZVNlcnZpY2VdJywgZXJyb3JNc2cpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdzZXNzaW9ucycpXG4gICAgICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9kYXRhOiBzZXNzaW9uLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBFcnJvckhhbmRsZXIubG9nRXJyb3IoZXJyb3IsIHsgdXNlcklkLCBhY3Rpb246ICdzYXZlU2Vzc2lvbicsIGxldmVsOiAnZXJyb3InIH0pO1xuICAgICAgICAgICAgdGhyb3cgRXJyb3JIYW5kbGVyLmNyZWF0ZUVycm9yKFxuICAgICAgICAgICAgICAgIGBGYWlsZWQgdG8gc2F2ZSBzZXNzaW9uOiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICAnU0FWRV9TRVNTSU9OX0VSUk9SJyxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgJ3NhdmVTZXNzaW9uJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YSB8fCAhZGF0YS5pZCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBFcnJvckhhbmRsZXIuY3JlYXRlRXJyb3IoXG4gICAgICAgICAgICAgICAgJ05vIHNlc3Npb24gSUQgcmV0dXJuZWQgZnJvbSBkYXRhYmFzZScsXG4gICAgICAgICAgICAgICAgJ05PX1NFU1NJT05fSUQnLFxuICAgICAgICAgICAgICAgIHsgdXNlcklkIH0sXG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgICdzYXZlU2Vzc2lvbidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBFcnJvckhhbmRsZXIubG9nRXJyb3IoZXJyb3IsIHsgdXNlcklkLCBhY3Rpb246ICdzYXZlU2Vzc2lvbicsIGxldmVsOiAnZXJyb3InIH0pO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygnW2RhdGFiYXNlU2VydmljZV0gU2Vzc2lvbiBzYXZlZCB3aXRoIElEOicsIGRhdGEuaWQpO1xuICAgICAgICByZXR1cm4gZGF0YS5pZDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBSZS10aHJvdyBpZiBpdCdzIGFscmVhZHkgYW4gQXBwRXJyb3IsIG90aGVyd2lzZSB3cmFwIGl0XG4gICAgICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmICdlcnJvcicgaW4gZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwcEVycm9yID0gRXJyb3JIYW5kbGVyLmNyZWF0ZUVycm9yKFxuICAgICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgICAgICAnU0FWRV9TRVNTSU9OX1VOS05PV04nLFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAnc2F2ZVNlc3Npb24nXG4gICAgICAgICk7XG4gICAgICAgIEVycm9ySGFuZGxlci5sb2dFcnJvcihhcHBFcnJvciwgeyB1c2VySWQsIGFjdGlvbjogJ3NhdmVTZXNzaW9uJywgbGV2ZWw6ICdlcnJvcicgfSk7XG4gICAgICAgIHRocm93IGFwcEVycm9yO1xuICAgIH1cbn07XG5cbi8qKlxuICogR2V0IGFsbCBzZXNzaW9ucyBmb3IgYSB1c2VyXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRVc2VyU2Vzc2lvbnMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25bXT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbZGF0YWJhc2VTZXJ2aWNlXSBGZXRjaGluZyBzZXNzaW9ucyBmb3IgdXNlcjonLCB1c2VySWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tkYXRhYmFzZVNlcnZpY2VdIFN1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLiBDYW5ub3QgZmV0Y2ggc2Vzc2lvbnMgZnJvbSBkYXRhYmFzZS4nKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdzZXNzaW9ucycpXG4gICAgICAgICAgICAuc2VsZWN0KCdzZXNzaW9uX2RhdGEnKVxuICAgICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgRXJyb3JIYW5kbGVyLmxvZ0Vycm9yKGVycm9yLCB7IHVzZXJJZCwgYWN0aW9uOiAnZ2V0VXNlclNlc3Npb25zJywgbGV2ZWw6ICdlcnJvcicgfSk7XG4gICAgICAgICAgICB0aHJvdyBFcnJvckhhbmRsZXIuY3JlYXRlRXJyb3IoXG4gICAgICAgICAgICAgICAgYEZhaWxlZCB0byBmZXRjaCBzZXNzaW9uczogJHtlcnJvci5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgJ0ZFVENIX1NFU1NJT05TX0VSUk9SJyxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgJ2dldFVzZXJTZXNzaW9ucydcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbZGF0YWJhc2VTZXJ2aWNlXSBObyBzZXNzaW9ucyBmb3VuZCBmb3IgdXNlcicpO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBkYXRhLm1hcCgocm93OiB7IHNlc3Npb25fZGF0YTogU2Vzc2lvbiB9KSA9PiByb3cuc2Vzc2lvbl9kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtkYXRhYmFzZVNlcnZpY2VdIFJldHJpZXZlZCAke3Nlc3Npb25zLmxlbmd0aH0gc2Vzc2lvbnMgZm9yIHVzZXJgKTtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25zO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFJlLXRocm93IGlmIGl0J3MgYWxyZWFkeSBhbiBBcHBFcnJvciwgb3RoZXJ3aXNlIHdyYXAgaXRcbiAgICAgICAgaWYgKGVycm9yICYmIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgJ2Vycm9yJyBpbiBlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXBwRXJyb3IgPSBFcnJvckhhbmRsZXIuY3JlYXRlRXJyb3IoXG4gICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICAgICAgICdHRVRfU0VTU0lPTlNfVU5LTk9XTicsXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICdnZXRVc2VyU2Vzc2lvbnMnXG4gICAgICAgICk7XG4gICAgICAgIEVycm9ySGFuZGxlci5sb2dFcnJvcihhcHBFcnJvciwgeyB1c2VySWQsIGFjdGlvbjogJ2dldFVzZXJTZXNzaW9ucycsIGxldmVsOiAnZXJyb3InIH0pO1xuICAgICAgICB0aHJvdyBhcHBFcnJvcjtcbiAgICB9XG59O1xuXG4vKipcbiAqIENvdW50IHNlc3Npb25zIGZvciBhIHVzZXIgd2l0aGluIGEgdGltZSBwZXJpb2RcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFNlc3Npb25Db3VudCA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgc3RhcnREYXRlOiBEYXRlKTogUHJvbWlzZTxudW1iZXI+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnW2RhdGFiYXNlU2VydmljZV0gQ291bnRpbmcgc2Vzc2lvbnMgZm9yIHVzZXI6JywgdXNlcklkLCAnc2luY2U6Jywgc3RhcnREYXRlKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbZGF0YWJhc2VTZXJ2aWNlXSBTdXBhYmFzZSBpcyBub3QgY29uZmlndXJlZC4gUmV0dXJuaW5nIDAgZm9yIHNlc3Npb24gY291bnQuJyk7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBjb3VudCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgnc2Vzc2lvbnMnKVxuICAgICAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgICAgICAgIC5ndGUoJ2NyZWF0ZWRfYXQnLCBzdGFydERhdGUudG9JU09TdHJpbmcoKSk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbZGF0YWJhc2VTZXJ2aWNlXSBGYWlsZWQgdG8gY291bnQgc2Vzc2lvbnM6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY291bnQgc2Vzc2lvbnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlc3Npb25Db3VudCA9IGNvdW50ID8/IDA7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbZGF0YWJhc2VTZXJ2aWNlXSBVc2VyIGhhcyAke3Nlc3Npb25Db3VudH0gc2Vzc2lvbnMgc2luY2UgJHtzdGFydERhdGV9YCk7XG4gICAgICAgIHJldHVybiBzZXNzaW9uQ291bnQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkYXRhYmFzZVNlcnZpY2VdIEVycm9yIGluIGdldFNlc3Npb25Db3VudDonLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB1c2VyJ3Mgc3Vic2NyaXB0aW9uIHRpZXJcbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJUaWVyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCB0aWVyOiBVc2VyVGllcik6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbZGF0YWJhc2VTZXJ2aWNlXSBVcGRhdGluZyB0aWVyIGZvciB1c2VyOicsIHVzZXJJZCwgJ3RvOicsIHRpZXIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tkYXRhYmFzZVNlcnZpY2VdIFN1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLiBDYW5ub3QgdXBkYXRlIHVzZXIgdGllci4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgICAgICAudXBkYXRlKHtcbiAgICAgICAgICAgICAgICB0aWVyLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW2RhdGFiYXNlU2VydmljZV0gRmFpbGVkIHRvIHVwZGF0ZSB0aWVyOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIHRpZXI6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdbZGF0YWJhc2VTZXJ2aWNlXSBVc2VyIHRpZXIgdXBkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RhdGFiYXNlU2VydmljZV0gRXJyb3IgaW4gdXBkYXRlVXNlclRpZXI6JywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgdXNlciBwcm9maWxlIGRhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFVzZXJQcm9maWxlID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxEYlVzZXJQcm9maWxlIHwgbnVsbD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbZGF0YWJhc2VTZXJ2aWNlXSBGZXRjaGluZyBwcm9maWxlIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW2RhdGFiYXNlU2VydmljZV0gU3VwYWJhc2UgaXMgbm90IGNvbmZpZ3VyZWQuIENhbm5vdCBmZXRjaCB1c2VyIHByb2ZpbGUuJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBlcnJvciBpcyBcIm5vdCBmb3VuZFwiLCByZXR1cm4gbnVsbCB0byBzaWduYWwgcHJvZmlsZSBkb2Vzbid0IGV4aXN0IHlldFxuICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW2RhdGFiYXNlU2VydmljZV0gVXNlciBwcm9maWxlIG5vdCBmb3VuZCBmb3IgdXNlcjonLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRXJyb3JIYW5kbGVyLmxvZ0Vycm9yKGVycm9yLCB7IHVzZXJJZCwgYWN0aW9uOiAnZ2V0VXNlclByb2ZpbGUnLCBsZXZlbDogJ2Vycm9yJyB9KTtcbiAgICAgICAgICAgIC8vIFJldHVybiBudWxsIGluc3RlYWQgb2YgdGhyb3dpbmcgc28gdGhlIGFwcCBjYW4gaGFuZGxlIGdyYWNlZnVsbHlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2RhdGFiYXNlU2VydmljZV0gVXNlciBwcm9maWxlIG5vdCBmb3VuZCAobm8gZGF0YSknKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1tkYXRhYmFzZVNlcnZpY2VdIFVzZXIgcHJvZmlsZSByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIHJldHVybiBkYXRhIGFzIERiVXNlclByb2ZpbGU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgRXJyb3JIYW5kbGVyLmxvZ0Vycm9yKGVycm9yLCB7IHVzZXJJZCwgYWN0aW9uOiAnZ2V0VXNlclByb2ZpbGUnLCBsZXZlbDogJ3dhcm4nIH0pO1xuICAgICAgICByZXR1cm4gbnVsbDsgLy8gUmV0dXJuIG51bGwgaW5zdGVhZCBvZiB0aHJvd2luZyBzbyB0aGUgYXBwIGNhbiBoYW5kbGUgZ3JhY2VmdWxseVxuICAgIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHVzZXIgcHJvZmlsZVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlclByb2ZpbGUgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHRpZXI6IFVzZXJUaWVyID0gVXNlclRpZXIuRnJlZSk6IFByb21pc2U8RGJVc2VyUHJvZmlsZSB8IG51bGw+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnW2RhdGFiYXNlU2VydmljZV0gQ3JlYXRpbmcgcHJvZmlsZSBmb3IgdXNlcjonLCB1c2VySWQsICd3aXRoIHRpZXI6JywgdGllcik7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW2RhdGFiYXNlU2VydmljZV0gU3VwYWJhc2UgaXMgbm90IGNvbmZpZ3VyZWQuIENhbm5vdCBjcmVhdGUgdXNlciBwcm9maWxlLicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgICAgIHRpZXIsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbm93LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5vdyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIEVycm9ySGFuZGxlci5sb2dFcnJvcihlcnJvciwgeyB1c2VySWQsIGFjdGlvbjogJ2NyZWF0ZVVzZXJQcm9maWxlJywgbGV2ZWw6ICdlcnJvcicgfSk7XG4gICAgICAgICAgICAvLyBSZXR1cm4gbnVsbCBpbnN0ZWFkIG9mIHRocm93aW5nIHNvIHRoZSBhcHAgY2FuIGhhbmRsZSBncmFjZWZ1bGx5XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBFcnJvckhhbmRsZXIuY3JlYXRlRXJyb3IoXG4gICAgICAgICAgICAgICAgJ05vIHByb2ZpbGUgZGF0YSByZXR1cm5lZCBhZnRlciBjcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgJ05PX1BST0ZJTEVfREFUQScsXG4gICAgICAgICAgICAgICAgeyB1c2VySWQsIHRpZXIgfSxcbiAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgJ2NyZWF0ZVVzZXJQcm9maWxlJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIEVycm9ySGFuZGxlci5sb2dFcnJvcihlcnJvciwgeyB1c2VySWQsIGFjdGlvbjogJ2NyZWF0ZVVzZXJQcm9maWxlJywgbGV2ZWw6ICdlcnJvcicgfSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdbZGF0YWJhc2VTZXJ2aWNlXSBVc2VyIHByb2ZpbGUgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgcmV0dXJuIGRhdGEgYXMgRGJVc2VyUHJvZmlsZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBFcnJvckhhbmRsZXIubG9nRXJyb3IoZXJyb3IsIHsgdXNlcklkLCBhY3Rpb246ICdjcmVhdGVVc2VyUHJvZmlsZScsIGxldmVsOiAnd2FybicgfSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5cbiJdLCJuYW1lcyI6WyJnZXRTdXBhYmFzZUNsaWVudCIsImlzU3VwYWJhc2VDb25maWd1cmVkIiwiVXNlclRpZXIiLCJFcnJvckhhbmRsZXIiLCJzYXZlU2Vzc2lvbiIsInNlc3Npb24iLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwiZXJyb3JNc2ciLCJ3YXJuIiwiRXJyb3IiLCJzdXBhYmFzZSIsImRhdGEiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJ1c2VyX2lkIiwic2Vzc2lvbl9kYXRhIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNlbGVjdCIsInNpbmdsZSIsImxvZ0Vycm9yIiwiYWN0aW9uIiwibGV2ZWwiLCJjcmVhdGVFcnJvciIsIm1lc3NhZ2UiLCJpZCIsImFwcEVycm9yIiwiZ2V0VXNlclNlc3Npb25zIiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsInNlc3Npb25zIiwibWFwIiwicm93IiwibGVuZ3RoIiwiZ2V0U2Vzc2lvbkNvdW50Iiwic3RhcnREYXRlIiwiY291bnQiLCJoZWFkIiwiZ3RlIiwic2Vzc2lvbkNvdW50IiwiZXJyb3JNZXNzYWdlIiwidXBkYXRlVXNlclRpZXIiLCJ0aWVyIiwidXBkYXRlIiwidXBkYXRlZF9hdCIsImdldFVzZXJQcm9maWxlIiwiY29kZSIsImNyZWF0ZVVzZXJQcm9maWxlIiwiRnJlZSIsIm5vdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./services/databaseService.ts\n");

/***/ }),

/***/ "(ssr)/./services/patientService.ts":
/*!************************************!*\
  !*** ./services/patientService.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePatientProfile: () => (/* binding */ generatePatientProfile)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(ssr)/./constants.ts\");\n\n\nconst getRandomElement = (arr)=>arr[Math.floor(Math.random() * arr.length)];\n// Shuffle array using Fisher-Yates algorithm for better randomization\nconst shuffleArray = (array)=>{\n    const shuffled = [\n        ...array\n    ];\n    for(let i = shuffled.length - 1; i > 0; i--){\n        const j = Math.floor(Math.random() * (i + 1));\n        [shuffled[i], shuffled[j]] = [\n            shuffled[j],\n            shuffled[i]\n        ];\n    }\n    return shuffled;\n};\n// Track recently used names to avoid repeats\nconst RECENT_NAMES_KEY = 'mi-coach-recent-patient-names';\nconst RECENT_NAMES_MAX = 7; // Track last 7 sessions\n// Track recently used variants per topic to avoid repetition\nconst RECENT_VARIANTS_KEY = 'mi-coach-recent-variants';\nconst RECENT_VARIANTS_MAX = 10; // Track last 10 variants across all topics\nconst getRecentNames = ()=>{\n    try {\n        const stored = localStorage.getItem(RECENT_NAMES_KEY);\n        return stored ? JSON.parse(stored) : [];\n    } catch  {\n        return [];\n    }\n};\nconst addRecentName = (name)=>{\n    try {\n        const recent = getRecentNames();\n        recent.push(name);\n        // Keep only the most recent N names\n        if (recent.length > RECENT_NAMES_MAX) {\n            recent.shift(); // Remove oldest\n        }\n        localStorage.setItem(RECENT_NAMES_KEY, JSON.stringify(recent));\n    } catch  {\n    // Ignore localStorage errors\n    }\n};\nconst selectNameAvoidingRecent = (allNames)=>{\n    const recent = getRecentNames();\n    const available = allNames.filter((name)=>!recent.includes(name));\n    // If all names have been used recently, reset and use any name\n    if (available.length === 0) {\n        console.log('[patientService] All names used recently, resetting recent names');\n        localStorage.removeItem(RECENT_NAMES_KEY);\n        return getRandomElement(allNames);\n    }\n    return getRandomElement(available);\n};\n// Track recently used variants to avoid showing the same backstory\nconst getRecentVariants = ()=>{\n    try {\n        const stored = localStorage.getItem(RECENT_VARIANTS_KEY);\n        return stored ? JSON.parse(stored) : [];\n    } catch  {\n        return [];\n    }\n};\nconst addRecentVariant = (variantId)=>{\n    try {\n        const recent = getRecentVariants();\n        recent.push(variantId);\n        // Keep only the most recent N variants\n        if (recent.length > RECENT_VARIANTS_MAX) {\n            recent.shift(); // Remove oldest\n        }\n        localStorage.setItem(RECENT_VARIANTS_KEY, JSON.stringify(recent));\n    } catch  {\n    // Ignore localStorage errors\n    }\n};\nconst selectVariantAvoidingRecent = (variants)=>{\n    const recent = getRecentVariants();\n    const available = variants.filter((v)=>!recent.includes(v.variantId));\n    // If all variants have been used recently, use the shuffled full list\n    if (available.length === 0) {\n        console.log('[patientService] All variants used recently, selecting from full list');\n        return getRandomElement(shuffleArray(variants));\n    }\n    return getRandomElement(shuffleArray(available));\n};\n// Select personality trait - prefer variant's suggested traits but with some randomization\nconst selectPersonalityTrait = (variant)=>{\n    // If variant has suggested traits, use one of them 70% of the time\n    if (variant.typicalTraits && variant.typicalTraits.length > 0) {\n        if (Math.random() < 0.7) {\n            return getRandomElement(variant.typicalTraits);\n        }\n    }\n    // Otherwise, pick a random trait\n    return getRandomElement(_constants__WEBPACK_IMPORTED_MODULE_1__.PERSONALITY_TRAITS).id;\n};\nconst generatePatientProfile = (filters)=>{\n    // 1. Find available topic templates based on filters\n    let availableTopicTemplates = _constants__WEBPACK_IMPORTED_MODULE_1__.PATIENT_TOPIC_TEMPLATES;\n    if (filters?.topic) {\n        // Filter to specific topic\n        availableTopicTemplates = _constants__WEBPACK_IMPORTED_MODULE_1__.PATIENT_TOPIC_TEMPLATES.filter((t)=>t.topic === filters.topic);\n        // Fallback if no templates match (should not happen with good UI)\n        if (availableTopicTemplates.length === 0) {\n            availableTopicTemplates = _constants__WEBPACK_IMPORTED_MODULE_1__.PATIENT_TOPIC_TEMPLATES;\n        }\n    }\n    // 2. Select a topic template (shuffle for randomization)\n    const shuffledTopics = shuffleArray(availableTopicTemplates);\n    const topicTemplate = getRandomElement(shuffledTopics);\n    // 3. Select a variant from the topic, avoiding recently used ones\n    const variant = selectVariantAvoidingRecent(topicTemplate.variants);\n    addRecentVariant(variant.variantId);\n    // 4. Generate an age within the variant's specified range\n    const [minAge, maxAge] = variant.ageRange;\n    const age = Math.floor(Math.random() * (maxAge - minAge + 1)) + minAge;\n    // Replace the age placeholder in the background text\n    const background = variant.background.replace('{age}', age.toString());\n    // 5. Decide whether to use a conflicting chief complaint (50% chance)\n    let chiefComplaint = variant.chiefComplaint;\n    if (variant.conflictingChiefComplaint && Math.random() < 0.5) {\n        chiefComplaint = variant.conflictingChiefComplaint;\n    }\n    // 6. Determine stage of change based on filters\n    let stageOfChange;\n    if (filters?.stageOfChange) {\n        // A specific stage selection takes highest priority\n        stageOfChange = filters.stageOfChange;\n    } else if (filters?.difficulty) {\n        // If no stage is chosen, use difficulty to determine the pool of stages\n        let possibleStages;\n        switch(filters.difficulty){\n            case _types__WEBPACK_IMPORTED_MODULE_0__.DifficultyLevel.Beginner:\n                possibleStages = [\n                    _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Preparation,\n                    _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Action,\n                    _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Maintenance\n                ];\n                break;\n            case _types__WEBPACK_IMPORTED_MODULE_0__.DifficultyLevel.Intermediate:\n                possibleStages = [\n                    _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Contemplation\n                ];\n                break;\n            case _types__WEBPACK_IMPORTED_MODULE_0__.DifficultyLevel.Advanced:\n                possibleStages = [\n                    _types__WEBPACK_IMPORTED_MODULE_0__.StageOfChange.Precontemplation\n                ];\n                break;\n            default:\n                possibleStages = _constants__WEBPACK_IMPORTED_MODULE_1__.PATIENT_DATA.stagesOfChange;\n        }\n        stageOfChange = getRandomElement(possibleStages);\n    } else {\n        // If no filters are provided, select a random stage\n        stageOfChange = getRandomElement(_constants__WEBPACK_IMPORTED_MODULE_1__.PATIENT_DATA.stagesOfChange);\n    }\n    // 7. Select personality trait (prefers variant's suggested traits)\n    const personalityTrait = selectPersonalityTrait(variant);\n    // 8. Select name avoiding recently used ones\n    const selectedName = selectNameAvoidingRecent(_constants__WEBPACK_IMPORTED_MODULE_1__.PATIENT_DATA.names);\n    addRecentName(selectedName);\n    return {\n        // Core details from the variant\n        topic: topicTemplate.topic,\n        presentingProblem: variant.presentingProblem,\n        history: variant.history,\n        chiefComplaint: chiefComplaint,\n        background: background,\n        // Randomized demographic details\n        name: selectedName,\n        age: age,\n        sex: getRandomElement(_constants__WEBPACK_IMPORTED_MODULE_1__.PATIENT_DATA.sexes),\n        stageOfChange: stageOfChange,\n        // New fields for variety\n        personalityTrait: personalityTrait,\n        variantId: variant.variantId\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNuRSxNQUFNQyxtQkFBbUJoQyx1QkFBdUJDO0lBRWhELDZDQUE2QztJQUM3QyxNQUFNZ0MsZUFBZS9DLHlCQUF5Qi9CLG9EQUFZQSxDQUFDK0UsS0FBSztJQUNoRXZELGNBQWNzRDtJQUVkLE9BQU87UUFDTCxnQ0FBZ0M7UUFDaEMxQixPQUFPRyxjQUFjSCxLQUFLO1FBQzFCNEIsbUJBQW1CbEMsUUFBUWtDLGlCQUFpQjtRQUM1Q0MsU0FBU25DLFFBQVFtQyxPQUFPO1FBQ3hCbEIsZ0JBQWdCQTtRQUNoQkgsWUFBWUE7UUFFWixpQ0FBaUM7UUFDakNuQyxNQUFNcUQ7UUFDTm5CLEtBQUtBO1FBQ0x1QixLQUFLL0UsaUJBQWlCSCxvREFBWUEsQ0FBQ21GLEtBQUs7UUFDeENsQixlQUFlQTtRQUVmLHlCQUF5QjtRQUN6Qlksa0JBQWtCQTtRQUNsQnBDLFdBQVdLLFFBQVFMLFNBQVM7SUFDOUI7QUFDRixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS9zZXJ2aWNlcy9wYXRpZW50U2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXRpZW50UHJvZmlsZSwgU3RhZ2VPZkNoYW5nZSwgUGF0aWVudFByb2ZpbGVGaWx0ZXJzLCBEaWZmaWN1bHR5TGV2ZWwsIFBlcnNvbmFsaXR5VHJhaXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBQQVRJRU5UX0RBVEEsIFBBVElFTlRfVE9QSUNfVEVNUExBVEVTLCBQRVJTT05BTElUWV9UUkFJVFMsIFBhdGllbnRUb3BpY1RlbXBsYXRlLCBQYXRpZW50VGVtcGxhdGVWYXJpYW50IH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgZ2V0UmFuZG9tRWxlbWVudCA9IDxULD4oYXJyOiBUW10pOiBUID0+IGFycltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnIubGVuZ3RoKV07XG5cbi8vIFNodWZmbGUgYXJyYXkgdXNpbmcgRmlzaGVyLVlhdGVzIGFsZ29yaXRobSBmb3IgYmV0dGVyIHJhbmRvbWl6YXRpb25cbmNvbnN0IHNodWZmbGVBcnJheSA9IDxULD4oYXJyYXk6IFRbXSk6IFRbXSA9PiB7XG4gIGNvbnN0IHNodWZmbGVkID0gWy4uLmFycmF5XTtcbiAgZm9yIChsZXQgaSA9IHNodWZmbGVkLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgW3NodWZmbGVkW2ldLCBzaHVmZmxlZFtqXV0gPSBbc2h1ZmZsZWRbal0sIHNodWZmbGVkW2ldXTtcbiAgfVxuICByZXR1cm4gc2h1ZmZsZWQ7XG59O1xuXG4vLyBUcmFjayByZWNlbnRseSB1c2VkIG5hbWVzIHRvIGF2b2lkIHJlcGVhdHNcbmNvbnN0IFJFQ0VOVF9OQU1FU19LRVkgPSAnbWktY29hY2gtcmVjZW50LXBhdGllbnQtbmFtZXMnO1xuY29uc3QgUkVDRU5UX05BTUVTX01BWCA9IDc7IC8vIFRyYWNrIGxhc3QgNyBzZXNzaW9uc1xuXG4vLyBUcmFjayByZWNlbnRseSB1c2VkIHZhcmlhbnRzIHBlciB0b3BpYyB0byBhdm9pZCByZXBldGl0aW9uXG5jb25zdCBSRUNFTlRfVkFSSUFOVFNfS0VZID0gJ21pLWNvYWNoLXJlY2VudC12YXJpYW50cyc7XG5jb25zdCBSRUNFTlRfVkFSSUFOVFNfTUFYID0gMTA7IC8vIFRyYWNrIGxhc3QgMTAgdmFyaWFudHMgYWNyb3NzIGFsbCB0b3BpY3NcblxuY29uc3QgZ2V0UmVjZW50TmFtZXMgPSAoKTogc3RyaW5nW10gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFJFQ0VOVF9OQU1FU19LRVkpO1xuICAgIHJldHVybiBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuXG5jb25zdCBhZGRSZWNlbnROYW1lID0gKG5hbWU6IHN0cmluZyk6IHZvaWQgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlY2VudCA9IGdldFJlY2VudE5hbWVzKCk7XG4gICAgcmVjZW50LnB1c2gobmFtZSk7XG4gICAgLy8gS2VlcCBvbmx5IHRoZSBtb3N0IHJlY2VudCBOIG5hbWVzXG4gICAgaWYgKHJlY2VudC5sZW5ndGggPiBSRUNFTlRfTkFNRVNfTUFYKSB7XG4gICAgICByZWNlbnQuc2hpZnQoKTsgLy8gUmVtb3ZlIG9sZGVzdFxuICAgIH1cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShSRUNFTlRfTkFNRVNfS0VZLCBKU09OLnN0cmluZ2lmeShyZWNlbnQpKTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gSWdub3JlIGxvY2FsU3RvcmFnZSBlcnJvcnNcbiAgfVxufTtcblxuY29uc3Qgc2VsZWN0TmFtZUF2b2lkaW5nUmVjZW50ID0gKGFsbE5hbWVzOiBzdHJpbmdbXSk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHJlY2VudCA9IGdldFJlY2VudE5hbWVzKCk7XG4gIGNvbnN0IGF2YWlsYWJsZSA9IGFsbE5hbWVzLmZpbHRlcihuYW1lID0+ICFyZWNlbnQuaW5jbHVkZXMobmFtZSkpO1xuICBcbiAgLy8gSWYgYWxsIG5hbWVzIGhhdmUgYmVlbiB1c2VkIHJlY2VudGx5LCByZXNldCBhbmQgdXNlIGFueSBuYW1lXG4gIGlmIChhdmFpbGFibGUubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS5sb2coJ1twYXRpZW50U2VydmljZV0gQWxsIG5hbWVzIHVzZWQgcmVjZW50bHksIHJlc2V0dGluZyByZWNlbnQgbmFtZXMnKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShSRUNFTlRfTkFNRVNfS0VZKTtcbiAgICByZXR1cm4gZ2V0UmFuZG9tRWxlbWVudChhbGxOYW1lcyk7XG4gIH1cbiAgXG4gIHJldHVybiBnZXRSYW5kb21FbGVtZW50KGF2YWlsYWJsZSk7XG59O1xuXG4vLyBUcmFjayByZWNlbnRseSB1c2VkIHZhcmlhbnRzIHRvIGF2b2lkIHNob3dpbmcgdGhlIHNhbWUgYmFja3N0b3J5XG5jb25zdCBnZXRSZWNlbnRWYXJpYW50cyA9ICgpOiBzdHJpbmdbXSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oUkVDRU5UX1ZBUklBTlRTX0tFWSk7XG4gICAgcmV0dXJuIHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbmNvbnN0IGFkZFJlY2VudFZhcmlhbnQgPSAodmFyaWFudElkOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZWNlbnQgPSBnZXRSZWNlbnRWYXJpYW50cygpO1xuICAgIHJlY2VudC5wdXNoKHZhcmlhbnRJZCk7XG4gICAgLy8gS2VlcCBvbmx5IHRoZSBtb3N0IHJlY2VudCBOIHZhcmlhbnRzXG4gICAgaWYgKHJlY2VudC5sZW5ndGggPiBSRUNFTlRfVkFSSUFOVFNfTUFYKSB7XG4gICAgICByZWNlbnQuc2hpZnQoKTsgLy8gUmVtb3ZlIG9sZGVzdFxuICAgIH1cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShSRUNFTlRfVkFSSUFOVFNfS0VZLCBKU09OLnN0cmluZ2lmeShyZWNlbnQpKTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gSWdub3JlIGxvY2FsU3RvcmFnZSBlcnJvcnNcbiAgfVxufTtcblxuY29uc3Qgc2VsZWN0VmFyaWFudEF2b2lkaW5nUmVjZW50ID0gKHZhcmlhbnRzOiBQYXRpZW50VGVtcGxhdGVWYXJpYW50W10pOiBQYXRpZW50VGVtcGxhdGVWYXJpYW50ID0+IHtcbiAgY29uc3QgcmVjZW50ID0gZ2V0UmVjZW50VmFyaWFudHMoKTtcbiAgY29uc3QgYXZhaWxhYmxlID0gdmFyaWFudHMuZmlsdGVyKHYgPT4gIXJlY2VudC5pbmNsdWRlcyh2LnZhcmlhbnRJZCkpO1xuICBcbiAgLy8gSWYgYWxsIHZhcmlhbnRzIGhhdmUgYmVlbiB1c2VkIHJlY2VudGx5LCB1c2UgdGhlIHNodWZmbGVkIGZ1bGwgbGlzdFxuICBpZiAoYXZhaWxhYmxlLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnNvbGUubG9nKCdbcGF0aWVudFNlcnZpY2VdIEFsbCB2YXJpYW50cyB1c2VkIHJlY2VudGx5LCBzZWxlY3RpbmcgZnJvbSBmdWxsIGxpc3QnKTtcbiAgICByZXR1cm4gZ2V0UmFuZG9tRWxlbWVudChzaHVmZmxlQXJyYXkodmFyaWFudHMpKTtcbiAgfVxuICBcbiAgcmV0dXJuIGdldFJhbmRvbUVsZW1lbnQoc2h1ZmZsZUFycmF5KGF2YWlsYWJsZSkpO1xufTtcblxuLy8gU2VsZWN0IHBlcnNvbmFsaXR5IHRyYWl0IC0gcHJlZmVyIHZhcmlhbnQncyBzdWdnZXN0ZWQgdHJhaXRzIGJ1dCB3aXRoIHNvbWUgcmFuZG9taXphdGlvblxuY29uc3Qgc2VsZWN0UGVyc29uYWxpdHlUcmFpdCA9ICh2YXJpYW50OiBQYXRpZW50VGVtcGxhdGVWYXJpYW50KTogUGVyc29uYWxpdHlUcmFpdCA9PiB7XG4gIC8vIElmIHZhcmlhbnQgaGFzIHN1Z2dlc3RlZCB0cmFpdHMsIHVzZSBvbmUgb2YgdGhlbSA3MCUgb2YgdGhlIHRpbWVcbiAgaWYgKHZhcmlhbnQudHlwaWNhbFRyYWl0cyAmJiB2YXJpYW50LnR5cGljYWxUcmFpdHMubGVuZ3RoID4gMCkge1xuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC43KSB7XG4gICAgICByZXR1cm4gZ2V0UmFuZG9tRWxlbWVudCh2YXJpYW50LnR5cGljYWxUcmFpdHMpO1xuICAgIH1cbiAgfVxuICAvLyBPdGhlcndpc2UsIHBpY2sgYSByYW5kb20gdHJhaXRcbiAgcmV0dXJuIGdldFJhbmRvbUVsZW1lbnQoUEVSU09OQUxJVFlfVFJBSVRTKS5pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVBhdGllbnRQcm9maWxlID0gKGZpbHRlcnM/OiBQYXRpZW50UHJvZmlsZUZpbHRlcnMpOiBQYXRpZW50UHJvZmlsZSA9PiB7XG4gIC8vIDEuIEZpbmQgYXZhaWxhYmxlIHRvcGljIHRlbXBsYXRlcyBiYXNlZCBvbiBmaWx0ZXJzXG4gIGxldCBhdmFpbGFibGVUb3BpY1RlbXBsYXRlczogUGF0aWVudFRvcGljVGVtcGxhdGVbXSA9IFBBVElFTlRfVE9QSUNfVEVNUExBVEVTO1xuXG4gIGlmIChmaWx0ZXJzPy50b3BpYykge1xuICAgIC8vIEZpbHRlciB0byBzcGVjaWZpYyB0b3BpY1xuICAgIGF2YWlsYWJsZVRvcGljVGVtcGxhdGVzID0gUEFUSUVOVF9UT1BJQ19URU1QTEFURVMuZmlsdGVyKHQgPT4gdC50b3BpYyA9PT0gZmlsdGVycy50b3BpYyk7XG4gICAgLy8gRmFsbGJhY2sgaWYgbm8gdGVtcGxhdGVzIG1hdGNoIChzaG91bGQgbm90IGhhcHBlbiB3aXRoIGdvb2QgVUkpXG4gICAgaWYgKGF2YWlsYWJsZVRvcGljVGVtcGxhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYXZhaWxhYmxlVG9waWNUZW1wbGF0ZXMgPSBQQVRJRU5UX1RPUElDX1RFTVBMQVRFUztcbiAgICB9XG4gIH1cblxuICAvLyAyLiBTZWxlY3QgYSB0b3BpYyB0ZW1wbGF0ZSAoc2h1ZmZsZSBmb3IgcmFuZG9taXphdGlvbilcbiAgY29uc3Qgc2h1ZmZsZWRUb3BpY3MgPSBzaHVmZmxlQXJyYXkoYXZhaWxhYmxlVG9waWNUZW1wbGF0ZXMpO1xuICBjb25zdCB0b3BpY1RlbXBsYXRlID0gZ2V0UmFuZG9tRWxlbWVudChzaHVmZmxlZFRvcGljcyk7XG5cbiAgLy8gMy4gU2VsZWN0IGEgdmFyaWFudCBmcm9tIHRoZSB0b3BpYywgYXZvaWRpbmcgcmVjZW50bHkgdXNlZCBvbmVzXG4gIGNvbnN0IHZhcmlhbnQgPSBzZWxlY3RWYXJpYW50QXZvaWRpbmdSZWNlbnQodG9waWNUZW1wbGF0ZS52YXJpYW50cyk7XG4gIGFkZFJlY2VudFZhcmlhbnQodmFyaWFudC52YXJpYW50SWQpO1xuXG4gIC8vIDQuIEdlbmVyYXRlIGFuIGFnZSB3aXRoaW4gdGhlIHZhcmlhbnQncyBzcGVjaWZpZWQgcmFuZ2VcbiAgY29uc3QgW21pbkFnZSwgbWF4QWdlXSA9IHZhcmlhbnQuYWdlUmFuZ2U7XG4gIGNvbnN0IGFnZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXhBZ2UgLSBtaW5BZ2UgKyAxKSkgKyBtaW5BZ2U7XG5cbiAgLy8gUmVwbGFjZSB0aGUgYWdlIHBsYWNlaG9sZGVyIGluIHRoZSBiYWNrZ3JvdW5kIHRleHRcbiAgY29uc3QgYmFja2dyb3VuZCA9IHZhcmlhbnQuYmFja2dyb3VuZC5yZXBsYWNlKCd7YWdlfScsIGFnZS50b1N0cmluZygpKTtcbiAgXG4gIC8vIDUuIERlY2lkZSB3aGV0aGVyIHRvIHVzZSBhIGNvbmZsaWN0aW5nIGNoaWVmIGNvbXBsYWludCAoNTAlIGNoYW5jZSlcbiAgbGV0IGNoaWVmQ29tcGxhaW50ID0gdmFyaWFudC5jaGllZkNvbXBsYWludDtcbiAgaWYgKHZhcmlhbnQuY29uZmxpY3RpbmdDaGllZkNvbXBsYWludCAmJiBNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgY2hpZWZDb21wbGFpbnQgPSB2YXJpYW50LmNvbmZsaWN0aW5nQ2hpZWZDb21wbGFpbnQ7XG4gIH1cbiAgXG4gIC8vIDYuIERldGVybWluZSBzdGFnZSBvZiBjaGFuZ2UgYmFzZWQgb24gZmlsdGVyc1xuICBsZXQgc3RhZ2VPZkNoYW5nZTogU3RhZ2VPZkNoYW5nZTtcblxuICBpZiAoZmlsdGVycz8uc3RhZ2VPZkNoYW5nZSkge1xuICAgICAgLy8gQSBzcGVjaWZpYyBzdGFnZSBzZWxlY3Rpb24gdGFrZXMgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgc3RhZ2VPZkNoYW5nZSA9IGZpbHRlcnMuc3RhZ2VPZkNoYW5nZTtcbiAgfSBlbHNlIGlmIChmaWx0ZXJzPy5kaWZmaWN1bHR5KSB7XG4gICAgICAvLyBJZiBubyBzdGFnZSBpcyBjaG9zZW4sIHVzZSBkaWZmaWN1bHR5IHRvIGRldGVybWluZSB0aGUgcG9vbCBvZiBzdGFnZXNcbiAgICAgIGxldCBwb3NzaWJsZVN0YWdlczogU3RhZ2VPZkNoYW5nZVtdO1xuICAgICAgc3dpdGNoIChmaWx0ZXJzLmRpZmZpY3VsdHkpIHtcbiAgICAgICAgICBjYXNlIERpZmZpY3VsdHlMZXZlbC5CZWdpbm5lcjpcbiAgICAgICAgICAgICAgcG9zc2libGVTdGFnZXMgPSBbU3RhZ2VPZkNoYW5nZS5QcmVwYXJhdGlvbiwgU3RhZ2VPZkNoYW5nZS5BY3Rpb24sIFN0YWdlT2ZDaGFuZ2UuTWFpbnRlbmFuY2VdO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIERpZmZpY3VsdHlMZXZlbC5JbnRlcm1lZGlhdGU6XG4gICAgICAgICAgICAgIHBvc3NpYmxlU3RhZ2VzID0gW1N0YWdlT2ZDaGFuZ2UuQ29udGVtcGxhdGlvbl07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRGlmZmljdWx0eUxldmVsLkFkdmFuY2VkOlxuICAgICAgICAgICAgICBwb3NzaWJsZVN0YWdlcyA9IFtTdGFnZU9mQ2hhbmdlLlByZWNvbnRlbXBsYXRpb25dO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBwb3NzaWJsZVN0YWdlcyA9IFBBVElFTlRfREFUQS5zdGFnZXNPZkNoYW5nZSBhcyBTdGFnZU9mQ2hhbmdlW107XG4gICAgICB9XG4gICAgICBzdGFnZU9mQ2hhbmdlID0gZ2V0UmFuZG9tRWxlbWVudChwb3NzaWJsZVN0YWdlcyk7XG4gIH0gZWxzZSB7XG4gICAgICAvLyBJZiBubyBmaWx0ZXJzIGFyZSBwcm92aWRlZCwgc2VsZWN0IGEgcmFuZG9tIHN0YWdlXG4gICAgICBzdGFnZU9mQ2hhbmdlID0gZ2V0UmFuZG9tRWxlbWVudChQQVRJRU5UX0RBVEEuc3RhZ2VzT2ZDaGFuZ2UpIGFzIFN0YWdlT2ZDaGFuZ2U7XG4gIH1cblxuICAvLyA3LiBTZWxlY3QgcGVyc29uYWxpdHkgdHJhaXQgKHByZWZlcnMgdmFyaWFudCdzIHN1Z2dlc3RlZCB0cmFpdHMpXG4gIGNvbnN0IHBlcnNvbmFsaXR5VHJhaXQgPSBzZWxlY3RQZXJzb25hbGl0eVRyYWl0KHZhcmlhbnQpO1xuXG4gIC8vIDguIFNlbGVjdCBuYW1lIGF2b2lkaW5nIHJlY2VudGx5IHVzZWQgb25lc1xuICBjb25zdCBzZWxlY3RlZE5hbWUgPSBzZWxlY3ROYW1lQXZvaWRpbmdSZWNlbnQoUEFUSUVOVF9EQVRBLm5hbWVzKTtcbiAgYWRkUmVjZW50TmFtZShzZWxlY3RlZE5hbWUpO1xuXG4gIHJldHVybiB7XG4gICAgLy8gQ29yZSBkZXRhaWxzIGZyb20gdGhlIHZhcmlhbnRcbiAgICB0b3BpYzogdG9waWNUZW1wbGF0ZS50b3BpYyxcbiAgICBwcmVzZW50aW5nUHJvYmxlbTogdmFyaWFudC5wcmVzZW50aW5nUHJvYmxlbSxcbiAgICBoaXN0b3J5OiB2YXJpYW50Lmhpc3RvcnksXG4gICAgY2hpZWZDb21wbGFpbnQ6IGNoaWVmQ29tcGxhaW50LFxuICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG5cbiAgICAvLyBSYW5kb21pemVkIGRlbW9ncmFwaGljIGRldGFpbHNcbiAgICBuYW1lOiBzZWxlY3RlZE5hbWUsXG4gICAgYWdlOiBhZ2UsXG4gICAgc2V4OiBnZXRSYW5kb21FbGVtZW50KFBBVElFTlRfREFUQS5zZXhlcyksXG4gICAgc3RhZ2VPZkNoYW5nZTogc3RhZ2VPZkNoYW5nZSxcbiAgICBcbiAgICAvLyBOZXcgZmllbGRzIGZvciB2YXJpZXR5XG4gICAgcGVyc29uYWxpdHlUcmFpdDogcGVyc29uYWxpdHlUcmFpdCxcbiAgICB2YXJpYW50SWQ6IHZhcmlhbnQudmFyaWFudElkLFxuICB9O1xufTsiXSwibmFtZXMiOlsiU3RhZ2VPZkNoYW5nZSIsIkRpZmZpY3VsdHlMZXZlbCIsIlBBVElFTlRfREFUQSIsIlBBVElFTlRfVE9QSUNfVEVNUExBVEVTIiwiUEVSU09OQUxJVFlfVFJBSVRTIiwiZ2V0UmFuZG9tRWxlbWVudCIsImFyciIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsInNodWZmbGVBcnJheSIsImFycmF5Iiwic2h1ZmZsZWQiLCJpIiwiaiIsIlJFQ0VOVF9OQU1FU19LRVkiLCJSRUNFTlRfTkFNRVNfTUFYIiwiUkVDRU5UX1ZBUklBTlRTX0tFWSIsIlJFQ0VOVF9WQVJJQU5UU19NQVgiLCJnZXRSZWNlbnROYW1lcyIsInN0b3JlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJhZGRSZWNlbnROYW1lIiwibmFtZSIsInJlY2VudCIsInB1c2giLCJzaGlmdCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzZWxlY3ROYW1lQXZvaWRpbmdSZWNlbnQiLCJhbGxOYW1lcyIsImF2YWlsYWJsZSIsImZpbHRlciIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyIsInJlbW92ZUl0ZW0iLCJnZXRSZWNlbnRWYXJpYW50cyIsImFkZFJlY2VudFZhcmlhbnQiLCJ2YXJpYW50SWQiLCJzZWxlY3RWYXJpYW50QXZvaWRpbmdSZWNlbnQiLCJ2YXJpYW50cyIsInYiLCJzZWxlY3RQZXJzb25hbGl0eVRyYWl0IiwidmFyaWFudCIsInR5cGljYWxUcmFpdHMiLCJpZCIsImdlbmVyYXRlUGF0aWVudFByb2ZpbGUiLCJmaWx0ZXJzIiwiYXZhaWxhYmxlVG9waWNUZW1wbGF0ZXMiLCJ0b3BpYyIsInQiLCJzaHVmZmxlZFRvcGljcyIsInRvcGljVGVtcGxhdGUiLCJtaW5BZ2UiLCJtYXhBZ2UiLCJhZ2VSYW5nZSIsImFnZSIsImJhY2tncm91bmQiLCJyZXBsYWNlIiwidG9TdHJpbmciLCJjaGllZkNvbXBsYWludCIsImNvbmZsaWN0aW5nQ2hpZWZDb21wbGFpbnQiLCJzdGFnZU9mQ2hhbmdlIiwiZGlmZmljdWx0eSIsInBvc3NpYmxlU3RhZ2VzIiwiQmVnaW5uZXIiLCJQcmVwYXJhdGlvbiIsIkFjdGlvbiIsIk1haW50ZW5hbmNlIiwiSW50ZXJtZWRpYXRlIiwiQ29udGVtcGxhdGlvbiIsIkFkdmFuY2VkIiwiUHJlY29udGVtcGxhdGlvbiIsInN0YWdlc09mQ2hhbmdlIiwicGVyc29uYWxpdHlUcmFpdCIsInNlbGVjdGVkTmFtZSIsIm5hbWVzIiwicHJlc2VudGluZ1Byb2JsZW0iLCJoaXN0b3J5Iiwic2V4Iiwic2V4ZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./services/patientService.ts\n");

/***/ }),

/***/ "(ssr)/./services/subscriptionService.ts":
/*!*****************************************!*\
  !*** ./services/subscriptionService.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canStartSession: () => (/* binding */ canStartSession),\n/* harmony export */   canStartSessionAnonymous: () => (/* binding */ canStartSessionAnonymous),\n/* harmony export */   getRemainingFreeSessions: () => (/* binding */ getRemainingFreeSessions),\n/* harmony export */   getRemainingFreeSessionsAnonymous: () => (/* binding */ getRemainingFreeSessionsAnonymous),\n/* harmony export */   getSessionsThisMonth: () => (/* binding */ getSessionsThisMonth)\n/* harmony export */ });\n/* harmony import */ var _databaseService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./databaseService */ \"(ssr)/./services/databaseService.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(ssr)/./lib/supabase.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(ssr)/./types.ts\");\n\n\n\n// Free tier limit: 3 sessions per month\nconst FREE_TIER_MONTHLY_LIMIT = 3;\n// localStorage key for anonymous sessions\nconst ANONYMOUS_SESSIONS_KEY = 'mi-coach-anonymous-sessions';\n/**\n * Get the start of the current month in ISO format\n */ const getCurrentMonthStart = ()=>{\n    const now = new Date();\n    return new Date(now.getFullYear(), now.getMonth(), 1);\n};\n/**\n * Get anonymous sessions from localStorage\n */ const getAnonymousSessions = ()=>{\n    try {\n        const sessionsJson = localStorage.getItem(ANONYMOUS_SESSIONS_KEY);\n        if (!sessionsJson) {\n            return [];\n        }\n        return JSON.parse(sessionsJson);\n    } catch (error) {\n        console.error('[subscriptionService] Error loading anonymous sessions from localStorage:', error);\n        return [];\n    }\n};\n/**\n * Get count of anonymous sessions this month\n */ const getAnonymousSessionsThisMonth = ()=>{\n    try {\n        const sessions = getAnonymousSessions();\n        const now = new Date();\n        const monthStart = getCurrentMonthStart();\n        const sessionsThisMonth = sessions.filter((session)=>{\n            const sessionDate = new Date(session.date);\n            return sessionDate >= monthStart && sessionDate <= now && session.tier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Free;\n        });\n        return sessionsThisMonth.length;\n    } catch (error) {\n        console.error('[subscriptionService] Error counting anonymous sessions this month:', error);\n        return 0;\n    }\n};\n/**\n * Check if anonymous user can start a new session\n */ const canStartSessionAnonymous = (userTier)=>{\n    try {\n        console.log('[subscriptionService] Checking if anonymous user can start session:', {\n            userTier\n        });\n        // Premium users have unlimited sessions (shouldn't happen for anonymous, but handle it)\n        if (userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium) {\n            console.log('[subscriptionService] Anonymous premium user - unlimited sessions');\n            return true;\n        }\n        // Free users have a monthly limit\n        if (userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Free) {\n            const sessionsThisMonth = getAnonymousSessionsThisMonth();\n            const canStart = sessionsThisMonth < FREE_TIER_MONTHLY_LIMIT;\n            console.log('[subscriptionService] Anonymous free user - sessions this month:', sessionsThisMonth, 'limit:', FREE_TIER_MONTHLY_LIMIT, 'can start:', canStart);\n            return canStart;\n        }\n        // Unknown tier - default to allowing\n        console.warn('[subscriptionService] Unknown user tier for anonymous user:', userTier);\n        return true;\n    } catch (error) {\n        console.error('[subscriptionService] Error checking if anonymous user can start session:', error);\n        // Fail-open for anonymous users\n        return true;\n    }\n};\n/**\n * Get remaining free sessions for anonymous user\n */ const getRemainingFreeSessionsAnonymous = ()=>{\n    try {\n        console.log('[subscriptionService] Getting remaining free sessions for anonymous user');\n        const sessionsThisMonth = getAnonymousSessionsThisMonth();\n        const remaining = Math.max(0, FREE_TIER_MONTHLY_LIMIT - sessionsThisMonth);\n        console.log('[subscriptionService] Anonymous remaining free sessions:', remaining);\n        return remaining;\n    } catch (error) {\n        console.error('[subscriptionService] Error getting remaining free sessions for anonymous user:', error);\n        // On error, return 0 to be conservative\n        return 0;\n    }\n};\n/**\n * Check if user can start a new session based on their tier and current month's usage\n * Supports both authenticated (with userId) and anonymous (without userId) users\n */ const canStartSession = async (userId, userTier)=>{\n    // If no userId, treat as anonymous user\n    if (!userId) {\n        return canStartSessionAnonymous(userTier);\n    }\n    try {\n        console.log('[subscriptionService] Checking if user can start session:', {\n            userId,\n            userTier\n        });\n        // Premium users have unlimited sessions\n        if (userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Premium) {\n            console.log('[subscriptionService] Premium user - unlimited sessions');\n            return true;\n        }\n        // Free users have a monthly limit\n        if (userTier === _types__WEBPACK_IMPORTED_MODULE_2__.UserTier.Free) {\n            const sessionsThisMonth = await getSessionsThisMonth(userId);\n            const canStart = sessionsThisMonth < FREE_TIER_MONTHLY_LIMIT;\n            console.log('[subscriptionService] Free user - sessions this month:', sessionsThisMonth, 'limit:', FREE_TIER_MONTHLY_LIMIT, 'can start:', canStart);\n            return canStart;\n        }\n        // Unknown tier - default to allowing (or could throw error)\n        console.warn('[subscriptionService] Unknown user tier:', userTier);\n        return true;\n    } catch (error) {\n        console.error('[subscriptionService] Error checking if user can start session:', error);\n        // If Supabase is configured, fail-closed (deny session) on errors to prevent abuse\n        // If Supabase is not configured, fail-open to allow mock/offline testing\n        const shouldFailClosed = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.isSupabaseConfigured)();\n        console.warn('[subscriptionService] Using', shouldFailClosed ? 'fail-closed' : 'fail-open', 'strategy');\n        return !shouldFailClosed;\n    }\n};\n/**\n * Get count of free sessions used this month\n */ const getSessionsThisMonth = async (userId)=>{\n    try {\n        console.log('[subscriptionService] Getting sessions this month for user:', userId);\n        const monthStart = getCurrentMonthStart();\n        const count = await (0,_databaseService__WEBPACK_IMPORTED_MODULE_0__.getSessionCount)(userId, monthStart);\n        console.log('[subscriptionService] Sessions this month:', count);\n        return count;\n    } catch (error) {\n        console.error('[subscriptionService] Error getting sessions this month:', error);\n        // Fallback: try to get count from all sessions\n        try {\n            const allSessions = await (0,_databaseService__WEBPACK_IMPORTED_MODULE_0__.getUserSessions)(userId);\n            const now = new Date();\n            const monthStart = getCurrentMonthStart();\n            const sessionsThisMonth = allSessions.filter((session)=>{\n                const sessionDate = new Date(session.date);\n                return sessionDate >= monthStart && sessionDate <= now;\n            });\n            return sessionsThisMonth.length;\n        } catch (fallbackError) {\n            console.error('[subscriptionService] Fallback also failed:', fallbackError);\n            return 0;\n        }\n    }\n};\n/**\n * Get remaining free sessions for the current month\n * Supports both authenticated (with userId) and anonymous (without userId) users\n */ const getRemainingFreeSessions = async (userId)=>{\n    // If no userId, treat as anonymous user\n    if (!userId) {\n        return getRemainingFreeSessionsAnonymous();\n    }\n    try {\n        console.log('[subscriptionService] Getting remaining free sessions for user:', userId);\n        const sessionsThisMonth = await getSessionsThisMonth(userId);\n        const remaining = Math.max(0, FREE_TIER_MONTHLY_LIMIT - sessionsThisMonth);\n        console.log('[subscriptionService] Remaining free sessions:', remaining);\n        return remaining;\n    } catch (error) {\n        console.error('[subscriptionService] Error getting remaining free sessions:', error);\n        // On error, return 0 to be conservative\n        return 0;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLENBQUNDLENBQUFBO2dCQUN6QyxNQUFNQyxjQUFjLElBQUlqQixLQUFLZ0IsUUFBUUUsSUFBSTtnQkFDekMsT0FBT0QsZUFBZUosY0FBY0ksZUFBZWxCO1lBQ3ZEO1lBQ0EsT0FBT2Usa0JBQWtCTyxNQUFNO1FBQ25DLEVBQUUsT0FBT2lCLGVBQWU7WUFDcEI1QixRQUFRRCxLQUFLLENBQUMsK0NBQStDNkI7WUFDN0QsT0FBTztRQUNYO0lBQ0o7QUFDSixFQUFFO0FBRUY7OztDQUdDLEdBQ00sTUFBTUMsMkJBQTJCLE9BQU9OO0lBQzNDLHdDQUF3QztJQUN4QyxJQUFJLENBQUNBLFFBQVE7UUFDVCxPQUFPTDtJQUNYO0lBRUEsSUFBSTtRQUNBbEIsUUFBUWMsR0FBRyxDQUFDLG1FQUFtRVM7UUFFL0UsTUFBTW5CLG9CQUFvQixNQUFNb0IscUJBQXFCRDtRQUNyRCxNQUFNSixZQUFZQyxLQUFLQyxHQUFHLENBQUMsR0FBR25DLDBCQUEwQmtCO1FBRXhESixRQUFRYyxHQUFHLENBQUMsa0RBQWtESztRQUM5RCxPQUFPQTtJQUNYLEVBQUUsT0FBT3BCLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLGdFQUFnRUE7UUFDOUUsd0NBQXdDO1FBQ3hDLE9BQU87SUFDWDtBQUNKLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXZpL2Rldi9NYWluMk1JL3NlcnZpY2VzL3N1YnNjcmlwdGlvblNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0U2Vzc2lvbkNvdW50LCBnZXRVc2VyU2Vzc2lvbnMgfSBmcm9tICcuL2RhdGFiYXNlU2VydmljZSc7XG5pbXBvcnQgeyBpc1N1cGFiYXNlQ29uZmlndXJlZCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcbmltcG9ydCB7IFVzZXJUaWVyLCBTZXNzaW9uIH0gZnJvbSAnQC90eXBlcyc7XG5cbi8vIEZyZWUgdGllciBsaW1pdDogMyBzZXNzaW9ucyBwZXIgbW9udGhcbmNvbnN0IEZSRUVfVElFUl9NT05USExZX0xJTUlUID0gMztcblxuLy8gbG9jYWxTdG9yYWdlIGtleSBmb3IgYW5vbnltb3VzIHNlc3Npb25zXG5jb25zdCBBTk9OWU1PVVNfU0VTU0lPTlNfS0VZID0gJ21pLWNvYWNoLWFub255bW91cy1zZXNzaW9ucyc7XG5cbi8qKlxuICogR2V0IHRoZSBzdGFydCBvZiB0aGUgY3VycmVudCBtb250aCBpbiBJU08gZm9ybWF0XG4gKi9cbmNvbnN0IGdldEN1cnJlbnRNb250aFN0YXJ0ID0gKCk6IERhdGUgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgcmV0dXJuIG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG59O1xuXG4vKipcbiAqIEdldCBhbm9ueW1vdXMgc2Vzc2lvbnMgZnJvbSBsb2NhbFN0b3JhZ2VcbiAqL1xuY29uc3QgZ2V0QW5vbnltb3VzU2Vzc2lvbnMgPSAoKTogU2Vzc2lvbltdID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXNzaW9uc0pzb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShBTk9OWU1PVVNfU0VTU0lPTlNfS0VZKTtcbiAgICAgICAgaWYgKCFzZXNzaW9uc0pzb24pIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzZXNzaW9uc0pzb24pIGFzIFNlc3Npb25bXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gRXJyb3IgbG9hZGluZyBhbm9ueW1vdXMgc2Vzc2lvbnMgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgY291bnQgb2YgYW5vbnltb3VzIHNlc3Npb25zIHRoaXMgbW9udGhcbiAqL1xuY29uc3QgZ2V0QW5vbnltb3VzU2Vzc2lvbnNUaGlzTW9udGggPSAoKTogbnVtYmVyID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IGdldEFub255bW91c1Nlc3Npb25zKCk7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IG1vbnRoU3RhcnQgPSBnZXRDdXJyZW50TW9udGhTdGFydCgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnNUaGlzTW9udGggPSBzZXNzaW9ucy5maWx0ZXIoc2Vzc2lvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0ZSA9IG5ldyBEYXRlKHNlc3Npb24uZGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvbkRhdGUgPj0gbW9udGhTdGFydCAmJiBzZXNzaW9uRGF0ZSA8PSBub3cgJiYgc2Vzc2lvbi50aWVyID09PSBVc2VyVGllci5GcmVlO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzZXNzaW9uc1RoaXNNb250aC5sZW5ndGg7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3N1YnNjcmlwdGlvblNlcnZpY2VdIEVycm9yIGNvdW50aW5nIGFub255bW91cyBzZXNzaW9ucyB0aGlzIG1vbnRoOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhbm9ueW1vdXMgdXNlciBjYW4gc3RhcnQgYSBuZXcgc2Vzc2lvblxuICovXG5leHBvcnQgY29uc3QgY2FuU3RhcnRTZXNzaW9uQW5vbnltb3VzID0gKHVzZXJUaWVyOiBVc2VyVGllcik6IGJvb2xlYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gQ2hlY2tpbmcgaWYgYW5vbnltb3VzIHVzZXIgY2FuIHN0YXJ0IHNlc3Npb246JywgeyB1c2VyVGllciB9KTtcblxuICAgICAgICAvLyBQcmVtaXVtIHVzZXJzIGhhdmUgdW5saW1pdGVkIHNlc3Npb25zIChzaG91bGRuJ3QgaGFwcGVuIGZvciBhbm9ueW1vdXMsIGJ1dCBoYW5kbGUgaXQpXG4gICAgICAgIGlmICh1c2VyVGllciA9PT0gVXNlclRpZXIuUHJlbWl1bSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tzdWJzY3JpcHRpb25TZXJ2aWNlXSBBbm9ueW1vdXMgcHJlbWl1bSB1c2VyIC0gdW5saW1pdGVkIHNlc3Npb25zJyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZyZWUgdXNlcnMgaGF2ZSBhIG1vbnRobHkgbGltaXRcbiAgICAgICAgaWYgKHVzZXJUaWVyID09PSBVc2VyVGllci5GcmVlKSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uc1RoaXNNb250aCA9IGdldEFub255bW91c1Nlc3Npb25zVGhpc01vbnRoKCk7XG4gICAgICAgICAgICBjb25zdCBjYW5TdGFydCA9IHNlc3Npb25zVGhpc01vbnRoIDwgRlJFRV9USUVSX01PTlRITFlfTElNSVQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gQW5vbnltb3VzIGZyZWUgdXNlciAtIHNlc3Npb25zIHRoaXMgbW9udGg6Jywgc2Vzc2lvbnNUaGlzTW9udGgsICdsaW1pdDonLCBGUkVFX1RJRVJfTU9OVEhMWV9MSU1JVCwgJ2NhbiBzdGFydDonLCBjYW5TdGFydCk7XG4gICAgICAgICAgICByZXR1cm4gY2FuU3RhcnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbmtub3duIHRpZXIgLSBkZWZhdWx0IHRvIGFsbG93aW5nXG4gICAgICAgIGNvbnNvbGUud2FybignW3N1YnNjcmlwdGlvblNlcnZpY2VdIFVua25vd24gdXNlciB0aWVyIGZvciBhbm9ueW1vdXMgdXNlcjonLCB1c2VyVGllcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzdWJzY3JpcHRpb25TZXJ2aWNlXSBFcnJvciBjaGVja2luZyBpZiBhbm9ueW1vdXMgdXNlciBjYW4gc3RhcnQgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICAgIC8vIEZhaWwtb3BlbiBmb3IgYW5vbnltb3VzIHVzZXJzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn07XG5cbi8qKlxuICogR2V0IHJlbWFpbmluZyBmcmVlIHNlc3Npb25zIGZvciBhbm9ueW1vdXMgdXNlclxuICovXG5leHBvcnQgY29uc3QgZ2V0UmVtYWluaW5nRnJlZVNlc3Npb25zQW5vbnltb3VzID0gKCk6IG51bWJlciA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tzdWJzY3JpcHRpb25TZXJ2aWNlXSBHZXR0aW5nIHJlbWFpbmluZyBmcmVlIHNlc3Npb25zIGZvciBhbm9ueW1vdXMgdXNlcicpO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnNUaGlzTW9udGggPSBnZXRBbm9ueW1vdXNTZXNzaW9uc1RoaXNNb250aCgpO1xuICAgICAgICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBGUkVFX1RJRVJfTU9OVEhMWV9MSU1JVCAtIHNlc3Npb25zVGhpc01vbnRoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gQW5vbnltb3VzIHJlbWFpbmluZyBmcmVlIHNlc3Npb25zOicsIHJlbWFpbmluZyk7XG4gICAgICAgIHJldHVybiByZW1haW5pbmc7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3N1YnNjcmlwdGlvblNlcnZpY2VdIEVycm9yIGdldHRpbmcgcmVtYWluaW5nIGZyZWUgc2Vzc2lvbnMgZm9yIGFub255bW91cyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgLy8gT24gZXJyb3IsIHJldHVybiAwIHRvIGJlIGNvbnNlcnZhdGl2ZVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHVzZXIgY2FuIHN0YXJ0IGEgbmV3IHNlc3Npb24gYmFzZWQgb24gdGhlaXIgdGllciBhbmQgY3VycmVudCBtb250aCdzIHVzYWdlXG4gKiBTdXBwb3J0cyBib3RoIGF1dGhlbnRpY2F0ZWQgKHdpdGggdXNlcklkKSBhbmQgYW5vbnltb3VzICh3aXRob3V0IHVzZXJJZCkgdXNlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGNhblN0YXJ0U2Vzc2lvbiA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyB8IG51bGwsIHVzZXJUaWVyOiBVc2VyVGllcik6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIC8vIElmIG5vIHVzZXJJZCwgdHJlYXQgYXMgYW5vbnltb3VzIHVzZXJcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICByZXR1cm4gY2FuU3RhcnRTZXNzaW9uQW5vbnltb3VzKHVzZXJUaWVyKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnW3N1YnNjcmlwdGlvblNlcnZpY2VdIENoZWNraW5nIGlmIHVzZXIgY2FuIHN0YXJ0IHNlc3Npb246JywgeyB1c2VySWQsIHVzZXJUaWVyIH0pO1xuXG4gICAgICAgIC8vIFByZW1pdW0gdXNlcnMgaGF2ZSB1bmxpbWl0ZWQgc2Vzc2lvbnNcbiAgICAgICAgaWYgKHVzZXJUaWVyID09PSBVc2VyVGllci5QcmVtaXVtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW3N1YnNjcmlwdGlvblNlcnZpY2VdIFByZW1pdW0gdXNlciAtIHVubGltaXRlZCBzZXNzaW9ucycpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGcmVlIHVzZXJzIGhhdmUgYSBtb250aGx5IGxpbWl0XG4gICAgICAgIGlmICh1c2VyVGllciA9PT0gVXNlclRpZXIuRnJlZSkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbnNUaGlzTW9udGggPSBhd2FpdCBnZXRTZXNzaW9uc1RoaXNNb250aCh1c2VySWQpO1xuICAgICAgICAgICAgY29uc3QgY2FuU3RhcnQgPSBzZXNzaW9uc1RoaXNNb250aCA8IEZSRUVfVElFUl9NT05USExZX0xJTUlUO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW3N1YnNjcmlwdGlvblNlcnZpY2VdIEZyZWUgdXNlciAtIHNlc3Npb25zIHRoaXMgbW9udGg6Jywgc2Vzc2lvbnNUaGlzTW9udGgsICdsaW1pdDonLCBGUkVFX1RJRVJfTU9OVEhMWV9MSU1JVCwgJ2NhbiBzdGFydDonLCBjYW5TdGFydCk7XG4gICAgICAgICAgICByZXR1cm4gY2FuU3RhcnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbmtub3duIHRpZXIgLSBkZWZhdWx0IHRvIGFsbG93aW5nIChvciBjb3VsZCB0aHJvdyBlcnJvcilcbiAgICAgICAgY29uc29sZS53YXJuKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gVW5rbm93biB1c2VyIHRpZXI6JywgdXNlclRpZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gRXJyb3IgY2hlY2tpbmcgaWYgdXNlciBjYW4gc3RhcnQgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICAgIC8vIElmIFN1cGFiYXNlIGlzIGNvbmZpZ3VyZWQsIGZhaWwtY2xvc2VkIChkZW55IHNlc3Npb24pIG9uIGVycm9ycyB0byBwcmV2ZW50IGFidXNlXG4gICAgICAgIC8vIElmIFN1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLCBmYWlsLW9wZW4gdG8gYWxsb3cgbW9jay9vZmZsaW5lIHRlc3RpbmdcbiAgICAgICAgY29uc3Qgc2hvdWxkRmFpbENsb3NlZCA9IGlzU3VwYWJhc2VDb25maWd1cmVkKCk7XG4gICAgICAgIGNvbnNvbGUud2FybignW3N1YnNjcmlwdGlvblNlcnZpY2VdIFVzaW5nJywgc2hvdWxkRmFpbENsb3NlZCA/ICdmYWlsLWNsb3NlZCcgOiAnZmFpbC1vcGVuJywgJ3N0cmF0ZWd5Jyk7XG4gICAgICAgIHJldHVybiAhc2hvdWxkRmFpbENsb3NlZDtcbiAgICB9XG59O1xuXG4vKipcbiAqIEdldCBjb3VudCBvZiBmcmVlIHNlc3Npb25zIHVzZWQgdGhpcyBtb250aFxuICovXG5leHBvcnQgY29uc3QgZ2V0U2Vzc2lvbnNUaGlzTW9udGggPSBhc3luYyAodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gR2V0dGluZyBzZXNzaW9ucyB0aGlzIG1vbnRoIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBtb250aFN0YXJ0ID0gZ2V0Q3VycmVudE1vbnRoU3RhcnQoKTtcbiAgICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBnZXRTZXNzaW9uQ291bnQodXNlcklkLCBtb250aFN0YXJ0KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gU2Vzc2lvbnMgdGhpcyBtb250aDonLCBjb3VudCk7XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gRXJyb3IgZ2V0dGluZyBzZXNzaW9ucyB0aGlzIG1vbnRoOicsIGVycm9yKTtcbiAgICAgICAgLy8gRmFsbGJhY2s6IHRyeSB0byBnZXQgY291bnQgZnJvbSBhbGwgc2Vzc2lvbnNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFsbFNlc3Npb25zID0gYXdhaXQgZ2V0VXNlclNlc3Npb25zKHVzZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgbW9udGhTdGFydCA9IGdldEN1cnJlbnRNb250aFN0YXJ0KCk7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uc1RoaXNNb250aCA9IGFsbFNlc3Npb25zLmZpbHRlcihzZXNzaW9uID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0ZSA9IG5ldyBEYXRlKHNlc3Npb24uZGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25EYXRlID49IG1vbnRoU3RhcnQgJiYgc2Vzc2lvbkRhdGUgPD0gbm93O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvbnNUaGlzTW9udGgubGVuZ3RoO1xuICAgICAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gRmFsbGJhY2sgYWxzbyBmYWlsZWQ6JywgZmFsbGJhY2tFcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogR2V0IHJlbWFpbmluZyBmcmVlIHNlc3Npb25zIGZvciB0aGUgY3VycmVudCBtb250aFxuICogU3VwcG9ydHMgYm90aCBhdXRoZW50aWNhdGVkICh3aXRoIHVzZXJJZCkgYW5kIGFub255bW91cyAod2l0aG91dCB1c2VySWQpIHVzZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRSZW1haW5pbmdGcmVlU2Vzc2lvbnMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcgfCBudWxsKTogUHJvbWlzZTxudW1iZXI+ID0+IHtcbiAgICAvLyBJZiBubyB1c2VySWQsIHRyZWF0IGFzIGFub255bW91cyB1c2VyXG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIGdldFJlbWFpbmluZ0ZyZWVTZXNzaW9uc0Fub255bW91cygpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gR2V0dGluZyByZW1haW5pbmcgZnJlZSBzZXNzaW9ucyBmb3IgdXNlcjonLCB1c2VySWQpO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnNUaGlzTW9udGggPSBhd2FpdCBnZXRTZXNzaW9uc1RoaXNNb250aCh1c2VySWQpO1xuICAgICAgICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBGUkVFX1RJRVJfTU9OVEhMWV9MSU1JVCAtIHNlc3Npb25zVGhpc01vbnRoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gUmVtYWluaW5nIGZyZWUgc2Vzc2lvbnM6JywgcmVtYWluaW5nKTtcbiAgICAgICAgcmV0dXJuIHJlbWFpbmluZztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc3Vic2NyaXB0aW9uU2VydmljZV0gRXJyb3IgZ2V0dGluZyByZW1haW5pbmcgZnJlZSBzZXNzaW9uczonLCBlcnJvcik7XG4gICAgICAgIC8vIE9uIGVycm9yLCByZXR1cm4gMCB0byBiZSBjb25zZXJ2YXRpdmVcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufTtcblxuIl0sIm5hbWVzIjpbImdldFNlc3Npb25Db3VudCIsImdldFVzZXJTZXNzaW9ucyIsImlzU3VwYWJhc2VDb25maWd1cmVkIiwiVXNlclRpZXIiLCJGUkVFX1RJRVJfTU9OVEhMWV9MSU1JVCIsIkFOT05ZTU9VU19TRVNTSU9OU19LRVkiLCJnZXRDdXJyZW50TW9udGhTdGFydCIsIm5vdyIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0QW5vbnltb3VzU2Vzc2lvbnMiLCJzZXNzaW9uc0pzb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0QW5vbnltb3VzU2Vzc2lvbnNUaGlzTW9udGgiLCJzZXNzaW9ucyIsIm1vbnRoU3RhcnQiLCJzZXNzaW9uc1RoaXNNb250aCIsImZpbHRlciIsInNlc3Npb24iLCJzZXNzaW9uRGF0ZSIsImRhdGUiLCJ0aWVyIiwiRnJlZSIsImxlbmd0aCIsImNhblN0YXJ0U2Vzc2lvbkFub255bW91cyIsInVzZXJUaWVyIiwibG9nIiwiUHJlbWl1bSIsImNhblN0YXJ0Iiwid2FybiIsImdldFJlbWFpbmluZ0ZyZWVTZXNzaW9uc0Fub255bW91cyIsInJlbWFpbmluZyIsIk1hdGgiLCJtYXgiLCJjYW5TdGFydFNlc3Npb24iLCJ1c2VySWQiLCJnZXRTZXNzaW9uc1RoaXNNb250aCIsInNob3VsZEZhaWxDbG9zZWQiLCJjb3VudCIsImFsbFNlc3Npb25zIiwiZmFsbGJhY2tFcnJvciIsImdldFJlbWFpbmluZ0ZyZWVTZXNzaW9ucyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./services/subscriptionService.ts\n");

/***/ }),

/***/ "(ssr)/./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DifficultyLevel: () => (/* binding */ DifficultyLevel),\n/* harmony export */   StageOfChange: () => (/* binding */ StageOfChange),\n/* harmony export */   UserTier: () => (/* binding */ UserTier),\n/* harmony export */   View: () => (/* binding */ View)\n/* harmony export */ });\n// FIX: Removed self-import of `StageOfChange` which was causing a circular dependency\n// and conflicting declarations. The enum is defined within this file.\nvar UserTier = /*#__PURE__*/ function(UserTier) {\n    UserTier[\"Free\"] = \"free\";\n    UserTier[\"Premium\"] = \"premium\";\n    return UserTier;\n}({});\nvar View = /*#__PURE__*/ function(View) {\n    View[\"Login\"] = \"login\";\n    View[\"ForgotPassword\"] = \"forgotPassword\";\n    View[\"ResetPassword\"] = \"resetPassword\";\n    View[\"EmailConfirmation\"] = \"emailConfirmation\";\n    View[\"Dashboard\"] = \"dashboard\";\n    View[\"Practice\"] = \"practice\";\n    View[\"Feedback\"] = \"feedback\";\n    View[\"History\"] = \"history\";\n    View[\"ResourceLibrary\"] = \"resourceLibrary\";\n    View[\"Paywall\"] = \"paywall\";\n    View[\"Settings\"] = \"settings\";\n    View[\"ScenarioSelection\"] = \"scenarioSelection\";\n    View[\"Calendar\"] = \"calendar\";\n    View[\"CoachingSummary\"] = \"coachingSummary\";\n    View[\"Reports\"] = \"reports\";\n    View[\"PrivacyPolicy\"] = \"privacyPolicy\";\n    View[\"TermsOfService\"] = \"termsOfService\";\n    View[\"SubscriptionTerms\"] = \"subscriptionTerms\";\n    View[\"CookiePolicy\"] = \"cookiePolicy\";\n    View[\"Disclaimer\"] = \"disclaimer\";\n    View[\"Support\"] = \"support\";\n    View[\"CancelSubscription\"] = \"cancelSubscription\";\n    return View;\n}({});\nvar StageOfChange = /*#__PURE__*/ function(StageOfChange) {\n    StageOfChange[\"Precontemplation\"] = \"Precontemplation\";\n    StageOfChange[\"Contemplation\"] = \"Contemplation\";\n    StageOfChange[\"Preparation\"] = \"Preparation\";\n    StageOfChange[\"Action\"] = \"Action\";\n    StageOfChange[\"Maintenance\"] = \"Maintenance\";\n    return StageOfChange;\n}({});\nvar DifficultyLevel = /*#__PURE__*/ function(DifficultyLevel) {\n    DifficultyLevel[\"Beginner\"] = \"Beginner\";\n    DifficultyLevel[\"Intermediate\"] = \"Intermediate\";\n    DifficultyLevel[\"Advanced\"] = \"Advanced\";\n    return DifficultyLevel;\n}({});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi90eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3RGLHNFQUFzRTtBQUUvRCxzQ0FBS0E7OztXQUFBQTtNQUdYO0FBRU0sa0NBQUtDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQUFBQTtNQXVCWDtBQUVNLDJDQUFLQzs7Ozs7O1dBQUFBO01BTVg7QUFFTSw2Q0FBS0M7Ozs7V0FBQUE7TUFJWCIsInNvdXJjZXMiOlsiL1VzZXJzL2phdmkvZGV2L01haW4yTUkvdHlwZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRklYOiBSZW1vdmVkIHNlbGYtaW1wb3J0IG9mIGBTdGFnZU9mQ2hhbmdlYCB3aGljaCB3YXMgY2F1c2luZyBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGFuZCBjb25mbGljdGluZyBkZWNsYXJhdGlvbnMuIFRoZSBlbnVtIGlzIGRlZmluZWQgd2l0aGluIHRoaXMgZmlsZS5cblxuZXhwb3J0IGVudW0gVXNlclRpZXIge1xuICBGcmVlID0gJ2ZyZWUnLFxuICBQcmVtaXVtID0gJ3ByZW1pdW0nLFxufVxuXG5leHBvcnQgZW51bSBWaWV3IHtcbiAgTG9naW4gPSAnbG9naW4nLFxuICBGb3Jnb3RQYXNzd29yZCA9ICdmb3Jnb3RQYXNzd29yZCcsXG4gIFJlc2V0UGFzc3dvcmQgPSAncmVzZXRQYXNzd29yZCcsXG4gIEVtYWlsQ29uZmlybWF0aW9uID0gJ2VtYWlsQ29uZmlybWF0aW9uJyxcbiAgRGFzaGJvYXJkID0gJ2Rhc2hib2FyZCcsXG4gIFByYWN0aWNlID0gJ3ByYWN0aWNlJyxcbiAgRmVlZGJhY2sgPSAnZmVlZGJhY2snLFxuICBIaXN0b3J5ID0gJ2hpc3RvcnknLFxuICBSZXNvdXJjZUxpYnJhcnkgPSAncmVzb3VyY2VMaWJyYXJ5JyxcbiAgUGF5d2FsbCA9ICdwYXl3YWxsJyxcbiAgU2V0dGluZ3MgPSAnc2V0dGluZ3MnLFxuICBTY2VuYXJpb1NlbGVjdGlvbiA9ICdzY2VuYXJpb1NlbGVjdGlvbicsXG4gIENhbGVuZGFyID0gJ2NhbGVuZGFyJyxcbiAgQ29hY2hpbmdTdW1tYXJ5ID0gJ2NvYWNoaW5nU3VtbWFyeScsXG4gIFJlcG9ydHMgPSAncmVwb3J0cycsXG4gIFByaXZhY3lQb2xpY3kgPSAncHJpdmFjeVBvbGljeScsXG4gIFRlcm1zT2ZTZXJ2aWNlID0gJ3Rlcm1zT2ZTZXJ2aWNlJyxcbiAgU3Vic2NyaXB0aW9uVGVybXMgPSAnc3Vic2NyaXB0aW9uVGVybXMnLFxuICBDb29raWVQb2xpY3kgPSAnY29va2llUG9saWN5JyxcbiAgRGlzY2xhaW1lciA9ICdkaXNjbGFpbWVyJyxcbiAgU3VwcG9ydCA9ICdzdXBwb3J0JyxcbiAgQ2FuY2VsU3Vic2NyaXB0aW9uID0gJ2NhbmNlbFN1YnNjcmlwdGlvbicsXG59XG5cbmV4cG9ydCBlbnVtIFN0YWdlT2ZDaGFuZ2Uge1xuICBQcmVjb250ZW1wbGF0aW9uID0gJ1ByZWNvbnRlbXBsYXRpb24nLFxuICBDb250ZW1wbGF0aW9uID0gJ0NvbnRlbXBsYXRpb24nLFxuICBQcmVwYXJhdGlvbiA9ICdQcmVwYXJhdGlvbicsXG4gIEFjdGlvbiA9ICdBY3Rpb24nLFxuICBNYWludGVuYW5jZSA9ICdNYWludGVuYW5jZScsXG59XG5cbmV4cG9ydCBlbnVtIERpZmZpY3VsdHlMZXZlbCB7XG4gIEJlZ2lubmVyID0gJ0JlZ2lubmVyJyxcbiAgSW50ZXJtZWRpYXRlID0gJ0ludGVybWVkaWF0ZScsXG4gIEFkdmFuY2VkID0gJ0FkdmFuY2VkJyxcbn1cblxuLy8gUGVyc29uYWxpdHkgdHJhaXRzIHRoYXQgYWZmZWN0IHBhdGllbnQgYmVoYXZpb3IgYW5kIGFkZCBjb21wbGV4aXR5XG5leHBvcnQgdHlwZSBQZXJzb25hbGl0eVRyYWl0ID0gXG4gIHwgJ2RlZmVuc2l2ZSdcbiAgfCAnZW1vdGlvbmFsJ1xuICB8ICdyZXNlcnZlZCdcbiAgfCAndGFsa2F0aXZlJ1xuICB8ICdpbnRlbGxlY3R1YWxpemVyJ1xuICB8ICdwbGVhc2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXRpZW50UHJvZmlsZSB7XG4gIG5hbWU6IHN0cmluZztcbiAgYWdlOiBudW1iZXI7XG4gIHNleDogJ01hbGUnIHwgJ0ZlbWFsZScgfCAnTm9uLWJpbmFyeSc7XG4gIGJhY2tncm91bmQ6IHN0cmluZztcbiAgcHJlc2VudGluZ1Byb2JsZW06IHN0cmluZztcbiAgdG9waWM6IHN0cmluZztcbiAgaGlzdG9yeTogc3RyaW5nO1xuICBjaGllZkNvbXBsYWludDogc3RyaW5nO1xuICBzdGFnZU9mQ2hhbmdlOiBTdGFnZU9mQ2hhbmdlO1xuICBwZXJzb25hbGl0eVRyYWl0PzogUGVyc29uYWxpdHlUcmFpdDsgLy8gQWZmZWN0cyBwYXRpZW50IGJlaGF2aW9yIChlLmcuLCBkZWZlbnNpdmUsIGVtb3Rpb25hbClcbiAgdmFyaWFudElkPzogc3RyaW5nOyAvLyBUcmFja3Mgd2hpY2ggYmFja3N0b3J5IHZhcmlhbnQgd2FzIHVzZWRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXRpZW50UHJvZmlsZUZpbHRlcnMge1xuICB0b3BpYz86IHN0cmluZztcbiAgc3RhZ2VPZkNoYW5nZT86IFN0YWdlT2ZDaGFuZ2U7XG4gIGRpZmZpY3VsdHk/OiBEaWZmaWN1bHR5TGV2ZWw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdE1lc3NhZ2Uge1xuICAgIGF1dGhvcjogJ3VzZXInIHwgJ3BhdGllbnQnO1xuICAgIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGZWVkYmFjayB7XG4gICAgd2hhdFdlbnRSaWdodDogc3RyaW5nOyAvLyBTdGF5cyBmb3IgZnJlZSB0aWVyIGNvbXBhdGliaWxpdHkgYW5kIGFzIGEgcHJlbWl1bSBzdW1tYXJ5XG4gICAga2V5VGFrZWF3YXk/OiBzdHJpbmc7XG4gICAgZW1wYXRoeVNjb3JlOiBudW1iZXI7IC8vIEFsd2F5cyBnZW5lcmF0ZWQgKDEtNSlcbiAgICBlbXBhdGh5QnJlYWtkb3duPzogc3RyaW5nOyAvLyBFeHBsYW5hdGlvbiBvZiB3aHkgdGhhdCBzY29yZVxuICAgIGNvbnN0cnVjdGl2ZUZlZWRiYWNrPzogc3RyaW5nOyAvLyBGb3JtZXJseSBhcmVhc0Zvckdyb3d0aCAoa2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgICBhcmVhc0Zvckdyb3d0aD86IHN0cmluZzsgLy8gU3BlY2lmaWMgc3VnZ2VzdGlvbnMgZm9yIGdyb3d0aFxuICAgIGtleVNraWxsc1VzZWQ/OiBzdHJpbmdbXTsgLy8gQ2hhbmdlZCBmcm9tIHN0cmluZyB0byBzdHJpbmdbXSAoa2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgICBza2lsbHNEZXRlY3RlZD86IHN0cmluZ1tdOyAvLyBBcnJheSBvZiBza2lsbCBuYW1lcyB0aGF0IHdlcmUgdXNlZFxuICAgIHNraWxsQ291bnRzPzogUmVjb3JkPHN0cmluZywgbnVtYmVyPjsgLy8gT2JqZWN0IHdpdGggY291bnQgcGVyIHNraWxsLCBlLmcuLCB7XCJSZWZsZWN0aW9uc1wiOiA0LCBcIk9wZW4gUXVlc3Rpb25zXCI6IDJ9XG4gICAgbmV4dFByYWN0aWNlRm9jdXM/OiBzdHJpbmc7IC8vIEtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICBuZXh0Rm9jdXM/OiBzdHJpbmc7IC8vIE5leHQgcHJhY3RpY2UgcmVjb21tZW5kYXRpb25cbiAgICBhbmFseXNpc1N0YXR1cz86ICdjb21wbGV0ZScgfCAnaW5zdWZmaWNpZW50LWRhdGEnIHwgJ2Vycm9yJztcbiAgICBhbmFseXNpc01lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBkYXRlOiBzdHJpbmc7XG4gICAgcGF0aWVudDogUGF0aWVudFByb2ZpbGU7XG4gICAgdHJhbnNjcmlwdDogQ2hhdE1lc3NhZ2VbXTtcbiAgICBmZWVkYmFjazogRmVlZGJhY2s7XG4gICAgdGllcjogVXNlclRpZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29hY2hpbmdTdW1tYXJ5IHtcbiAgICB0b3RhbFNlc3Npb25zOiBudW1iZXI7XG4gICAgZGF0ZVJhbmdlOiBzdHJpbmc7XG4gICAgc3RyZW5ndGhzQW5kVHJlbmRzOiBzdHJpbmc7XG4gICAgYXJlYXNGb3JGb2N1czogc3RyaW5nO1xuICAgIHN1bW1hcnlBbmROZXh0U3RlcHM6IHN0cmluZztcbiAgICBza2lsbFByb2dyZXNzaW9uPzogQXJyYXk8e1xuICAgICAgICBza2lsbE5hbWU6IHN0cmluZztcbiAgICAgICAgdG90YWxDb3VudDogbnVtYmVyO1xuICAgICAgICBhdmVyYWdlUGVyU2Vzc2lvbjogbnVtYmVyO1xuICAgICAgICB0cmVuZDogJ2luY3JlYXNpbmcnIHwgJ3N0YWJsZScgfCAnZGVjcmVhc2luZyc7XG4gICAgfT47XG4gICAgdG9wU2tpbGxzVG9JbXByb3ZlPzogc3RyaW5nW107XG4gICAgc3BlY2lmaWNOZXh0U3RlcHM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpcHRpb25EZXRhaWxzIHtcbiAgICBjdXN0b21lcklkOiBzdHJpbmc7XG4gICAgc3Vic2NyaXB0aW9uSWQ6IHN0cmluZztcbiAgICBwbGFuOiAnbW9udGhseScgfCAnYW5udWFsJyB8ICd1bmtub3duJztcbiAgICBzdGF0dXM6IHN0cmluZztcbiAgICBjdXJyZW50UGVyaW9kRW5kOiBzdHJpbmc7XG4gICAgY2FuY2VsQXRQZXJpb2RFbmQ6IGJvb2xlYW47XG4gICAgY3VycmVudFByaWNlOiBudW1iZXI7XG4gICAgb3JpZ2luYWxQcmljZTogbnVtYmVyO1xuICAgIGRpc2NvdW50UGVyY2VudDogbnVtYmVyO1xuICAgIGhhc1JldGVudGlvbkRpc2NvdW50OiBib29sZWFuO1xufSJdLCJuYW1lcyI6WyJVc2VyVGllciIsIlZpZXciLCJTdGFnZU9mQ2hhbmdlIiwiRGlmZmljdWx0eUxldmVsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./types.ts\n");

/***/ }),

/***/ "(ssr)/./utils/errorHandler.ts":
/*!*******************************!*\
  !*** ./utils/errorHandler.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorHandler: () => (/* binding */ ErrorHandler),\n/* harmony export */   createErrorResponse: () => (/* binding */ createErrorResponse),\n/* harmony export */   safeExecute: () => (/* binding */ safeExecute)\n/* harmony export */ });\n/**\n * Standardized error handling utility\n * Provides consistent error response format and logging\n */ /**\n * Error Handler class for consistent error management\n */ class ErrorHandler {\n    static{\n        this.logLevel =  false ? 0 : 'debug';\n    }\n    /**\n   * Create a standardized error object\n   */ static createError(message, code, details, userId, action) {\n        return {\n            error: message,\n            code,\n            details,\n            timestamp: new Date().toISOString(),\n            userId,\n            action\n        };\n    }\n    /**\n   * Log error with context\n   */ static logError(error, context) {\n        const level = context?.level || 'error';\n        const errorObj = typeof error === 'string' ? this.createError(error, undefined, undefined, context?.userId, context?.action) : error instanceof Error ? this.createError(error.message, error.name, error.stack, context?.userId, context?.action) : error;\n        if (this.shouldLog(level)) {\n            const logMethod = level === 'error' ? console.error : level === 'warn' ? console.warn : level === 'info' ? console.info : console.log;\n            logMethod(`[ErrorHandler] ${level.toUpperCase()}:`, {\n                message: errorObj.error,\n                code: errorObj.code,\n                userId: errorObj.userId || context?.userId,\n                action: errorObj.action || context?.action,\n                timestamp: errorObj.timestamp,\n                details: errorObj.details\n            });\n        }\n    }\n    /**\n   * Check if we should log at this level\n   */ static shouldLog(level) {\n        const levels = [\n            'debug',\n            'info',\n            'warn',\n            'error'\n        ];\n        const currentLevelIndex = levels.indexOf(this.logLevel);\n        const messageLevelIndex = levels.indexOf(level);\n        return messageLevelIndex >= currentLevelIndex;\n    }\n    /**\n   * Get user-friendly error message\n   */ static getUserFriendlyMessage(error) {\n        if (typeof error === 'string') {\n            return error;\n        }\n        if (error instanceof Error) {\n            // Map common error types to user-friendly messages\n            if (error.message.includes('network') || error.message.includes('fetch')) {\n                return 'Network error. Please check your connection and try again.';\n            }\n            if (error.message.includes('permission') || error.message.includes('unauthorized')) {\n                return 'You don\\'t have permission to perform this action.';\n            }\n            if (error.message.includes('not found') || error.message.includes('404')) {\n                return 'The requested resource was not found.';\n            }\n            if (error.message.includes('timeout')) {\n                return 'The request took too long. Please try again.';\n            }\n            // Return generic message for unknown errors\n            return 'An unexpected error occurred. Please try again later.';\n        }\n        // AppError object\n        return error.error || 'An unexpected error occurred. Please try again later.';\n    }\n    /**\n   * Handle and log error, returning user-friendly message\n   */ static handleError(error, context) {\n        this.logError(error, context);\n        return this.getUserFriendlyMessage(error);\n    }\n}\n/**\n * Helper function to create error responses for API endpoints\n */ const createErrorResponse = (message, code, statusCode = 500)=>{\n    return {\n        statusCode,\n        body: ErrorHandler.createError(message, code)\n    };\n};\n/**\n * Helper function to safely execute async operations with error handling\n */ const safeExecute = async (operation, context)=>{\n    try {\n        return await operation();\n    } catch (error) {\n        ErrorHandler.handleError(error, context);\n        return context?.fallback ?? null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FJQyxFQUNPO1FBQ1IsSUFBSSxDQUFDRCxRQUFRLENBQUNKLE9BQU9LO1FBQ3JCLE9BQU8sSUFBSSxDQUFDa0Isc0JBQXNCLENBQUN2QjtJQUNyQztBQUNGO0FBRUE7O0NBRUMsR0FDTSxNQUFNMEIsc0JBQXNCLENBQ2pDOUIsU0FDQUMsTUFDQThCLGFBQXFCLEdBQUc7SUFFeEIsT0FBTztRQUNMQTtRQUNBQyxNQUFNckMsYUFBYUksV0FBVyxDQUFDQyxTQUFTQztJQUMxQztBQUNGLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1nQyxjQUFjLE9BQ3pCQyxXQUNBekI7SUFNQSxJQUFJO1FBQ0YsT0FBTyxNQUFNeUI7SUFDZixFQUFFLE9BQU85QixPQUFPO1FBQ2RULGFBQWFrQyxXQUFXLENBQUN6QixPQUFnQks7UUFDekMsT0FBT0EsU0FBUzBCLFlBQVk7SUFDOUI7QUFDRixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS91dGlscy9lcnJvckhhbmRsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdGFuZGFyZGl6ZWQgZXJyb3IgaGFuZGxpbmcgdXRpbGl0eVxuICogUHJvdmlkZXMgY29uc2lzdGVudCBlcnJvciByZXNwb25zZSBmb3JtYXQgYW5kIGxvZ2dpbmdcbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIEFwcEVycm9yIHtcbiAgZXJyb3I6IHN0cmluZztcbiAgY29kZT86IHN0cmluZztcbiAgZGV0YWlscz86IGFueTtcbiAgdGltZXN0YW1wPzogc3RyaW5nO1xuICB1c2VySWQ/OiBzdHJpbmc7XG4gIGFjdGlvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgTG9nTGV2ZWwgPSAnZGVidWcnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJztcblxuLyoqXG4gKiBFcnJvciBIYW5kbGVyIGNsYXNzIGZvciBjb25zaXN0ZW50IGVycm9yIG1hbmFnZW1lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIEVycm9ySGFuZGxlciB7XG4gIHByaXZhdGUgc3RhdGljIGxvZ0xldmVsOiBMb2dMZXZlbCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnd2FybicgOiAnZGVidWcnO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzdGFuZGFyZGl6ZWQgZXJyb3Igb2JqZWN0XG4gICAqL1xuICBzdGF0aWMgY3JlYXRlRXJyb3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIGNvZGU/OiBzdHJpbmcsXG4gICAgZGV0YWlscz86IGFueSxcbiAgICB1c2VySWQ/OiBzdHJpbmcsXG4gICAgYWN0aW9uPzogc3RyaW5nXG4gICk6IEFwcEVycm9yIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IG1lc3NhZ2UsXG4gICAgICBjb2RlLFxuICAgICAgZGV0YWlscyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgdXNlcklkLFxuICAgICAgYWN0aW9uLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogTG9nIGVycm9yIHdpdGggY29udGV4dFxuICAgKi9cbiAgc3RhdGljIGxvZ0Vycm9yKFxuICAgIGVycm9yOiBFcnJvciB8IEFwcEVycm9yIHwgc3RyaW5nLFxuICAgIGNvbnRleHQ/OiB7XG4gICAgICB1c2VySWQ/OiBzdHJpbmc7XG4gICAgICBhY3Rpb24/OiBzdHJpbmc7XG4gICAgICBsZXZlbD86IExvZ0xldmVsO1xuICAgIH1cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgbGV2ZWwgPSBjb250ZXh0Py5sZXZlbCB8fCAnZXJyb3InO1xuICAgIGNvbnN0IGVycm9yT2JqID0gdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJyBcbiAgICAgID8gdGhpcy5jcmVhdGVFcnJvcihlcnJvciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQ/LnVzZXJJZCwgY29udGV4dD8uYWN0aW9uKVxuICAgICAgOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICA/IHRoaXMuY3JlYXRlRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IubmFtZSwgZXJyb3Iuc3RhY2ssIGNvbnRleHQ/LnVzZXJJZCwgY29udGV4dD8uYWN0aW9uKVxuICAgICAgOiBlcnJvcjtcblxuICAgIGlmICh0aGlzLnNob3VsZExvZyhsZXZlbCkpIHtcbiAgICAgIGNvbnN0IGxvZ01ldGhvZCA9IGxldmVsID09PSAnZXJyb3InID8gY29uc29sZS5lcnJvciBcbiAgICAgICAgICAgICAgICAgICAgIDogbGV2ZWwgPT09ICd3YXJuJyA/IGNvbnNvbGUud2FyblxuICAgICAgICAgICAgICAgICAgICAgOiBsZXZlbCA9PT0gJ2luZm8nID8gY29uc29sZS5pbmZvXG4gICAgICAgICAgICAgICAgICAgICA6IGNvbnNvbGUubG9nO1xuICAgICAgXG4gICAgICBsb2dNZXRob2QoYFtFcnJvckhhbmRsZXJdICR7bGV2ZWwudG9VcHBlckNhc2UoKX06YCwge1xuICAgICAgICBtZXNzYWdlOiBlcnJvck9iai5lcnJvcixcbiAgICAgICAgY29kZTogZXJyb3JPYmouY29kZSxcbiAgICAgICAgdXNlcklkOiBlcnJvck9iai51c2VySWQgfHwgY29udGV4dD8udXNlcklkLFxuICAgICAgICBhY3Rpb246IGVycm9yT2JqLmFjdGlvbiB8fCBjb250ZXh0Py5hY3Rpb24sXG4gICAgICAgIHRpbWVzdGFtcDogZXJyb3JPYmoudGltZXN0YW1wLFxuICAgICAgICBkZXRhaWxzOiBlcnJvck9iai5kZXRhaWxzLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHdlIHNob3VsZCBsb2cgYXQgdGhpcyBsZXZlbFxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgc2hvdWxkTG9nKGxldmVsOiBMb2dMZXZlbCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGxldmVsczogTG9nTGV2ZWxbXSA9IFsnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJ107XG4gICAgY29uc3QgY3VycmVudExldmVsSW5kZXggPSBsZXZlbHMuaW5kZXhPZih0aGlzLmxvZ0xldmVsKTtcbiAgICBjb25zdCBtZXNzYWdlTGV2ZWxJbmRleCA9IGxldmVscy5pbmRleE9mKGxldmVsKTtcbiAgICByZXR1cm4gbWVzc2FnZUxldmVsSW5kZXggPj0gY3VycmVudExldmVsSW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHVzZXItZnJpZW5kbHkgZXJyb3IgbWVzc2FnZVxuICAgKi9cbiAgc3RhdGljIGdldFVzZXJGcmllbmRseU1lc3NhZ2UoZXJyb3I6IEVycm9yIHwgQXBwRXJyb3IgfCBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE1hcCBjb21tb24gZXJyb3IgdHlwZXMgdG8gdXNlci1mcmllbmRseSBtZXNzYWdlc1xuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ25ldHdvcmsnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdmZXRjaCcpKSB7XG4gICAgICAgIHJldHVybiAnTmV0d29yayBlcnJvci4gUGxlYXNlIGNoZWNrIHlvdXIgY29ubmVjdGlvbiBhbmQgdHJ5IGFnYWluLic7XG4gICAgICB9XG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncGVybWlzc2lvbicpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3VuYXV0aG9yaXplZCcpKSB7XG4gICAgICAgIHJldHVybiAnWW91IGRvblxcJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uJztcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdub3QgZm91bmQnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCc0MDQnKSkge1xuICAgICAgICByZXR1cm4gJ1RoZSByZXF1ZXN0ZWQgcmVzb3VyY2Ugd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgfVxuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3RpbWVvdXQnKSkge1xuICAgICAgICByZXR1cm4gJ1RoZSByZXF1ZXN0IHRvb2sgdG9vIGxvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcbiAgICAgIH1cbiAgICAgIC8vIFJldHVybiBnZW5lcmljIG1lc3NhZ2UgZm9yIHVua25vd24gZXJyb3JzXG4gICAgICByZXR1cm4gJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJztcbiAgICB9XG5cbiAgICAvLyBBcHBFcnJvciBvYmplY3RcbiAgICByZXR1cm4gZXJyb3IuZXJyb3IgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYW5kIGxvZyBlcnJvciwgcmV0dXJuaW5nIHVzZXItZnJpZW5kbHkgbWVzc2FnZVxuICAgKi9cbiAgc3RhdGljIGhhbmRsZUVycm9yKFxuICAgIGVycm9yOiBFcnJvciB8IEFwcEVycm9yIHwgc3RyaW5nLFxuICAgIGNvbnRleHQ/OiB7XG4gICAgICB1c2VySWQ/OiBzdHJpbmc7XG4gICAgICBhY3Rpb24/OiBzdHJpbmc7XG4gICAgICBsZXZlbD86IExvZ0xldmVsO1xuICAgIH1cbiAgKTogc3RyaW5nIHtcbiAgICB0aGlzLmxvZ0Vycm9yKGVycm9yLCBjb250ZXh0KTtcbiAgICByZXR1cm4gdGhpcy5nZXRVc2VyRnJpZW5kbHlNZXNzYWdlKGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgZXJyb3IgcmVzcG9uc2VzIGZvciBBUEkgZW5kcG9pbnRzXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVFcnJvclJlc3BvbnNlID0gKFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIGNvZGU/OiBzdHJpbmcsXG4gIHN0YXR1c0NvZGU6IG51bWJlciA9IDUwMFxuKTogeyBzdGF0dXNDb2RlOiBudW1iZXI7IGJvZHk6IEFwcEVycm9yIH0gPT4ge1xuICByZXR1cm4ge1xuICAgIHN0YXR1c0NvZGUsXG4gICAgYm9keTogRXJyb3JIYW5kbGVyLmNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvZGUpLFxuICB9O1xufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2FmZWx5IGV4ZWN1dGUgYXN5bmMgb3BlcmF0aW9ucyB3aXRoIGVycm9yIGhhbmRsaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBzYWZlRXhlY3V0ZSA9IGFzeW5jIDxUPihcbiAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LFxuICBjb250ZXh0Pzoge1xuICAgIHVzZXJJZD86IHN0cmluZztcbiAgICBhY3Rpb24/OiBzdHJpbmc7XG4gICAgZmFsbGJhY2s/OiBUO1xuICB9XG4pOiBQcm9taXNlPFQgfCBudWxsPiA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlcnJvciBhcyBFcnJvciwgY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbnRleHQ/LmZhbGxiYWNrID8/IG51bGw7XG4gIH1cbn07XG5cbiJdLCJuYW1lcyI6WyJFcnJvckhhbmRsZXIiLCJsb2dMZXZlbCIsInByb2Nlc3MiLCJhY3Rpb24iLCJjcmVhdGVFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiZGV0YWlscyIsInVzZXJJZCIsImVycm9yIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibG9nRXJyb3IiLCJjb250ZXh0IiwibGV2ZWwiLCJlcnJvck9iaiIsInVuZGVmaW5lZCIsIkVycm9yIiwibmFtZSIsInN0YWNrIiwic2hvdWxkTG9nIiwibG9nTWV0aG9kIiwiY29uc29sZSIsIndhcm4iLCJpbmZvIiwibG9nIiwidG9VcHBlckNhc2UiLCJsZXZlbHMiLCJjdXJyZW50TGV2ZWxJbmRleCIsImluZGV4T2YiLCJtZXNzYWdlTGV2ZWxJbmRleCIsImdldFVzZXJGcmllbmRseU1lc3NhZ2UiLCJpbmNsdWRlcyIsImhhbmRsZUVycm9yIiwiY3JlYXRlRXJyb3JSZXNwb25zZSIsInN0YXR1c0NvZGUiLCJib2R5Iiwic2FmZUV4ZWN1dGUiLCJvcGVyYXRpb24iLCJmYWxsYmFjayJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./utils/errorHandler.ts\n");

/***/ }),

/***/ "(ssr)/./utils/syncQueue.ts":
/*!****************************!*\
  !*** ./utils/syncQueue.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearQueue: () => (/* binding */ clearQueue),\n/* harmony export */   clearQueueForUser: () => (/* binding */ clearQueueForUser),\n/* harmony export */   getPendingOperationCounts: () => (/* binding */ getPendingOperationCounts),\n/* harmony export */   getQueuedOperations: () => (/* binding */ getQueuedOperations),\n/* harmony export */   getQueuedOperationsForUser: () => (/* binding */ getQueuedOperationsForUser),\n/* harmony export */   hasPendingOperations: () => (/* binding */ hasPendingOperations),\n/* harmony export */   processSyncQueue: () => (/* binding */ processSyncQueue),\n/* harmony export */   queueOperation: () => (/* binding */ queueOperation),\n/* harmony export */   removeFromQueue: () => (/* binding */ removeFromQueue)\n/* harmony export */ });\n/**\n * Sync Queue Utility\n * \n * Handles offline-first data synchronization for gamification features.\n * When Supabase writes fail, operations are queued in localStorage\n * and retried when connectivity is restored.\n * \n * Supports: streak updates, XP additions\n */ // Storage key for the sync queue\nconst SYNC_QUEUE_KEY = 'mi-coach-sync-queue';\n// Maximum retry attempts before giving up\nconst MAX_RETRIES = 5;\n// Minimum delay between retry attempts (ms)\nconst MIN_RETRY_DELAY = 1000;\n/**\n * Generate a unique ID for queue items\n */ const generateId = ()=>{\n    return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n};\n/**\n * Get all queued operations from localStorage\n */ const getQueuedOperations = ()=>{\n    try {\n        const stored = localStorage.getItem(SYNC_QUEUE_KEY);\n        return stored ? JSON.parse(stored) : [];\n    } catch (error) {\n        console.error('[syncQueue] Failed to parse queue:', error);\n        return [];\n    }\n};\n/**\n * Save queue to localStorage\n */ const saveQueue = (queue)=>{\n    try {\n        localStorage.setItem(SYNC_QUEUE_KEY, JSON.stringify(queue));\n    } catch (error) {\n        console.error('[syncQueue] Failed to save queue:', error);\n    }\n};\n/**\n * Add an operation to the sync queue\n */ const queueOperation = (type, userId, data)=>{\n    const queue = getQueuedOperations();\n    // For streak updates, replace any existing streak operation for this user\n    // (only the latest streak state matters)\n    if (type === 'streak') {\n        const filteredQueue = queue.filter((op)=>!(op.type === 'streak' && op.userId === userId));\n        filteredQueue.push({\n            id: generateId(),\n            type,\n            userId,\n            data,\n            createdAt: new Date().toISOString(),\n            retryCount: 0,\n            lastAttempt: null\n        });\n        saveQueue(filteredQueue);\n        console.log('[syncQueue] Queued streak update for user:', userId);\n        return;\n    }\n    // For XP additions, queue each one separately (they're cumulative)\n    queue.push({\n        id: generateId(),\n        type,\n        userId,\n        data,\n        createdAt: new Date().toISOString(),\n        retryCount: 0,\n        lastAttempt: null\n    });\n    saveQueue(queue);\n    console.log('[syncQueue] Queued XP addition for user:', userId);\n};\n/**\n * Remove an operation from the queue (after successful sync)\n */ const removeFromQueue = (operationId)=>{\n    const queue = getQueuedOperations();\n    const filtered = queue.filter((op)=>op.id !== operationId);\n    saveQueue(filtered);\n};\n/**\n * Update an operation's retry count\n */ const updateRetryCount = (operationId)=>{\n    const queue = getQueuedOperations();\n    const updated = queue.map((op)=>{\n        if (op.id === operationId) {\n            return {\n                ...op,\n                retryCount: op.retryCount + 1,\n                lastAttempt: new Date().toISOString()\n            };\n        }\n        return op;\n    });\n    saveQueue(updated);\n};\n/**\n * Remove operations that have exceeded max retries\n */ const pruneFailedOperations = ()=>{\n    const queue = getQueuedOperations();\n    const pruned = queue.filter((op)=>op.retryCount < MAX_RETRIES);\n    const removed = queue.length - pruned.length;\n    if (removed > 0) {\n        console.warn('[syncQueue] Pruned', removed, 'operations that exceeded max retries');\n        saveQueue(pruned);\n    }\n};\n/**\n * Get queued operations for a specific type and user\n */ const getQueuedOperationsForUser = (type, userId)=>{\n    return getQueuedOperations().filter((op)=>op.type === type && op.userId === userId);\n};\n/**\n * Process all queued operations of a specific type for a user\n * \n * @param type - The type of operations to process\n * @param userId - The user's ID\n * @param handler - Function to handle each operation (should return true on success)\n * @returns Number of successfully processed operations\n */ const processSyncQueue = async (type, userId, handler)=>{\n    // Prune old failed operations first\n    pruneFailedOperations();\n    const operations = getQueuedOperationsForUser(type, userId);\n    if (operations.length === 0) {\n        return 0;\n    }\n    console.log(`[syncQueue] Processing ${operations.length} queued ${type} operations`);\n    let successCount = 0;\n    for (const operation of operations){\n        // Skip if recently attempted (prevent hammering on repeated failures)\n        if (operation.lastAttempt) {\n            const lastAttemptTime = new Date(operation.lastAttempt).getTime();\n            const timeSinceAttempt = Date.now() - lastAttemptTime;\n            const backoffDelay = MIN_RETRY_DELAY * Math.pow(2, operation.retryCount);\n            if (timeSinceAttempt < backoffDelay) {\n                console.log(`[syncQueue] Skipping ${operation.id} - too soon since last attempt`);\n                continue;\n            }\n        }\n        try {\n            const success = await handler(operation);\n            if (success) {\n                removeFromQueue(operation.id);\n                successCount++;\n                console.log(`[syncQueue] Successfully synced ${type} operation:`, operation.id);\n            } else {\n                updateRetryCount(operation.id);\n                console.warn(`[syncQueue] Failed to sync ${type} operation:`, operation.id);\n            }\n        } catch (error) {\n            updateRetryCount(operation.id);\n            console.error(`[syncQueue] Error processing ${type} operation:`, error);\n        }\n    }\n    return successCount;\n};\n/**\n * Check if there are any pending operations in the queue\n */ const hasPendingOperations = ()=>{\n    return getQueuedOperations().length > 0;\n};\n/**\n * Get count of pending operations by type\n */ const getPendingOperationCounts = ()=>{\n    const queue = getQueuedOperations();\n    return {\n        streak: queue.filter((op)=>op.type === 'streak').length,\n        xp: queue.filter((op)=>op.type === 'xp').length\n    };\n};\n/**\n * Clear all queued operations (use with caution)\n */ const clearQueue = ()=>{\n    localStorage.removeItem(SYNC_QUEUE_KEY);\n    console.log('[syncQueue] Queue cleared');\n};\n/**\n * Clear queued operations for a specific user (e.g., on logout)\n */ const clearQueueForUser = (userId)=>{\n    const queue = getQueuedOperations();\n    const filtered = queue.filter((op)=>op.userId !== userId);\n    saveQueue(filtered);\n    console.log('[syncQueue] Cleared queue for user:', userId);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixHQUFHLENBQUMsdUNBQXVDWDtBQUNyRCxFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamF2aS9kZXYvTWFpbjJNSS91dGlscy9zeW5jUXVldWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTeW5jIFF1ZXVlIFV0aWxpdHlcbiAqIFxuICogSGFuZGxlcyBvZmZsaW5lLWZpcnN0IGRhdGEgc3luY2hyb25pemF0aW9uIGZvciBnYW1pZmljYXRpb24gZmVhdHVyZXMuXG4gKiBXaGVuIFN1cGFiYXNlIHdyaXRlcyBmYWlsLCBvcGVyYXRpb25zIGFyZSBxdWV1ZWQgaW4gbG9jYWxTdG9yYWdlXG4gKiBhbmQgcmV0cmllZCB3aGVuIGNvbm5lY3Rpdml0eSBpcyByZXN0b3JlZC5cbiAqIFxuICogU3VwcG9ydHM6IHN0cmVhayB1cGRhdGVzLCBYUCBhZGRpdGlvbnNcbiAqL1xuXG4vLyBTdG9yYWdlIGtleSBmb3IgdGhlIHN5bmMgcXVldWVcbmNvbnN0IFNZTkNfUVVFVUVfS0VZID0gJ21pLWNvYWNoLXN5bmMtcXVldWUnO1xuXG4vLyBNYXhpbXVtIHJldHJ5IGF0dGVtcHRzIGJlZm9yZSBnaXZpbmcgdXBcbmNvbnN0IE1BWF9SRVRSSUVTID0gNTtcblxuLy8gTWluaW11bSBkZWxheSBiZXR3ZWVuIHJldHJ5IGF0dGVtcHRzIChtcylcbmNvbnN0IE1JTl9SRVRSWV9ERUxBWSA9IDEwMDA7XG5cbi8qKlxuICogVHlwZXMgb2Ygb3BlcmF0aW9ucyB0aGF0IGNhbiBiZSBxdWV1ZWRcbiAqL1xuZXhwb3J0IHR5cGUgU3luY09wZXJhdGlvblR5cGUgPSAnc3RyZWFrJyB8ICd4cCc7XG5cbi8qKlxuICogU3RyZWFrIHVwZGF0ZSBkYXRhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFrU3luY0RhdGEge1xuICBjdXJyZW50U3RyZWFrOiBudW1iZXI7XG4gIGxvbmdlc3RTdHJlYWs6IG51bWJlcjtcbiAgbGFzdFByYWN0aWNlRGF0ZTogc3RyaW5nIHwgbnVsbDsgLy8gSVNPIGRhdGUgc3RyaW5nIChZWVlZLU1NLUREKVxufVxuXG4vKipcbiAqIFhQIHVwZGF0ZSBkYXRhIChzdG9yZXMgZGVsdGEsIG5vdCBhYnNvbHV0ZSB2YWx1ZSlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBYUFN5bmNEYXRhIHtcbiAgeHBEZWx0YTogbnVtYmVyOyAvLyBBbW91bnQgdG8gYWRkXG4gIHJlYXNvbjogc3RyaW5nO1xuICB0aW1lc3RhbXA6IHN0cmluZzsgLy8gV2hlbiBYUCB3YXMgZWFybmVkXG59XG5cbi8qKlxuICogQSBxdWV1ZWQgc3luYyBvcGVyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWV1ZWRPcGVyYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBTeW5jT3BlcmF0aW9uVHlwZTtcbiAgdXNlcklkOiBzdHJpbmc7XG4gIGRhdGE6IFN0cmVha1N5bmNEYXRhIHwgWFBTeW5jRGF0YTtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHJldHJ5Q291bnQ6IG51bWJlcjtcbiAgbGFzdEF0dGVtcHQ6IHN0cmluZyB8IG51bGw7XG59XG5cbi8qKlxuICogSGFuZGxlciBmdW5jdGlvbiBmb3IgcHJvY2Vzc2luZyBhIHF1ZXVlZCBvcGVyYXRpb25cbiAqIFJldHVybnMgdHJ1ZSBpZiBzeW5jIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IHR5cGUgU3luY0hhbmRsZXIgPSAob3BlcmF0aW9uOiBRdWV1ZWRPcGVyYXRpb24pID0+IFByb21pc2U8Ym9vbGVhbj47XG5cbi8qKlxuICogR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIHF1ZXVlIGl0ZW1zXG4gKi9cbmNvbnN0IGdlbmVyYXRlSWQgPSAoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG59O1xuXG4vKipcbiAqIEdldCBhbGwgcXVldWVkIG9wZXJhdGlvbnMgZnJvbSBsb2NhbFN0b3JhZ2VcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFF1ZXVlZE9wZXJhdGlvbnMgPSAoKTogUXVldWVkT3BlcmF0aW9uW10gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNZTkNfUVVFVUVfS0VZKTtcbiAgICByZXR1cm4gc3RvcmVkID8gSlNPTi5wYXJzZShzdG9yZWQpIDogW107XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW3N5bmNRdWV1ZV0gRmFpbGVkIHRvIHBhcnNlIHF1ZXVlOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbi8qKlxuICogU2F2ZSBxdWV1ZSB0byBsb2NhbFN0b3JhZ2VcbiAqL1xuY29uc3Qgc2F2ZVF1ZXVlID0gKHF1ZXVlOiBRdWV1ZWRPcGVyYXRpb25bXSk6IHZvaWQgPT4ge1xuICB0cnkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNZTkNfUVVFVUVfS0VZLCBKU09OLnN0cmluZ2lmeShxdWV1ZSkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tzeW5jUXVldWVdIEZhaWxlZCB0byBzYXZlIHF1ZXVlOicsIGVycm9yKTtcbiAgfVxufTtcblxuLyoqXG4gKiBBZGQgYW4gb3BlcmF0aW9uIHRvIHRoZSBzeW5jIHF1ZXVlXG4gKi9cbmV4cG9ydCBjb25zdCBxdWV1ZU9wZXJhdGlvbiA9IChcbiAgdHlwZTogU3luY09wZXJhdGlvblR5cGUsXG4gIHVzZXJJZDogc3RyaW5nLFxuICBkYXRhOiBTdHJlYWtTeW5jRGF0YSB8IFhQU3luY0RhdGFcbik6IHZvaWQgPT4ge1xuICBjb25zdCBxdWV1ZSA9IGdldFF1ZXVlZE9wZXJhdGlvbnMoKTtcbiAgXG4gIC8vIEZvciBzdHJlYWsgdXBkYXRlcywgcmVwbGFjZSBhbnkgZXhpc3Rpbmcgc3RyZWFrIG9wZXJhdGlvbiBmb3IgdGhpcyB1c2VyXG4gIC8vIChvbmx5IHRoZSBsYXRlc3Qgc3RyZWFrIHN0YXRlIG1hdHRlcnMpXG4gIGlmICh0eXBlID09PSAnc3RyZWFrJykge1xuICAgIGNvbnN0IGZpbHRlcmVkUXVldWUgPSBxdWV1ZS5maWx0ZXIoXG4gICAgICBvcCA9PiAhKG9wLnR5cGUgPT09ICdzdHJlYWsnICYmIG9wLnVzZXJJZCA9PT0gdXNlcklkKVxuICAgICk7XG4gICAgZmlsdGVyZWRRdWV1ZS5wdXNoKHtcbiAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlLFxuICAgICAgdXNlcklkLFxuICAgICAgZGF0YSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgIGxhc3RBdHRlbXB0OiBudWxsLFxuICAgIH0pO1xuICAgIHNhdmVRdWV1ZShmaWx0ZXJlZFF1ZXVlKTtcbiAgICBjb25zb2xlLmxvZygnW3N5bmNRdWV1ZV0gUXVldWVkIHN0cmVhayB1cGRhdGUgZm9yIHVzZXI6JywgdXNlcklkKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIC8vIEZvciBYUCBhZGRpdGlvbnMsIHF1ZXVlIGVhY2ggb25lIHNlcGFyYXRlbHkgKHRoZXkncmUgY3VtdWxhdGl2ZSlcbiAgcXVldWUucHVzaCh7XG4gICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICB0eXBlLFxuICAgIHVzZXJJZCxcbiAgICBkYXRhLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgbGFzdEF0dGVtcHQ6IG51bGwsXG4gIH0pO1xuICBzYXZlUXVldWUocXVldWUpO1xuICBjb25zb2xlLmxvZygnW3N5bmNRdWV1ZV0gUXVldWVkIFhQIGFkZGl0aW9uIGZvciB1c2VyOicsIHVzZXJJZCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBvcGVyYXRpb24gZnJvbSB0aGUgcXVldWUgKGFmdGVyIHN1Y2Nlc3NmdWwgc3luYylcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZUZyb21RdWV1ZSA9IChvcGVyYXRpb25JZDogc3RyaW5nKTogdm9pZCA9PiB7XG4gIGNvbnN0IHF1ZXVlID0gZ2V0UXVldWVkT3BlcmF0aW9ucygpO1xuICBjb25zdCBmaWx0ZXJlZCA9IHF1ZXVlLmZpbHRlcihvcCA9PiBvcC5pZCAhPT0gb3BlcmF0aW9uSWQpO1xuICBzYXZlUXVldWUoZmlsdGVyZWQpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgYW4gb3BlcmF0aW9uJ3MgcmV0cnkgY291bnRcbiAqL1xuY29uc3QgdXBkYXRlUmV0cnlDb3VudCA9IChvcGVyYXRpb25JZDogc3RyaW5nKTogdm9pZCA9PiB7XG4gIGNvbnN0IHF1ZXVlID0gZ2V0UXVldWVkT3BlcmF0aW9ucygpO1xuICBjb25zdCB1cGRhdGVkID0gcXVldWUubWFwKG9wID0+IHtcbiAgICBpZiAob3AuaWQgPT09IG9wZXJhdGlvbklkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcCxcbiAgICAgICAgcmV0cnlDb3VudDogb3AucmV0cnlDb3VudCArIDEsXG4gICAgICAgIGxhc3RBdHRlbXB0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gb3A7XG4gIH0pO1xuICBzYXZlUXVldWUodXBkYXRlZCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBvcGVyYXRpb25zIHRoYXQgaGF2ZSBleGNlZWRlZCBtYXggcmV0cmllc1xuICovXG5jb25zdCBwcnVuZUZhaWxlZE9wZXJhdGlvbnMgPSAoKTogdm9pZCA9PiB7XG4gIGNvbnN0IHF1ZXVlID0gZ2V0UXVldWVkT3BlcmF0aW9ucygpO1xuICBjb25zdCBwcnVuZWQgPSBxdWV1ZS5maWx0ZXIob3AgPT4gb3AucmV0cnlDb3VudCA8IE1BWF9SRVRSSUVTKTtcbiAgY29uc3QgcmVtb3ZlZCA9IHF1ZXVlLmxlbmd0aCAtIHBydW5lZC5sZW5ndGg7XG4gIGlmIChyZW1vdmVkID4gMCkge1xuICAgIGNvbnNvbGUud2FybignW3N5bmNRdWV1ZV0gUHJ1bmVkJywgcmVtb3ZlZCwgJ29wZXJhdGlvbnMgdGhhdCBleGNlZWRlZCBtYXggcmV0cmllcycpO1xuICAgIHNhdmVRdWV1ZShwcnVuZWQpO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCBxdWV1ZWQgb3BlcmF0aW9ucyBmb3IgYSBzcGVjaWZpYyB0eXBlIGFuZCB1c2VyXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRRdWV1ZWRPcGVyYXRpb25zRm9yVXNlciA9IChcbiAgdHlwZTogU3luY09wZXJhdGlvblR5cGUsXG4gIHVzZXJJZDogc3RyaW5nXG4pOiBRdWV1ZWRPcGVyYXRpb25bXSA9PiB7XG4gIHJldHVybiBnZXRRdWV1ZWRPcGVyYXRpb25zKCkuZmlsdGVyKFxuICAgIG9wID0+IG9wLnR5cGUgPT09IHR5cGUgJiYgb3AudXNlcklkID09PSB1c2VySWRcbiAgKTtcbn07XG5cbi8qKlxuICogUHJvY2VzcyBhbGwgcXVldWVkIG9wZXJhdGlvbnMgb2YgYSBzcGVjaWZpYyB0eXBlIGZvciBhIHVzZXJcbiAqIFxuICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiBvcGVyYXRpb25zIHRvIHByb2Nlc3NcbiAqIEBwYXJhbSB1c2VySWQgLSBUaGUgdXNlcidzIElEXG4gKiBAcGFyYW0gaGFuZGxlciAtIEZ1bmN0aW9uIHRvIGhhbmRsZSBlYWNoIG9wZXJhdGlvbiAoc2hvdWxkIHJldHVybiB0cnVlIG9uIHN1Y2Nlc3MpXG4gKiBAcmV0dXJucyBOdW1iZXIgb2Ygc3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZCBvcGVyYXRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9jZXNzU3luY1F1ZXVlID0gYXN5bmMgKFxuICB0eXBlOiBTeW5jT3BlcmF0aW9uVHlwZSxcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGhhbmRsZXI6IFN5bmNIYW5kbGVyXG4pOiBQcm9taXNlPG51bWJlcj4gPT4ge1xuICAvLyBQcnVuZSBvbGQgZmFpbGVkIG9wZXJhdGlvbnMgZmlyc3RcbiAgcHJ1bmVGYWlsZWRPcGVyYXRpb25zKCk7XG4gIFxuICBjb25zdCBvcGVyYXRpb25zID0gZ2V0UXVldWVkT3BlcmF0aW9uc0ZvclVzZXIodHlwZSwgdXNlcklkKTtcbiAgXG4gIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIFxuICBjb25zb2xlLmxvZyhgW3N5bmNRdWV1ZV0gUHJvY2Vzc2luZyAke29wZXJhdGlvbnMubGVuZ3RofSBxdWV1ZWQgJHt0eXBlfSBvcGVyYXRpb25zYCk7XG4gIFxuICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgXG4gIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIG9wZXJhdGlvbnMpIHtcbiAgICAvLyBTa2lwIGlmIHJlY2VudGx5IGF0dGVtcHRlZCAocHJldmVudCBoYW1tZXJpbmcgb24gcmVwZWF0ZWQgZmFpbHVyZXMpXG4gICAgaWYgKG9wZXJhdGlvbi5sYXN0QXR0ZW1wdCkge1xuICAgICAgY29uc3QgbGFzdEF0dGVtcHRUaW1lID0gbmV3IERhdGUob3BlcmF0aW9uLmxhc3RBdHRlbXB0KS5nZXRUaW1lKCk7XG4gICAgICBjb25zdCB0aW1lU2luY2VBdHRlbXB0ID0gRGF0ZS5ub3coKSAtIGxhc3RBdHRlbXB0VGltZTtcbiAgICAgIGNvbnN0IGJhY2tvZmZEZWxheSA9IE1JTl9SRVRSWV9ERUxBWSAqIE1hdGgucG93KDIsIG9wZXJhdGlvbi5yZXRyeUNvdW50KTtcbiAgICAgIFxuICAgICAgaWYgKHRpbWVTaW5jZUF0dGVtcHQgPCBiYWNrb2ZmRGVsYXkpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtzeW5jUXVldWVdIFNraXBwaW5nICR7b3BlcmF0aW9uLmlkfSAtIHRvbyBzb29uIHNpbmNlIGxhc3QgYXR0ZW1wdGApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBoYW5kbGVyKG9wZXJhdGlvbik7XG4gICAgICBcbiAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIHJlbW92ZUZyb21RdWV1ZShvcGVyYXRpb24uaWQpO1xuICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgY29uc29sZS5sb2coYFtzeW5jUXVldWVdIFN1Y2Nlc3NmdWxseSBzeW5jZWQgJHt0eXBlfSBvcGVyYXRpb246YCwgb3BlcmF0aW9uLmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVJldHJ5Q291bnQob3BlcmF0aW9uLmlkKTtcbiAgICAgICAgY29uc29sZS53YXJuKGBbc3luY1F1ZXVlXSBGYWlsZWQgdG8gc3luYyAke3R5cGV9IG9wZXJhdGlvbjpgLCBvcGVyYXRpb24uaWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB1cGRhdGVSZXRyeUNvdW50KG9wZXJhdGlvbi5pZCk7XG4gICAgICBjb25zb2xlLmVycm9yKGBbc3luY1F1ZXVlXSBFcnJvciBwcm9jZXNzaW5nICR7dHlwZX0gb3BlcmF0aW9uOmAsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBzdWNjZXNzQ291bnQ7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZXJlIGFyZSBhbnkgcGVuZGluZyBvcGVyYXRpb25zIGluIHRoZSBxdWV1ZVxuICovXG5leHBvcnQgY29uc3QgaGFzUGVuZGluZ09wZXJhdGlvbnMgPSAoKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBnZXRRdWV1ZWRPcGVyYXRpb25zKCkubGVuZ3RoID4gMDtcbn07XG5cbi8qKlxuICogR2V0IGNvdW50IG9mIHBlbmRpbmcgb3BlcmF0aW9ucyBieSB0eXBlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQZW5kaW5nT3BlcmF0aW9uQ291bnRzID0gKCk6IFJlY29yZDxTeW5jT3BlcmF0aW9uVHlwZSwgbnVtYmVyPiA9PiB7XG4gIGNvbnN0IHF1ZXVlID0gZ2V0UXVldWVkT3BlcmF0aW9ucygpO1xuICByZXR1cm4ge1xuICAgIHN0cmVhazogcXVldWUuZmlsdGVyKG9wID0+IG9wLnR5cGUgPT09ICdzdHJlYWsnKS5sZW5ndGgsXG4gICAgeHA6IHF1ZXVlLmZpbHRlcihvcCA9PiBvcC50eXBlID09PSAneHAnKS5sZW5ndGgsXG4gIH07XG59O1xuXG4vKipcbiAqIENsZWFyIGFsbCBxdWV1ZWQgb3BlcmF0aW9ucyAodXNlIHdpdGggY2F1dGlvbilcbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFyUXVldWUgPSAoKTogdm9pZCA9PiB7XG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNZTkNfUVVFVUVfS0VZKTtcbiAgY29uc29sZS5sb2coJ1tzeW5jUXVldWVdIFF1ZXVlIGNsZWFyZWQnKTtcbn07XG5cbi8qKlxuICogQ2xlYXIgcXVldWVkIG9wZXJhdGlvbnMgZm9yIGEgc3BlY2lmaWMgdXNlciAoZS5nLiwgb24gbG9nb3V0KVxuICovXG5leHBvcnQgY29uc3QgY2xlYXJRdWV1ZUZvclVzZXIgPSAodXNlcklkOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgY29uc3QgcXVldWUgPSBnZXRRdWV1ZWRPcGVyYXRpb25zKCk7XG4gIGNvbnN0IGZpbHRlcmVkID0gcXVldWUuZmlsdGVyKG9wID0+IG9wLnVzZXJJZCAhPT0gdXNlcklkKTtcbiAgc2F2ZVF1ZXVlKGZpbHRlcmVkKTtcbiAgY29uc29sZS5sb2coJ1tzeW5jUXVldWVdIENsZWFyZWQgcXVldWUgZm9yIHVzZXI6JywgdXNlcklkKTtcbn07XG4iXSwibmFtZXMiOlsiU1lOQ19RVUVVRV9LRVkiLCJNQVhfUkVUUklFUyIsIk1JTl9SRVRSWV9ERUxBWSIsImdlbmVyYXRlSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZ2V0UXVldWVkT3BlcmF0aW9ucyIsInN0b3JlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImNvbnNvbGUiLCJzYXZlUXVldWUiLCJxdWV1ZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJxdWV1ZU9wZXJhdGlvbiIsInR5cGUiLCJ1c2VySWQiLCJkYXRhIiwiZmlsdGVyZWRRdWV1ZSIsImZpbHRlciIsIm9wIiwicHVzaCIsImlkIiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJyZXRyeUNvdW50IiwibGFzdEF0dGVtcHQiLCJsb2ciLCJyZW1vdmVGcm9tUXVldWUiLCJvcGVyYXRpb25JZCIsImZpbHRlcmVkIiwidXBkYXRlUmV0cnlDb3VudCIsInVwZGF0ZWQiLCJtYXAiLCJwcnVuZUZhaWxlZE9wZXJhdGlvbnMiLCJwcnVuZWQiLCJyZW1vdmVkIiwibGVuZ3RoIiwid2FybiIsImdldFF1ZXVlZE9wZXJhdGlvbnNGb3JVc2VyIiwicHJvY2Vzc1N5bmNRdWV1ZSIsImhhbmRsZXIiLCJvcGVyYXRpb25zIiwic3VjY2Vzc0NvdW50Iiwib3BlcmF0aW9uIiwibGFzdEF0dGVtcHRUaW1lIiwiZ2V0VGltZSIsInRpbWVTaW5jZUF0dGVtcHQiLCJiYWNrb2ZmRGVsYXkiLCJwb3ciLCJzdWNjZXNzIiwiaGFzUGVuZGluZ09wZXJhdGlvbnMiLCJnZXRQZW5kaW5nT3BlcmF0aW9uQ291bnRzIiwic3RyZWFrIiwieHAiLCJjbGVhclF1ZXVlIiwicmVtb3ZlSXRlbSIsImNsZWFyUXVldWVGb3JVc2VyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./utils/syncQueue.ts\n");

/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/dynamic-access-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/server/app-render/dynamic-access-async-storage.external.js" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/dynamic-access-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/invariant-error":
/*!*******************************************************!*\
  !*** external "next/dist/shared/lib/invariant-error" ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/invariant-error");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/interception-routes":
/*!************************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/interception-routes" ***!
  \************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/interception-routes");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/is-bot":
/*!***********************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/is-bot" ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js","vendor-chunks/cookie","vendor-chunks/lottie-web","vendor-chunks/lottie-react"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fjavi%2Fdev%2FMain2MI%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjavi%2Fdev%2FMain2MI&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();